(self.webpackChunkgp=self.webpackChunkgp||[]).push([[179],{809:(h0,W4,Y4)=>{"use strict";function It(t){return"function"==typeof t}function Js(t){const n=t(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const d0=Js(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function _(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class h2{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(It(i))try{i()}catch(o){e=o instanceof d0?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Ln(o)}catch(u){e=e??[],u instanceof d0?e=[...e,...u.errors]:e.push(u)}}if(e)throw new d0(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ln(e);else{if(e instanceof h2){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_(n,e)}remove(e){const{_finalizers:n}=this;n&&_(n,e),e instanceof h2&&e._removeParent(this)}}h2.EMPTY=(()=>{const t=new h2;return t.closed=!0,t})();const Re=h2.EMPTY;function Ai(t){return t instanceof h2||t&&"closed"in t&&It(t.remove)&&It(t.add)&&It(t.unsubscribe)}function Ln(t){It(t)?t():t.unsubscribe()}const T1={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cr={setTimeout(t,e,...n){const{delegate:i}=Cr;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Cr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fa(t){Cr.setTimeout(()=>{const{onUnhandledError:e}=T1;if(!e)throw t;e(t)})}function Xr(){}const Hn=tr("C",void 0,void 0);function tr(t,e,n){return{kind:t,value:e,error:n}}let Ii=null;function br(t){if(T1.useDeprecatedSynchronousErrorHandling){const e=!Ii;if(e&&(Ii={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:i}=Ii;if(Ii=null,n)throw i}}else t()}class x3 extends h2{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ai(e)&&e.add(this)):this.destination=ei}static create(e,n,i){return new ir(e,n,i)}next(e){this.isStopped?tn(function X4(t){return tr("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?tn(function H2(t){return tr("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tn(Hn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const en=Function.prototype.bind;function ha(t,e){return en.call(t,e)}class Qt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){jn(i)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){jn(i)}else jn(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){jn(n)}}}class ir extends x3{constructor(e,n,i){let r;if(super(),It(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&T1.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ha(e.next,o),error:e.error&&ha(e.error,o),complete:e.complete&&ha(e.complete,o)}):r=e}this.destination=new Qt(r)}}function jn(t){T1.useDeprecatedSynchronousErrorHandling?function nr(t){T1.useDeprecatedSynchronousErrorHandling&&Ii&&(Ii.errorThrown=!0,Ii.error=t)}(t):fa(t)}function tn(t,e){const{onStoppedNotification:n}=T1;n&&Cr.setTimeout(()=>n(t,e))}const ei={closed:!0,next:Xr,error:function Kr(t){throw t},complete:Xr},ki="function"==typeof Symbol&&Symbol.observable||"@@observable";function k2(t){return t}function da(t){return 0===t.length?k2:1===t.length?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}let d2=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){const o=function Rt(t){return t&&t instanceof x3||function rr(t){return t&&It(t.next)&&It(t.error)&&It(t.complete)}(t)&&Ai(t)}(n)?n:new ir(n,i,r);return br(()=>{const{operator:u,source:h}=this;o.add(u?u.call(o,h):h?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=pa(i))((r,o)=>{const u=new ir({next:h=>{try{n(h)}catch(p){o(p),u.unsubscribe()}},error:o,complete:r});this.subscribe(u)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[ki](){return this}pipe(...n){return da(n)(this)}toPromise(n){return new(n=pa(n))((i,r)=>{let o;this.subscribe(u=>o=u,u=>r(u),()=>i(o))})}}return t.create=e=>new t(e),t})();function pa(t){var e;return null!==(e=t??T1.Promise)&&void 0!==e?e:Promise}const Un=Js(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nn=(()=>{class t extends d2{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new w3(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Un}next(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Re:(this.currentObservers=null,o.push(n),new h2(()=>{this.currentObservers=null,_(o,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){const n=new d2;return n.source=this,n}}return t.create=(e,n)=>new w3(e,n),t})();class w3 extends nn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,e)}error(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==i?i:Re}}function z3(t){return It(t?.lift)}function Ft(t){return e=>{if(z3(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vt(t,e,n,i,r){return new yi(t,e,n,i,r)}class yi extends x3{constructor(e,n,i,r,o,u){super(e),this.onFinalize=o,this.shouldUnsubscribe=u,this._next=n?function(h){try{n(h)}catch(p){e.error(p)}}:super._next,this._error=r?function(h){try{r(h)}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Lt(t,e){return Ft((n,i)=>{let r=0;n.subscribe(Vt(i,o=>{i.next(t.call(e,o,r++))}))})}function t1(t){return this instanceof t1?(this.v=t,this):new t1(t)}function e3(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Oi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(u){return new Promise(function(h,p){!function r(o,u,h,p){Promise.resolve(p).then(function(y){o({value:y,done:h})},u)}(h,p,(u=t[o](u)).done,u.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const K=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function se(t){return It(t?.then)}function ce(t){return It(t[ki])}function we(t){return Symbol.asyncIterator&&It(t?.[Symbol.asyncIterator])}function ge(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _e=function fe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $e(t){return It(t?.[_e])}function je(t){return function Ri(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(E){i[E]&&(r[E]=function(D){return new Promise(function(k,B){o.push([E,D,k,B])>1||h(E,D)})})}function h(E,D){try{!function p(E){E.value instanceof t1?Promise.resolve(E.value.v).then(y,w):z(o[0][2],E)}(i[E](D))}catch(k){z(o[0][3],k)}}function y(E){h("next",E)}function w(E){h("throw",E)}function z(E,D){E(D),o.shift(),o.length&&h(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:i,done:r}=yield t1(n.read());if(r)return yield t1(void 0);yield yield t1(i)}}finally{n.releaseLock()}})}function Ge(t){return It(t?.getReader)}function g1(t){if(t instanceof d2)return t;if(null!=t){if(ce(t))return function R1(t){return new d2(e=>{const n=t[ki]();if(It(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(K(t))return function C1(t){return new d2(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(se(t))return function P1(t){return new d2(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fa)})}(t);if(we(t))return Ct(t);if($e(t))return function q1(t){return new d2(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Ge(t))return function Tt(t){return Ct(je(t))}(t)}throw ge(t)}function Ct(t){return new d2(e=>{(function pt(t,e){var n,i,r,o;return function Et(t,e,n,i){return new(n||(n=Promise))(function(o,u){function h(w){try{y(i.next(w))}catch(z){u(z)}}function p(w){try{y(i.throw(w))}catch(z){u(z)}}function y(w){w.done?o(w.value):function r(o){return o instanceof n?o:new n(function(u){u(o)})}(w.value).then(h,p)}y((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=e3(t);!(i=yield n.next()).done;)if(e.next(i.value),e.closed)return}catch(u){r={error:u}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function J1(t,e,n,i=0,r=!1){const o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function it(t,e,n=1/0){return It(e)?it((i,r)=>Lt((o,u)=>e(i,o,r,u))(g1(t(i,r))),n):("number"==typeof e&&(n=e),Ft((i,r)=>function dn(t,e,n,i,r,o,u,h){const p=[];let y=0,w=0,z=!1;const E=()=>{z&&!p.length&&!y&&e.complete()},D=B=>y<i?k(B):p.push(B),k=B=>{o&&e.next(B),y++;let j=!1;g1(n(B,w++)).subscribe(Vt(e,Z=>{r?.(Z),o?D(Z):e.next(Z)},()=>{j=!0},void 0,()=>{if(j)try{for(y--;p.length&&y<i;){const Z=p.shift();u?J1(e,u,()=>k(Z)):k(Z)}E()}catch(Z){e.error(Z)}}))};return t.subscribe(Vt(e,D,()=>{z=!0,E()})),()=>{h?.()}}(i,r,t,n)))}function Gt(t=1/0){return it(k2,t)}const Bt=new d2(t=>t.complete());function t3(t){return t[t.length-1]}function yt(t){return function _a(t){return t&&It(t.schedule)}(t3(t))?t.pop():void 0}function e4(t,e=0){return Ft((n,i)=>{n.subscribe(Vt(i,r=>J1(i,t,()=>i.next(r),e),()=>J1(i,t,()=>i.complete(),e),r=>J1(i,t,()=>i.error(r),e)))})}function rn(t,e=0){return Ft((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function t4(t,e){if(!t)throw new Error("Iterable cannot be null");return new d2(n=>{J1(n,e,()=>{const i=t[Symbol.asyncIterator]();J1(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function G1(t,e){return e?function Jt(t,e){if(null!=t){if(ce(t))return function ni(t,e){return g1(t).pipe(rn(e),e4(e))}(t,e);if(K(t))return function bi(t,e){return new d2(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}(t,e);if(se(t))return function m0(t,e){return g1(t).pipe(rn(e),e4(e))}(t,e);if(we(t))return t4(t,e);if($e(t))return function an(t,e){return new d2(n=>{let i;return J1(n,e,()=>{i=t[_e](),J1(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(u){return void n.error(u)}o?n.complete():n.next(r)},0,!0)}),()=>It(i?.return)&&i.return()})}(t,e);if(Ge(t))return function Ca(t,e){return t4(je(t),e)}(t,e)}throw ge(t)}(t,e):g1(t)}class _t extends nn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Z1(...t){return G1(t,yt(t))}function ii(t={}){const{connector:e=(()=>new nn),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let u,h,p,y=0,w=!1,z=!1;const E=()=>{h?.unsubscribe(),h=void 0},D=()=>{E(),u=p=void 0,w=z=!1},k=()=>{const B=u;D(),B?.unsubscribe()};return Ft((B,j)=>{y++,!z&&!w&&E();const Z=p=p??e();j.add(()=>{y--,0===y&&!z&&!w&&(h=n4(k,r))}),Z.subscribe(j),!u&&y>0&&(u=new ir({next:F=>Z.next(F),error:F=>{z=!0,E(),h=n4(D,n,F),Z.error(F)},complete:()=>{w=!0,E(),h=n4(D,i),Z.complete()}}),g1(B).subscribe(u))})(o)}}function n4(t,e,...n){if(!0===e)return void t();if(!1===e)return;const i=new ir({next:()=>{i.unsubscribe(),t()}});return g1(e(...n)).subscribe(i)}function sn(t,e){return Ft((n,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();n.subscribe(Vt(i,p=>{r?.unsubscribe();let y=0;const w=o++;g1(t(p,w)).subscribe(r=Vt(i,z=>i.next(e?e(p,z,w,y++):z),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function to(t,e){return t===e}function xt(t){for(let e in t)if(t[e]===xt)return e;throw Error("Could not find renamed property on target object.")}function $t(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map($t).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function i4(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const r4=xt({__forward_ref__:xt});function K4(t){return t.__forward_ref__=K4,t.toString=function(){return $t(this())},t}function Y1(t){return a4(t)?t():t}function a4(t){return"function"==typeof t&&t.hasOwnProperty(r4)&&t.__forward_ref__===K4}function s4(t){return t&&!!t.\u0275providers}const Cc="https://g.co/ng/security#xss";class qe extends Error{constructor(e,n){super(function o4(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function W1(t){return"string"==typeof t?t:null==t?"":String(t)}function wr(t,e){throw new qe(-201,!1)}function En(t,e){null==t&&function B1(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}(e,t,null,"!=")}function A1(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ai(t){return{providers:t.providers||[],imports:t.imports||[]}}function l4(t){return D3(t,ts)||D3(t,Hc)}function D3(t,e){return t.hasOwnProperty(e)?t[e]:null}function es(t){return t&&(t.hasOwnProperty(so)||t.hasOwnProperty(y0))?t[so]:null}const ts=xt({\u0275prov:xt}),so=xt({\u0275inj:xt}),Hc=xt({ngInjectableDef:xt}),y0=xt({ngInjectorDef:xt});var ot=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ot||{});let ba;function mn(t){const e=ba;return ba=t,e}function P3(t,e,n){const i=l4(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&ot.Optional?null:void 0!==e?e:void wr($t(t))}const kt=globalThis,Dt={},I3="__NG_DI_FLAG__",u4="ngTempTokenPath",as=/\n/gm,os="__source";let zr;function Mi(t){const e=zr;return zr=t,e}function f4(t,e=ot.Default){if(void 0===zr)throw new qe(-203,!1);return null===zr?P3(t,void 0,e):zr.get(t,e&ot.Optional?null:void 0,e)}function w1(t,e=ot.Default){return(function ns(){return ba}()||f4)(Y1(t),e)}function z1(t,e=ot.Default){return w1(t,cs(e))}function cs(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ls(t){const e=[];for(let n=0;n<t.length;n++){const i=Y1(t[n]);if(Array.isArray(i)){if(0===i.length)throw new qe(900,!1);let r,o=ot.Default;for(let u=0;u<i.length;u++){const h=i[u],p=uo(h);"number"==typeof p?-1===p?r=h.token:o|=p:r=h}e.push(w1(r,o))}else e.push(w1(i))}return e}function n3(t,e){return t[I3]=e,t.prototype[I3]=e,t}function uo(t){return t[I3]}function si(t){return{toString:t}.toString()}var k3=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(k3||{}),Tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tn||{});const ji={},O1=[],cr=xt({\u0275cmp:xt}),gn=xt({\u0275dir:xt}),i3=xt({\u0275pipe:xt}),wa=xt({\u0275mod:xt}),wi=xt({\u0275fac:xt}),Ui=xt({__NG_ELEMENT_ID__:xt}),za=xt({__NG_ENV_ID__:xt});function N3(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function us(t,e,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],u=n[i++],h=n[i++];t.setAttribute(e,u,h,o)}else{const o=r,u=n[++i];ho(o)?t.setProperty(e,o,u):t.setAttribute(e,o,u),i++}}return i}function fo(t){return 3===t||4===t||6===t}function ho(t){return 64===t.charCodeAt(0)}function Sa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||po(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function po(t,e,n,i,r){let o=0,u=t.length;if(-1===e)u=-1;else for(;o<t.length;){const h=t[o++];if("number"==typeof h){if(h===e){u=-1;break}if(h>e){u=o-1;break}}}for(;o<t.length;){const h=t[o];if("number"==typeof h)break;if(h===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==u&&(t.splice(u,0,e),o=u+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}const qi="ng-template";function h4(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if("string"==typeof o&&r){const u=t[i++];if(n&&"class"===o&&-1!==N3(u.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<t.length&&"string"==typeof(o=t[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function qn(t){return 4===t.type&&t.value!==qi}function d4(t,e,n){return e===(4!==t.type||n?t.value:qi)}function Pc(t,e,n){let i=4;const r=t.attrs||[],o=function Si(t){for(let e=0;e<t.length;e++)if(fo(t[e]))return e;return t.length}(r);let u=!1;for(let h=0;h<e.length;h++){const p=e[h];if("number"!=typeof p){if(!u)if(4&i){if(i=2|1&i,""!==p&&!d4(t,p,n)||""===p&&1===e.length){if(zi(i))return!1;u=!0}}else{const y=8&i?p:e[++h];if(8&i&&null!==t.attrs){if(!h4(t.attrs,y,n)){if(zi(i))return!1;u=!0}continue}const z=Ac(8&i?"class":p,r,qn(t),n);if(-1===z){if(zi(i))return!1;u=!0;continue}if(""!==y){let E;E=z>o?"":r[z+1].toLowerCase();const D=8&i?E:null;if(D&&-1!==N3(D,y,0)||2&i&&y!==E){if(zi(i))return!1;u=!0}}}}else{if(!u&&!zi(i)&&!zi(p))return!1;if(u&&zi(p))continue;u=!1,i=p|1&i}}return zi(i)||u}function zi(t){return 0==(1&t)}function Ac(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){const u=e[r];if(u===t)return r;if(3===u||6===u)o=!0;else{if(1===u||2===u){let h=e[++r];for(;"string"==typeof h;)h=e[++r];continue}if(4===u)break;if(0===u){r+=4;continue}}r+=o?1:2}return-1}return function Sr(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function lr(t,e,n=!1){for(let i=0;i<e.length;i++)if(Pc(t,e[i],n))return!0;return!1}function fs(t,e){e:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function ur(t,e){return t?":not("+e.trim()+")":e}function Lr(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let u=t[n];if("string"==typeof u)if(2&i){const h=t[++n];r+="["+u+(h.length>0?'="'+h+'"':"")+"]"}else 8&i?r+="."+u:4&i&&(r+=" "+u);else""!==r&&!zi(u)&&(e+=ur(o,r),r=""),i=u,o=o||!zi(i);n++}return""!==r&&(e+=ur(o,r)),e}function N2(t){return si(()=>{const e=go(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===k3.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tn.Emulated,styles:t.styles||O1,_:null,schemas:t.schemas||null,tView:null,id:""};vo(n);const i=t.dependencies;return n.directiveDefs=p4(i,!1),n.pipeDefs=p4(i,!0),n.id=function yo(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function La(t){return Ye(t)||O2(t)}function Hr(t){return null!==t}function f1(t){return si(()=>({type:t.type,bootstrap:t.bootstrap||O1,declarations:t.declarations||O1,imports:t.imports||O1,exports:t.exports||O1,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vr(t,e){if(null==t)return ji;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}function jt(t){return si(()=>{const e=go(t);return vo(e),e})}function Ye(t){return t[cr]||null}function O2(t){return t[gn]||null}function on(t){return t[i3]||null}function Pn(t,e){const n=t[wa]||null;if(!n&&!0===e)throw new Error(`Type ${$t(t)} does not have '\u0275mod' property.`);return n}function go(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ji,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||O1,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vr(t.inputs,e),outputs:Vr(t.outputs)}}function vo(t){t.features?.forEach(e=>e(t))}function p4(t,e){if(!t)return null;const n=e?on:La;return()=>("function"==typeof t?t():t).map(i=>n(i)).filter(Hr)}const e2=0,m1=1,et=2,dt=3,j2=4,Er=5,U2=6,fr=7,l2=8,Tr=9,q2=10,_1=11,r3=12,ps=13,O3=14,p2=15,Va=16,Ea=17,t2=18,a3=19,S1=20,H1=21,oi=22,R3=23,F3=24,k1=25,Gn=1,_o=2,vn=7,Pt=9,x2=11;function V2(t){return Array.isArray(t)&&"object"==typeof t[Gn]}function cn(t){return Array.isArray(t)&&!0===t[Gn]}function m4(t){return 0!=(4&t.flags)}function Li(t){return t.componentOffset>-1}function Ta(t){return 1==(1&t.flags)}function ci(t){return!!t.template}function gt(t){return 0!=(512&t[et])}function Ie(t,e){return t.hasOwnProperty(wi)?t[wi]:null}let Xe=null,v1=!1;function $1(t){const e=Xe;return Xe=t,e}const s1={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function b1(t){if(!ln(t)||t.dirty){if(!t.producerMustRecompute(t)&&!At(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Q1(t){t.dirty=!0,function zt(t){if(void 0===t.liveConsumerNode)return;const e=v1;v1=!0;try{for(const n of t.liveConsumerNode)n.dirty||Q1(n)}finally{v1=e}}(t),t.consumerMarkedDirty?.(t)}function at(t){return t&&(t.nextProducerIndex=0),$1(t)}function Zt(t,e){if($1(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ln(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)n2(t.producerNode[n],t.producerIndexOfThis[n]);for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function At(t){St(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(b1(n),i!==n.version))return!0}return!1}function G2(t){if(St(t),ln(t))for(let e=0;e<t.producerNode.length;e++)n2(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function n2(t,e){if(function Gi(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),St(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)n2(t.producerNode[i],t.producerIndexOfThis[i]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];St(r),r.producerIndexOfThis[i]=e}}function ln(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function St(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Cn=null;const Wi=()=>{},Hi={...s1,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Wi};class xo{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Z2(){return e5}function e5(t){return t.type.prototype.ngOnChanges&&(t.setInput=T2),t5}function t5(){const t=M0(this),e=t?.current;if(e){const n=t.previous;if(n===ji)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function T2(t,e,n,i){const r=this.declaredInputs[n],o=M0(t)||function v4(t,e){return t[Oc]=e}(t,{previous:ji,current:null}),u=o.current||(o.current={}),h=o.previous,p=h[r];u[r]=new xo(p&&p.currentValue,e,h===ji),t[i]=e}Z2.ngInherit=!0;const Oc="__ngSimpleChanges__";function M0(t){return t[Oc]||null}const pr=function(t,e,n){};function Wt(t){for(;Array.isArray(t);)t=t[e2];return t}function Vi(t,e){return Wt(e[t.index])}function L0(t,e){return t.data[e]}function bn(t,e){const n=e[t];return V2(n)?n:n[e2]}function Nr(t,e){return null==e?null:t[e]}function H0(t){t[Ea]=0}function i5(t){1024&t[et]||(t[et]|=1024,An(t,1))}function r5(t){1024&t[et]&&(t[et]&=-1025,An(t,-1))}function An(t,e){let n=t[dt];if(null===n)return;n[Er]+=e;let i=n;for(n=n[dt];null!==n&&(1===e&&1===i[Er]||-1===e&&0===i[Er]);)n[Er]+=e,i=n,n=n[dt]}const X1={lFrame:k0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function E0(){return X1.bindingsEnabled}function C4(){return null!==X1.skipHydrationRootTNode}function Ze(){return X1.lFrame.lView}function bt(){return X1.lFrame.tView}function P0(t){return X1.lFrame.contextLView=t,t[l2]}function $c(t){return X1.lFrame.contextLView=null,t}function In(){let t=o5();for(;null!==t&&64===t.type;)t=t.parent;return t}function o5(){return X1.lFrame.currentTNode}function s3(t,e){const n=X1.lFrame;n.currentTNode=t,n.isParent=e}function So(){return X1.lFrame.isParent}function ys(){X1.lFrame.isParent=!1}function ui(){const t=X1.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function bs(){return X1.lFrame.bindingIndex++}function A0(t,e){const n=X1.lFrame;n.bindingIndex=n.bindingRootIndex=t,Da(e)}function Da(t){X1.lFrame.currentDirectiveIndex=t}function g2(){return X1.lFrame.currentQueryIndex}function xs(t){X1.lFrame.currentQueryIndex=t}function f5(t){const e=t[m1];return 2===e.type?e.declTNode:1===e.type?t[U2]:null}function Lo(t,e,n){if(n&ot.SkipSelf){let r=e,o=t;for(;!(r=r.parent,null!==r||n&ot.Host||(r=f5(o),null===r||(o=o[O3],10&r.type))););if(null===r)return!1;e=r,t=o}const i=X1.lFrame=ws();return i.currentTNode=e,i.lView=t,!0}function Ms(t){const e=ws(),n=t[m1];X1.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ws(){const t=X1.lFrame,e=null===t?null:t.child;return null===e?k0(t):e}function k0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function N0(){const t=X1.lFrame;return X1.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zs=N0;function Ho(){const t=N0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fi(){return X1.lFrame.selectedIndex}function Pa(t){X1.lFrame.selectedIndex=t}function Yt(){const t=X1.lFrame;return L0(t.tView,t.selectedIndex)}let Uc=!0;function Vo(){return Uc}function G3(t){Uc=t}function qc(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:h,ngAfterViewInit:p,ngAfterViewChecked:y,ngOnDestroy:w}=o;u&&(t.contentHooks??=[]).push(-n,u),h&&((t.contentHooks??=[]).push(n,h),(t.contentCheckHooks??=[]).push(n,h)),p&&(t.viewHooks??=[]).push(-n,p),y&&((t.viewHooks??=[]).push(n,y),(t.viewCheckHooks??=[]).push(n,y)),null!=w&&(t.destroyHooks??=[]).push(n,w)}}function Gc(t,e,n){Z3(t,e,3,n)}function Zc(t,e,n,i){(3&t[et])===n&&Z3(t,e,n,i)}function B0(t,e){let n=t[et];(3&n)===e&&(n&=8191,n+=1,t[et]=n)}function Z3(t,e,n,i){const o=i??-1,u=e.length-1;let h=0;for(let p=void 0!==i?65535&t[Ea]:0;p<u;p++)if("number"==typeof e[p+1]){if(h=e[p],null!=i&&h>=i)break}else e[p]<0&&(t[Ea]+=65536),(h<o||-1==o)&&(p5(t,n,e,p),t[Ea]=(4294901760&t[Ea])+p+2),p++}function d5(t,e){pr(4,t,e);const n=$1(null);try{e.call(t)}finally{$1(n),pr(5,t,e)}}function p5(t,e,n,i){const r=n[i]<0,o=n[i+1],h=t[r?-n[i]:n[i]];r?t[et]>>13<t[Ea]>>16&&(3&t[et])===e&&(t[et]+=8192,d5(h,o)):d5(h,o)}const Or=-1;class Eo{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function To(t){return t!==Or}function W3(t){return 32767&t}function Do(t,e){let n=function $0(t){return t>>16}(t),i=e;for(;n>0;)i=i[O3],n--;return i}let j0=!0;function Po(t){const e=j0;return j0=t,e}const m5=255,Ss=5;let g5=0;const o3={};function Yc(t,e){const n=v5(t,e);if(-1!==n)return n;const i=e[m1];i.firstCreatePass&&(t.injectorIndex=e.length,U0(i.data,t),U0(e,null),U0(i.blueprint,null));const r=Xc(t,e),o=t.injectorIndex;if(To(r)){const u=W3(r),h=Do(r,e),p=h[m1].data;for(let y=0;y<8;y++)e[o+y]=h[u+y]|p[u+y]}return e[o+8]=r,o}function U0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function v5(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Xc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){if(i=Y0(r),null===i)return Or;if(n++,r=r[O3],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Or}function Kc(t,e,n){!function Ru(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Ui)&&(i=n[Ui]),null==i&&(i=n[Ui]=g5++);const r=i&m5;e.data[t+(r>>Ss)]|=1<<r}(t,e,n)}function G0(t,e,n){if(n&ot.Optional||void 0!==t)return t;wr()}function Z0(t,e,n,i){if(n&ot.Optional&&void 0===i&&(i=null),!(n&(ot.Self|ot.Host))){const r=t[Tr],o=mn(void 0);try{return r?r.get(e,i,n&ot.Optional):P3(e,i,n&ot.Optional)}finally{mn(o)}}return G0(i,0,n)}function W0(t,e,n,i=ot.Default,r){if(null!==t){if(2048&e[et]&&!(i&ot.Self)){const u=function b5(t,e,n,i,r){let o=t,u=e;for(;null!==o&&null!==u&&2048&u[et]&&!(512&u[et]);){const h=y5(o,u,n,i|ot.Self,o3);if(h!==o3)return h;let p=o.parent;if(!p){const y=u[S1];if(y){const w=y.get(n,o3,i);if(w!==o3)return w}p=Y0(u),u=u[O3]}o=p}return r}(t,e,n,i,o3);if(u!==o3)return u}const o=y5(t,e,n,i,o3);if(o!==o3)return o}return Z0(e,n,i,r)}function y5(t,e,n,i,r){const o=function Fu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ui)?t[Ui]:void 0;return"number"==typeof e?e>=0?e&m5:Ao:e}(n);if("function"==typeof o){if(!Lo(e,t,i))return i&ot.Host?G0(r,0,i):Z0(e,n,i,r);try{let u;if(u=o(i),null!=u||i&ot.Optional)return u;wr()}finally{zs()}}else if("number"==typeof o){let u=null,h=v5(t,e),p=Or,y=i&ot.Host?e[p2][U2]:null;for((-1===h||i&ot.SkipSelf)&&(p=-1===h?Xc(t,e):e[h+8],p!==Or&&C5(i,!1)?(u=e[m1],h=W3(p),e=Do(p,e)):h=-1);-1!==h;){const w=e[m1];if(_5(o,h,w.data)){const z=Qc(h,e,n,u,i,y);if(z!==o3)return z}p=e[h+8],p!==Or&&C5(i,e[m1].data[h+8]===y)&&_5(o,h,e)?(u=w,h=W3(p),e=Do(p,e)):h=-1}}return r}function Qc(t,e,n,i,r,o){const u=e[m1],h=u.data[t+8],w=Jc(h,u,n,null==i?Li(h)&&j0:i!=u&&0!=(3&h.type),r&ot.Host&&o===h);return null!==w?Aa(e,u,w,h):o3}function Jc(t,e,n,i,r){const o=t.providerIndexes,u=e.data,h=1048575&o,p=t.directiveStart,w=o>>20,E=r?h+w:t.directiveEnd;for(let D=i?h:h+w;D<E;D++){const k=u[D];if(D<p&&n===k||D>=p&&k.type===n)return D}if(r){const D=u[p];if(D&&ci(D)&&D.type===n)return p}return null}function Aa(t,e,n,i){let r=t[n];const o=e.data;if(function Iu(t){return t instanceof Eo}(r)){const u=r;u.resolving&&function bc(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new qe(-200,`Circular dependency in DI detected for ${t}${n}`)}(function wt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W1(t)}(o[n]));const h=Po(u.canSeeViewProviders);u.resolving=!0;const y=u.injectImpl?mn(u.injectImpl):null;Lo(t,i,ot.Default);try{r=t[n]=u.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function Au(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const u=e5(e);(n.preOrderHooks??=[]).push(t,u),(n.preOrderCheckHooks??=[]).push(t,u)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==y&&mn(y),Po(h),u.resolving=!1,zs()}}return r}function _5(t,e,n){return!!(n[e+(t>>Ss)]&1<<t)}function C5(t,e){return!(t&ot.Self||t&ot.Host&&e)}class hi{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return W0(this._tNode,this._lView,e,cs(i),n)}}function Ao(){return new hi(In(),Ze())}function e6(t){return a4(t)?()=>{const e=e6(Y1(t));return e&&e()}:Ie(t)}function Y0(t){const e=t[m1],n=e.type;return 2===n?e.declTNode:1===n?t[U2]:null}const b4="__parameters__";function M4(t,e,n){return si(()=>{const i=function ka(t){return function(...n){if(t){const i=t(...n);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const u=new r(...o);return h.annotation=u,h;function h(p,y,w){const z=p.hasOwnProperty(b4)?p[b4]:Object.defineProperty(p,b4,{value:[]})[b4];for(;z.length<=w;)z.push(null);return(z[w]=z[w]||[]).push(u),p}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function Es(t,e){t.forEach(n=>Array.isArray(n)?Es(n,e):e(n))}function K0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Io(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function un(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}const No=n3(M4("Optional"),8),Yi=n3(M4("SkipSelf"),4);function u6(t){return 128==(128&t.flags)}var di=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(di||{});const d8=new Map;let Ku=0;const m8="__ngContext__";function Wn(t,e){V2(e)?(t[m8]=e[a3],function Ds(t){d8.set(t[a3],t)}(e)):t[m8]=e}let d6;function y8(t,e){return d6(t,e)}function H4(t){const e=t[dt];return cn(e)?e[dt]:e}function As(t){return C8(t[r3])}function p6(t){return C8(t[j2])}function C8(t){for(;null!==t&&!cn(t);)t=t[j2];return t}function $a(t,e,n,i,r){if(null!=i){let o,u=!1;cn(i)?o=i:V2(i)&&(u=!0,i=i[e2]);const h=Wt(i);0===t&&null!==n?null==r?Y(e,n,h):U(e,n,h,r||null,!0):1===t&&null!==n?U(e,n,h,r||null,!0):2===t?function d1(t,e,n){const i=ue(t,e);i&&function J(t,e,n,i){t.removeChild(e,n,i)}(t,i,e,n)}(e,h,u):3===t&&e.destroyNode(h),null!=o&&function qt(t,e,n,i,r){const o=n[vn];o!==Wt(n)&&$a(e,t,i,o,r);for(let h=x2;h<n.length;h++){const p=n[h];L1(p[m1],p,t,e,i,o)}}(e,t,o,n,r)}}function ks(t,e,n){return t.createElement(e,n)}function g(t,e){const n=t[Pt],i=n.indexOf(e);r5(e),n.splice(i,1)}function b(t,e){if(t.length<=x2)return;const n=x2+e,i=t[n];if(i){const r=i[Va];null!==r&&r!==t&&g(r,i),e>0&&(t[n-1][j2]=i[j2]);const o=Io(t,x2+e);!function b8(t,e){L1(t,e,e[_1],2,null,null),e[e2]=null,e[U2]=null}(i[m1],i);const u=o[t2];null!==u&&u.detachView(o[m1]),i[dt]=null,i[j2]=null,i[et]&=-129}return i}function M(t,e){if(!(256&e[et])){const n=e[_1];e[R3]&&G2(e[R3]),e[F3]&&G2(e[F3]),n.destroyNode&&L1(t,e,n,3,null,null),function a(t){let e=t[r3];if(!e)return S(t[m1],t);for(;e;){let n=null;if(V2(e))n=e[r3];else{const i=e[x2];i&&(n=i)}if(!n){for(;e&&!e[j2]&&e!==t;)V2(e)&&S(e[m1],e),e=e[dt];null===e&&(e=t),V2(e)&&S(e[m1],e),n=e&&e[j2]}e=n}}(e)}}function S(t,e){if(!(256&e[et])){e[et]&=-129,e[et]|=256,function P(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const r=e[n[i]];if(!(r instanceof Eo)){const o=n[i+1];if(Array.isArray(o))for(let u=0;u<o.length;u+=2){const h=r[o[u]],p=o[u+1];pr(4,h,p);try{p.call(h)}finally{pr(5,h,p)}}else{pr(4,r,o);try{o.call(r)}finally{pr(5,r,o)}}}}}(t,e),function V(t,e){const n=t.cleanup,i=e[fr];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const u=n[o+3];u>=0?i[u]():i[-u].unsubscribe(),o+=2}else n[o].call(i[n[o+1]]);null!==i&&(e[fr]=null);const r=e[H1];if(null!==r){e[H1]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,e),1===e[m1].type&&e[_1].destroy();const n=e[Va];if(null!==n&&cn(e[dt])){n!==e[dt]&&g(n,e);const i=e[t2];null!==i&&i.detachView(t)}!function f6(t){d8.delete(t[a3])}(e)}}function I(t,e,n){return function R(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[e2];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=t.data[i.directiveStart+r];if(o===Tn.None||o===Tn.Emulated)return null}return Vi(i,n)}}(t,e.parent,n)}function U(t,e,n,i,r){t.insertBefore(e,n,i,r)}function Y(t,e,n){t.appendChild(e,n)}function X(t,e,n,i,r){null!==i?U(t,e,n,i,r):Y(t,e,n)}function ue(t,e){return t.parentNode(e)}function de(t,e,n){return Ae(t,e,n)}let Ue,u2,fn,Mn,Ae=function ze(t,e,n){return 40&t.type?Vi(t,n):null};function y1(t,e,n,i){const r=I(t,i,e),o=e[_1],h=de(i.parent||e[U2],i,e);if(null!=r)if(Array.isArray(n))for(let p=0;p<n.length;p++)X(o,r,n[p],h,!1);else X(o,r,n,h,!1);void 0!==Ue&&Ue(o,i,e,n,r)}function l1(t,e){if(null!==e){const n=e.type;if(3&n)return Vi(e,t);if(4&n)return i1(-1,t[e.index]);if(8&n){const i=e.child;if(null!==i)return l1(t,i);{const r=t[e.index];return cn(r)?i1(-1,r):Wt(r)}}if(32&n)return y8(e,t)()||Wt(t[e.index]);{const i=c1(t,e);return null!==i?Array.isArray(i)?i[0]:l1(H4(t[p2]),i):l1(t,e.next)}}return null}function c1(t,e){return null!==e?t[p2][U2].projection[e.projection]:null}function i1(t,e){const n=x2+t+1;if(n<e.length){const i=e[n],r=i[m1].firstChild;if(null!==r)return l1(i,r)}return e[vn]}function Ke(t,e,n,i,r,o,u){for(;null!=n;){const h=i[n.index],p=n.type;if(u&&0===e&&(h&&Wn(Wt(h),i),n.flags|=2),32!=(32&n.flags))if(8&p)Ke(t,e,n.child,i,r,o,!1),$a(e,t,r,h,o);else if(32&p){const y=y8(n,i);let w;for(;w=y();)$a(e,t,r,w,o);$a(e,t,r,h,o)}else 16&p?st(t,e,i,n,r,o):$a(e,t,r,h,o);n=u?n.projectionNext:n.next}}function L1(t,e,n,i,r,o){Ke(n,i,t.firstChild,e,r,o,!1)}function st(t,e,n,i,r,o){const u=n[p2],p=u[U2].projection[i.projection];if(Array.isArray(p))for(let y=0;y<p.length;y++)$a(e,t,r,p[y],o);else{let y=p;const w=u[dt];u6(i)&&(y.flags|=128),Ke(t,e,y,w,r,o,!0)}}function pi(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function On(t,e,n){const{mergedAttrs:i,classes:r,styles:o}=n;null!==i&&us(t,e,i),null!==r&&pi(t,e,r),null!==o&&function R2(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function z2(t){return function F2(){if(void 0===u2&&(u2=null,kt.trustedTypes))try{u2=kt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return u2}()?.createHTML(t)||t}function P2(){if(void 0!==fn)return fn;if(typeof document<"u")return document;throw new qe(210,!1)}function A2(t){return function Rn(){if(void 0===Mn&&(Mn=null,kt.trustedTypes))try{Mn=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mn}()?.createHTML(t)||t}class v2{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Cc})`}}class $2 extends v2{getTypeName(){return"HTML"}}class gr extends v2{getTypeName(){return"Style"}}class Rr extends v2{getTypeName(){return"Script"}}class Fr extends v2{getTypeName(){return"URL"}}class K3 extends v2{getTypeName(){return"ResourceURL"}}function y2(t){return t instanceof v2?t.changingThisBreaksApplicationSecurity:t}function I2(t,e){const n=function mi(t){return t instanceof v2&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Cc})`)}return n===e}class X5{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(z2(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class K5{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=z2(e),n}}const tf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function m6(t){return(t=String(t)).match(tf)?t:"unsafe:"+t}function J3(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Go(...t){const e={};for(const n of t)for(const i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}const Q5=J3("area,br,col,hr,img,wbr"),J5=J3("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),e7=J3("rp,rt"),z8=Go(Q5,Go(J5,J3("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Go(e7,J3("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Go(e7,J5)),S8=J3("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ei=Go(S8,J3("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),J3("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),E4=J3("script,style,template");class Br{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!z8.hasOwnProperty(n))return this.sanitizedSomething=!0,!E4.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),u=o.name,h=u.toLowerCase();if(!Ei.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let p=o.value;S8[h]&&(p=m6(p)),this.buf.push(" ",u,'="',Eg(p),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();z8.hasOwnProperty(n)&&!Q5.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Eg(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const T4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f3=/([^\#-~ |!])/g;function Eg(t){return t.replace(/&/g,"&amp;").replace(T4,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(f3,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let t7;function Tg(t,e){let n=null;try{t7=t7||function l3(t){const e=new K5(t);return function ef(){try{return!!(new window.DOMParser).parseFromString(z2(""),"text/html")}catch{return!1}}()?new X5(e):e}(t);let i=e?String(e):"";n=t7.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=t7.getInertBodyElement(i)}while(i!==o);return z2((new Br).sanitizeChildren(rf(n)||n))}finally{if(n){const i=rf(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function rf(t){return"content"in t&&function AP(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var h3=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(h3||{});function Dg(t){const e=function L8(){const t=Ze();return t&&t[q2].sanitizer}();return e?A2(e.sanitize(h3.HTML,t)||""):I2(t,"HTML")?A2(y2(t)):Tg(P2(),W1(t))}class j1{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=A1({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const H8=new j1("ENVIRONMENT_INITIALIZER"),kg=new j1("INJECTOR",-1),Ng=new j1("INJECTOR_DEF_TYPES");class af{get(e,n=Dt){if(n===Dt){const i=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw i.name="NullInjectorError",i}return n}}function FP(...t){return{\u0275providers:Rg(0,t),\u0275fromNgModule:!0}}function Rg(t,...e){const n=[],i=new Set;let r;const o=u=>{n.push(u)};return Es(e,u=>{const h=u;n7(h,o,[],i)&&(r||=[],r.push(h))}),void 0!==r&&Fg(r,o),n}function Fg(t,e){for(let n=0;n<t.length;n++){const{ngModule:i,providers:r}=t[n];sf(r,o=>{e(o,i)})}}function n7(t,e,n,i){if(!(t=Y1(t)))return!1;let r=null,o=es(t);const u=!o&&Ye(t);if(o||u){if(u&&!u.standalone)return!1;r=t}else{const p=t.ngModule;if(o=es(p),!o)return!1;r=p}const h=i.has(r);if(u){if(h)return!1;if(i.add(r),u.dependencies){const p="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const y of p)n7(y,e,n,i)}}else{if(!o)return!1;{if(null!=o.imports&&!h){let y;i.add(r);try{Es(o.imports,w=>{n7(w,e,n,i)&&(y||=[],y.push(w))})}finally{}void 0!==y&&Fg(y,e)}if(!h){const y=Ie(r)||(()=>new r);e({provide:r,useFactory:y,deps:O1},r),e({provide:Ng,useValue:r,multi:!0},r),e({provide:H8,useValue:()=>w1(r),multi:!0},r)}const p=o.providers;if(null!=p&&!h){const y=t;sf(p,w=>{e(w,y)})}}}return r!==t&&void 0!==t.providers}function sf(t,e){for(let n of t)s4(n)&&(n=n.\u0275providers),Array.isArray(n)?sf(n,e):e(n)}const BP=xt({provide:String,useValue:xt});function cf(t){return null!==t&&"object"==typeof t&&BP in t}function Zo(t){return"function"==typeof t}const lf=new j1("Set Injector scope."),i7={},jP={};let uf;function r7(){return void 0===uf&&(uf=new af),uf}class d3{}class a7 extends d3{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hf(e,u=>this.processProvider(u)),this.records.set(kg,g6(void 0,this)),r.has("environment")&&this.records.set(d3,g6(void 0,this));const o=this.records.get(lf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ng.multi,O1,ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Mi(this),i=mn(void 0);try{return e()}finally{Mi(n),mn(i)}}get(e,n=Dt,i=ot.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(za))return e[za](this);i=cs(i);const o=Mi(this),u=mn(void 0);try{if(!(i&ot.SkipSelf)){let p=this.records.get(e);if(void 0===p){const y=function WP(t){return"function"==typeof t||"object"==typeof t&&t instanceof j1}(e)&&l4(e);p=y&&this.injectableDefInScope(y)?g6(ff(e),i7):null,this.records.set(e,p)}if(null!=p)return this.hydrate(e,p)}return(i&ot.Self?r7():this.parent).get(e,n=i&ot.Optional&&n===Dt?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[u4]=h[u4]||[]).unshift($t(e)),o)throw h;return function Tc(t,e,n,i){const r=t[u4];throw e[os]&&r.unshift(e[os]),t.message=function Dc(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=$t(e);if(Array.isArray(e))r=e.map($t).join(" -> ");else if("object"==typeof e){let o=[];for(let u in e)if(e.hasOwnProperty(u)){let h=e[u];o.push(u+":"+("string"==typeof h?JSON.stringify(h):$t(h)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(as,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t[u4]=null,t}(h,e,"R3InjectorError",this.source)}throw h}finally{mn(u),Mi(o)}}resolveInjectorInitializers(){const e=Mi(this),n=mn(void 0);try{const r=this.get(H8.multi,O1,ot.Self);for(const o of r)o()}finally{Mi(e),mn(n)}}toString(){const e=[],n=this.records;for(const i of n.keys())e.push($t(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(e){let n=Zo(e=Y1(e))?e:Y1(e&&e.provide);const i=function qP(t){return cf(t)?g6(void 0,t.useValue):g6(function jg(t,e,n){let i;if(Zo(t)){const r=Y1(t);return Ie(r)||ff(r)}if(cf(t))i=()=>Y1(t.useValue);else if(function $g(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...ls(t.deps||[]));else if(function Bg(t){return!(!t||!t.useExisting)}(t))i=()=>w1(Y1(t.useExisting));else{const r=Y1(t&&(t.useClass||t.provide));if(!function GP(t){return!!t.deps}(t))return Ie(r)||ff(r);i=()=>new r(...ls(t.deps))}return i}(t),i7)}(e);if(Zo(e)||!0!==e.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=g6(void 0,i7,!0),r.factory=()=>ls(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===i7&&(n.value=jP,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ZP(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y1(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ff(t){const e=l4(t),n=null!==e?e.factory:Ie(t);if(null!==n)return n;if(t instanceof j1)throw new qe(204,!1);if(t instanceof Function)return function UP(t){const e=t.length;if(e>0)throw un(e,"?"),new qe(204,!1);const n=function v0(t){return t&&(t[ts]||t[Hc])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new qe(204,!1)}function g6(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hf(t,e){for(const n of t)Array.isArray(n)?hf(n,e):n&&s4(n)?hf(n.\u0275providers,e):e(n)}const s7=new j1("AppId",{providedIn:"root",factory:()=>YP}),YP="ng",Ug=new j1("Platform Initializer"),v6=new j1("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qg=new j1("AnimationModuleType"),Gg=new j1("CSP nonce",{providedIn:"root",factory:()=>P2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Zg=(t,e,n)=>null;function Cf(t,e,n=!1){return Zg(t,e,n)}class aA{}class Xg{}class oA{resolveComponentFactory(e){throw function sA(t){const e=Error(`No component factory found for ${$t(t)}.`);return e.ngComponent=t,e}(e)}}let h7=(()=>{class e{}return e.NULL=new oA,e})();function cA(){return C6(In(),Ze())}function C6(t,e){return new vr(Vi(t,e))}let vr=(()=>{class e{constructor(i){this.nativeElement=i}}return e.__NG_ELEMENT_ID__=cA,e})();function lA(t){return t instanceof vr?t.nativeElement:t}class T8{}let b6=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function uA(){const t=Ze(),n=bn(In().index,t);return(V2(n)?n:t)[_1]}(),e})(),fA=(()=>{var t;class e{}return(t=e).\u0275prov=A1({token:t,providedIn:"root",factory:()=>null}),e})();class d7{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const hA=new d7("16.2.5"),Mf={};function tv(t,e=null,n=null,i){const r=nv(t,e,n,i);return r.resolveInjectorInitializers(),r}function nv(t,e=null,n=null,i,r=new Set){const o=[n||O1,FP(t)];return i=i||("object"==typeof t?void 0:$t(t)),new a7(o,e||r7(),i||null,r)}let $r=(()=>{var t;class e{static create(i,r){if(Array.isArray(i))return tv({name:""},r,i,"");{const o=i.name??"";return tv({name:o},i.parent,i.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=Dt,t.NULL=new af,t.\u0275prov=A1({token:t,providedIn:"any",factory:()=>w1(kg)}),t.__NG_ELEMENT_ID__=-1,e})();function zf(t){return t.ngOriginalError}class D4{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zf(e);for(;n&&zf(n);)n=zf(n);return n||null}}function Lf(t){return e=>{setTimeout(t,void 0,e)}}const Xi=class _A extends nn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,o=n||(()=>null),u=i;if(e&&"object"==typeof e){const p=e;r=p.next?.bind(p),o=p.error?.bind(p),u=p.complete?.bind(p)}this.__isAsync&&(o=Lf(o),r&&(r=Lf(r)),u&&(u=Lf(u)));const h=super.subscribe({next:r,error:o,complete:u});return e instanceof h2&&e.add(h),h}};function rv(...t){}class r2{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xi(!1),this.onMicrotaskEmpty=new Xi(!1),this.onStable=new Xi(!1),this.onError=new Xi(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function CA(){const t="function"==typeof kt.requestAnimationFrame;let e=kt[t?"requestAnimationFrame":"setTimeout"],n=kt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function MA(t){const e=()=>{!function xA(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vf(t),t.isCheckStableRunning=!0,Hf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,u,h)=>{if(function zA(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(h))return n.invokeTask(r,o,u,h);try{return av(t),n.invokeTask(r,o,u,h)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),sv(t)}},onInvoke:(n,i,r,o,u,h,p)=>{try{return av(t),n.invoke(r,o,u,h,p)}finally{t.shouldCoalesceRunChangeDetection&&e(),sv(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Vf(t),Hf(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!r2.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(r2.isInAngularZone())throw new qe(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){const o=this._inner,u=o.scheduleEventTask("NgZoneEvent: "+r,e,bA,rv,rv);try{return o.runTask(u,n,i)}finally{o.cancelTask(u)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}}const bA={};function Hf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function av(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sv(t){t._nesting--,Hf(t)}class wA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xi,this.onMicrotaskEmpty=new Xi,this.onStable=new Xi,this.onError=new Xi}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}}const ov=new j1("",{providedIn:"root",factory:cv});function cv(){const t=z1(r2);let e=!0;return function V3(...t){const e=yt(t),n=function eo(t,e){return"number"==typeof t3(t)?t.pop():e}(t,1/0),i=t;return i.length?1===i.length?g1(i[0]):Gt(n)(G1(i,e)):Bt}(new d2(r=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{r.next(e),r.complete()})}),new d2(r=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{r2.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const u=t.onUnstable.subscribe(()=>{r2.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),u.unsubscribe()}}).pipe(ii()))}function Ef(t){return t.ownerDocument.defaultView}function lv(t){return t.ownerDocument}function P4(t){return t instanceof Function?t():t}let Tf=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=A1({token:t,providedIn:"root",factory:()=>new t}),e})();function D8(t){for(;t;){t[et]|=64;const e=H4(t);if(gt(t)&&!e)return t;t=e}return null}const pv=new j1("",{providedIn:"root",factory:()=>!1});let m7=null;function yv(t,e){return t[e]??bv()}function _v(t,e){const n=bv();n.producerNode?.length&&(t[e]=m7,n.lView=t,m7=Cv())}const PA={...s1,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{D8(t.lView)},lView:null};function Cv(){return Object.create(PA)}function bv(){return m7??=Cv(),m7}const lt={};function r1(t){xv(bt(),Ze(),fi()+t,!1)}function xv(t,e,n,i){if(!i)if(3==(3&e[et])){const o=t.preOrderCheckHooks;null!==o&&Gc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Zc(e,o,0,n)}Pa(n)}function V1(t,e=ot.Default){const n=Ze();return null===n?w1(t,e):W0(In(),n,Y1(t),e)}function g7(t,e,n,i,r,o,u,h,p,y,w){const z=e.blueprint.slice();return z[e2]=r,z[et]=140|i,(null!==y||t&&2048&t[et])&&(z[et]|=2048),H0(z),z[dt]=z[O3]=t,z[l2]=n,z[q2]=u||t&&t[q2],z[_1]=h||t&&t[_1],z[Tr]=p||t&&t[Tr]||null,z[U2]=o,z[a3]=function $5(){return Ku++}(),z[oi]=w,z[S1]=y,z[p2]=2==e.type?t[p2]:z,z}function w6(t,e,n,i,r){let o=t.data[e];if(null===o)o=function Df(t,e,n,i,r){const o=o5(),u=So(),p=t.data[e]=function BA(t,e,n,i,r,o){let u=e?e.injectorIndex:-1,h=0;return C4()&&(h|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=p),null!==o&&(u?null==o.child&&null!==p.parent&&(o.child=p):null===o.next&&(o.next=p,p.prev=o)),p}(t,e,n,i,r),function Eu(){return X1.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const u=function zo(){const t=X1.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===u?-1:u.injectorIndex}return s3(o,!0),o}function P8(t,e,n,i){if(0===n)return-1;const r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function wv(t,e,n,i,r){const o=yv(e,R3),u=fi(),h=2&i;try{Pa(-1),h&&e.length>k1&&xv(t,e,k1,!1),pr(h?2:0,r);const y=h?o:null,w=at(y);try{null!==y&&(y.dirty=!1),n(i,r)}finally{Zt(y,w)}}finally{h&&null===e[R3]&&_v(e,R3),Pa(u),pr(h?3:1,r)}}function Pf(t,e,n){if(m4(e)){const i=$1(null);try{const o=e.directiveEnd;for(let u=e.directiveStart;u<o;u++){const h=t.data[u];h.contentQueries&&h.contentQueries(1,n[u],u)}}finally{$1(i)}}}function Af(t,e,n){E0()&&(function WA(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;Li(n)&&function tI(t,e,n){const i=Vi(e,t),r=zv(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const h=v7(t,g7(t,r,null,u,i,e,null,t[q2].rendererFactory.createRenderer(i,n),null,null,null));t[e.index]=h}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Yc(n,e),Wn(i,e);const u=n.initialInputs;for(let h=r;h<o;h++){const p=t.data[h],y=Aa(e,t,h,n);Wn(y,e),null!==u&&nI(0,h-r,y,p,0,u),ci(p)&&(bn(n.index,e)[l2]=Aa(e,t,h,n))}}(t,e,n,Vi(n,e)),64==(64&n.flags)&&Ev(t,e,n))}function If(t,e,n=Vi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const u=i[o+1],h=-1===u?n(e,t):t[u];t[r++]=h}}}function zv(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=kf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function kf(t,e,n,i,r,o,u,h,p,y,w){const z=k1+i,E=z+r,D=function IA(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:lt);return n}(z,E),k="function"==typeof y?y():y;return D[m1]={type:t,blueprint:D,template:n,queries:null,viewQuery:h,declTNode:e,data:D.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:p,consts:k,incompleteFirstPass:!1,ssrId:w}}let Sv=t=>null;function Lv(t,e,n,i){for(let r in t)if(t.hasOwnProperty(r)){n=null===n?{}:n;const o=t[r];null===i?Hv(n,e,r,o):i.hasOwnProperty(r)&&Hv(n,e,i[r],o)}return n}function Hv(t,e,n,i){t.hasOwnProperty(n)?t[n].push(e,i):t[n]=[e,i]}function jr(t,e,n,i,r,o,u,h){const p=Vi(e,n);let w,y=e.inputs;!h&&null!=y&&(w=y[i])?(Bf(t,n,w,i,r),Li(e)&&function UA(t,e){const n=bn(e,t);16&n[et]||(n[et]|=64)}(n,e.index)):3&e.type&&(i=function jA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=u?u(r,e.value||"",i):r,o.setProperty(p,i,r))}function Nf(t,e,n,i){if(E0()){const r=null===i?null:{"":-1},o=function XA(t,e){const n=t.directiveRegistry;let i=null,r=null;if(n)for(let o=0;o<n.length;o++){const u=n[o];if(lr(e,u.selectors,!1))if(i||(i=[]),ci(u))if(null!==u.findHostDirectiveDefs){const h=[];r=r||new Map,u.findHostDirectiveDefs(u,h,r),i.unshift(...h,u),Of(t,e,h.length)}else i.unshift(u),Of(t,e,0);else r=r||new Map,u.findHostDirectiveDefs?.(u,i,r),i.push(u)}return null===i?null:[i,r]}(t,n);let u,h;null===o?u=h=null:[u,h]=o,null!==u&&Vv(t,e,n,u,r,h),r&&function KA(t,e,n){if(e){const i=t.localNames=[];for(let r=0;r<e.length;r+=2){const o=n[e[r+1]];if(null==o)throw new qe(-301,!1);i.push(e[r],o)}}}(n,i,r)}n.mergedAttrs=Sa(n.mergedAttrs,n.attrs)}function Vv(t,e,n,i,r,o){for(let y=0;y<i.length;y++)Kc(Yc(n,e),t,i[y].type);!function JA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,i.length);for(let y=0;y<i.length;y++){const w=i[y];w.providersResolver&&w.providersResolver(w)}let u=!1,h=!1,p=P8(t,e,i.length,null);for(let y=0;y<i.length;y++){const w=i[y];n.mergedAttrs=Sa(n.mergedAttrs,w.hostAttrs),eI(t,n,e,p,w),QA(p,w,r),null!==w.contentQueries&&(n.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(n.flags|=64);const z=w.type.prototype;!u&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!h&&(z.ngOnChanges||z.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}!function $A(t,e,n){const r=e.directiveEnd,o=t.data,u=e.attrs,h=[];let p=null,y=null;for(let w=e.directiveStart;w<r;w++){const z=o[w],E=n?n.get(z):null,k=E?E.outputs:null;p=Lv(z.inputs,w,p,E?E.inputs:null),y=Lv(z.outputs,w,y,k);const B=null===p||null===u||qn(e)?null:iI(p,w,u);h.push(B)}null!==p&&(p.hasOwnProperty("class")&&(e.flags|=8),p.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=h,e.inputs=p,e.outputs=y}(t,n,o)}function Ev(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,u=function Tu(){return X1.lFrame.currentDirectiveIndex}();try{Pa(o);for(let h=i;h<r;h++){const p=t.data[h],y=e[h];Da(h),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&YA(p,y)}}finally{Pa(-1),Da(u)}}function YA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Of(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function QA(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ci(e)&&(n[""]=t)}}function eI(t,e,n,i,r){t.data[i]=r;const o=r.factory||(r.factory=Ie(r.type)),u=new Eo(o,ci(r),V1);t.blueprint[i]=u,n[i]=u,function GA(t,e,n,i,r){const o=r.hostBindings;if(o){let u=t.hostBindingOpCodes;null===u&&(u=t.hostBindingOpCodes=[]);const h=~e.index;(function ZA(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(u)!=h&&u.push(h),u.push(n,i,o)}}(t,e,i,P8(t,n,r.hostVars,lt),r)}function ja(t,e,n,i,r,o){const u=Vi(t,e);!function Rf(t,e,n,i,r,o,u){if(null==o)t.removeAttribute(e,r,n);else{const h=null==u?W1(o):u(o,i||"",r);t.setAttribute(e,r,h,n)}}(e[_1],u,o,t.value,n,i,r)}function nI(t,e,n,i,r,o){const u=o[e];if(null!==u)for(let h=0;h<u.length;)Tv(i,n,u[h++],u[h++],u[h++])}function Tv(t,e,n,i,r){const o=$1(null);try{const u=t.inputTransforms;null!==u&&u.hasOwnProperty(i)&&(r=u[i].call(e,r)),null!==t.setInput?t.setInput(e,r,n,i):e[i]=r}finally{$1(o)}}function iI(t,e,n){let i=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===i&&(i=[]);const u=t[o];for(let h=0;h<u.length;h+=2)if(u[h]===e){i.push(o,u[h+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Dv(t,e,n,i){return[t,!0,!1,e,null,0,i,n,null,null,null]}function Pv(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const u=t.data[o];xs(n[i]),u.contentQueries(2,e[o],o)}}}function v7(t,e){return t[r3]?t[ps][j2]=e:t[r3]=e,t[ps]=e,e}function Ff(t,e,n){xs(0);const i=$1(null);try{e(t,n)}finally{$1(i)}}function Av(t){return t[fr]||(t[fr]=[])}function Iv(t){return t.cleanup||(t.cleanup=[])}function Nv(t,e){const n=t[Tr],i=n?n.get(D4,null):null;i&&i.handleError(e)}function Bf(t,e,n,i,r){for(let o=0;o<n.length;){const u=n[o++],h=n[o++];Tv(t.data[u],e[u],i,h,r)}}function rI(t,e){const n=bn(e,t),i=n[m1];!function aI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n);const r=n[e2];null!==r&&null===n[oi]&&(n[oi]=Cf(r,n[Tr])),$f(i,n,n[l2])}function $f(t,e,n){Ms(e);try{const i=t.viewQuery;null!==i&&Ff(1,i,n);const r=t.template;null!==r&&wv(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pv(t,e),t.staticViewQueries&&Ff(2,t.viewQuery,n);const o=t.components;null!==o&&function sI(t,e){for(let n=0;n<e.length;n++)rI(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[et]&=-5,Ho()}}let Ov=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(i,r,o){const u=typeof Zone>"u"?null:Zone.current,h=function $3(t,e,n){const i=Object.create(Hi);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;const r=u=>{i.cleanupFn=u};return i.ref={notify:()=>Q1(i),run:()=>{if(i.dirty=!1,i.hasRun&&!At(i))return;i.hasRun=!0;const u=at(i);try{i.cleanupFn(),i.cleanupFn=Wi,i.fn(r)}finally{Zt(i,u)}},cleanup:()=>i.cleanupFn()},i.ref}(i,w=>{this.all.has(w)&&this.queue.set(w,u)},o);let p;this.all.add(h),h.notify();const y=()=>{h.cleanup(),p?.(),this.all.delete(h),this.queue.delete(h)};return p=r?.onDestroy(y),{destroy:y}}flush(){if(0!==this.queue.size)for(const[i,r]of this.queue)this.queue.delete(i),r?r.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=A1({token:t,providedIn:"root",factory:()=>new t}),e})();function y7(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let u=0;u<e.length;u++){const h=e[u];"number"==typeof h?o=h:1==o?r=i4(r,h):2==o&&(i=i4(i,h+": "+e[++u]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function A8(t,e,n,i,r=!1){for(;null!==n;){const o=e[n.index];null!==o&&i.push(Wt(o)),cn(o)&&Rv(o,i);const u=n.type;if(8&u)A8(t,e,n.child,i);else if(32&u){const h=y8(n,e);let p;for(;p=h();)i.push(p)}else if(16&u){const h=c1(e,n);if(Array.isArray(h))i.push(...h);else{const p=H4(e[p2]);A8(p[m1],p,h,i,!0)}}n=r?n.projectionNext:n.next}return i}function Rv(t,e){for(let n=x2;n<t.length;n++){const i=t[n],r=i[m1].firstChild;null!==r&&A8(i[m1],i,r,e)}t[vn]!==t[e2]&&e.push(t[vn])}function _7(t,e,n,i=!0){const r=e[q2],o=r.rendererFactory,u=r.afterRenderEventManager;o.begin?.(),u?.begin();try{Fv(t,e,t.template,n)}catch(p){throw i&&Nv(e,p),p}finally{o.end?.(),r.effectManager?.flush(),u?.end()}}function Fv(t,e,n,i){const r=e[et];if(256!=(256&r)){e[q2].effectManager?.flush(),Ms(e);try{H0(e),function l5(t){return X1.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&wv(t,e,n,2,i);const u=3==(3&r);if(u){const y=t.preOrderCheckHooks;null!==y&&Gc(e,y,null)}else{const y=t.preOrderHooks;null!==y&&Zc(e,y,0,null),B0(e,0)}if(function lI(t){for(let e=As(t);null!==e;e=p6(e)){if(!e[_o])continue;const n=e[Pt];for(let i=0;i<n.length;i++){i5(n[i])}}}(e),Bv(e,2),null!==t.contentQueries&&Pv(t,e),u){const y=t.contentCheckHooks;null!==y&&Gc(e,y)}else{const y=t.contentHooks;null!==y&&Zc(e,y,1),B0(e,1)}!function AA(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const i=yv(e,F3);try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Pa(~o);else{const u=o,h=n[++r],p=n[++r];A0(h,u),i.dirty=!1;const y=at(i);try{p(2,e[u])}finally{Zt(i,y)}}}}finally{null===e[F3]&&_v(e,F3),Pa(-1)}}(t,e);const h=t.components;null!==h&&jv(e,h,0);const p=t.viewQuery;if(null!==p&&Ff(2,p,i),u){const y=t.viewCheckHooks;null!==y&&Gc(e,y)}else{const y=t.viewHooks;null!==y&&Zc(e,y,2),B0(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[et]&=-73,r5(e)}finally{Ho()}}}function Bv(t,e){for(let n=As(t);null!==n;n=p6(n))for(let i=x2;i<n.length;i++)$v(n[i],e)}function uI(t,e,n){$v(bn(e,t),n)}function $v(t,e){if(!function Mo(t){return 128==(128&t[et])}(t))return;const n=t[m1],i=t[et];if(80&i&&0===e||1024&i||2===e)Fv(n,t,n.template,t[l2]);else if(t[Er]>0){Bv(t,1);const r=n.components;null!==r&&jv(t,r,1)}}function jv(t,e,n){for(let i=0;i<e.length;i++)uI(t,e[i],n)}class I8{get rootNodes(){const e=this._lView,n=e[m1];return A8(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[l2]}set context(e){this._lView[l2]=e}get destroyed(){return 256==(256&this._lView[et])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[dt];if(cn(e)){const n=e[8],i=n?n.indexOf(this):-1;i>-1&&(b(e,i),Io(n,i))}this._attachedToViewContainer=!1}M(this._lView[m1],this._lView)}onDestroy(e){!function _4(t,e){if(256==(256&t[et]))throw new qe(911,!1);null===t[H1]&&(t[H1]=[]),t[H1].push(e)}(this._lView,e)}markForCheck(){D8(this._cdRefInjectingView||this._lView)}detach(){this._lView[et]&=-129}reattach(){this._lView[et]|=128}detectChanges(){_7(this._lView[m1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function c(t,e){L1(t,e,e[_1],2,null,null)}(this._lView[m1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=e}}class fI extends I8{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;_7(e[m1],e,e[l2],!1)}checkNoChanges(){}get context(){return null}}class Uv extends h7{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ye(e);return new k8(n,this.ngModule)}}function qv(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class dI{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=cs(i);const r=this.injector.get(e,Mf,i);return r!==Mf||n===Mf?r:this.parentInjector.get(e,n,i)}}class k8 extends Xg{get inputs(){const e=this.componentDef,n=e.inputTransforms,i=qv(e.inputs);if(null!==n)for(const r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return qv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function C0(t){return t.map(Lr).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=(r=r||this.ngModule)instanceof d3?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const u=o?new dI(e,o):e,h=u.get(T8,null);if(null===h)throw new qe(407,!1);const z={rendererFactory:h,sanitizer:u.get(fA,null),effectManager:u.get(Ov,null),afterRenderEventManager:u.get(Tf,null)},E=h.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",k=i?function kA(t,e,n,i){const o=i.get(pv,!1)||n===Tn.ShadowDom,u=t.selectRootElement(e,o);return function NA(t){Sv(t)}(u),u}(E,i,this.componentDef.encapsulation,u):ks(E,D,function hI(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(D)),Z=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let F=null;null!==k&&(F=Cf(k,u,!0));const q=kf(0,null,null,1,0,null,null,null,null,null,null),ee=g7(null,q,null,Z,null,null,z,E,u,null,F);let ve,Ee;Ms(ee);try{const Te=this.componentDef;let Ve,me=null;Te.findHostDirectiveDefs?(Ve=[],me=new Map,Te.findHostDirectiveDefs(Te,Ve,me),Ve.push(Te)):Ve=[Te];const e1=function mI(t,e){const n=t[m1],i=k1;return t[i]=e,w6(n,i,2,"#host",null)}(ee,k),Oe=function gI(t,e,n,i,r,o,u){const h=r[m1];!function vI(t,e,n,i){for(const r of t)e.mergedAttrs=Sa(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(y7(e,e.mergedAttrs,!0),null!==n&&On(i,n,e))}(i,t,e,u);let p=null;null!==e&&(p=Cf(e,r[Tr]));const y=o.rendererFactory.createRenderer(e,n);let w=16;n.signals?w=4096:n.onPush&&(w=64);const z=g7(r,zv(n),null,w,r[t.index],t,o,y,null,null,p);return h.firstCreatePass&&Of(h,t,i.length-1),v7(r,z),r[t.index]=z}(e1,k,Te,Ve,ee,z,E);Ee=L0(q,k1),k&&function _I(t,e,n,i){if(i)us(t,n,["ng-version",hA.full]);else{const{attrs:r,classes:o}=function mo(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!zi(r))break;r=o}i++}return{attrs:e,classes:n}}(e.selectors[0]);r&&us(t,n,r),o&&o.length>0&&pi(t,n,o.join(" "))}}(E,Te,k,i),void 0!==n&&function CI(t,e,n){const i=t.projection=[];for(let r=0;r<e.length;r++){const o=n[r];i.push(null!=o?Array.from(o):null)}}(Ee,this.ngContentSelectors,n),ve=function yI(t,e,n,i,r,o){const u=In(),h=r[m1],p=Vi(u,r);Vv(h,r,u,n,null,i);for(let w=0;w<n.length;w++)Wn(Aa(r,h,u.directiveStart+w,u),r);Ev(h,r,u),p&&Wn(p,r);const y=Aa(r,h,u.directiveStart+u.componentOffset,u);if(t[l2]=r[l2]=y,null!==o)for(const w of o)w(y,e);return Pf(h,u,t),y}(Oe,Te,Ve,me,ee,[bI]),$f(q,ee,null)}finally{Ho()}return new pI(this.componentType,ve,C6(Ee,ee),ee,Ee)}}class pI extends aA{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fI(r),this.componentType=e}setInput(e,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Bf(o[m1],o,r,e,n),this.previousInputValues.set(e,n),D8(bn(this._tNode.index,o))}}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bI(){const t=In();qc(Ze()[m1],t)}function b7(t){return!!jf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function jf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ua(t,e,n){return t[e]=n}function Ti(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function M7(t,e,n,i){const r=Ze();return Ti(r,bs(),e)&&(bt(),ja(Yt(),r,t,e,n,i)),M7}function L7(t,e,n,i,r,o,u,h){const p=Ze(),y=bt(),w=t+k1,z=y.firstCreatePass?function XI(t,e,n,i,r,o,u,h,p){const y=e.consts,w=w6(e,t,4,u||null,Nr(y,h));Nf(e,n,w,Nr(y,p)),qc(e,w);const z=w.tView=kf(2,w,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,y,null);return null!==e.queries&&(e.queries.template(e,w),z.queries=e.queries.embeddedTView(w)),w}(w,y,p,e,n,i,r,o,u):y.data[w];s3(z,!1);const E=uy(y,p,z,t);Vo()&&y1(y,p,E,z),Wn(E,p),v7(p,p[w]=Dv(E,p,E,z)),Ta(z)&&Af(y,p,z),null!=u&&If(p,z,h)}let uy=function fy(t,e,n,i){return G3(!0),e[_1].createComment("")};function n1(t,e,n){const i=Ze();return Ti(i,bs(),e)&&jr(bt(),Yt(),i,t,e,i[_1],n,!1),n1}function Yf(t,e,n,i,r){const u=r?"class":"style";Bf(t,n,e.inputs[u],u,i)}function Se(t,e,n,i){const r=Ze(),o=bt(),u=k1+t,h=r[_1],p=o.firstCreatePass?function tk(t,e,n,i,r,o){const u=e.consts,p=w6(e,t,2,i,Nr(u,r));return Nf(e,n,p,Nr(u,o)),null!==p.attrs&&y7(p,p.attrs,!1),null!==p.mergedAttrs&&y7(p,p.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,p),p}(u,o,r,e,n,i):o.data[u],y=hy(o,r,p,h,e,t);r[u]=y;const w=Ta(p);return s3(p,!0),On(h,y,p),32!=(32&p.flags)&&Vo()&&y1(o,r,y,p),0===function Bc(){return X1.lFrame.elementDepthCount}()&&Wn(y,r),function Hu(){X1.lFrame.elementDepthCount++}(),w&&(Af(o,r,p),Pf(o,p,r)),null!==i&&If(r,p),Se}function De(){let t=In();So()?ys():(t=t.parent,s3(t,!1));const e=t;(function Vu(t){return X1.skipHydrationRootTNode===t})(e)&&function wo(){X1.skipHydrationRootTNode=null}(),function a5(){X1.lFrame.elementDepthCount--}();const n=bt();return n.firstCreatePass&&(qc(n,t),m4(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Nu(t){return 0!=(8&t.flags)}(e)&&Yf(n,e,Ze(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Ou(t){return 0!=(16&t.flags)}(e)&&Yf(n,e,Ze(),e.stylesWithoutHost,!1),De}function p1(t,e,n,i){return Se(t,e,n,i),De(),p1}let hy=(t,e,n,i,r,o)=>(G3(!0),ks(i,r,function jc(){return X1.lFrame.currentNamespace}()));function Qf(){return Ze()}function H7(t){return!!t&&"function"==typeof t.then}function my(t){return!!t&&"function"==typeof t.subscribe}function gi(t,e,n,i){const r=Ze(),o=bt(),u=In();return function vy(t,e,n,i,r,o,u){const h=Ta(i),y=t.firstCreatePass&&Iv(t),w=e[l2],z=Av(e);let E=!0;if(3&i.type||u){const B=Vi(i,e),j=u?u(B):B,Z=z.length,F=u?ee=>u(Wt(ee[i.index])):i.index;let q=null;if(!u&&h&&(q=function ok(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const u=r[o];if(u===n&&r[o+1]===i){const h=e[fr],p=r[o+2];return h.length>p?h[p]:null}"string"==typeof u&&(o+=2)}return null}(t,e,r,i.index)),null!==q)(q.__ngLastListenerFn__||q).__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,E=!1;else{o=_y(i,e,w,o,!1);const ee=n.listen(j,r,o);z.push(o,ee),y&&y.push(r,F,Z,Z+1)}}else o=_y(i,e,w,o,!1);const D=i.outputs;let k;if(E&&null!==D&&(k=D[r])){const B=k.length;if(B)for(let j=0;j<B;j+=2){const ve=e[k[j]][k[j+1]].subscribe(o),Ee=z.length;z.push(o,ve),y&&y.push(r,i.index,Ee,-(Ee+1))}}}(o,r,r[_1],u,t,e,i),gi}function yy(t,e,n,i){try{return pr(6,e,n),!1!==n(i)}catch(r){return Nv(t,r),!1}finally{pr(7,e,n)}}function _y(t,e,n,i,r){return function o(u){if(u===Function)return i;D8(t.componentOffset>-1?bn(t.index,e):e);let p=yy(e,n,i,u),y=o.__ngNextListenerFn__;for(;y;)p=yy(e,n,y,u)&&p,y=y.__ngNextListenerFn__;return r&&!1===p&&u.preventDefault(),p}}function A6(t=1){return function O0(t){return(X1.lFrame.contextLView=function h5(t,e){for(;t>0;)e=e[O3],t--;return e}(t,X1.lFrame.contextLView))[l2]}(t)}function ck(t,e){let n=null;const i=function Ic(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?lr(t,o,!0):fs(i,o))return r}else n=r}return n}function Qe(t,e=""){const n=Ze(),i=bt(),r=t+k1,o=i.firstCreatePass?w6(i,r,1,e,null):i.data[r],u=Gy(i,n,o,e,t);n[r]=u,Vo()&&y1(i,n,u,o),s3(o,!1)}let Gy=(t,e,n,i,r)=>(G3(!0),function V4(t,e){return t.createText(e)}(e[_1],i));function ah(t,e,n){const i=Ze();return Ti(i,bs(),e)&&jr(bt(),Yt(),i,t,e,i[_1],n,!0),ah}const N6="en-US";let p_=N6;class Ko{}class F_{}class hh extends Ko{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uv(this);const r=Pn(e);this._bootstrapComponents=P4(r.bootstrap),this._r3Injector=nv(e,n,[{provide:Ko,useValue:this},{provide:h7,useValue:this.componentFactoryResolver},...i],$t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class dh extends F_{constructor(e){super(),this.moduleType=e}create(e){return new hh(this.moduleType,e,[])}}class B_ extends Ko{constructor(e){super(),this.componentFactoryResolver=new Uv(this),this.instance=null;const n=new a7([...e.providers,{provide:Ko,useValue:this},{provide:h7,useValue:this.componentFactoryResolver}],e.parent||r7(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ph(t,e,n=null){return new B_({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let tO=(()=>{var t;class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const r=Rg(0,i.type),o=r.length>0?ph([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=A1({token:t,providedIn:"environment",factory:()=>new t(w1(d3))}),e})();function $_(t){t.getStandaloneInjector=e=>e.get(tO).getOrCreateStandaloneInjector(t)}function Ht(t,e,n){const i=ui()+t,r=Ze();return r[i]===lt?Ua(r,i,n?e.call(n):e()):function N8(t,e){return t[e]}(r,i)}function gh(t,e,n,i){return function Y_(t,e,n,i,r,o){const u=e+n;return Ti(t,u,r)?Ua(t,u+1,o?i.call(o,r):i(r)):function Z8(t,e){const n=t[e];return n===lt?void 0:n}(t,u+1)}(Ze(),ui(),t,e,n,i)}function zO(){return this._results[Symbol.iterator]()}class vh{get changes(){return this._changes||(this._changes=new Xi)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=vh.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=zO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const i=this;i.dirty=!1;const r=function mr(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ju(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function LO(t,e,n,i=!0){const r=e[m1];if(function l(t,e,n,i){const r=x2+i,o=n.length;i>0&&(n[r-1][j2]=e),i<o-x2?(e[j2]=n[r],K0(n,x2+i,e)):(n.push(e),e[j2]=null),e[dt]=n;const u=e[Va];null!==u&&n!==u&&function d(t,e){const n=t[Pt];e[p2]!==e[dt][dt][p2]&&(t[_o]=!0),null===n?t[Pt]=[e]:n.push(e)}(u,e);const h=e[t2];null!==h&&h.insertView(t),e[et]|=128}(r,e,t,n),i){const o=i1(n,t),u=e[_1],h=ue(u,t[vn]);null!==h&&function Ju(t,e,n,i,r,o){i[e2]=r,i[U2]=e,L1(t,i,n,1,r,o)}(r,t[U2],u,e,h,o)}}let I4=(()=>{class e{}return e.__NG_ELEMENT_ID__=EO,e})();const HO=I4,VO=class extends HO{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){const r=function SO(t,e,n,i){const r=e.tView,h=g7(t,r,n,4096&t[et]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);h[Va]=t[e.index];const y=t[t2];return null!==y&&(h[t2]=y.createEmbeddedView(r)),$f(r,h,n),h}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:i});return new I8(r)}};function EO(){return I7(In(),Ze())}function I7(t,e){return 4&t.type?new VO(e,t,C6(t,e)):null}let na=(()=>{class e{}return e.__NG_ELEMENT_ID__=kO,e})();function kO(){return sC(In(),Ze())}const NO=na,rC=class extends NO{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return C6(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xc(this._hostTNode,this._hostLView);if(To(e)){const n=Do(e,this._hostLView),i=W3(e);return new hi(n[m1].data[i+8],n)}return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=aC(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-x2}createEmbeddedView(e,n,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const h=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(h,r,false),h}createComponent(e,n,i,r,o){const u=e&&!function w4(t){return"function"==typeof t}(e);let h;if(u)h=n;else{const B=n||{};h=B.index,i=B.injector,r=B.projectableNodes,o=B.environmentInjector||B.ngModuleRef}const p=u?e:new k8(Ye(e)),y=i||this.parentInjector;if(!o&&null==p.ngModule){const j=(u?y:this.parentInjector).get(d3,null);j&&(o=j)}Ye(p.componentType??{});const D=p.create(y,r,null,o);return this.insertImpl(D.hostView,h,false),D}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,i){const r=e._lView;if(function Fc(t){return cn(t[dt])}(r)){const p=this.indexOf(e);if(-1!==p)this.detach(p);else{const y=r[dt],w=new rC(y,y[U2],y[dt]);w.detach(w.indexOf(e))}}const u=this._adjustIndex(n),h=this._lContainer;return LO(h,r,u,!i),e.attachToViewContainerRef(),K0(yh(h),u,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=aC(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),i=b(this._lContainer,n);i&&(Io(yh(this._lContainer),n),M(i[m1],i))}detach(e){const n=this._adjustIndex(e,-1),i=b(this._lContainer,n);return i&&null!=Io(yh(this._lContainer),n)?new I8(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function aC(t){return t[8]}function yh(t){return t[8]||(t[8]=[])}function sC(t,e){let n;const i=e[t.index];return cn(i)?n=i:(n=Dv(i,e,null,t),e[t.index]=n,v7(e,n)),oC(n,e,t,i),new rC(n,t,e)}let oC=function cC(t,e,n,i){if(t[vn])return;let r;r=8&n.type?Wt(i):function OO(t,e){const n=t[_1],i=n.createComment(""),r=Vi(e,t);return U(n,ue(n,r),i,function be(t,e){return t.nextSibling(e)}(n,r),!1),i}(e,n),t[vn]=r};class _h{constructor(e){this.queryList=e,this.matches=null}clone(){return new _h(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ch{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){const u=n.getByIndex(o);r.push(this.queries[u.indexInDeclarationView].clone())}return new Ch(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==pC(e,n).matches&&this.queries[n].setDirty()}}class lC{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}}class bh{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new bh(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class xh{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new xh(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,n,BO(n,o)),this.matchTNodeWithReadOption(e,n,Jc(n,e,o,!1,!1))}else i===I4?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Jc(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===vr||r===na||r===I4&&4&n.type)this.addMatch(n.index,-2);else{const o=Jc(n,e,r,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function BO(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function jO(t,e,n,i){return-1===n?function $O(t,e){return 11&t.type?C6(t,e):4&t.type?I7(t,e):null}(e,t):-2===n?function UO(t,e,n){return n===vr?C6(e,t):n===I4?I7(e,t):n===na?sC(e,t):void 0}(t,e,i):Aa(t,t[m1],n,e)}function uC(t,e,n,i){const r=e[t2].queries[i];if(null===r.matches){const o=t.data,u=n.matches,h=[];for(let p=0;p<u.length;p+=2){const y=u[p];h.push(y<0?null:jO(e,o[y],u[p+1],n.metadata.read))}r.matches=h}return r.matches}function Mh(t,e,n,i){const r=t.queries.getByIndex(n),o=r.matches;if(null!==o){const u=uC(t,e,r,n);for(let h=0;h<o.length;h+=2){const p=o[h];if(p>0)i.push(u[h/2]);else{const y=o[h+1],w=e[-p];for(let z=x2;z<w.length;z++){const E=w[z];E[Va]===E[dt]&&Mh(E[m1],E,y,i)}if(null!==w[Pt]){const z=w[Pt];for(let E=0;E<z.length;E++){const D=z[E];Mh(D[m1],D,y,i)}}}}}return i}function Y8(t){const e=Ze(),n=bt(),i=g2();xs(i+1);const r=pC(n,i);if(t.dirty&&function Lu(t){return 4==(4&t[et])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?Mh(n,e,i,[]):uC(n,e,r,i);t.reset(o,lA),t.notifyOnChanges()}return!0}return!1}function N7(t,e,n){const i=bt();i.firstCreatePass&&(function dC(t,e,n){null===t.queries&&(t.queries=new bh),t.queries.track(new xh(e,n))}(i,new lC(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),function hC(t,e,n){const i=new vh(4==(4&n));(function FA(t,e,n,i){const r=Av(e);r.push(n),t.firstCreatePass&&Iv(t).push(i,r.length-1)})(t,e,i,i.destroy),null===e[t2]&&(e[t2]=new Ch),e[t2].queries.push(new _h(i))}(i,Ze(),e)}function X8(){return function qO(t,e){return t[t2].queries[e].queryList}(Ze(),g2())}function pC(t,e){return t.queries.getByIndex(e)}const Vh=new j1("Application Initializer");let Eh=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=z1(Vh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const o of this.appInits){const u=o();if(H7(u))i.push(u);else if(my(u)){const h=new Promise((p,y)=>{u.subscribe({complete:p,error:y})});i.push(h)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),0===i.length&&r(),this.initialized=!0}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),TC=(()=>{var t;class e{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const k4=new j1("LocaleId",{providedIn:"root",factory:()=>z1(k4,ot.Optional|ot.SkipSelf)||function pR(){return typeof $localize<"u"&&$localize.locale||N6}()});let DC=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _t(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class vR{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let PC=(()=>{var t;class e{compileModuleSync(i){return new dh(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const r=this.compileModuleSync(i),u=P4(Pn(i).declarations).reduce((h,p)=>{const y=Ye(p);return y&&h.push(new k8(y)),h},[]);return new vR(r,u)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const NC=new j1(""),F7=new j1("");let Ih,Ph=(()=>{var t;class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ih||(function NR(t){Ih=t}(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{r2.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(i)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==u),i(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:i,timeoutId:u,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(r2),w1(Ah),w1(F7))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})(),Ah=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return Ih?.findTestabilityInTree(this,i,r)??null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Os=null;const OC=new j1("AllowMultipleToken"),kh=new j1("PlatformDestroyListeners"),Nh=new j1("appBootstrapListener");class FC{constructor(e,n){this.name=e,this.token=n}}function $C(t,e,n=[]){const i=`Platform: ${e}`,r=new j1(i);return(o=[])=>{let u=Oh();if(!u||u.injector.get(OC,!1)){const h=[...n,...o,{provide:r,useValue:!0}];t?t(h):function FR(t){if(Os&&!Os.get(OC,!1))throw new qe(400,!1);(function RC(){!function m2(t){Cn=t}(()=>{throw new qe(600,!1)})})(),Os=t;const e=t.get(UC);(function BC(t){t.get(Ug,null)?.forEach(n=>n())})(t)}(function jC(t=[],e){return $r.create({name:e,providers:[{provide:lf,useValue:"platform"},{provide:kh,useValue:new Set([()=>Os=null])},...t]})}(h,i))}return function $R(t){const e=Oh();if(!e)throw new qe(401,!1);return e}()}}function Oh(){return Os?.get(UC)??null}let UC=(()=>{var t;class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){const o=function jR(t="zone.js",e){return"noop"===t?new wA:"zone.js"===t?new r2(e):t}(r?.ngZone,function qC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const u=function eO(t,e,n){return new hh(t,e,n)}(i.moduleType,this.injector,function XC(t){return[{provide:r2,useFactory:t},{provide:H8,multi:!0,useFactory:()=>{const e=z1(qR,{optional:!0});return()=>e.initialize()}},{provide:YC,useFactory:UR},{provide:ov,useFactory:cv}]}(()=>o)),h=u.injector.get(D4,null);return o.runOutsideAngular(()=>{const p=o.onError.subscribe({next:y=>{h.handleError(y)}});u.onDestroy(()=>{B7(this._modules,u),p.unsubscribe()})}),function GC(t,e,n){try{const i=n();return H7(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(h,o,()=>{const p=u.injector.get(Eh);return p.runInitializers(),p.donePromise.then(()=>(function m_(t){En(t,"Expected localeId to be defined"),"string"==typeof t&&(p_=t.toLowerCase().replace(/_/g,"-"))}(u.injector.get(k4,N6)||N6),this._moduleDoBootstrap(u),u))})})}bootstrapModule(i,r=[]){const o=ZC({},r);return function OR(t,e,n){const i=new dh(n);return Promise.resolve(i)}(0,0,i).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(i){const r=i.injector.get(Qo);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!i.instance.ngDoBootstrap)throw new qe(-403,!1);i.instance.ngDoBootstrap(r)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const i=this._injector.get(kh,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(i){return new(i||t)(w1($r))},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function ZC(t,e){return Array.isArray(e)?e.reduce(ZC,t):{...t,...e}}let Qo=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z1(YC),this.zoneIsStable=z1(ov),this.componentTypes=[],this.components=[],this.isStable=z1(DC).hasPendingTasks.pipe(sn(i=>i?Z1(!1):this.zoneIsStable),function _c(t,e=k2){return t=t??to,Ft((n,i)=>{let r,o=!0;n.subscribe(Vt(i,u=>{const h=e(u);(o||!t(r,h))&&(o=!1,r=h,i.next(u))}))})}(),ii()),this._injector=z1(d3)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){const o=i instanceof Xg;if(!this._injector.get(Eh).done)throw!o&&function Ha(t){const e=Ye(t)||O2(t)||on(t);return null!==e&&e.standalone}(i),new qe(405,!1);let h;h=o?i:this._injector.get(h7).resolveComponentFactory(i),this.componentTypes.push(h.componentType);const p=function RR(t){return t.isBoundToModule}(h)?void 0:this._injector.get(Ko),w=h.create($r.NULL,[],r||h.selector,p),z=w.location.nativeElement,E=w.injector.get(NC,null);return E?.registerApplication(z),w.onDestroy(()=>{this.detachView(w.hostView),B7(this.components,w),E?.unregisterApplication(z)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){const r=i;B7(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const r=this._injector.get(Nh,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>B7(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new qe(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function B7(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const YC=new j1("",{providedIn:"root",factory:()=>z1(D4).handleError.bind(void 0)});function UR(){const t=z1(r2),e=z1(D4);return n=>t.runOutsideAngular(()=>e.handleError(n))}let qR=(()=>{var t;class e{constructor(){this.zone=z1(r2),this.applicationRef=z1(Qo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Rh=(()=>{class e{}return e.__NG_ELEMENT_ID__=ZR,e})();function ZR(t){return function WR(t,e,n){if(Li(t)&&!n){const i=bn(t.index,e);return new I8(i,i)}return 47&t.type?new I8(e[p2],e):null}(In(),Ze(),16==(16&t))}class eb{constructor(){}supports(e){return b7(e)}create(e){return new eF(e)}}const JR=(t,e)=>e;class eF{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||JR}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const u=!i||n&&n.currentIndex<nb(i,r,o)?n:i,h=nb(u,r,o),p=u.currentIndex;if(u===i)r--,i=i._nextRemoved;else if(n=n._next,null==u.previousIndex)r++;else{o||(o=[]);const y=h-r,w=p-r;if(y!=w){for(let E=0;E<y;E++){const D=E<o.length?o[E]:o[E]=0,k=D+E;w<=k&&k<y&&(o[E]=D+1)}o[u.previousIndex]=w-y}}h!==p&&e(u,h,p)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!b7(e))throw new qe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,u,n=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let h=0;h<this.length;h++)o=e[h],u=this._trackByFn(h,o),null!==n&&Object.is(n.trackById,u)?(i&&(n=this._verifyReinsertion(n,o,u,h)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,u,h),i=!0),n=n._next}else r=0,function DI(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let i;for(;!(i=n.next()).done;)e(i.value)}}(e,h=>{u=this._trackByFn(r,h),null!==n&&Object.is(n.trackById,u)?(i&&(n=this._verifyReinsertion(n,h,u,r)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,u,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new tF(n,i),o,r),e}_verifyReinsertion(e,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){const r=null===n?this._itHead:n._next;return e._next=r,e._prev=n,null===r?this._itTail=e:r._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new tb),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tb),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class tF{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nF{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class tb{constructor(){this.map=new Map}put(e){const n=e.trackById;let i=this.map.get(n);i||(i=new nF,this.map.set(n,i)),i.add(e)}get(e,n){const r=this.map.get(e);return r?r.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nb(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class ib{constructor(){}supports(e){return e instanceof Map||jf(e)}create(){return new iF}}class iF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||jf(e)))throw new qe(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,n);const o=r._prev,u=r._next;return o&&(o._next=u),u&&(u._prev=o),r._next=null,r._prev=null,r}const i=new rF(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}}class rF{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rb(){return new U7([new eb])}let U7=(()=>{var t;class e{constructor(i){this.factories=i}static create(i,r){if(null!=r){const o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||rb()),deps:[[e,new Yi,new No]]}}find(i){const r=this.factories.find(o=>o.supports(i));if(null!=r)return r;throw new qe(901,!1)}}return(t=e).\u0275prov=A1({token:t,providedIn:"root",factory:rb}),e})();function ab(){return new J8([new ib])}let J8=(()=>{var t;class e{constructor(i){this.factories=i}static create(i,r){if(r){const o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||ab()),deps:[[e,new Yi,new No]]}}find(i){const r=this.factories.find(o=>o.supports(i));if(r)return r;throw new qe(901,!1)}}return(t=e).\u0275prov=A1({token:t,providedIn:"root",factory:ab}),e})();const oF=$C(null,"core",[]);let cF=(()=>{var t;class e{constructor(i){}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Qo))},t.\u0275mod=f1({type:t}),t.\u0275inj=ai({}),e})(),Gh=null;function F6(){return Gh}class xF{}const Bn=new j1("DocumentToken");let Zh=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:function(){return z1(wF)},providedIn:"platform"}),e})();const MF=new j1("Location Initialized");let wF=(()=>{var t;class e extends Zh{constructor(){super(),this._doc=z1(Bn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F6().getBaseHref(this._doc)}onPopState(i){const r=F6().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=F6().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function Wh(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function pb(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function N4(t){return t&&"?"!==t[0]?"?"+t:t}let ec=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:function(){return z1(gb)},providedIn:"root"}),e})();const mb=new j1("appBaseHref");let gb=(()=>{var t;class e extends ec{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z1(Bn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Wh(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+N4(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,u){const h=this.prepareExternalUrl(o+N4(u));this._platformLocation.pushState(i,r,h)}replaceState(i,r,o,u){const h=this.prepareExternalUrl(o+N4(u));this._platformLocation.replaceState(i,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Zh),w1(mb,8))},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zF=(()=>{var t;class e extends ec{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=Wh(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,u){let h=this.prepareExternalUrl(o+N4(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(i,r,h)}replaceState(i,r,o,u){let h=this.prepareExternalUrl(o+N4(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Zh),w1(mb,8))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})(),Yh=(()=>{var t;class e{constructor(i){this._subject=new Xi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function HF(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(pb(vb(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+N4(r))}normalize(i){return e.stripTrailingSlash(function LF(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,vb(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+N4(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+N4(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}}return(t=e).normalizeQueryParams=N4,t.joinWithSlash=Wh,t.stripTrailingSlash=pb,t.\u0275fac=function(i){return new(i||t)(w1(ec))},t.\u0275prov=A1({token:t,factory:function(){return function SF(){return new Yh(w1(ec))}()},providedIn:"root"}),e})();function vb(t){return t.replace(/\/index.html$/,"")}const ad=/\s+/,Sb=[];let n9=(()=>{var t;class e{constructor(i,r,o,u){this._iterableDiffers=i,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this.initialClasses=Sb,this.stateMap=new Map}set klass(i){this.initialClasses=null!=i?i.trim().split(ad):Sb}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(ad):i}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const r of i)this._updateState(r,!0);else if(null!=i)for(const r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){const o=this.stateMap.get(i);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){(i=i.trim()).length>0&&i.split(ad).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(U7),V1(J8),V1(vr),V1(b6))},t.\u0275dir=jt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class pB{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sd=(()=>{var t;class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const r=this._viewContainer;i.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new pB(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,h),Hb(p,o)}});for(let o=0,u=r.length;o<u;o++){const p=r.get(o).context;p.index=o,p.count=u,p.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{Hb(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(i,r){return!0}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(na),V1(I4),V1(U7))},t.\u0275dir=jt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Hb(t,e){t.context.$implicit=e.item}let Vb=(()=>{var t;class e{constructor(i,r){this._viewContainer=i,this._context=new mB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Eb("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Eb("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(na),V1(I4))},t.\u0275dir=jt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class mB{constructor(){this.$implicit=null,this.ngIf=null}}function Eb(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${$t(e)}'.`)}let Pb=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=f1({type:t}),t.\u0275inj=ai({}),e})();function Ib(t){return"server"===t}let jB=(()=>{var t;class e{}return(t=e).\u0275prov=A1({token:t,providedIn:"root",factory:()=>new UB(w1(Bn),window)}),e})();class UB{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function qB(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class m$ extends xF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dd extends m${static makeCurrent(){!function bF(t){Gh||(Gh=t)}(new dd)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function g$(){return il=il||document.querySelector("base"),il?il.getAttribute("href"):null}();return null==n?null:function v$(t){a9=a9||document.createElement("a"),a9.setAttribute("href",t);const e=a9.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){il=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hB(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let a9,il=null,_$=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();const pd=new j1("EventManagerPlugins");let Fb=(()=>{var t;class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(u=>u.supports(i)),!r)throw new qe(5101,!1);return this._eventNameToPlugin.set(i,r),r}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(pd),w1(r2))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();class Bb{constructor(e){this._doc=e}}const md="ng-app-id";let $b=(()=>{var t;class e{constructor(i,r,o,u={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ib(u),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${md}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){const o=this.styleRef;if(o.has(i)){const u=o.get(i);return u.usage+=r,u.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===i)return o.delete(r),u.removeAttribute(md),u;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=r,this.platformIsServer&&h.setAttribute(md,this.appId),h}}addStyleToHost(i,r){const o=this.getStyleElement(i,r);i.appendChild(o);const u=this.styleRef,h=u.get(r)?.elements;h?h.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Bn),w1(s7),w1(Gg,8),w1(v6))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();const gd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vd=/%COMP%/g,M$=new j1("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ub(t,e){return e.map(n=>n.replace(vd,t))}let yd=(()=>{var t;class e{constructor(i,r,o,u,h,p,y,w=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=h,this.platformId=p,this.ngZone=y,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Ib(p),this.defaultRenderer=new _d(i,h,y,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tn.ShadowDom&&(r={...r,encapsulation:Tn.Emulated});const o=this.getOrCreateRenderer(i,r);return o instanceof Gb?o.applyToHost(i):o instanceof Cd&&o.applyStyles(),o}getOrCreateRenderer(i,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const h=this.doc,p=this.ngZone,y=this.eventManager,w=this.sharedStylesHost,z=this.removeStylesOnCompDestroy,E=this.platformIsServer;switch(r.encapsulation){case Tn.Emulated:u=new Gb(y,w,r,this.appId,z,h,p,E);break;case Tn.ShadowDom:return new L$(y,w,i,r,h,p,this.nonce,E);default:u=new Cd(y,w,r,z,h,p,E)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Fb),w1($b),w1(s7),w1(M$),w1(Bn),w1(v6),w1(r2),w1(Gg))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();class _d{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qb(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(qb(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new qe(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const o=gd[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=gd[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(di.DashCase|di.Important)?e.style.setProperty(n,i,r&di.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&di.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){if("string"==typeof e&&!(e=F6().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function qb(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class L$ extends _d{constructor(e,n,i,r,o,u,h,p){super(e,o,u,p),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=Ub(r.id,r.styles);for(const w of y){const z=document.createElement("style");h&&z.setAttribute("nonce",h),z.textContent=w,this.shadowRoot.appendChild(z)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cd extends _d{constructor(e,n,i,r,o,u,h,p){super(e,o,u,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=p?Ub(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Gb extends Cd{constructor(e,n,i,r,o,u,h,p){const y=r+"-"+i.id;super(e,n,i,o,u,h,p,y),this.contentAttr=function w$(t){return"_ngcontent-%COMP%".replace(vd,t)}(y),this.hostAttr=function z$(t){return"_nghost-%COMP%".replace(vd,t)}(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}let H$=(()=>{var t;class e extends Bb{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Bn))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();const Zb=["alt","control","meta","shift"],V$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E$={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let T$=(()=>{var t;class e extends Bb{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,r,o){const u=e.parseEventName(r),h=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F6().onAndCancel(i,u.domEventName,h))}static parseEventName(i){const r=i.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let h="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),h="code."),Zb.forEach(w=>{const z=r.indexOf(w);z>-1&&(r.splice(z,1),h+=w+".")}),h+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=o,y.fullKey=h,y}static matchEventFullKeyCode(i,r){let o=V$[i.key]||i.key,u="";return r.indexOf("code.")>-1&&(o=i.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Zb.forEach(h=>{h!==o&&(0,E$[h])(i)&&(u+=h+".")}),u+=o,u===r)}static eventCallback(i,r,o){return u=>{e.matchEventFullKeyCode(u,i)&&o.runGuarded(()=>r(u))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Bn))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();const I$=$C(oF,"browser",[{provide:v6,useValue:"browser"},{provide:Ug,useValue:function D$(){dd.makeCurrent()},multi:!0},{provide:Bn,useFactory:function A$(){return function Kn(t){fn=t}(document),document},deps:[]}]),k$=new j1(""),Xb=[{provide:F7,useClass:class y${addToWindow(e){kt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new qe(5103,!1);return o},kt.getAllAngularTestabilities=()=>e.getAllTestabilities(),kt.getAllAngularRootElements=()=>e.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(i=>{const r=kt.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(p){u=u||p,o--,0==o&&i(u)};r.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,n,i){return null==n?null:e.getTestability(n)??(i?F6().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:NC,useClass:Ph,deps:[r2,Ah,F7]},{provide:Ph,useClass:Ph,deps:[r2,Ah,F7]}],Kb=[{provide:lf,useValue:"root"},{provide:D4,useFactory:function P$(){return new D4},deps:[]},{provide:pd,useClass:H$,multi:!0,deps:[Bn,r2,v6]},{provide:pd,useClass:T$,multi:!0,deps:[Bn]},yd,$b,Fb,{provide:T8,useExisting:yd},{provide:class GB{},useClass:_$,deps:[]},[]];let Qb=(()=>{var t;class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:s7,useValue:i.appId}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(k$,12))},t.\u0275mod=f1({type:t}),t.\u0275inj=ai({providers:[...Kb,...Xb],imports:[Pb,cF]}),e})(),Jb=(()=>{var t;class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Bn))},t.\u0275prov=A1({token:t,factory:function(i){let r=null;return r=i?new i:function O$(){return new Jb(w1(Bn))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let nx=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:function(i){let r=null;return r=i?new(i||t):w1(ix),r},providedIn:"root"}),e})(),ix=(()=>{var t;class e extends nx{constructor(i){super(),this._doc=i}sanitize(i,r){if(null==r)return null;switch(i){case h3.NONE:return r;case h3.HTML:return I2(r,"HTML")?y2(r):Tg(this._doc,String(r)).toString();case h3.STYLE:return I2(r,"Style")?y2(r):r;case h3.SCRIPT:if(I2(r,"Script"))return y2(r);throw new qe(5200,!1);case h3.URL:return I2(r,"URL")?y2(r):m6(String(r));case h3.RESOURCE_URL:if(I2(r,"ResourceURL"))return y2(r);throw new qe(5201,!1);default:throw new qe(5202,!1)}}bypassSecurityTrustHtml(i){return function Q3(t){return new $2(t)}(i)}bypassSecurityTrustStyle(i){return function qo(t){return new gr(t)}(i)}bypassSecurityTrustScript(i){return function Y5(t){return new Rr(t)}(i)}bypassSecurityTrustUrl(i){return function x8(t){return new Fr(t)}(i)}bypassSecurityTrustResourceUrl(i){return function M8(t){return new K3(t)}(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Bn))},t.\u0275prov=A1({token:t,factory:function(i){let r=null;return r=i?new i:function $$(t){return new ix(t.get(Bn))}(w1($r)),r},providedIn:"root"}),e})();var s9={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},xd={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z"]},zd={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},PM={prefix:"fas",iconName:"chart-simple",icon:[448,512,[],"e473","M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"]},Nd={prefix:"fas",iconName:"shield-halved",icon:[512,512,["shield-alt"],"f3ed","M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0zm0 66.8V444.8C394 378 431.1 230.1 432 141.4L256 66.8l0 0z"]},rz={prefix:"fas",iconName:"archway",icon:[512,512,[],"f557","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zm0 384c-17.7 0-32 14.3-32 32s14.3 32 32 32H96h64V352c0-53 43-96 96-96s96 43 96 96V480h64 64c17.7 0 32-14.3 32-32s-14.3-32-32-32V128H32V416z"]},fz={prefix:"fas",iconName:"newspaper",icon:[512,512,[128240],"f1ea","M96 96c0-35.3 28.7-64 64-64H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H80c-44.2 0-80-35.8-80-80V128c0-17.7 14.3-32 32-32s32 14.3 32 32V400c0 8.8 7.2 16 16 16s16-7.2 16-16V96zm64 24v80c0 13.3 10.7 24 24 24H296c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24H184c-13.3 0-24 10.7-24 24zm208-8c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H384c-8.8 0-16 7.2-16 16zm0 96c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H384c-8.8 0-16 7.2-16 16zM160 304c0 8.8 7.2 16 16 16H432c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm0 96c0 8.8 7.2 16 16 16H432c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16z"]},Iz={prefix:"fas",iconName:"cube",icon:[512,512,[],"f1b2","M234.5 5.7c13.9-5 29.1-5 43.1 0l192 68.6C495 83.4 512 107.5 512 134.6V377.4c0 27-17 51.2-42.5 60.3l-192 68.6c-13.9 5-29.1 5-43.1 0l-192-68.6C17 428.6 0 404.5 0 377.4V134.6c0-27 17-51.2 42.5-60.3l192-68.6zM256 66L82.3 128 256 190l173.7-62L256 66zm32 368.6l160-57.1v-188L288 246.6v188z"]},Bd={prefix:"fas",iconName:"basketball",icon:[512,512,[127936,"basketball-ball"],"f434","M86.6 64l85.2 85.2C194.5 121.7 208 86.4 208 48c0-14.7-2-28.9-5.7-42.4C158.6 15 119 35.5 86.6 64zM64 86.6C35.5 119 15 158.6 5.6 202.3C19.1 206 33.3 208 48 208c38.4 0 73.7-13.5 101.3-36.1L64 86.6zM256 0c-7.3 0-14.6 .3-21.8 .9C238 16 240 31.8 240 48c0 47.3-17.1 90.5-45.4 124L256 233.4 425.4 64C380.2 24.2 320.9 0 256 0zM48 240c-16.2 0-32-2-47.1-5.8C.3 241.4 0 248.7 0 256c0 64.9 24.2 124.2 64 169.4L233.4 256 172 194.6C138.5 222.9 95.3 240 48 240zm463.1 37.8c.6-7.2 .9-14.5 .9-21.8c0-64.9-24.2-124.2-64-169.4L278.6 256 340 317.4c33.4-28.3 76.7-45.4 124-45.4c16.2 0 32 2 47.1 5.8zm-4.7 31.9C492.9 306 478.7 304 464 304c-38.4 0-73.7 13.5-101.3 36.1L448 425.4c28.5-32.3 49.1-71.9 58.4-115.7zM340.1 362.7C317.5 390.3 304 425.6 304 464c0 14.7 2 28.9 5.7 42.4C353.4 497 393 476.5 425.4 448l-85.2-85.2zM317.4 340L256 278.6 86.6 448c45.1 39.8 104.4 64 169.4 64c7.3 0 14.6-.3 21.8-.9C274 496 272 480.2 272 464c0-47.3 17.1-90.5 45.4-124z"]},$d={prefix:"fas",iconName:"mobile-screen-button",icon:[384,512,["mobile-alt"],"f3cd","M16 64C16 28.7 44.7 0 80 0H304c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H80c-35.3 0-64-28.7-64-64V64zM224 448a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM304 64H80V384H304V64z"]},SS={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},Xd={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},tL={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2l0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5V176c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336V300.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4V304v5.7V336zm32 0V304 278.1c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5V272c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5V432c0 44.2-86 80-192 80S0 476.2 0 432V396.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"]},oL={prefix:"fas",iconName:"images",icon:[576,512,[],"f302","M160 32c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160zM396 138.7l96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320H328 280 200c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84C360.5 132 368 128 376 128s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120V344c0 75.1 60.9 136 136 136H456c13.3 0 24-10.7 24-24s-10.7-24-24-24H136c-48.6 0-88-39.4-88-88V120z"]},wL={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},PL={prefix:"fas",iconName:"paint-roller",icon:[512,512,[],"f5aa","M0 64C0 28.7 28.7 0 64 0H352c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM160 352c0-17.7 14.3-32 32-32V304c0-44.2 35.8-80 80-80H416c17.7 0 32-14.3 32-32V160 69.5c37.3 13.2 64 48.7 64 90.5v32c0 53-43 96-96 96H272c-8.8 0-16 7.2-16 16v16c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V352z"]},tp={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},sl={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},GL={prefix:"fas",iconName:"receipt",icon:[384,512,[129534],"f543","M14 2.2C22.5-1.7 32.5-.3 39.6 5.8L80 40.4 120.4 5.8c9-7.7 22.3-7.7 31.2 0L192 40.4 232.4 5.8c9-7.7 22.3-7.7 31.2 0L304 40.4 344.4 5.8c7.1-6.1 17.1-7.5 25.6-3.6s14 12.4 14 21.8V488c0 9.4-5.5 17.9-14 21.8s-18.5 2.5-25.6-3.6L304 471.6l-40.4 34.6c-9 7.7-22.3 7.7-31.2 0L192 471.6l-40.4 34.6c-9 7.7-22.3 7.7-31.2 0L80 471.6 39.6 506.2c-7.1 6.1-17.1 7.5-25.6 3.6S0 497.4 0 488V24C0 14.6 5.5 6.1 14 2.2zM96 144c-8.8 0-16 7.2-16 16s7.2 16 16 16H288c8.8 0 16-7.2 16-16s-7.2-16-16-16H96zM80 352c0 8.8 7.2 16 16 16H288c8.8 0 16-7.2 16-16s-7.2-16-16-16H96c-8.8 0-16 7.2-16 16zM96 240c-8.8 0-16 7.2-16 16s7.2 16 16 16H288c8.8 0 16-7.2 16-16s-7.2-16-16-16H96z"]},XL={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},$6={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},gH={prefix:"fas",iconName:"store",icon:[576,512,[],"f54e","M547.6 103.8L490.3 13.1C485.2 5 476.1 0 466.4 0H109.6C99.9 0 90.8 5 85.7 13.1L28.3 103.8c-29.6 46.8-3.4 111.9 51.9 119.4c4 .5 8.1 .8 12.1 .8c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.2 0 49.3-11.4 65.2-29c16 17.6 39.1 29 65.2 29c4.1 0 8.1-.3 12.1-.8c55.5-7.4 81.8-72.5 52.1-119.4zM499.7 254.9l-.1 0c-5.3 .7-10.7 1.1-16.2 1.1c-12.4 0-24.3-1.9-35.4-5.3V384H128V250.6c-11.2 3.5-23.2 5.4-35.6 5.4c-5.5 0-11-.4-16.3-1.1l-.1 0c-4.1-.6-8.1-1.3-12-2.3V384v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V384 252.6c-4 1-8 1.8-12.3 2.3z"]},fp={prefix:"fas",iconName:"face-smile",icon:[512,512,[128578,"smile"],"f118","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},EH={prefix:"fas",iconName:"award",icon:[384,512,[],"f559","M173.8 5.5c11-7.3 25.4-7.3 36.4 0L228 17.2c6 3.9 13 5.8 20.1 5.4l21.3-1.3c13.2-.8 25.6 6.4 31.5 18.2l9.6 19.1c3.2 6.4 8.4 11.5 14.7 14.7L344.5 83c11.8 5.9 19 18.3 18.2 31.5l-1.3 21.3c-.4 7.1 1.5 14.2 5.4 20.1l11.8 17.8c7.3 11 7.3 25.4 0 36.4L366.8 228c-3.9 6-5.8 13-5.4 20.1l1.3 21.3c.8 13.2-6.4 25.6-18.2 31.5l-19.1 9.6c-6.4 3.2-11.5 8.4-14.7 14.7L301 344.5c-5.9 11.8-18.3 19-31.5 18.2l-21.3-1.3c-7.1-.4-14.2 1.5-20.1 5.4l-17.8 11.8c-11 7.3-25.4 7.3-36.4 0L156 366.8c-6-3.9-13-5.8-20.1-5.4l-21.3 1.3c-13.2 .8-25.6-6.4-31.5-18.2l-9.6-19.1c-3.2-6.4-8.4-11.5-14.7-14.7L39.5 301c-11.8-5.9-19-18.3-18.2-31.5l1.3-21.3c.4-7.1-1.5-14.2-5.4-20.1L5.5 210.2c-7.3-11-7.3-25.4 0-36.4L17.2 156c3.9-6 5.8-13 5.4-20.1l-1.3-21.3c-.8-13.2 6.4-25.6 18.2-31.5l19.1-9.6C65 70.2 70.2 65 73.4 58.6L83 39.5c5.9-11.8 18.3-19 31.5-18.2l21.3 1.3c7.1 .4 14.2-1.5 20.1-5.4L173.8 5.5zM272 192a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM1.3 441.8L44.4 339.3c.2 .1 .3 .2 .4 .4l9.6 19.1c11.7 23.2 36 37.3 62 35.8l21.3-1.3c.2 0 .5 0 .7 .2l17.8 11.8c5.1 3.3 10.5 5.9 16.1 7.7l-37.6 89.3c-2.3 5.5-7.4 9.2-13.3 9.7s-11.6-2.2-14.8-7.2L74.4 455.5l-56.1 8.3c-5.7 .8-11.4-1.5-15-6s-4.3-10.7-2.1-16zm248 60.4L211.7 413c5.6-1.8 11-4.3 16.1-7.7l17.8-11.8c.2-.1 .4-.2 .7-.2l21.3 1.3c26 1.5 50.3-12.6 62-35.8l9.6-19.1c.1-.2 .2-.3 .4-.4l43.2 102.5c2.2 5.3 1.4 11.4-2.1 16s-9.3 6.9-15 6l-56.1-8.3-32.2 49.2c-3.2 5-8.9 7.7-14.8 7.2s-11-4.3-13.3-9.7z"]},b9={prefix:"fas",iconName:"gauge-simple-high",icon:[512,512,[61668,"tachometer","tachometer-fast"],"f62a","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm320 96c0-15.9-5.8-30.4-15.3-41.6l76.6-147.4c6.1-11.8 1.5-26.3-10.2-32.4s-26.2-1.5-32.4 10.2L262.1 288.3c-2-.2-4-.3-6.1-.3c-35.3 0-64 28.7-64 64s28.7 64 64 64s64-28.7 64-64z"]},dp={prefix:"fas",iconName:"desktop",icon:[576,512,[128421,61704,"desktop-alt"],"f390","M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64H240l-10.7 32H160c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H346.7L336 416H512c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zM512 64V288H64V64H512z"]};let IV=(()=>{var t;class e{constructor(){this._activeSection="hero"}set activeSection(i){this._activeSection=i}get activeSection(){return this._activeSection}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function kV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function E1(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kV(Object(n),!0).forEach(function(i){$n(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function M9(t){return(M9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function NV(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bp(t,e){return function ale(t){if(Array.isArray(t))return t}(t)||function ole(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var u,h,i=[],r=!0,o=!1;try{for(n=n.call(t);!(r=(u=n.next()).done)&&(i.push(u.value),!e||i.length!==e);r=!0);}catch(p){o=!0,h=p}finally{try{!r&&null!=n.return&&n.return()}finally{if(o)throw h}}return i}}(t,e)||OV(t,e)||function lle(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ul(t){return function rle(t){if(Array.isArray(t))return xp(t)}(t)||function sle(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||OV(t)||function cle(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OV(t,e){if(t){if("string"==typeof t)return xp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xp(t,e)}}function xp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var RV=function(){},Mp={},FV={},BV=null,$V={mark:RV,measure:RV};try{typeof window<"u"&&(Mp=window),typeof document<"u"&&(FV=document),typeof MutationObserver<"u"&&(BV=MutationObserver),typeof performance<"u"&&($V=performance)}catch{}var S9,L9,H9,V9,E9,jV=(Mp.navigator||{}).userAgent,UV=void 0===jV?"":jV,Fs=Mp,S2=FV,qV=BV,z9=$V,F4=!!S2.documentElement&&!!S2.head&&"function"==typeof S2.addEventListener&&"function"==typeof S2.createElement,GV=~UV.indexOf("MSIE")||~UV.indexOf("Trident/"),B4="___FONT_AWESOME___",ZV="fa",WV="svg-inline--fa",tc="data-fa-i2svg",zp="data-fa-pseudo-element",fle="data-fa-pseudo-element-pending",Sp="data-prefix",Lp="data-icon",YV="fontawesome-i2svg",hle="async",dle=["HTML","HEAD","STYLE","SCRIPT"],XV=function(){try{return!0}catch{return!1}}(),L2="classic",K2="sharp",Hp=[L2,K2];function fl(t){return new Proxy(t,{get:function(n,i){return i in n?n[i]:n[L2]}})}var hl=fl(($n(S9={},L2,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),$n(S9,K2,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),S9)),dl=fl(($n(L9={},L2,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),$n(L9,K2,{solid:"fass",regular:"fasr",light:"fasl"}),L9)),pl=fl(($n(H9={},L2,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),$n(H9,K2,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),H9)),ple=fl(($n(V9={},L2,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),$n(V9,K2,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),V9)),mle=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,KV="fa-layers-text",gle=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,vle=fl(($n(E9={},L2,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),$n(E9,K2,{900:"fass",400:"fasr",300:"fasl"}),E9)),QV=[1,2,3,4,5,6,7,8,9,10],yle=QV.concat([11,12,13,14,15,16,17,18,19,20]),_le=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ml=new Set;Object.keys(dl[L2]).map(ml.add.bind(ml)),Object.keys(dl[K2]).map(ml.add.bind(ml));var Cle=[].concat(Hp,ul(ml),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",nc.GROUP,nc.SWAP_OPACITY,nc.PRIMARY,nc.SECONDARY]).concat(QV.map(function(t){return"".concat(t,"x")})).concat(yle.map(function(t){return"w-".concat(t)})),gl=Fs.FontAwesomeConfig||{};S2&&"function"==typeof S2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=bp(t,2),i=e[1],r=function xle(t){return""===t||"false"!==t&&("true"===t||t)}(function ble(t){var e=S2.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(gl[i]=r)});var JV={styleDefault:"solid",familyDefault:"classic",cssPrefix:ZV,replacementClass:WV,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};gl.familyPrefix&&(gl.cssPrefix=gl.familyPrefix);var j6=E1(E1({},JV),gl);j6.autoReplaceSvg||(j6.observeMutations=!1);var N1={};Object.keys(JV).forEach(function(t){Object.defineProperty(N1,t,{enumerable:!0,set:function(n){j6[t]=n,vl.forEach(function(i){return i(N1)})},get:function(){return j6[t]}})}),Object.defineProperty(N1,"familyPrefix",{enumerable:!0,set:function(e){j6.cssPrefix=e,vl.forEach(function(n){return n(N1)})},get:function(){return j6.cssPrefix}}),Fs.FontAwesomeConfig=N1;var vl=[],Za={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Sle="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function yl(){for(var t=12,e="";t-- >0;)e+=Sle[62*Math.random()|0];return e}function U6(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Vp(t){return t.classList?U6(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function eE(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function T9(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Ep(t){return t.size!==Za.size||t.x!==Za.x||t.y!==Za.y||t.rotate!==Za.rotate||t.flipX||t.flipY}var Ele=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function tE(){var t=ZV,e=WV,n=N1.cssPrefix,i=N1.replacementClass,r=Ele;if(n!==t||i!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),u=new RegExp("\\--".concat(t,"\\-"),"g"),h=new RegExp("\\.".concat(e),"g");r=r.replace(o,".".concat(n,"-")).replace(u,"--".concat(n,"-")).replace(h,".".concat(i))}return r}var nE=!1;function Tp(){N1.autoAddCss&&!nE&&(function zle(t){if(t&&F4){var e=S2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=S2.head.childNodes,i=null,r=n.length-1;r>-1;r--){var o=n[r],u=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(i=o)}S2.head.insertBefore(e,i)}}(tE()),nE=!0)}var Tle={mixout:function(){return{dom:{css:tE,insertCss:Tp}}},hooks:function(){return{beforeDOMElementCreation:function(){Tp()},beforeI2svg:function(){Tp()}}}},$4=Fs||{};$4[B4]||($4[B4]={}),$4[B4].styles||($4[B4].styles={}),$4[B4].hooks||($4[B4].hooks={}),$4[B4].shims||($4[B4].shims=[]);var aa=$4[B4],iE=[],D9=!1;function _l(t){var e=t.tag,n=t.attributes,i=void 0===n?{}:n,r=t.children,o=void 0===r?[]:r;return"string"==typeof t?eE(t):"<".concat(e," ").concat(function Lle(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(eE(t[n]),'" ')},"").trim()}(i),">").concat(o.map(_l).join(""),"</").concat(e,">")}function rE(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}F4&&((D9=(S2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(S2.readyState))||S2.addEventListener("DOMContentLoaded",function t(){S2.removeEventListener("DOMContentLoaded",t),D9=1,iE.map(function(e){return e()})}));var Dp=function(e,n,i,r){var p,y,w,o=Object.keys(e),u=o.length,h=void 0!==r?function(e,n){return function(i,r,o,u){return e.call(n,i,r,o,u)}}(n,r):n;for(void 0===i?(p=1,w=e[o[0]]):(p=0,w=i);p<u;p++)w=h(w,e[y=o[p]],y,e);return w};function Pp(t){var e=function Ile(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e}(t);return 1===e.length?e[0].toString(16):null}function aE(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return i.icon?e[i.iconName]=i.icon:e[n]=i,e},{})}function Ap(t,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==i&&i,o=aE(e);"function"!=typeof aa.hooks.addPack||r?aa.styles[t]=E1(E1({},aa.styles[t]||{}),o):aa.hooks.addPack(t,aE(e)),"fas"===t&&Ap("fa",e)}var P9,A9,I9,q6=aa.styles,Nle=aa.shims,Ole=($n(P9={},L2,Object.values(pl[L2])),$n(P9,K2,Object.values(pl[K2])),P9),Ip=null,sE={},oE={},cE={},lE={},uE={},Rle=($n(A9={},L2,Object.keys(hl[L2])),$n(A9,K2,Object.keys(hl[K2])),A9);var fE=function(){var e=function(o){return Dp(q6,function(u,h,p){return u[p]=Dp(h,o,{}),u},{})};sE=e(function(r,o,u){return o[3]&&(r[o[3]]=u),o[2]&&o[2].filter(function(p){return"number"==typeof p}).forEach(function(p){r[p.toString(16)]=u}),r}),oE=e(function(r,o,u){return r[u]=u,o[2]&&o[2].filter(function(p){return"string"==typeof p}).forEach(function(p){r[p]=u}),r}),uE=e(function(r,o,u){var h=o[2];return r[u]=u,h.forEach(function(p){r[p]=u}),r});var n="far"in q6||N1.autoFetchSvg,i=Dp(Nle,function(r,o){var u=o[0],h=o[1],p=o[2];return"far"===h&&!n&&(h="fas"),"string"==typeof u&&(r.names[u]={prefix:h,iconName:p}),"number"==typeof u&&(r.unicodes[u.toString(16)]={prefix:h,iconName:p}),r},{names:{},unicodes:{}});cE=i.names,lE=i.unicodes,Ip=k9(N1.styleDefault,{family:N1.familyDefault})};function kp(t,e){return(sE[t]||{})[e]}function ic(t,e){return(uE[t]||{})[e]}function hE(t){return cE[t]||{prefix:null,iconName:null}}function $s(){return Ip}(function wle(t){vl.push(t)})(function(t){Ip=k9(t.styleDefault,{family:N1.familyDefault})}),fE();var Np=function(){return{prefix:null,iconName:null,rest:[]}};function k9(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,i=void 0===n?L2:n;return dl[i][t]||dl[i][hl[i][t]]||(t in aa.styles?t:null)||null}var dE=($n(I9={},L2,Object.keys(pl[L2])),$n(I9,K2,Object.keys(pl[K2])),I9);function N9(t){var e,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==i&&i,o=($n(e={},L2,"".concat(N1.cssPrefix,"-").concat(L2)),$n(e,K2,"".concat(N1.cssPrefix,"-").concat(K2)),e),u=null,h=L2;(t.includes(o[L2])||t.some(function(y){return dE[L2].includes(y)}))&&(h=L2),(t.includes(o[K2])||t.some(function(y){return dE[K2].includes(y)}))&&(h=K2);var p=t.reduce(function(y,w){var z=function Ble(t,e){var n=e.split("-"),i=n[0],r=n.slice(1).join("-");return i!==t||""===r||function Fle(t){return~Cle.indexOf(t)}(r)?null:r}(N1.cssPrefix,w);if(q6[w]?(w=Ole[h].includes(w)?ple[h][w]:w,u=w,y.prefix=w):Rle[h].indexOf(w)>-1?(u=w,y.prefix=k9(w,{family:h})):z?y.iconName=z:w!==N1.replacementClass&&w!==o[L2]&&w!==o[K2]&&y.rest.push(w),!r&&y.prefix&&y.iconName){var E="fa"===u?hE(y.iconName):{},D=ic(y.prefix,y.iconName);E.prefix&&(u=null),y.iconName=E.iconName||D||y.iconName,y.prefix=E.prefix||y.prefix,"far"===y.prefix&&!q6.far&&q6.fas&&!N1.autoFetchSvg&&(y.prefix="fas")}return y},Np());return(t.includes("fa-brands")||t.includes("fab"))&&(p.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(p.prefix="fad"),!p.prefix&&h===K2&&(q6.fass||N1.autoFetchSvg)&&(p.prefix="fass",p.iconName=ic(p.prefix,p.iconName)||p.iconName),("fa"===p.prefix||"fa"===u)&&(p.prefix=$s()||"fas"),p}var Ule=function(){function t(){(function tle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function nle(t,e,n){e&&NV(t.prototype,e),n&&NV(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var u=r.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(h){n.definitions[h]=E1(E1({},n.definitions[h]||{}),u[h]),Ap(h,u[h]);var p=pl[L2][h];p&&Ap(p,u[h]),fE()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(o){var u=r[o],h=u.prefix,p=u.iconName,y=u.icon,w=y[2];n[h]||(n[h]={}),w.length>0&&w.forEach(function(z){"string"==typeof z&&(n[h][z]=y)}),n[h][p]=y}),n}}]),t}(),pE=[],G6={},Z6={},qle=Object.keys(Z6);function Op(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return(G6[t]||[]).forEach(function(u){e=u.apply(null,[e].concat(i))}),e}function rc(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(G6[t]||[]).forEach(function(o){o.apply(null,n)})}function j4(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Z6[t]?Z6[t].apply(null,e):void 0}function Rp(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||$s();if(e)return e=ic(n,e)||e,rE(mE.definitions,n,e)||rE(aa.styles,n,e)}var mE=new Ule,Wle={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return F4?(rc("beforeI2svg",e),j4("pseudoElements2svg",e),j4("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===N1.autoReplaceSvg&&(N1.autoReplaceSvg=!0),N1.observeMutations=!0,function Ple(t){F4&&(D9?setTimeout(t,0):iE.push(t))}(function(){Xle({autoReplaceSvgRoot:n}),rc("watch",e)})}},qr={noAuto:function(){N1.autoReplaceSvg=!1,N1.observeMutations=!1,rc("noAuto")},config:N1,dom:Wle,parse:{icon:function(e){if(null===e)return null;if("object"===M9(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ic(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=k9(e[0]);return{prefix:i,iconName:ic(i,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(N1.cssPrefix,"-"))>-1||e.match(mle))){var r=N9(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||$s(),iconName:ic(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var o=$s();return{prefix:o,iconName:ic(o,e)||e}}}},library:mE,findIconDefinition:Rp,toHtml:_l},Xle=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,i=void 0===n?S2:n;(Object.keys(aa.styles).length>0||N1.autoFetchSvg)&&F4&&N1.autoReplaceSvg&&qr.dom.i2svg({node:i})};function O9(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(i){return _l(i)})}}),Object.defineProperty(t,"node",{get:function(){if(F4){var i=S2.createElement("div");return i.innerHTML=t.html,i.children}}}),t}function Fp(t){var e=t.icons,n=e.main,i=e.mask,r=t.prefix,o=t.iconName,u=t.transform,h=t.symbol,p=t.title,y=t.maskId,w=t.titleId,z=t.extra,E=t.watchable,D=void 0!==E&&E,k=i.found?i:n,B=k.width,j=k.height,Z="fak"===r,F=[N1.replacementClass,o?"".concat(N1.cssPrefix,"-").concat(o):""].filter(function(me){return-1===z.classes.indexOf(me)}).filter(function(me){return""!==me||!!me}).concat(z.classes).join(" "),q={children:[],attributes:E1(E1({},z.attributes),{},{"data-prefix":r,"data-icon":o,class:F,role:z.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(B," ").concat(j)})},ee=Z&&!~z.classes.indexOf("fa-fw")?{width:"".concat(B/j*16*.0625,"em")}:{};D&&(q.attributes[tc]=""),p&&(q.children.push({tag:"title",attributes:{id:q.attributes["aria-labelledby"]||"title-".concat(w||yl())},children:[p]}),delete q.attributes.title);var ve=E1(E1({},q),{},{prefix:r,iconName:o,main:n,mask:i,maskId:y,transform:u,symbol:h,styles:E1(E1({},ee),z.styles)}),Ee=i.found&&n.found?j4("generateAbstractMask",ve)||{children:[],attributes:{}}:j4("generateAbstractIcon",ve)||{children:[],attributes:{}},Ve=Ee.attributes;return ve.children=Ee.children,ve.attributes=Ve,h?function Qle(t){var n=t.iconName,i=t.children,r=t.attributes,o=t.symbol,u=!0===o?"".concat(t.prefix,"-").concat(N1.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:E1(E1({},r),{},{id:u}),children:i}]}]}(ve):function Kle(t){var e=t.children,n=t.main,i=t.mask,r=t.attributes,o=t.styles,u=t.transform;if(Ep(u)&&n.found&&!i.found){var y={x:n.width/n.height/2,y:.5};r.style=T9(E1(E1({},o),{},{"transform-origin":"".concat(y.x+u.x/16,"em ").concat(y.y+u.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(ve)}function gE(t){var e=t.content,n=t.width,i=t.height,r=t.transform,o=t.title,u=t.extra,h=t.watchable,p=void 0!==h&&h,y=E1(E1(E1({},u.attributes),o?{title:o}:{}),{},{class:u.classes.join(" ")});p&&(y[tc]="");var w=E1({},u.styles);Ep(r)&&(w.transform=function Vle(t){var e=t.transform,n=t.width,r=t.height,o=void 0===r?16:r,u=t.startCentered,h=void 0!==u&&u,p="";return p+=h&&GV?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-o/2,"em) "):h?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(p+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:r,startCentered:!0,width:n,height:i}),w["-webkit-transform"]=w.transform);var z=T9(w);z.length>0&&(y.style=z);var E=[];return E.push({tag:"span",attributes:y,children:[e]}),o&&E.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),E}var Bp=aa.styles;function $p(t){var e=t[0],n=t[1],o=bp(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(N1.cssPrefix,"-").concat(nc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(N1.cssPrefix,"-").concat(nc.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(N1.cssPrefix,"-").concat(nc.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var e5e={found:!1,width:512,height:512};function jp(t,e){var n=e;return"fa"===e&&null!==N1.styleDefault&&(e=$s()),new Promise(function(i,r){if(j4("missingIconAbstract"),"fa"===n){var u=hE(t)||{};t=u.iconName||t,e=u.prefix||e}if(t&&e&&Bp[e]&&Bp[e][t])return i($p(Bp[e][t]));(function t5e(t,e){!XV&&!N1.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),i(E1(E1({},e5e),{},{icon:N1.showMissingIcons&&t&&j4("missingIconAbstract")||{}}))})}var vE=function(){},Up=N1.measurePerformance&&z9&&z9.mark&&z9.measure?z9:{mark:vE,measure:vE},Cl='FA "6.4.2"',yE=function(e){Up.mark("".concat(Cl," ").concat(e," ends")),Up.measure("".concat(Cl," ").concat(e),"".concat(Cl," ").concat(e," begins"),"".concat(Cl," ").concat(e," ends"))},qp={begin:function(e){return Up.mark("".concat(Cl," ").concat(e," begins")),function(){return yE(e)}},end:yE},R9=function(){};function _E(t){return"string"==typeof(t.getAttribute?t.getAttribute(tc):null)}function s5e(t){return S2.createElementNS("http://www.w3.org/2000/svg",t)}function o5e(t){return S2.createElement(t)}function CE(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,i=void 0===n?"svg"===t.tag?s5e:o5e:n;if("string"==typeof t)return S2.createTextNode(t);var r=i(t.tag);return Object.keys(t.attributes||[]).forEach(function(u){r.setAttribute(u,t.attributes[u])}),(t.children||[]).forEach(function(u){r.appendChild(CE(u,{ceFn:i}))}),r}var F9={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(r){n.parentNode.insertBefore(CE(r),n)}),null===n.getAttribute(tc)&&N1.keepOriginalSource){var i=S2.createComment(function c5e(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(e){var n=e[0],i=e[1];if(~Vp(n).indexOf(N1.replacementClass))return F9.replace(e);var r=new RegExp("".concat(N1.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var o=i[0].attributes.class.split(" ").reduce(function(h,p){return p===N1.replacementClass||p.match(r)?h.toSvg.push(p):h.toNode.push(p),h},{toNode:[],toSvg:[]});i[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var u=i.map(function(h){return _l(h)}).join("\n");n.setAttribute(tc,""),n.innerHTML=u}};function bE(t){t()}function xE(t,e){var n="function"==typeof e?e:R9;if(0===t.length)n();else{var i=bE;N1.mutateApproach===hle&&(i=Fs.requestAnimationFrame||bE),i(function(){var r=function a5e(){return!0===N1.autoReplaceSvg?F9.replace:F9[N1.autoReplaceSvg]||F9.replace}(),o=qp.begin("mutate");t.map(r),o(),n()})}}var Gp=!1;function ME(){Gp=!0}function Zp(){Gp=!1}var B9=null;function wE(t){if(qV&&N1.observeMutations){var e=t.treeCallback,n=void 0===e?R9:e,i=t.nodeCallback,r=void 0===i?R9:i,o=t.pseudoElementsCallback,u=void 0===o?R9:o,h=t.observeMutationsRoot,p=void 0===h?S2:h;B9=new qV(function(y){if(!Gp){var w=$s();U6(y).forEach(function(z){if("childList"===z.type&&z.addedNodes.length>0&&!_E(z.addedNodes[0])&&(N1.searchPseudoElements&&u(z.target),n(z.target)),"attributes"===z.type&&z.target.parentNode&&N1.searchPseudoElements&&u(z.target.parentNode),"attributes"===z.type&&_E(z.target)&&~_le.indexOf(z.attributeName))if("class"===z.attributeName&&function i5e(t){var e=t.getAttribute?t.getAttribute(Sp):null,n=t.getAttribute?t.getAttribute(Lp):null;return e&&n}(z.target)){var E=N9(Vp(z.target)),k=E.iconName;z.target.setAttribute(Sp,E.prefix||w),k&&z.target.setAttribute(Lp,k)}else(function r5e(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(N1.replacementClass)})(z.target)&&r(z.target)})}}),F4&&B9.observe(p,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function zE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function f5e(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),i=void 0!==t.innerText?t.innerText.trim():"",r=N9(Vp(t));return r.prefix||(r.prefix=$s()),e&&n&&(r.prefix=e,r.iconName=n),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function $le(t,e){return(oE[t]||{})[e]}(r.prefix,t.innerText)||kp(r.prefix,Pp(t.innerText))),!r.iconName&&N1.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=t.firstChild.data)),r}(t),i=n.iconName,r=n.prefix,o=n.rest,u=function h5e(t){var e=U6(t.attributes).reduce(function(r,o){return"class"!==r.name&&"style"!==r.name&&(r[o.name]=o.value),r},{}),n=t.getAttribute("title"),i=t.getAttribute("data-fa-title-id");return N1.autoA11y&&(n?e["aria-labelledby"]="".concat(N1.replacementClass,"-title-").concat(i||yl()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),h=Op("parseNodeAttributes",{},t),p=e.styleParser?function u5e(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(i,r){var o=r.split(":"),u=o[0],h=o.slice(1);return u&&h.length>0&&(i[u]=h.join(":").trim()),i},{})),n}(t):[];return E1({iconName:i,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Za,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:p,attributes:u}},h)}var p5e=aa.styles;function SE(t){var e="nest"===N1.autoReplaceSvg?zE(t,{styleParser:!1}):zE(t);return~e.extra.classes.indexOf(KV)?j4("generateLayersText",t,e):j4("generateSvgReplacementMutation",t,e)}var js=new Set;function LE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!F4)return Promise.resolve();var n=S2.documentElement.classList,i=function(z){return n.add("".concat(YV,"-").concat(z))},r=function(z){return n.remove("".concat(YV,"-").concat(z))},o=N1.autoFetchSvg?js:Hp.map(function(w){return"fa-".concat(w)}).concat(Object.keys(p5e));o.includes("fa")||o.push("fa");var u=[".".concat(KV,":not([").concat(tc,"])")].concat(o.map(function(w){return".".concat(w,":not([").concat(tc,"])")})).join(", ");if(0===u.length)return Promise.resolve();var h=[];try{h=U6(t.querySelectorAll(u))}catch{}if(!(h.length>0))return Promise.resolve();i("pending"),r("complete");var p=qp.begin("onTree"),y=h.reduce(function(w,z){try{var E=SE(z);E&&w.push(E)}catch(D){XV||"MissingIcon"===D.name&&console.error(D)}return w},[]);return new Promise(function(w,z){Promise.all(y).then(function(E){xE(E,function(){i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),p(),w()})}).catch(function(E){p(),z(E)})})}function m5e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;SE(t).then(function(n){n&&xE([n],e)})}Hp.map(function(t){js.add("fa-".concat(t))}),Object.keys(hl[L2]).map(js.add.bind(js)),Object.keys(hl[K2]).map(js.add.bind(js)),js=ul(js);var v5e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.transform,r=void 0===i?Za:i,o=n.symbol,u=void 0!==o&&o,h=n.mask,p=void 0===h?null:h,y=n.maskId,w=void 0===y?null:y,z=n.title,E=void 0===z?null:z,D=n.titleId,k=void 0===D?null:D,B=n.classes,j=void 0===B?[]:B,Z=n.attributes,F=void 0===Z?{}:Z,q=n.styles,ee=void 0===q?{}:q;if(e){var ve=e.prefix,Ee=e.iconName,Te=e.icon;return O9(E1({type:"icon"},e),function(){return rc("beforeDOMElementCreation",{iconDefinition:e,params:n}),N1.autoA11y&&(E?F["aria-labelledby"]="".concat(N1.replacementClass,"-title-").concat(k||yl()):(F["aria-hidden"]="true",F.focusable="false")),Fp({icons:{main:$p(Te),mask:p?$p(p.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ve,iconName:Ee,transform:E1(E1({},Za),r),symbol:u,title:E,maskId:w,titleId:k,extra:{attributes:F,styles:ee,classes:j}})})}},y5e={mixout:function(){return{icon:(t=v5e,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:Rp(e||{}),r=n.mask;return r&&(r=(r||{}).icon?r:Rp(r||{})),t(i,E1(E1({},n),{},{mask:r}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=LE,n.nodeCallback=m5e,n}}},provides:function(e){e.i2svg=function(n){var i=n.node,o=n.callback;return LE(void 0===i?S2:i,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(n,i){var r=i.iconName,o=i.title,u=i.titleId,h=i.prefix,p=i.transform,y=i.symbol,w=i.mask,z=i.maskId,E=i.extra;return new Promise(function(D,k){Promise.all([jp(r,h),w.iconName?jp(w.iconName,w.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(B){var j=bp(B,2);D([n,Fp({icons:{main:j[0],mask:j[1]},prefix:h,iconName:r,transform:p,symbol:y,maskId:z,title:o,titleId:u,extra:E,watchable:!0})])}).catch(k)})},e.generateAbstractIcon=function(n){var y,i=n.children,r=n.attributes,o=n.main,u=n.transform,p=T9(n.styles);return p.length>0&&(r.style=p),Ep(u)&&(y=j4("generateAbstractTransformGrouping",{main:o,transform:u,containerWidth:o.width,iconWidth:o.width})),i.push(y||o.icon),{children:i,attributes:r}}}},_5e={mixout:function(){return{layer:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,o=void 0===r?[]:r;return O9({type:"layer"},function(){rc("beforeDOMElementCreation",{assembler:n,params:i});var u=[];return n(function(h){Array.isArray(h)?h.map(function(p){u=u.concat(p.abstract)}):u=u.concat(h.abstract)}),[{tag:"span",attributes:{class:["".concat(N1.cssPrefix,"-layers")].concat(ul(o)).join(" ")},children:u}]})}}}},C5e={mixout:function(){return{counter:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,o=void 0===r?null:r,u=i.classes,h=void 0===u?[]:u,p=i.attributes,y=void 0===p?{}:p,w=i.styles,z=void 0===w?{}:w;return O9({type:"counter",content:n},function(){return rc("beforeDOMElementCreation",{content:n,params:i}),function Jle(t){var e=t.content,n=t.title,i=t.extra,r=E1(E1(E1({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),o=T9(i.styles);o.length>0&&(r.style=o);var u=[];return u.push({tag:"span",attributes:r,children:[e]}),n&&u.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),u}({content:n.toString(),title:o,extra:{attributes:y,styles:z,classes:["".concat(N1.cssPrefix,"-layers-counter")].concat(ul(h))}})})}}}},b5e={mixout:function(){return{text:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,o=void 0===r?Za:r,u=i.title,h=void 0===u?null:u,p=i.classes,y=void 0===p?[]:p,w=i.attributes,z=void 0===w?{}:w,E=i.styles,D=void 0===E?{}:E;return O9({type:"text",content:n},function(){return rc("beforeDOMElementCreation",{content:n,params:i}),gE({content:n,transform:E1(E1({},Za),o),title:h,extra:{attributes:z,styles:D,classes:["".concat(N1.cssPrefix,"-layers-text")].concat(ul(y))}})})}}},provides:function(e){e.generateLayersText=function(n,i){var r=i.title,o=i.transform,u=i.extra,h=null,p=null;if(GV){var y=parseInt(getComputedStyle(n).fontSize,10),w=n.getBoundingClientRect();h=w.width/y,p=w.height/y}return N1.autoA11y&&!r&&(u.attributes["aria-hidden"]="true"),Promise.resolve([n,gE({content:n.innerHTML,width:h,height:p,transform:o,title:r,extra:u,watchable:!0})])}}},x5e=new RegExp('"',"ug"),HE=[1105920,1112319];function VE(t,e){var n="".concat(fle).concat(e.replace(":","-"));return new Promise(function(i,r){if(null!==t.getAttribute(n))return i();var u=U6(t.children).filter(function(Te){return Te.getAttribute(zp)===e})[0],h=Fs.getComputedStyle(t,e),p=h.getPropertyValue("font-family").match(gle),y=h.getPropertyValue("font-weight"),w=h.getPropertyValue("content");if(u&&!p)return t.removeChild(u),i();if(p&&"none"!==w&&""!==w){var z=h.getPropertyValue("content"),E=~["Sharp"].indexOf(p[2])?K2:L2,D=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(p[2])?dl[E][p[2].toLowerCase()]:vle[E][y],k=function M5e(t){var e=t.replace(x5e,""),n=function kle(t,e){var r,n=t.length,i=t.charCodeAt(e);return i>=55296&&i<=56319&&n>e+1&&(r=t.charCodeAt(e+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(e,0),i=n>=HE[0]&&n<=HE[1],r=2===e.length&&e[0]===e[1];return{value:Pp(r?e[0]:e),isSecondary:i||r}}(z),B=k.value,j=k.isSecondary,Z=p[0].startsWith("FontAwesome"),F=kp(D,B),q=F;if(Z){var ee=function jle(t){var e=lE[t],n=kp("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(B);ee.iconName&&ee.prefix&&(F=ee.iconName,D=ee.prefix)}if(!F||j||u&&u.getAttribute(Sp)===D&&u.getAttribute(Lp)===q)i();else{t.setAttribute(n,q),u&&t.removeChild(u);var ve=function d5e(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Za,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Ee=ve.extra;Ee.attributes[zp]=e,jp(F,D).then(function(Te){var Ve=Fp(E1(E1({},ve),{},{icons:{main:Te,mask:Np()},prefix:D,iconName:q,extra:Ee,watchable:!0})),me=S2.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(me,t.firstChild):t.appendChild(me),me.outerHTML=Ve.map(function(e1){return _l(e1)}).join("\n"),t.removeAttribute(n),i()}).catch(r)}}else i()})}function w5e(t){return Promise.all([VE(t,"::before"),VE(t,"::after")])}function z5e(t){return!(t.parentNode===document.head||~dle.indexOf(t.tagName.toUpperCase())||t.getAttribute(zp)||t.parentNode&&"svg"===t.parentNode.tagName)}function EE(t){if(F4)return new Promise(function(e,n){var i=U6(t.querySelectorAll("*")).filter(z5e).map(w5e),r=qp.begin("searchPseudoElements");ME(),Promise.all(i).then(function(){r(),Zp(),e()}).catch(function(){r(),Zp(),n()})})}var TE=!1,DE=function(e){return e.toLowerCase().split(" ").reduce(function(i,r){var o=r.toLowerCase().split("-"),u=o[0],h=o.slice(1).join("-");if(u&&"h"===h)return i.flipX=!0,i;if(u&&"v"===h)return i.flipY=!0,i;if(h=parseFloat(h),isNaN(h))return i;switch(u){case"grow":i.size=i.size+h;break;case"shrink":i.size=i.size-h;break;case"left":i.x=i.x-h;break;case"right":i.x=i.x+h;break;case"up":i.y=i.y-h;break;case"down":i.y=i.y+h;break;case"rotate":i.rotate=i.rotate+h}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Wp={x:0,y:0,width:"100%",height:"100%"};function PE(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}!function Gle(t,e){var n=e.mixoutsTo;pE=t,G6={},Object.keys(Z6).forEach(function(i){-1===qle.indexOf(i)&&delete Z6[i]}),pE.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(u){"function"==typeof r[u]&&(n[u]=r[u]),"object"===M9(r[u])&&Object.keys(r[u]).forEach(function(h){n[u]||(n[u]={}),n[u][h]=r[u][h]})}),i.hooks){var o=i.hooks();Object.keys(o).forEach(function(u){G6[u]||(G6[u]=[]),G6[u].push(o[u])})}i.provides&&i.provides(Z6)})}([Tle,y5e,_5e,C5e,b5e,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=EE,n}}},provides:function(e){e.pseudoElements2svg=function(n){var i=n.node;N1.searchPseudoElements&&EE(void 0===i?S2:i)}}},{mixout:function(){return{dom:{unwatch:function(){ME(),TE=!0}}}},hooks:function(){return{bootstrap:function(){wE(Op("mutationObserverCallbacks",{}))},noAuto:function(){!function l5e(){B9&&B9.disconnect()}()},watch:function(n){var i=n.observeMutationsRoot;TE?Zp():wE(Op("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(n){return DE(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-transform");return r&&(n.transform=DE(r)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var i=n.main,r=n.transform,u=n.iconWidth,h={transform:"translate(".concat(n.containerWidth/2," 256)")},p="translate(".concat(32*r.x,", ").concat(32*r.y,") "),y="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),w="rotate(".concat(r.rotate," 0 0)"),D={outer:h,inner:{transform:"".concat(p," ").concat(y," ").concat(w)},path:{transform:"translate(".concat(u/2*-1," -256)")}};return{tag:"g",attributes:E1({},D.outer),children:[{tag:"g",attributes:E1({},D.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:E1(E1({},i.icon.attributes),D.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-mask"),o=r?N9(r.split(" ").map(function(u){return u.trim()})):Np();return o.prefix||(o.prefix=$s()),n.mask=o,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var t,i=n.children,r=n.attributes,o=n.main,u=n.mask,h=n.maskId,w=o.icon,E=u.icon,D=function Hle(t){var e=t.transform,i=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),h="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(o," ").concat(u," ").concat(h)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:n.transform,containerWidth:u.width,iconWidth:o.width}),k={tag:"rect",attributes:E1(E1({},Wp),{},{fill:"white"})},B=w.children?{children:w.children.map(PE)}:{},j={tag:"g",attributes:E1({},D.inner),children:[PE(E1({tag:w.tag,attributes:E1(E1({},w.attributes),D.path)},B))]},Z={tag:"g",attributes:E1({},D.outer),children:[j]},F="mask-".concat(h||yl()),q="clip-".concat(h||yl()),ee={tag:"mask",attributes:E1(E1({},Wp),{},{id:F,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[k,Z]},ve={tag:"defs",children:[{tag:"clipPath",attributes:{id:q},children:(t=E,"g"===t.tag?t.children:[t])},ee]};return i.push(ve,{tag:"rect",attributes:E1({fill:"currentColor","clip-path":"url(#".concat(q,")"),mask:"url(#".concat(F,")")},Wp)}),{children:i,attributes:r}}}},{provides:function(e){var n=!1;Fs.matchMedia&&(n=Fs.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:E1(E1({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var u=E1(E1({},o),{},{attributeName:"opacity"}),h={tag:"circle",attributes:E1(E1({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||h.children.push({tag:"animate",attributes:E1(E1({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:E1(E1({},u),{},{values:"1;0;1;1;0;1;"})}),i.push(h),i.push({tag:"path",attributes:E1(E1({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:E1(E1({},u),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:E1(E1({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:E1(E1({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-symbol");return n.symbol=null!==r&&(""===r||r),n}}}}],{mixoutsTo:qr});var A5e=qr.parse,I5e=qr.icon;const k5e=["*"],R5e=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let $5e=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),j5e=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...i){for(const r of i){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const o of r.icon[2])"string"==typeof o&&(this.definitions[r.prefix][o]=r)}}addIconPacks(...i){for(const r of i){const o=Object.keys(r).map(u=>r[u]);this.addIcons(...o)}}getIconDefinition(i,r){return i in this.definitions&&r in this.definitions[i]?this.definitions[i][r]:null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),U5e=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(i){if("size"in i)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=jt({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Z2]}),e})(),q5e=(()=>{var t;class e{constructor(i,r){this.renderer=i,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(i){"size"in i&&(null!=i.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${i.size.currentValue}`),null!=i.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${i.size.previousValue}`))}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(b6),V1(vr))},t.\u0275cmp=N2({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Z2],ngContentSelectors:k5e,decls:1,vars:0,template:function(i,r){1&i&&(function Cy(t){const e=Ze()[p2][U2];if(!e.projection){const i=e.projection=un(t?t.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const u=t?ck(o,t):0;null!==u&&(r[u]?r[u].projectionNext=o:i[u]=o,r[u]=o),o=o.next}}}(),function by(t,e=0,n){const i=Ze(),r=bt(),o=w6(r,k1+t,16,null,n||null);null===o.projection&&(o.projection=e),ys(),(!i[oi]||C4())&&32!=(32&o.flags)&&function x1(t,e,n){st(e[_1],0,e,n,I(t,n,e),de(n.parent||e[U2],n,e))}(r,i,o)}(0))},encapsulation:2}),e})(),Us=(()=>{var t;class e{set spin(i){this.animation=i?"spin":void 0}set pulse(i){this.animation=i?"spin-pulse":void 0}constructor(i,r,o,u,h){this.sanitizer=i,this.config=r,this.iconLibrary=o,this.stackItem=u,this.classes=[],null!=h&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(i){if(null!=this.icon||null!=this.config.fallbackIcon){if(i){const o=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=o){const u=this.buildParams();this.renderIcon(o,u)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(i){const r=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(i,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(r),null)}buildParams(){const i={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?A5e.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...R5e(i),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(i,r){const o=I5e(i,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join("\n"))}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(nx),V1($5e),V1(j5e),V1(U5e,8),V1(q5e,8))},t.\u0275cmp=N2({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,r){2&i&&(ah("innerHTML",r.renderedIconHTML,Dg),M7("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Z2],decls:0,vars:0,template:function(i,r){},encapsulation:2}),e})(),G5e=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=f1({type:t}),t.\u0275inj=ai({}),e})(),sa=(()=>{var t;class e{constructor(i){this.el=i,this.rootMargin=0,this.threshold=0,this.animationsClass=[],this.__element=i.nativeElement}ngOnInit(){this.createObserver()}createObserver(){this.__observer=new IntersectionObserver(i=>{i.forEach(r=>{r.isIntersecting&&(this.__element.classList.add(...this.animationsClass),this.__observer.disconnect())})},{rootMargin:this.rootMargin+"px",threshold:this.threshold}),this.__observer.observe(this.__element)}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(vr))},t.\u0275dir=jt({type:t,selectors:[["","appLoadingItem",""]],inputs:{rootMargin:"rootMargin",threshold:"threshold",animationsClass:"animationsClass"}}),e})(),Z5e=(()=>{var t;class e{constructor(i){this.el=i,this.classList=[],this.scrollY=0,this._rootElement=i.nativeElement}onScroll(i){(Number(i.defaultView?.scrollY)||0)>this.scrollY?this._rootElement.classList.add(...this.classList):this._rootElement.classList.remove(...this.classList)}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(vr))},t.\u0275dir=jt({type:t,selectors:[["","appScrolled",""]],hostBindings:function(i,r){1&i&&gi("scroll",function(u){return r.onScroll(u.target)},0,Ef)},inputs:{classList:"classList",scrollY:"scrollY"}}),e})();const W5e=function(){return["scrolled"]},Y5e=function(t){return{mobile:t}},X5e=function(t){return{"bg-color-primary-white":t}};let K5e=(()=>{var t;class e{constructor(i,r){this.sectionIndicatorServ=i,this.document=r,this._icons={faBars:zd,faAngleDown:wL,faXmark:$6},this._renderMobileMenu=!1,this._renderDropDown=!1}ngOnInit(){}get activeSection(){return this.sectionIndicatorServ.activeSection}get icon(){return this._icons}get showMobileMenu(){return this._renderMobileMenu}set showMobileMenu(i){this._renderMobileMenu=i}mobileNavStyle(i){return i==this.activeSection?"text-color-primary-black hover-bg-color-primary-yellow bg-color-primary-yellow":"text-color-primary-black hover-bg-color-primary-yellow"}desktopNavStyle(i){return i==this.activeSection?"text-color-primary-yellow hover-text-color-primary-yellow":"text-color-primary-white hover-text-color-primary-yellow"}isActiveSectionDesktopSection(i){return this.showMobileMenu&&this.activeSection==i}activeMobileNav(){this.showMobileMenu=!0}deActiveMobileNav(){this.showMobileMenu=!1}toggleDropDown(){this._renderDropDown=!this._renderDropDown}get drowDownShow(){return this._renderDropDown}goToSection(i){this.document.getElementById(i)?.scrollIntoView(),this._renderMobileMenu=!1}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(IV),V1(Bn))},t.\u0275cmp=N2({type:t,selectors:[["app-header"]],decls:66,vars:18,consts:[["appLoadingItem","","appScrolled","",3,"scrollY","classList"],[1,"container"],[1,"logoContainer"],[1,"logo"],["href","/gp/",1,"text-color-primary-white"],[1,"navigationContainer"],[3,"ngClass"],[1,"listContainer"],[1,"closeHamburgerMenuContainer"],["type","button",1,"text-color-primary-white",3,"click"],[1,"icon"],[3,"icon"],[3,"ngClass","click"],[1,"title"],[1,"dropdownList","bg-color-primary-white"],["href","/",1,"text-color-primary-black","hover-bg-color-primary-yellow"],[1,"hamburgerMenuContainer"],["type","button","type","button",1,"text-color-primary-white",3,"click"],[1,"getStartBtnContainer"],["href","#about",1,"text-color-primary-white","hover-text-color-primary-black","hover-bg-color-primary-yellow","border-color-primary-yellow"]],template:function(i,r){1&i&&(Se(0,"header",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"a",4)(5,"span"),Qe(6,"gp"),De()()()(),Se(7,"div",5)(8,"nav",6)(9,"div",7)(10,"div",8)(11,"button",9),gi("click",function(){return r.showMobileMenu=!1}),Se(12,"span",10),p1(13,"fa-icon",11),De()()(),Se(14,"ul",6)(15,"li")(16,"a",12),gi("click",function(){return r.goToSection("hero")}),Se(17,"span",13),Qe(18,"home"),De()()(),Se(19,"li")(20,"a",12),gi("click",function(){return r.goToSection("about")}),Se(21,"span",13),Qe(22,"about"),De()()(),Se(23,"li")(24,"a",12),gi("click",function(){return r.goToSection("services")}),Se(25,"span",13),Qe(26,"services"),De()()(),Se(27,"li")(28,"a",12),gi("click",function(){return r.goToSection("team")}),Se(29,"span",13),Qe(30,"team"),De()()(),Se(31,"li")(32,"p",12),gi("click",function(){return r.toggleDropDown()}),Se(33,"span",13),Qe(34,"drop down"),De(),Se(35,"span",10),p1(36,"fa-icon",11),De()(),Se(37,"ul",14)(38,"li")(39,"a",15)(40,"span",13),Qe(41,"drop down 1"),De()()(),Se(42,"li")(43,"a",15)(44,"span",13),Qe(45,"drop down 2"),De()()(),Se(46,"li")(47,"a",15)(48,"span",13),Qe(49,"drop down 3"),De()()(),Se(50,"li")(51,"a",15)(52,"span",13),Qe(53,"drop down 4"),De()()()()(),Se(54,"li")(55,"a",12),gi("click",function(){return r.goToSection("contact")}),Se(56,"span",13),Qe(57,"contact"),De()()()()()(),Se(58,"div",16)(59,"button",17),gi("click",function(){return r.showMobileMenu=!0}),Se(60,"span",10),p1(61,"fa-icon",11),De()()()(),Se(62,"div",18)(63,"a",19)(64,"span"),Qe(65," get started "),De()()()()()),2&i&&(n1("scrollY",100)("classList",Ht(13,W5e)),r1(8),n1("ngClass",gh(14,Y5e,r.showMobileMenu)),r1(5),n1("icon",r.icon.faXmark),r1(1),n1("ngClass",gh(16,X5e,r.showMobileMenu)),r1(2),n1("ngClass",r.showMobileMenu?r.mobileNavStyle("hero"):r.desktopNavStyle("hero")),r1(4),n1("ngClass",r.showMobileMenu?r.mobileNavStyle("about"):r.desktopNavStyle("about")),r1(4),n1("ngClass",r.showMobileMenu?r.mobileNavStyle("services"):r.desktopNavStyle("services")),r1(4),n1("ngClass",r.showMobileMenu?r.mobileNavStyle("team"):r.desktopNavStyle("team")),r1(4),n1("ngClass",r.showMobileMenu?r.mobileNavStyle(""):r.desktopNavStyle("")),r1(4),n1("icon",r.icon.faAngleDown),r1(19),n1("ngClass",r.showMobileMenu?r.mobileNavStyle("contact"):r.desktopNavStyle("contact")),r1(6),n1("icon",r.icon.faBars))},dependencies:[n9,Us,sa,Z5e],styles:['header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-block:16px;transition:.3s background-color}header.scrolled[_ngcontent-%COMP%]{background-color:#000c}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]{margin-inline:0 auto}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h1.logo[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;font-size:2rem;letter-spacing:2px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h1.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h1.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"."}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]{order:3}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{background-color:#000000e6;display:none}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]{display:block;position:fixed;top:0;left:0;width:100%;height:100%;padding:15px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:flex-end;gap:15px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{align-self:stretch;flex:1;display:flex;flex-direction:column;margin:0;list-style:none;padding:10px 0}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul.dropdownList[_ngcontent-%COMP%]{display:flex}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:capitalize;padding:12px 20px;font-size:1rem;font-weight:600;display:block;margin:0}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:space-between}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]{padding:10px 20px;display:none}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.95rem;font-weight:400;font-family:Open Sans,sans-serif}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;display:flex;justify-content:center;align-items:center;width:28px;height:28px;background-color:transparent}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.3rem}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   .hamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;background-color:transparent;border:0}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   .hamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.5rem}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   .hamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .getStartBtnContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px 25px;border-radius:4px;border-width:2px;border-style:solid;white-space:nowrap;font-family:Open Sans,sans-serif;transition:.3s;transition-property:background-color color}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .getStartBtnContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize;font-size:.9rem}@media (min-width: 992px){header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]{order:1;margin:0}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]{order:2}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]{background-color:transparent;display:block;position:static}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{background-color:transparent;display:flex;flex-direction:row;list-style:none;margin:0;padding:0;gap:30px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;margin:0;text-transform:capitalize;font-weight:700;font-size:.95rem;padding-block:10px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{padding-left:5px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul.dropdownList[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul.dropdownList[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:translateY(-30px)}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]{visibility:hidden;opacity:0;position:absolute;top:calc(100% + 30px);left:0;width:200px;padding:10px 0;border-radius:2px;transition:.3s;transition-property:transform opacity;list-style:none}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px;font-size:.9rem;transition:.3s;transition-property:background-color;font-family:Open Sans,sans-serif}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{font-weight:400}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%]{display:none;opacity:0;visibility:hidden}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   .hamburgerMenuContainer[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .getStartBtnContainer[_ngcontent-%COMP%]{order:3}}']}),e})(),qs=(()=>{var t;class e{constructor(i,r,o){this.el=i,this.document=r,this.sectionIndicatorServ=o,this._domElement=i.nativeElement}onScroll(){let i=Number(this.document.defaultView?.scrollY)+100;i>=this._domElement.offsetTop&&i<=this._domElement.offsetTop+this._domElement.offsetHeight&&(this.sectionIndicatorServ.activeSection=this._domElement.id)}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(vr),V1(Bn),V1(IV))},t.\u0275dir=jt({type:t,selectors:[["","appSectionIndicator",""]],hostBindings:function(i,r){1&i&&gi("scroll",function(){return r.onScroll()},0,lv)}}),e})();const Q5e=function(){return["opacity","clearAnimation"]},AE=function(){return["clearAnimation"]};let J5e=(()=>{var t;class e{constructor(){this._icons={faStore:gH,faChartSimple:PM,faCalendarDays:xd,faPaintRoller:PL,faCoins:tL}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-hero"]],decls:38,vars:11,consts:[["id","hero","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"animationsClass"],["appLoadingItem","",1,"heroTitleContainer","fadeUp",3,"animationsClass"],[1,"text-color-primary-white"],["appLoadingItem","",1,"heroBodyContainer","zoomOut","transition-delay-1",3,"animationsClass"],[1,"hover-border-color-primary-yellow","border-color-forest-white"],[1,"icon"],[1,"text-color-primary-yellow",3,"icon"],["href","",1,"title"],[1,"text-color-primary-white","hover-text-color-primary-yellow"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),Qe(4,"Powerful Digital Solutions With Gp"),De(),Se(5,"h3",3),Qe(6,"We are team of talented digital marketers"),De()(),Se(7,"div",4)(8,"article",5)(9,"span",6),p1(10,"fa-icon",7),De(),Se(11,"a",8)(12,"span",9),Qe(13,"Lorem Ipsum"),De()()(),Se(14,"article",5)(15,"span",6),p1(16,"fa-icon",7),De(),Se(17,"a",8)(18,"span",9),Qe(19,"Dolor Sitema"),De()()(),Se(20,"article",5)(21,"span",6),p1(22,"fa-icon",7),De(),Se(23,"a",8)(24,"span",9),Qe(25,"Sedare Perspiciatis"),De()()(),Se(26,"article",5)(27,"span",6),p1(28,"fa-icon",7),De(),Se(29,"a",8)(30,"span",9),Qe(31,"Magni Dolores"),De()()(),Se(32,"article",5)(33,"span",6),p1(34,"fa-icon",7),De(),Se(35,"a",8)(36,"span",9),Qe(37,"Nemos Enimade"),De()()()()()()),2&i&&(r1(1),n1("animationsClass",Ht(8,Q5e)),r1(1),n1("animationsClass",Ht(9,AE)),r1(5),n1("animationsClass",Ht(10,AE)),r1(3),n1("icon",r.icon.faStore),r1(6),n1("icon",r.icon.faChartSimple),r1(6),n1("icon",r.icon.faCalendarDays),r1(6),n1("icon",r.icon.faPaintRoller),r1(6),n1("icon",r.icon.faCoins))},dependencies:[Us,qs,sa],styles:['section#hero[_ngcontent-%COMP%]{padding-block:135px 50px;background-image:url(hero-bg.2d393c7859e5fe2e.jpg);background-position:center top;background-size:cover;position:relative}section#hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0009}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:70px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:8px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;line-height:36px;font-weight:700;position:relative}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"."}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;letter-spacing:1px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;gap:25px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:30px 25px;display:flex;flex-direction:column;align-items:center;flex:1;border-radius:2px;border-width:1px;border-style:solid;gap:12px;transition:.3s border-color}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.7em}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   a.title[_ngcontent-%COMP%]{text-align:center}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   a.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:1.25em;transition:.3s;transition-property:color}@media (min-width: 768px){section#hero[_ngcontent-%COMP%]{padding-block-start:100px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3.5rem;line-height:1.2}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;flex-wrap:wrap}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:0 0 210px}}@media (min-width: 992px){section#hero[_ngcontent-%COMP%]{padding-block-start:120px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{align-self:center;width:550px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;flex-wrap:wrap}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:0 0 auto;width:30%}}@media (min-width: 1200px){section#hero[_ngcontent-%COMP%]{height:100vh;background-attachment:fixed;padding-block-start:180px;display:flex;align-items:center}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:60px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:0 0 166px}}@media (min-width: 1400px){section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:900}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:0 0 195px}}']}),e})();const Yp=function(){return["opacity","clearAnimation"]};let e7e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-about"]],decls:23,vars:9,consts:[["id","about","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"rootMargin","animationsClass"],["appLoadingItem","",1,"imgContainer","fadeLeft","opacityClear",3,"rootMargin","animationsClass"],["src","assets/imgs/about.jpg","alt","img_about"],["appLoadingItem","",1,"textContainer","fadeRight","opacityClear",3,"rootMargin","animationsClass"],[1,"headText"],[1,"text-color-primary-gray"],[1,"text","text-color-primary-gray"],[1,"italicText"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1)(2,"div",2),p1(3,"img",3),De(),Se(4,"div",4)(5,"div",5)(6,"h3",6),Qe(7,"Voluptatem dignissimos provident quasi corporis voluptates sit assumenda."),De()(),Se(8,"div",7)(9,"p",8),Qe(10,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et doloremagna aliqua."),De(),Se(11,"ul")(12,"li")(13,"p"),Qe(14,"Ullamco laboris nisi ut aliquip ex ea commodo consequat."),De()(),Se(15,"li")(16,"p"),Qe(17,"Duis aute irure dolor in reprehenderit in voluptate velit."),De()(),Se(18,"li")(19,"p"),Qe(20,"Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate trideta storacalaperda mastiro dolore eu fugiat nulla pariatur."),De()()(),Se(21,"p"),Qe(22," Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident"),De()()()()()),2&i&&(r1(1),n1("rootMargin",-100)("animationsClass",Ht(6,Yp)),r1(1),n1("rootMargin",0)("animationsClass",Ht(7,Yp)),r1(2),n1("rootMargin",0)("animationsClass",Ht(8,Yp)))},dependencies:[qs,sa],styles:['section#about[_ngcontent-%COMP%]{padding-block:60px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .headText[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.75rem;line-height:1.2}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.3}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.italicText){font-size:1rem;font-family:Open Sans,sans-serif;line-height:1.5}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p.italicText[_ngcontent-%COMP%]{font-style:italic;font-family:Open Sans,sans-serif}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-block:30px 40px;padding-inline:20px;font-family:Open Sans,sans-serif}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{font-family:FontAwesome;content:"\\f00c"}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 6px}@media (min-width: 992px){section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:row-reverse;gap:10px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{flex:1}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{flex:0 0 50%}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p.italicText[_ngcontent-%COMP%]{line-height:1.5;font-size:1rem;margin-block:10px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-block:18px 30px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}']}),e})();const ac=function(){return["opacity","clearAnimation"]};let t7e=(()=>{var t;class e{constructor(){this._icons={faNewspaper:fz,faImages:oL,faShieldHalved:Nd,faCube:Iz}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-features"]],decls:37,vars:25,consts:[["id","features","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"rootMargin","animationsClass"],["appLoadingItem","",1,"imgContainer","fadeRight","opacityClear",3,"rootMargin","animationsClass"],["appLoadingItem","",1,"sectionContent","fadeLeft","opacityClear",3,"rootMargin","animationsClass"],["appLoadingItem","",1,"zoomOut","transition-delay-1","opacityClear",3,"threshold","animationsClass"],[1,"icon"],[1,"text-color-primary-yellow",3,"icon"],[1,"text"],[1,"text-color-primary-gray"],[1,"text-color-secondery-gray"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1),p1(2,"div",2),Se(3,"div",3)(4,"ul")(5,"li",4)(6,"span",5),p1(7,"fa-icon",6),De(),Se(8,"div",7)(9,"h4",8),Qe(10,"Est labore ad"),De(),Se(11,"p",9),Qe(12,"Consequuntur sunt aut quasi enim aliquam quae harum pariatur laboris nisi ut aliquip"),De()()(),Se(13,"li",4)(14,"span",5),p1(15,"fa-icon",6),De(),Se(16,"div",7)(17,"h4",8),Qe(18,"Harum esse qui"),De(),Se(19,"p",9),Qe(20,"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt"),De()()(),Se(21,"li",4)(22,"span",5),p1(23,"fa-icon",6),De(),Se(24,"div",7)(25,"h4",8),Qe(26,"Aut occaecati"),De(),Se(27,"p",9),Qe(28,"Aut suscipit aut cum nemo deleniti aut omnis. Doloribus ut maiores omnis facere"),De()()(),Se(29,"li",4)(30,"span",5),p1(31,"fa-icon",6),De(),Se(32,"div",7)(33,"h4",8),Qe(34,"Beatae veritatis"),De(),Se(35,"p",9),Qe(36,"Expedita veritatis consequuntur nihil tempore laudantium vitae denat pacta"),De()()()()()()()),2&i&&(r1(1),n1("rootMargin",-100)("animationsClass",Ht(18,ac)),r1(1),n1("rootMargin",0)("animationsClass",Ht(19,ac)),r1(1),n1("rootMargin",0)("animationsClass",Ht(20,ac)),r1(2),n1("threshold",1)("animationsClass",Ht(21,ac)),r1(2),n1("icon",r.icon.faNewspaper),r1(6),n1("threshold",1)("animationsClass",Ht(22,ac)),r1(2),n1("icon",r.icon.faImages),r1(6),n1("threshold",1)("animationsClass",Ht(23,ac)),r1(2),n1("icon",r.icon.faShieldHalved),r1(6),n1("threshold",1)("animationsClass",Ht(24,ac)),r1(2),n1("icon",r.icon.faCube))},dependencies:[Us,qs,sa],styles:["section#features[_ngcontent-%COMP%]{padding-block:60px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{min-height:400px;margin-inline:-12px;background-image:url(features.53b506f185bc8a73.jpg);background-size:cover;background-position:center}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-direction:column;gap:30px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:5px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{flex:0 0 70px;font-size:2.6rem;display:flex;justify-content:center}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-family:Raleway,sans-serif}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.5;font-family:Open Sans,sans-serif}@media (min-width: 992px){section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0;flex-direction:row;gap:20px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{flex:0 0 50%;margin:0}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]{flex:1}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}}"]}),e})();const sc=function(){return["opacity","clearAnimation"]};let n7e=(()=>{var t;class e{constructor(){this._icons={faBasketball:Bd,faFileLines:s9,faGaugeSimpleHigh:b9,faEarthAmericas:sl,faDesktop:dp,faArchway:rz}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-services"]],decls:62,vars:21,consts:[["id","services","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"rootMargin","animationsClass"],[1,"sectionTitleContainer"],[1,"text-color-primary-light-gray"],[1,"sectionBodyContainer"],["appLoadingItem","",1,"zoomOut","opacityClear","transition-delay-1",3,"animationsClass"],[1,"articleContainer","border-color-secondery-white"],[1,"iconContainer","bg-color-primary-yellow"],[3,"icon"],[1,"textContainer"],[1,"text-color-primary-black"],[1,"text-color-primary-gray"],["appLoadingItem","",1,"zoomOut","opacityClear","transition-delay-2",3,"animationsClass"],["appLoadingItem","",1,"zoomOut","opacityClear","transition-delay-3",3,"animationsClass"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),Qe(4,"services"),De(),Se(5,"p"),Qe(6,"check our services"),De()(),Se(7,"div",4)(8,"article",5)(9,"div",6)(10,"div",7),p1(11,"fa-icon",8),De(),Se(12,"div",9)(13,"h4",10),Qe(14,"Lorem Ipsum"),De(),Se(15,"p",11),Qe(16,"Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi"),De()()()(),Se(17,"article",12)(18,"div",6)(19,"div",7),p1(20,"fa-icon",8),De(),Se(21,"div",9)(22,"h4",10),Qe(23,"Sed ut perspiciatis"),De(),Se(24,"p",11),Qe(25,"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore"),De()()()(),Se(26,"article",13)(27,"div",6)(28,"div",7),p1(29,"fa-icon",8),De(),Se(30,"div",9)(31,"h4",10),Qe(32,"Magni Dolores"),De(),Se(33,"p",11),Qe(34,"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia"),De()()()(),Se(35,"article",5)(36,"div",6)(37,"div",7),p1(38,"fa-icon",8),De(),Se(39,"div",9)(40,"h4",10),Qe(41,"Nemo Enim"),De(),Se(42,"p",11),Qe(43,"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis"),De()()()(),Se(44,"article",12)(45,"div",6)(46,"div",7),p1(47,"fa-icon",8),De(),Se(48,"div",9)(49,"h4",10),Qe(50,"Dele cardo"),De(),Se(51,"p",11),Qe(52,"Quis consequatur saepe eligendi voluptatem consequatur dolor consequuntur"),De()()()(),Se(53,"article",13)(54,"div",6)(55,"div",7),p1(56,"fa-icon",8),De(),Se(57,"div",9)(58,"h4",10),Qe(59,"Divera don"),De(),Se(60,"p",11),Qe(61,"Modi nostrum vel laborum. Porro fugit error sit minus sapiente sit aspernatur"),De()()()()()()()),2&i&&(r1(1),n1("rootMargin",-100)("animationsClass",Ht(14,sc)),r1(7),n1("animationsClass",Ht(15,sc)),r1(3),n1("icon",r.icon.faBasketball),r1(6),n1("animationsClass",Ht(16,sc)),r1(3),n1("icon",r.icon.faFileLines),r1(6),n1("animationsClass",Ht(17,sc)),r1(3),n1("icon",r.icon.faGaugeSimpleHigh),r1(6),n1("animationsClass",Ht(18,sc)),r1(3),n1("icon",r.icon.faEarthAmericas),r1(6),n1("animationsClass",Ht(19,sc)),r1(3),n1("icon",r.icon.faDesktop),r1(6),n1("animationsClass",Ht(20,sc)),r1(3),n1("icon",r.icon.faArchway))},dependencies:[Us,qs,sa],styles:["section#services[_ngcontent-%COMP%]{padding-block:70px 60px}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:80px 20px;gap:20px;border-width:1px;border-style:solid;position:relative;height:100%;transition:.3s;transition-property:transform border-color}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]:hover{border-color:transparent;transform:translateY(-10px);box-shadow:0 0 25px #0000001a}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;align-items:center;border-radius:4px}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex;font-size:1.4em}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{text-align:center}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.92rem;line-height:1.5}@media (min-width: 768px){section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:1 0 40%}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}@media (min-width: 992px){section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:1 0 30%}}"]}),e})();const i7e=function(){return["clearAnimation","opacity"]};let r7e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-cta"]],decls:9,vars:3,consts:[["id","cta","appSectionIndicator",""],["appLoadingItem","",1,"container","zoomOut","opacityClear",3,"threshold","animationsClass"],[1,"text-color-primary-white"],["href","#hero",1,"text-color-primary-white","hover-border-color-primary-yellow","hover-bg-color-primary-yellow","hover-text-color-primary-black"],[1,"title"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1)(2,"h3",2),Qe(3,"call to action"),De(),Se(4,"p",2),Qe(5,"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),De(),Se(6,"a",3)(7,"span",4),Qe(8,"call to action"),De()()()()),2&i&&(r1(1),n1("threshold",1)("animationsClass",Ht(2,i7e)))},dependencies:[qs,sa],styles:["section#cta[_ngcontent-%COMP%]{background:linear-gradient(rgba(2,2,2,.5),rgba(0,0,0,.5)),url(cta-bg.0d73ea5eca0a997c.jpg);background-attachment:fixed;background-position:center;background-size:cover;padding-block:60px 55px}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{text-align:center}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:capitalize;font-size:1.75em;margin:0}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;line-height:1.4;font-size:1rem;margin-block:10px 25px}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:-moz-fit-content;width:fit-content;margin-inline:auto;border-width:2px;border-style:solid;border-radius:4px;font-size:1rem;letter-spacing:1px;padding:10px 30px;transition:.3s;transition-property:border background-color color}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:600}"]}),e})(),a7e=(()=>{var t;class e{constructor(i,r){this.el=i,this.renderer=r,this._el=i.nativeElement}ngOnInit(){this.renderer.setProperty(this._el,"innerText",this.defValue),this.createObserver()}createObserver(){this._observer=new IntersectionObserver(i=>{i.forEach(r=>{r.isIntersecting&&(this.initInterval(),this._observer.disconnect())})}),this._observer.observe(this._el)}initInterval(){this._setInterval=setInterval(()=>{this.renderer.setProperty(this._el,"innerText",this.defValue),this.defValue++,this.defValue==this.endValue&&clearInterval(this._setInterval)},this.loadDuration/(this.endValue-this.defValue))}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(vr),V1(b6))},t.\u0275dir=jt({type:t,selectors:[["","appCounterLoader",""]],inputs:{defValue:"defValue",endValue:"endValue",loadDuration:"loadDuration"}}),e})();const Xp=function(){return["clearAnimation","opacity"]};let s7e=(()=>{var t;class e{constructor(){this._icons={faFaceSmile:fp,faReceipt:GL,faClock:Xd,faAward:EH}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-counts"]],decls:51,vars:22,consts:[["id","counts","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"animationsClass"],["appLoadingItem","",1,"imgContainer","fadeRight",3,"animationsClass"],["appLoadingItem","",1,"sectionContent","fadeLeft",3,"animationsClass"],[1,"sectionHeadText"],[1,"text-color-primary-black"],[1,"text-color-primary-gray"],[1,"sectionBodyContainer"],[1,"iconContainer"],[1,"icon","text-color-primary-yellow"],[3,"icon"],[1,"textContainer"],["appCounterLoader","",1,"count","text-color-primary-black",3,"defValue","endValue","loadDuration"],[1,"text-color-secondery-black"],[1,"boldText"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1),p1(2,"div",2),Se(3,"div",3)(4,"div",4)(5,"h3",5),Qe(6,"Voluptatem dignissimos provident quasi"),De(),Se(7,"p",6),Qe(8,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Duis aute irure dolor in reprehenderit"),De()(),Se(9,"div",7)(10,"ul")(11,"li")(12,"div",8)(13,"span",9),p1(14,"fa-icon",10),De()(),Se(15,"div",11),p1(16,"span",12),Se(17,"p",13)(18,"span",14),Qe(19,"Happy Clients"),De(),Qe(20," consequuntur voluptas nostrum aliquid ipsam architecto ut."),De()()(),Se(21,"li")(22,"div",8)(23,"span",9),p1(24,"fa-icon",10),De()(),Se(25,"div",11),p1(26,"span",12),Se(27,"p",13)(28,"span",14),Qe(29,"Projects"),De(),Qe(30," adipisci atque cum quia aspernatur totam laudantium et quia dere tan"),De()()(),Se(31,"li")(32,"div",8)(33,"span",9),p1(34,"fa-icon",10),De()(),Se(35,"div",11),p1(36,"span",12),Se(37,"p",13)(38,"span",14),Qe(39,"Years of experience"),De(),Qe(40," aut commodi quaerat modi aliquam nam ducimus aut voluptate non vel"),De()()(),Se(41,"li")(42,"div",8)(43,"span",9),p1(44,"fa-icon",10),De()(),Se(45,"div",11),p1(46,"span",12),Se(47,"p",13)(48,"span",14),Qe(49,"Awards"),De(),Qe(50," rerum asperiores dolor alias quo reprehenderit eum et nemo pad der"),De()()()()()()()()),2&i&&(r1(1),n1("animationsClass",Ht(19,Xp)),r1(1),n1("animationsClass",Ht(20,Xp)),r1(1),n1("animationsClass",Ht(21,Xp)),r1(11),n1("icon",r.icon.faFaceSmile),r1(2),n1("defValue",0)("endValue",65)("loadDuration",2e3),r1(8),n1("icon",r.icon.faReceipt),r1(2),n1("defValue",0)("endValue",85)("loadDuration",2e3),r1(8),n1("icon",r.icon.faClock),r1(2),n1("defValue",0)("endValue",35)("loadDuration",4e3),r1(8),n1("icon",r.icon.faAward),r1(2),n1("defValue",0)("endValue",20)("loadDuration",4e3))},dependencies:[Us,qs,sa,a7e],styles:["section#counts[_ngcontent-%COMP%]{padding-block:80px 50px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{min-height:400px;margin-inline:-12px;background:url(counts-img.4f026aebd46c444f.jpg);background-size:cover;background-position:center}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]{padding:30px 0}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionHeadText[_ngcontent-%COMP%]{padding-inline:12px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionHeadText[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-size:2.1em;line-height:1.2}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionHeadText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;margin-block:8px;line-height:1.4;font-size:1em}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-direction:column;gap:30px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]{flex:0 0 60px;display:flex;justify-content:center;padding-top:20px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:2rem}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-weight:700;font-size:2.3rem}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-block:10px;font-size:.87rem;line-height:1.5}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.boldText[_ngcontent-%COMP%]{font-weight:700}@media (min-width: 768px){section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:20px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1 0 40%}}@media (min-width: 1200px){section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:50px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{flex:0 0 42.5%}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]{padding:0;flex:1}}"]}),e})();var BE={prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},ZE={prefix:"fab",iconName:"skype",icon:[448,512,[],"f17e","M424.7 299.8c2.9-14 4.7-28.9 4.7-43.8 0-113.5-91.9-205.3-205.3-205.3-14.9 0-29.7 1.7-43.8 4.7C161.3 40.7 137.7 32 112 32 50.2 32 0 82.2 0 144c0 25.7 8.7 49.3 23.3 68.2-2.9 14-4.7 28.9-4.7 43.8 0 113.5 91.9 205.3 205.3 205.3 14.9 0 29.7-1.7 43.8-4.7 19 14.6 42.6 23.3 68.2 23.3 61.8 0 112-50.2 112-112 .1-25.6-8.6-49.2-23.2-68.1zm-194.6 91.5c-65.6 0-120.5-29.2-120.5-65 0-16 9-30.6 29.5-30.6 31.2 0 34.1 44.9 88.1 44.9 25.7 0 42.3-11.4 42.3-26.3 0-18.7-16-21.6-42-28-62.5-15.4-117.8-22-117.8-87.2 0-59.2 58.6-81.1 109.1-81.1 55.1 0 110.8 21.9 110.8 55.4 0 16.9-11.4 31.8-30.3 31.8-28.3 0-29.2-33.5-75-33.5-25.7 0-42 7-42 22.5 0 19.8 20.8 21.8 69.1 33 41.4 9.3 90.7 26.8 90.7 77.6 0 59.1-57.1 86.5-112 86.5z"]},eT={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"]},sT={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]},Qp={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},cT={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"]},Jp={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};const bl=function(){return["clearAnimation","opacity"]};let Bge=(()=>{var t;class e{constructor(){this._icons={faTwitter:Jp,faFacebook:cT,faInstagram:Qp,faLinkedin:sT}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-team"]],decls:116,vars:26,consts:[["id","team","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"animationsClass"],[1,"sectionTitleContainer"],[1,"text-color-primary-light-gray"],[1,"sectionBodyContainer"],["appLoadingItem","",1,"fadeUp","opacityClear","transition-delay-1",3,"animationsClass"],[1,"articleContainer"],[1,"imgContainer"],["src","assets/imgs/team/team-1.jpg","alt","team_img"],[1,"socialMediaContainer"],["href","/",1,"bg-color-transparent-white","hover-bg-color-primary-yellow","text-color-primary-gray","hover-text-color-primary-black"],[1,"icon"],[3,"icon"],[1,"textContainer"],[1,"text-color-primary-black"],["appLoadingItem","",1,"fadeUp","opacityClear","transition-delay-2",3,"animationsClass"],["src","assets/imgs/team/team-2.jpg","alt","team_img"],["appLoadingItem","",1,"fadeUp","opacityClear","transition-delay-3",3,"animationsClass"],["src","assets/imgs/team/team-3.jpg","alt","team_img"],["appLoadingItem","",1,"fadeUp","opacityClear","transition-delay-4",3,"animationsClass"],["src","assets/imgs/team/team-4.jpg","alt","team_img"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),Qe(4,"team"),De(),Se(5,"p"),Qe(6,"check our team"),De()(),Se(7,"div",4)(8,"article",5)(9,"div",6)(10,"div",7),p1(11,"img",8),Se(12,"div",9)(13,"ul")(14,"li")(15,"a",10)(16,"span",11),p1(17,"fa-icon",12),De()()(),Se(18,"li")(19,"a",10)(20,"span",11),p1(21,"fa-icon",12),De()()(),Se(22,"li")(23,"a",10)(24,"span",11),p1(25,"fa-icon",12),De()()(),Se(26,"li")(27,"a",10)(28,"span",11),p1(29,"fa-icon",12),De()()()()()(),Se(30,"div",13)(31,"h4",14),Qe(32,"Walter White"),De(),Se(33,"span",3),Qe(34,"Chief Executive Officer"),De()()()(),Se(35,"article",15)(36,"div",6)(37,"div",7),p1(38,"img",16),Se(39,"div",9)(40,"ul")(41,"li")(42,"a",10)(43,"span",11),p1(44,"fa-icon",12),De()()(),Se(45,"li")(46,"a",10)(47,"span",11),p1(48,"fa-icon",12),De()()(),Se(49,"li")(50,"a",10)(51,"span",11),p1(52,"fa-icon",12),De()()(),Se(53,"li")(54,"a",10)(55,"span",11),p1(56,"fa-icon",12),De()()()()()(),Se(57,"div",13)(58,"h4",14),Qe(59,"Sarah Jhonson"),De(),Se(60,"span",3),Qe(61,"Product Manager"),De()()()(),Se(62,"article",17)(63,"div",6)(64,"div",7),p1(65,"img",18),Se(66,"div",9)(67,"ul")(68,"li")(69,"a",10)(70,"span",11),p1(71,"fa-icon",12),De()()(),Se(72,"li")(73,"a",10)(74,"span",11),p1(75,"fa-icon",12),De()()(),Se(76,"li")(77,"a",10)(78,"span",11),p1(79,"fa-icon",12),De()()(),Se(80,"li")(81,"a",10)(82,"span",11),p1(83,"fa-icon",12),De()()()()()(),Se(84,"div",13)(85,"h4",14),Qe(86,"William Anderson"),De(),Se(87,"span",3),Qe(88,"CTO"),De()()()(),Se(89,"article",19)(90,"div",6)(91,"div",7),p1(92,"img",20),Se(93,"div",9)(94,"ul")(95,"li")(96,"a",10)(97,"span",11),p1(98,"fa-icon",12),De()()(),Se(99,"li")(100,"a",10)(101,"span",11),p1(102,"fa-icon",12),De()()(),Se(103,"li")(104,"a",10)(105,"span",11),p1(106,"fa-icon",12),De()()(),Se(107,"li")(108,"a",10)(109,"span",11),p1(110,"fa-icon",12),De()()()()()(),Se(111,"div",13)(112,"h4",14),Qe(113,"Amanda Jepson"),De(),Se(114,"span",3),Qe(115,"Accountant"),De()()()()()()()),2&i&&(r1(1),n1("animationsClass",Ht(21,bl)),r1(7),n1("animationsClass",Ht(22,bl)),r1(9),n1("icon",r.icon.faTwitter),r1(4),n1("icon",r.icon.faFacebook),r1(4),n1("icon",r.icon.faInstagram),r1(4),n1("icon",r.icon.faLinkedin),r1(6),n1("animationsClass",Ht(23,bl)),r1(9),n1("icon",r.icon.faTwitter),r1(4),n1("icon",r.icon.faFacebook),r1(4),n1("icon",r.icon.faInstagram),r1(4),n1("icon",r.icon.faLinkedin),r1(6),n1("animationsClass",Ht(24,bl)),r1(9),n1("icon",r.icon.faTwitter),r1(4),n1("icon",r.icon.faFacebook),r1(4),n1("icon",r.icon.faInstagram),r1(4),n1("icon",r.icon.faLinkedin),r1(6),n1("animationsClass",Ht(25,bl)),r1(9),n1("icon",r.icon.faTwitter),r1(4),n1("icon",r.icon.faFacebook),r1(4),n1("icon",r.icon.faInstagram),r1(4),n1("icon",r.icon.faLinkedin))},dependencies:[Us,qs,sa],styles:["section#team[_ngcontent-%COMP%]{padding-block:80px 70px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:40px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{border-radius:5px;overflow:hidden;border-width:1px;border-style:solid}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]:hover   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(30px)}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{position:relative}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:0;width:100%;opacity:0;visibility:hidden;transition:.3s ease-in-out;transition-property:opacity transform}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 0 15px;padding:0;display:flex;list-style:none;justify-content:center;gap:10px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:4px;display:flex;justify-content:center;align-items:center}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.1rem}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{padding:30px 15px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:600;font-size:1.1rem;margin-bottom:5px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem}@media (min-width: 768px){section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:1 0 40%}}@media (min-width: 992px){section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:1}}"]}),e})();class yT{}class $ge{}const U4="*";function _T(t,e=null){return{type:4,styles:e,timings:t}}function CT(t,e=null){return{type:2,steps:t,options:e}}function W6(t){return{type:6,styles:t,offset:null}}function bT(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class xl{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class xT{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++n==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}const Uge=function jge(t,e){return{type:7,name:t,definitions:e,options:{}}}("opacityInOut",[bT(":enter",[W6({opacity:"0"}),_T("300ms ease-in",W6({opacity:"1"}))]),bT(":leave",[W6({opacity:"1"}),_T("300ms ease-out",W6({opacity:"0"}))])]);let qge=(()=>{var t;class e{constructor(i,r){this.el=i,this.document=r,this._elementRoot=i.nativeElement}onClick(){this.document.defaultView?.scrollTo({top:0,behavior:"smooth"})}}return(t=e).\u0275fac=function(i){return new(i||t)(V1(vr),V1(Bn))},t.\u0275dir=jt({type:t,selectors:[["","appScrollTop",""]],hostBindings:function(i,r){1&i&&gi("click",function(){return r.onClick()})}}),e})();function Gge(t,e){if(1&t&&(Se(0,"div",24)(1,"button",25)(2,"span",13),p1(3,"fa-icon",14),De()()()),2&t){const n=A6();n1("@opacityInOut",void 0),r1(3),n1("icon",n.icon.faArrowUp)}}let Zge=(()=>{var t;class e{constructor(){this._renderUpBtn=!1,this._icons={faTwitter:Jp,faFacebookF:eT,faInstagram:Qp,faSkype:ZE,faLinkedinIn:BE,faArrowUp:XL}}ngOnInit(){}get icon(){return this._icons}get showUpBtn(){return this._renderUpBtn}onScroll(i){this._renderUpBtn=(i.defaultView?.scrollY||0)>100}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-footer"]],hostBindings:function(i,r){1&i&&gi("scroll",function(u){return r.onScroll(u.target)},0,Ef)},decls:74,vars:6,consts:[["class","btnContainer",4,"ngIf"],[1,"topFooter","bg-color-primary-black"],[1,"container"],[1,"footerInfo"],[1,"logoContainer"],[1,"text-color-primary-white"],[1,"addressContainer"],[1,"contactContainer"],[1,"title"],["href","tel:+1 5589 55488 55",1,"text-color-primary-white"],["href","mailto:info@example.com",1,"text-color-primary-white"],[1,"socialContainer"],["href","/",1,"text-color-primary-white","bg-color-secondery-light-gray","hover-bg-color-primary-yellow","hover-text-color-primary-black"],[1,"icon"],[3,"icon"],[1,"footerNavContainer"],["href","#hero",1,"text-color-primary-white","hover-text-color-primary-yellow"],["href","#about",1,"text-color-primary-white","hover-text-color-primary-yellow"],["href","#services",1,"text-color-primary-white","hover-text-color-primary-yellow"],["href","#team",1,"text-color-primary-white","hover-text-color-primary-yellow"],["href","#contact",1,"text-color-primary-white","hover-text-color-primary-yellow"],[1,"bottomFooter","bg-color-black"],[1,"logo"],[1,"year"],[1,"btnContainer"],["appScrollTop","",1,"bg-color-primary-yellow","text-color-primary-black","hover-bg-color-primary-black","hover-text-color-primary-yellow"]],template:function(i,r){1&i&&(Se(0,"footer"),L7(1,Gge,4,2,"div",0),Se(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),Qe(7,"gp"),De()(),Se(8,"div",6)(9,"p",5),Qe(10," a108 adam street"),p1(11,"br"),Qe(12,"NY 535022, USA "),De()(),Se(13,"div",7)(14,"p",5)(15,"span",8),Qe(16,"phone"),De(),Se(17,"a",9),Qe(18,"+1 5589 55488 55"),De(),p1(19,"br"),Se(20,"span",8),Qe(21,"email"),De(),Se(22,"a",10),Qe(23,"info@example.com"),De()(),Se(24,"div",11)(25,"ul")(26,"li")(27,"a",12)(28,"span",13),p1(29,"fa-icon",14),De()()(),Se(30,"li")(31,"a",12)(32,"span",13),p1(33,"fa-icon",14),De()()(),Se(34,"li")(35,"a",12)(36,"span",13),p1(37,"fa-icon",14),De()()(),Se(38,"li")(39,"a",12)(40,"span",13),p1(41,"fa-icon",14),De()()(),Se(42,"li")(43,"a",12)(44,"span",13),p1(45,"fa-icon",14),De()()()()()()(),Se(46,"div",15)(47,"h4",5),Qe(48,"useful links"),De(),Se(49,"nav")(50,"ul")(51,"li")(52,"a",16),Qe(53,"home"),De()(),Se(54,"li")(55,"a",17),Qe(56,"about us"),De()(),Se(57,"li")(58,"a",18),Qe(59,"services"),De()(),Se(60,"li")(61,"a",19),Qe(62,"team"),De()(),Se(63,"li")(64,"a",20),Qe(65,"contact us"),De()()()()()()(),Se(66,"div",21)(67,"p",5),Qe(68,"\xa9 copyright "),Se(69,"span",22),Qe(70,"gp"),De(),Qe(71,". all rights reserved "),Se(72,"span",23),Qe(73,"2023"),De()()()()),2&i&&(r1(1),n1("ngIf",r.showUpBtn),r1(28),n1("icon",r.icon.faTwitter),r1(4),n1("icon",r.icon.faFacebookF),r1(4),n1("icon",r.icon.faInstagram),r1(4),n1("icon",r.icon.faSkype),r1(4),n1("icon",r.icon.faLinkedinIn))},dependencies:[Vb,Us,qge],styles:['footer[_ngcontent-%COMP%]   .btnContainer[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px}footer[_ngcontent-%COMP%]   .btnContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:5px;display:flex;justify-content:center;align-items:center;border:none;cursor:pointer;transition:.4s;transition-property:background-color color}footer[_ngcontent-%COMP%]   .btnContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex;font-size:1rem}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]{padding-block:60px 20px;border-width:1px;border-style:solid}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:uppercase;font-size:1.75rem}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"."}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .addressContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;text-transform:capitalize;line-height:1.6}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]{margin-top:30px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-block:5px;font-size:.9rem;line-height:1.6}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]:after{content:":"}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:5px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   .socialContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;display:flex;list-style:none;gap:8px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   .socialContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:36px;height:36px;border-radius:4px;font-size:.95rem;transition:.3s;transition-property:color background-color}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   .socialContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]{margin-top:5px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:capitalize;font-size:1rem}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:22px;margin-top:18px;padding-inline:14px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:8px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;font-size:.85rem;text-transform:capitalize;transition:.3s color}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{font-size:.7rem;content:"\\f054";font-family:FontAwesome}footer[_ngcontent-%COMP%]   .bottomFooter[_ngcontent-%COMP%]{padding:20px}footer[_ngcontent-%COMP%]   .bottomFooter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;text-transform:capitalize;text-align:center;font-size:.85rem}footer[_ngcontent-%COMP%]   .bottomFooter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.logo[_ngcontent-%COMP%]{font-weight:700}@media (min-width: 768px){footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]{padding-block-end:50px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:row}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}'],data:{animation:[Uge]}}),e})();var tm=Y4(624);const Wge=["map"];let Yge=(()=>{var t;class e{constructor(){this.zoom=10,this.API_KEY="dKUvmwp8VvvHAWns68XF"}ngAfterViewInit(){this.map=new tm.Map({container:this.mapContainer.nativeElement,style:`https://api.maptiler.com/maps/streets-v2/style.json?key=${this.API_KEY}`,center:[this.long,this.lat],zoom:this.zoom}),this.map.addControl(new tm.NavigationControl,"bottom-right"),new tm.Marker({color:"#ffc451"}).setLngLat([this.long,this.lat]).addTo(this.map)}ngOnInit(){}ngOnDestroy(){this.map?.remove()}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-map"]],viewQuery:function(i,r){if(1&i&&N7(Wge,5),2&i){let o;Y8(o=X8())&&(r.mapContainer=o.first)}},inputs:{lat:"lat",long:"long",zoom:"zoom"},decls:2,vars:0,consts:[[1,"map"],["map",""]],template:function(i,r){1&i&&p1(0,"div",0,1)},styles:[".map[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})();const Xge=function(){return["clearAnimation","opacity"]};let Kge=(()=>{var t;class e{constructor(){this._icons={faLocationDot:tp,faEnvelope:SS,faMobileScreenButton:$d}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-contact"]],decls:39,vars:8,consts:[["id","contact","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"animationsClass"],[1,"sectionTitleContainer"],[1,"text-color-primary-light-gray"],[1,"text-color-primary-black"],[1,"sectionBodyContainer"],[1,"mapsContainer","bg-color-primary-black"],[3,"lat","long","zoom"],[1,"contactsContainer"],[1,"iconContainer","bg-color-primary-yellow"],[1,"icon","text-color-primary-black"],[3,"icon"],[1,"textContainer"],[1,"text-color-primary-gray"],["href","mailTo:info@example.com",1,"text-color-primary-gray"],["href","tel:+1 5589 55488 55s",1,"text-color-primary-gray"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),Qe(4,"contact"),De(),Se(5,"p",4),Qe(6,"contact us"),De()(),Se(7,"div",5)(8,"div",6),p1(9,"app-map",7),De(),Se(10,"div",8)(11,"ul")(12,"li")(13,"div",9)(14,"span",10),p1(15,"fa-icon",11),De()(),Se(16,"div",12)(17,"h4",4),Qe(18,"location"),De(),Se(19,"p",13),Qe(20,"A108 Adam Street, New York, NY 535022"),De()()(),Se(21,"li")(22,"div",9)(23,"span",10),p1(24,"fa-icon",11),De()(),Se(25,"div",12)(26,"h4",4),Qe(27,"email"),De(),Se(28,"a",14),Qe(29,"info@example.com"),De()()(),Se(30,"li")(31,"div",9)(32,"span",10),p1(33,"fa-icon",11),De()(),Se(34,"div",12)(35,"h4",4),Qe(36,"call"),De(),Se(37,"a",15),Qe(38,"+1 5589 55488 55s"),De()()()()()()()()),2&i&&(r1(1),n1("animationsClass",Ht(7,Xge)),r1(8),n1("lat",40.71016)("long",-74.00596)("zoom",16),r1(6),n1("icon",r.icon.faLocationDot),r1(9),n1("icon",r.icon.faEnvelope),r1(9),n1("icon",r.icon.faMobileScreenButton))},dependencies:[Us,qs,sa,Yge],styles:['section#contact[_ngcontent-%COMP%]{padding-block:60px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:40px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:60px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .mapsContainer[_ngcontent-%COMP%]{width:100%;height:270px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-direction:column;gap:40px;margin:0}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:15px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]{flex:0 0 44px;height:44px;align-self:flex-start;border-radius:4px;display:flex;justify-content:center;align-items:center}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.3rem}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{flex:1}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:capitalize;position:relative;font-size:1.35rem;margin-bottom:8px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{content:":"}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.88rem}@media (min-width: 1400px){section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:row}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}}']}),e})();var Y6=function(){return Y6=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Y6.apply(this,arguments)};function wT(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function zT(t){return Array.prototype.slice.call(t)}function ST(t,e){var n=Math.floor(t);return n===e||n+1===e?t:e}function LT(){return Date.now()}function nm(t,e,n){if(e="data-keen-slider-"+e,null===n)return t.removeAttribute(e);t.setAttribute(e,n||"")}function $9(t,e){return e=e||document,"function"==typeof t&&(t=t(e)),Array.isArray(t)?t:"string"==typeof t?zT(e.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?zT(t):[]}function Ml(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function wl(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function HT(){var t=[];return{add:function(e,n,i,r){e.addListener?e.addListener(i):e.addEventListener(n,i,r),t.push([e,n,i,r])},input:function(e,n,i,r){var o;this.add(e,n,(o=i,function(u){u.nativeEvent&&(u=u.nativeEvent);var h=u.changedTouches||[],p=u.targetTouches||[],y=u.detail&&u.detail.x?u.detail:null;return o({id:y?y.identifier?y.identifier:"i":p[0]?p[0]?p[0].identifier:"e":"d",idChanged:y?y.identifier?y.identifier:"i":h[0]?h[0]?h[0].identifier:"e":"d",raw:u,x:y&&y.x?y.x:p[0]?p[0].screenX:y?y.x:u.pageX,y:y&&y.y?y.y:p[0]?p[0].screenY:y?y.y:u.pageY})}),r)},purge:function(){t.forEach(function(e){e[0].removeListener?e[0].removeListener(e[2]):e[0].removeEventListener(e[1],e[2],e[3])}),t=[]}}}function im(t,e,n){return Math.min(Math.max(t,e),n)}function oa(t){return(t>0?1:0)-(t<0?1:0)||+t}function VT(t){var e=t.getBoundingClientRect();return{height:ST(e.height,t.offsetHeight),width:ST(e.width,t.offsetWidth)}}function er(t,e,n,i){var r=t&&t[e];return null==r?n:i&&"function"==typeof r?r():r}function v3(t){return Math.round(1e6*t)/1e6}function eve(t){var e,n,i,r,o,u,h,p;function y(Z){return 2*Z}function w(Z){return im(Z,h,p)}function z(Z){return 1-Math.pow(1-Z,3)}function E(){return i?t.track.velocity():0}function k(Z,F){void 0===F&&(F=1e3);var q=147e-9+(Z=Math.abs(Z))/F;return{dist:Math.pow(Z,2)/q,dur:Z/q}}function B(){var Z=t.track.details;Z&&(o=Z.min,u=Z.max,h=Z.minIdx,p=Z.maxIdx)}function j(){t.animator.stop()}t.on("updated",B),t.on("optionsChanged",B),t.on("created",B),t.on("dragStarted",function(){i=!1,j(),e=n=t.track.details.abs}),t.on("dragChecked",function(){i=!0}),t.on("dragEnded",function(){var Z=t.options.mode;"snap"===Z&&function(){var F=t.track,q=t.track.details,ee=q.position,ve=oa(E());(ee>u||ee<o)&&(ve=0);var Ee=e+ve;0===q.slides[F.absToRel(Ee)].portion&&(Ee-=ve),e!==n&&(Ee=n),oa(F.idxToDist(Ee,!0))!==ve&&(Ee+=ve),Ee=w(Ee);var Te=F.idxToDist(Ee,!0);t.animator.start([{distance:Te,duration:500,easing:function(Ve){return 1+--Ve*Ve*Ve*Ve*Ve}}])}(),"free"!==Z&&"free-snap"!==Z||function D(){j();var Z="free-snap"===t.options.mode,F=t.track,q=E();r=oa(q);var ee=t.track.details,ve=[];if(q||!Z){var Ee=k(q),Te=Ee.dist,Ve=Ee.dur;if(Ve=y(Ve),Te*=r,Z){var me=F.idxToDist(F.distToIdx(Te),!0);me&&(Te=me)}ve.push({distance:Te,duration:Ve,easing:z});var e1=ee.position,Oe=e1+Te;if(Oe<o||Oe>u){var Ne=Oe<o?o-e1:u-e1,He=0,ie=q;if(oa(Ne)===r){var xe=Math.min(Math.abs(Ne)/Math.abs(Te),1),pe=(1-Math.pow(1-xe,1/3))*Ve;ve[0].earlyExit=pe,ie=q*(1-xe)}else ve[0].earlyExit=0,He+=Ne;var he=k(ie,100),Me=he.dist*r;t.options.rubberband&&(ve.push({distance:Me,duration:y(he.dur),easing:z}),ve.push({distance:-Me+He,duration:500,easing:z}))}t.animator.start(ve)}else t.moveToIdx(w(ee.abs),!0,{duration:500,easing:function(Le){return 1+--Le*Le*Le*Le*Le}})}()}),t.on("dragged",function(){n=t.track.details.abs})}function tve(t){var e,n,i,r,o,u,h,p,y,w,z,E,D,k,B,j,Z,F,q=HT();function ee(He){if(u&&p===He.id){var ie=Ve(He);if(y){if(!Te(He))return Ee(He);w=ie,y=!1,t.emit("dragChecked")}if(j)return w=ie;Ml(He);var xe=function(he){if(Z===-1/0&&F===1/0)return he;var Me=t.track.details,Le=Me.length,u1=Me.position,D1=im(he,Z-u1,F-u1);if(0===Le)return 0;if(!t.options.rubberband)return D1;if(u1<=F&&u1>=Z||u1<Z&&n>0||u1>F&&n<0)return he;var F1=Math.abs((u1<Z?u1-Z:u1-F)/Le*(r*Le)),Sn=Math.max(0,1-F1/o*2);return Sn*Sn*he}(h(w-ie)/r*i);n=oa(xe);var pe=t.track.details.position;(pe>Z&&pe<F||pe===Z&&n>0||pe===F&&n<0)&&wl(He),z+=xe,!E&&Math.abs(z*r)>5&&(E=!0),t.track.add(xe),w=ie,t.emit("dragged")}}function ve(He){!u&&t.track.details&&t.track.details.length&&(z=0,u=!0,E=!1,y=!0,p=He.id,Te(He),w=Ve(He),t.emit("dragStarted"))}function Ee(He){u&&p===He.idChanged&&(u=!1,t.emit("dragEnded"))}function Te(He){var ie=me(),xe=ie?He.y:He.x,pe=ie?He.x:He.y,he=void 0!==D&&void 0!==k&&Math.abs(k-pe)<=Math.abs(D-xe);return D=xe,k=pe,he}function Ve(He){return me()?He.y:He.x}function me(){return t.options.vertical}function e1(){r=t.size,o=me()?window.innerHeight:window.innerWidth;var He=t.track.details;He&&(Z=He.min,F=He.max)}function Oe(He){E&&(wl(He),Ml(He))}function Ne(){if(q.purge(),t.options.drag&&!t.options.disabled){var He;h="function"==typeof(He=t.options.dragSpeed||1)?He:function(xe){return xe*He},i=t.options.rtl?-1:1,e1(),e=t.container,$9("[".concat("data-keen-slider-clickable","]:not([").concat("data-keen-slider-clickable","=false])"),e).map(function(pe){q.add(pe,"dragstart",wl),q.add(pe,"mousedown",wl),q.add(pe,"touchstart",wl)}),q.add(e,"dragstart",function(xe){Ml(xe)}),q.add(e,"click",Oe,{capture:!0}),q.input(e,"ksDragStart",ve),q.input(e,"ksDrag",ee),q.input(e,"ksDragEnd",Ee),q.input(e,"mousedown",ve),q.input(e,"mousemove",ee),q.input(e,"mouseleave",Ee),q.input(e,"mouseup",Ee),q.input(e,"touchstart",ve,{passive:!0}),q.input(e,"touchmove",ee,{passive:!1}),q.input(e,"touchend",Ee),q.input(e,"touchcancel",Ee),q.add(window,"wheel",function(xe){u&&Ml(xe)});var ie="data-keen-slider-scrollable";$9("[".concat(ie,"]:not([").concat(ie,"=false])"),t.container).map(function(xe){return q.input(pe=xe,"touchstart",function(Me){he=Ve(Me),j=!0,B=!0},{passive:!0}),q.input(pe,"touchmove",function(Me){var Le=me(),u1=Le?pe.scrollHeight-pe.clientHeight:pe.scrollWidth-pe.clientWidth,D1=he-Ve(Me),tt=Le?pe.scrollTop:pe.scrollLeft,M1=Le&&"scroll"===pe.style.overflowY||!Le&&"scroll"===pe.style.overflowX;if(he=Ve(Me),(D1<0&&tt>0||D1>0&&tt<u1)&&B&&M1)return j=!0;B=!1,Ml(Me),j=!1}),void q.input(pe,"touchend",function(){j=!1});var pe,he})}}t.on("updated",e1),t.on("optionsChanged",Ne),t.on("created",Ne),t.on("destroyed",q.purge)}function nve(t){var e,n,i=null;function r(D,k,B){t.animator.active?u(D,k,B):requestAnimationFrame(function(){return u(D,k,B)})}function o(){r(!1,!1,n)}function u(D,k,B){var j=0,Z=t.size,F=t.track.details;if(F&&e){var q=F.slides;e.forEach(function(ee,ve){if(D)!i&&k&&p(ee,null,B),y(ee,null,B);else{if(!q[ve])return;var Ee=q[ve].size*Z;!i&&k&&p(ee,Ee,B),y(ee,q[ve].distance*Z-j,B),j+=Ee}})}}function h(D){return"performance"===t.options.renderMode?Math.round(D):D}function p(D,k,B){var j=B?"height":"width";null!==k&&(k=h(k)+"px"),D.style["min-"+j]=k,D.style["max-"+j]=k}function y(D,k,B){if(null!==k){k=h(k);var j=B?k:0;k="translate3d(".concat(B?0:k,"px, ").concat(j,"px, 0)")}D.style.transform=k,D.style["-webkit-transform"]=k}function w(){e&&(u(!0,!0,n),e=null),t.on("detailsChanged",o,!0)}function z(){r(!1,!0,n)}function E(){w(),n=t.options.vertical,t.options.disabled||"custom"===t.options.renderMode||(i="auto"===er(t.options.slides,"perView",null),t.on("detailsChanged",o),(e=t.slides).length&&z())}t.on("created",E),t.on("optionsChanged",E),t.on("beforeOptionsChanged",function(){w()}),t.on("updated",z),t.on("destroyed",w)}function ive(t,e){return function(n){var i,r,o,u,p,y=HT();function w(Ve){nm(n.container,"reverse","rtl"!==window.getComputedStyle(n.container,null).getPropertyValue("direction")||Ve?null:""),nm(n.container,"v",n.options.vertical&&!Ve?"":null),nm(n.container,"disabled",n.options.disabled&&!Ve?"":null)}function z(){E()&&Z()}function E(){var Ve=null;if(u.forEach(function(e1){e1.matches&&(Ve=e1.__media)}),Ve===i)return!1;i||n.emit("beforeOptionsChanged"),i=Ve;var me=Ve?o.breakpoints[Ve]:o;return n.options=Y6(Y6({},o),me),w(),Ee(),Te(),q(),!0}function D(Ve){var me=VT(Ve);return(n.options.vertical?me.height:me.width)/n.size||1}function k(){return n.options.trackConfig.length}function B(Ve){for(var me in i=!1,o=Y6(Y6({},e),Ve),y.purge(),r=n.size,u=[],o.breakpoints||[]){var e1=window.matchMedia(me);e1.__media=me,u.push(e1),y.add(e1,"change",z)}y.add(window,"orientationchange",ve),y.add(window,"resize",ee),E()}function j(Ve){n.animator.stop();var me=n.track.details;n.track.init(Ve??(me?me.abs:0))}function Z(Ve){j(Ve),n.emit("optionsChanged")}function F(Ve,me){if(Ve)return B(Ve),void Z(me);Ee(),Te();var e1=k();q(),k()!==e1?Z(me):j(me),n.emit("updated")}function q(){var Ve=n.options.slides;if("function"==typeof Ve)return n.options.trackConfig=Ve(n.size,n.slides);for(var me=n.slides,Oe="number"==typeof Ve?Ve:er(Ve,"number",me.length,!0),Ne=[],He=er(Ve,"perView",1,!0),ie=er(Ve,"spacing",0,!0)/n.size||0,xe="auto"===He?ie:ie/He,pe=er(Ve,"origin","auto"),he=0,Me=0;Me<Oe;Me++){var Le="auto"===He?D(me[Me]):1/He-ie+xe;Ne.push({origin:"center"===pe?.5-Le/2:"auto"===pe?0:pe,size:Le,spacing:ie}),he+=Le}if(he+=ie*(Oe-1),"auto"===pe&&!n.options.loop&&1!==He){var D1=0;Ne.map(function(tt){var M1=he-D1;return D1+=tt.size+ie,M1>=1||(tt.origin=1-M1-(he>1?0:1-he)),tt})}n.options.trackConfig=Ne}function ee(){Ee();var Ve=n.size;n.options.disabled||Ve===r||(r=Ve,F())}function ve(){ee(),setTimeout(ee,500),setTimeout(ee,2e3)}function Ee(){var Ve=VT(n.container);n.size=(n.options.vertical?Ve.height:Ve.width)||1}function Te(){n.slides=$9(n.options.selector,n.container)}n.container=(p=$9(t,document)).length?p[0]:null,n.destroy=function(){y.purge(),n.emit("destroyed"),w(!0)},n.prev=function(){n.moveToIdx(n.track.details.abs-1,!0)},n.next=function(){n.moveToIdx(n.track.details.abs+1,!0)},n.update=F,B(n.options)}}var ET=function(t,e,n){try{return i=e,r=wT([ive(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),nve,tve,eve],n||[],!0),u={},o={emit:function(h){u[h]&&u[h].forEach(function(y){y(o)});var p=o.options&&o.options[h];p&&p(o)},moveToIdx:function(h,p,y){var w=o.track.idxToDist(h,p);if(w){var z=o.options.defaultAnimation;o.animator.start([{distance:w,duration:er(y||z,"duration",500),easing:er(y||z,"easing",function(E){return 1+--E*E*E*E*E})}])}},on:function(h,p,y){void 0===y&&(y=!1),u[h]||(u[h]=[]);var w=u[h].indexOf(p);w>-1?y&&delete u[h][w]:y||u[h].push(p)},options:i},function(){if(o.track=function Jge(t){var e,n,i,r,o,u,h,p,y,w,z,E,D,k,B=1/0,j=[],Z=null,F=0;function q(ie){Ne(F+ie)}function ee(ie){var xe=ve(F+ie).abs;return Ve(xe)?xe:null}function ve(ie){var xe=Math.floor(Math.abs(v3(ie/n))),pe=v3((ie%n+n)%n);pe===n&&(pe=0);var he=oa(ie),Me=h.indexOf(wT([],h,!0).reduce(function(u1,D1){return Math.abs(D1-pe)<Math.abs(u1-pe)?D1:u1})),Le=Me;return he<0&&xe++,Me===u&&(Le=0,xe+=he>0?1:-1),{abs:Le+xe*u*he,origin:Me,rel:Le}}function Ee(ie,xe,pe){var he;if(xe||!e1())return Te(ie,pe);if(!Ve(ie))return null;var Me=ve(pe??F),u1=ie-Me.rel,D1=Me.abs+u1;he=Te(D1);var tt=Te(D1-u*oa(u1));return(null!==tt&&Math.abs(tt)<Math.abs(he)||null===he)&&(he=tt),v3(he)}function Te(ie,xe){if(null==xe&&(xe=v3(F)),!Ve(ie)||null===ie)return null;ie=Math.round(ie);var pe=ve(xe),he=pe.abs,Me=pe.rel,Le=pe.origin,u1=Oe(ie),D1=(xe%n+n)%n,tt=h[Le],M1=Math.floor((ie-(he-Me))/u)*n;return v3(tt-D1-tt+h[u1]+M1+(Le===u?n:0))}function Ve(ie){return me(ie)===ie}function me(ie){return im(ie,y,w)}function e1(){return r.loop}function Oe(ie){return(ie%u+u)%u}function Ne(ie){j.push({distance:ie-F,timestamp:LT()}),j.length>6&&(j=j.slice(-6)),F=v3(ie);var pe=He().abs;if(pe!==Z){var he=null!==Z;Z=pe,he&&t.emit("slideChanged")}}function He(ie){var xe=ie?null:function(){if(u){var pe=e1(),he=pe?(F%n+n)%n:F,Me=(pe?F%n:F)-o[0][2],Le=0-(Me<0&&pe?n-Math.abs(Me):Me),u1=0,D1=ve(F),tt=D1.abs,M1=D1.rel,F1=o[M1][2],Sn=o.map(function(J2,b2){var a2=Le+u1;(a2<0-J2[0]||a2>1)&&(a2+=(Math.abs(a2)>n-1&&pe?n:0)*oa(-a2));var Jn=b2-M1,Ka=oa(Jn),b3=Jn+tt;pe&&(-1===Ka&&a2>F1&&(b3+=u),1===Ka&&a2<F1&&(b3-=u),null!==z&&b3<z&&(a2+=n),null!==E&&b3>E&&(a2-=n));var vc=a2+J2[0]+J2[1],f0=Math.max(a2>=0&&vc<=1?1:vc<0||a2>1?0:a2<0?Math.min(1,(J2[0]+a2)/J2[0]):(1-a2)/J2[0],0);return u1+=J2[0]+J2[1],{abs:b3,distance:r.rtl?-1*a2+1-J2[0]:a2,portion:f0,size:J2[0]}});return tt=me(tt),M1=Oe(tt),{abs:me(tt),length:i,max:k,maxIdx:w,min:D,minIdx:y,position:F,progress:pe?he/n:F/i,rel:M1,slides:Sn,slidesLength:n}}}();return e.details=xe,t.emit("detailsChanged"),xe}return e={absToRel:Oe,add:q,details:null,distToIdx:ee,idxToDist:Ee,init:function(ie){if(function(){if(o=((r=t.options).trackConfig||[]).map(function(Me){return[er(Me,"size",1),er(Me,"spacing",0),er(Me,"origin",0)]}),u=o.length){n=v3(o.reduce(function(Me,Le){return Me+Le[0]+Le[1]},0));var pe,he=u-1;i=v3(n+o[0][2]-o[he][0]-o[he][2]-o[he][1]),h=o.reduce(function(Me,Le){if(!Me)return[0];var u1=o[Me.length-1],D1=Me[Me.length-1]+(u1[0]+u1[2])+u1[1];return Me[Me.length-1]>(D1-=Le[2])&&(D1=Me[Me.length-1]),D1=v3(D1),Me.push(D1),(!pe||pe<D1)&&(p=Me.length-1),pe=D1,Me},null),0===i&&(p=0),h.push(v3(n))}}(),!u)return He(!0);var xe;(function(){var pe=t.options.range,he=t.options.loop;z=y=he?er(he,"min",-1/0):0,E=w=he?er(he,"max",B):p;var Me=er(pe,"min",null),Le=er(pe,"max",null);null!==Me&&(y=Me),null!==Le&&(w=Le),D=y===-1/0?y:t.track.idxToDist(y||0,!0,0),k=w===B?w:Ee(w,!0,0),null===Le&&(E=w),er(pe,"align",!1)&&w!==B&&0===o[Oe(w)][2]&&(k-=1-o[Oe(w)][0],w=ee(k-F)),D=v3(D),k=v3(k)})(),xe=ie,Number(xe)===xe?q(Te(me(ie))):He()},to:Ne,velocity:function(){var ie=LT(),xe=j.reduce(function(pe,he){var Me=he.distance,Le=he.timestamp;return ie-Le>200||(oa(Me)!==oa(pe.distance)&&pe.distance&&(pe={distance:0,lastTimestamp:0,time:0}),pe.time&&(pe.distance+=Me),pe.lastTimestamp&&(pe.time+=Le-pe.lastTimestamp),pe.lastTimestamp=Le),pe},{distance:0,lastTimestamp:0,time:0});return xe.distance/xe.time||0}}}(o),o.animator=function Qge(t){var e,n,i,r,o,u;function h(E){u||(u=E),p(!0);var D=E-u;D>i&&(D=i);var k=r[n];if(k[3]<D)return n++,h(E);var j=k[4],Z=k[0],F=k[1]*(0,k[5])(0===j?1:(D-k[2])/j);if(F&&t.track.to(Z+F),D<i)return w();u=null,p(!1),y(null),t.emit("animationEnded")}function p(E){e.active=E}function y(E){e.targetIdx=E}function w(){o=window.requestAnimationFrame(h)}function z(){window.cancelAnimationFrame(o),p(!1),y(null),u&&t.emit("animationStopped"),u=null}return e={active:!1,start:function(E){if(z(),t.track.details){var D=0,k=t.track.details.position;n=0,i=0,r=E.map(function(B){var j,Z=Number(k),F=null!==(j=B.earlyExit)&&void 0!==j?j:B.duration,q=B.easing,ee=B.distance*q(F/B.duration)||0;return k+=ee,D+=ee,[Z,B.distance,i,i+=F,B.duration,q]}),y(t.track.distToIdx(D)),w(),t.emit("animationStarted")}},stop:z,targetIdx:null}}(o),r)for(var h=0,p=r;h<p.length;h++)(0,p[h])(o);o.track.init(o.options.initial||0),o.emit("created")}(),o}catch(i){console.error(i)}var i,r,o,u};const rve=["slidersContainer"];function ave(t,e){if(1&t){const n=Qf();Se(0,"button",15),gi("click",function(){const o=P0(n).index;return $c(A6().slider.moveToIdx(o))}),De()}2&t&&n1("ngClass",e.index==A6().currentSlide?"bg-color-primary-yellow":"bg-color-gray")}const sve=function(){return["clearAnimation","opacity"]};let ove=(()=>{var t;class e{constructor(){this.dots=[],this.currentSlide=1}ngAfterViewInit(){setTimeout(()=>{this.slider=new ET(this.sliderContainer.nativeElement,{loop:!0,breakpoints:{"(min-width: 320px)":{slides:{perView:2,spacing:40}},"(min-width: 480px)":{slides:{perView:3,spacing:60}},"(min-width: 640px)":{slides:{perView:4,spacing:80}},"(min-width: 992px)":{slides:{perView:6,spacing:120}}},initial:this.currentSlide,slideChanged:i=>{this.currentSlide=i.track.details.rel}},[i=>{let r,o=!1;function u(){clearTimeout(r)}function h(){clearTimeout(r),!o&&(r=setTimeout(()=>{i.next()},5e3))}i.on("created",()=>{i.container.addEventListener("mouseover",()=>{o=!0,u()}),i.container.addEventListener("mouseout",()=>{o=!1,h()}),h()}),i.on("dragStarted",u),i.on("animationEnded",h),i.on("updated",h)}]),this.dots=[...Array(this.slider.track.details.slides.length).keys()]})}ngOnDestroy(){this.slider&&this.slider.destroy()}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-clients-swipper"]],viewQuery:function(i,r){if(1&i&&N7(rve,5),2&i){let o;Y8(o=X8())&&(r.sliderContainer=o.first)}},decls:22,vars:3,consts:[["id","clients"],["appLoadingItem","",1,"container","zoomOut","opacityClear",3,"animationsClass"],[1,"slidersContainer","keen-slider"],["slidersContainer",""],[1,"slideContainer","keen-slider__slide"],["alt","client-1","src","assets/imgs/clients/client-1.png"],["alt","client-2","src","assets/imgs/clients/client-2.png"],["alt","client-3","src","assets/imgs/clients/client-3.png"],["alt","client-4","src","assets/imgs/clients/client-4.png"],["alt","client-5","src","assets/imgs/clients/client-5.png"],["alt","client-6","src","assets/imgs/clients/client-6.png"],["alt","client-7","src","assets/imgs/clients/client-7.png"],["alt","client-8","src","assets/imgs/clients/client-8.png"],[1,"dotsContainer"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1)(2,"div",2,3)(4,"div",4),p1(5,"img",5),De(),Se(6,"div",4),p1(7,"img",6),De(),Se(8,"div",4),p1(9,"img",7),De(),Se(10,"div",4),p1(11,"img",8),De(),Se(12,"div",4),p1(13,"img",9),De(),Se(14,"div",4),p1(15,"img",10),De(),Se(16,"div",4),p1(17,"img",11),De(),Se(18,"div",4),p1(19,"img",12),De()(),Se(20,"div",13),L7(21,ave,1,1,"button",14),De()()()),2&i&&(r1(1),n1("animationsClass",Ht(2,sve)),r1(20),n1("ngForOf",r.dots))},dependencies:[n9,sd,sa],styles:["section#clients[_ngcontent-%COMP%]{padding-block:40px 70px}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .slidersContainer[_ngcontent-%COMP%]   .slideContainer[_ngcontent-%COMP%]{display:flex;align-items:center}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .slidersContainer[_ngcontent-%COMP%]   .slideContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:auto;height:auto;max-width:100%;max-height:100%;filter:grayscale(1);opacity:.5;transition:.3s;transition-property:filter opacity}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .slidersContainer[_ngcontent-%COMP%]   .slideContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{filter:none;opacity:1}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;display:block;width:12px;height:12px;border-radius:50%;border:none}"]}),e})();const cve=["slidersContainer"];function lve(t,e){if(1&t){const n=Qf();Se(0,"button",17),gi("click",function(){const o=P0(n).index;return $c(A6().slider.moveToIdx(o))}),De()}if(2&t){const n=e.index;n1("ngClass",A6().currentSlide==n?"bg-color-primary-yellow active":"bg-color-transparent-white-primary")}}const uve=function(){return["opacity","clearAnimation"]};let fve=(()=>{var t;class e{constructor(){this.dots=[],this.currentSlide=1}ngAfterViewInit(){setTimeout(()=>{this.slider=new ET(this.sliderContainer.nativeElement,{loop:!0,initial:this.currentSlide,slideChanged:i=>{this.currentSlide=i.track.details.rel}},[i=>{let r,o=!1;function u(){clearTimeout(r)}function h(){clearTimeout(r),!o&&(r=setTimeout(()=>{i.next()},5e3))}i.on("created",()=>{i.container.addEventListener("mouseover",()=>{o=!0,u()}),i.container.addEventListener("mouseout",()=>{o=!1,h()}),h()}),i.on("dragStarted",u),i.on("animationEnded",h),i.on("updated",h)}]),this.dots=[...Array(this.slider.track.details.slides.length).keys()]})}ngOnDestroy(){this.slider&&this.slider.destroy()}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-testimonials-swipper"]],viewQuery:function(i,r){if(1&i&&N7(cve,5),2&i){let o;Y8(o=X8())&&(r.sliderContainer=o.first)}},decls:66,vars:4,consts:[["id","testimonials"],["appLoadingItem","",1,"container","fadeUp","zoomOut","opacityClear",3,"rootMargin","animationsClass"],[1,"keen-slider","sliderContainer"],["slidersContainer",""],[1,"keen-slider__slide","testimonials-item","sliderItem","text-color-primary-white"],[1,"userInfoContainer"],[1,"imgContainer","border-color-transparent-white-primary"],["src","assets/imgs/testimonials/testimonials-1.jpg","alt","testimonials-1"],[1,"titleContainer"],[1,"msgContainer","text-color-secondery-white"],[1,"before-text-color-secondery-white","after-text-color-secondery-white"],["src","assets/imgs/testimonials/testimonials-2.jpg","alt","testimonials-2"],["src","assets/imgs/testimonials/testimonials-3.jpg","alt","testimonials-3"],["src","assets/imgs/testimonials/testimonials-4.jpg","alt","testimonials-4"],["src","assets/imgs/testimonials/testimonials-5.jpg","alt","testimonials-5"],[1,"dotsContainer"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"]],template:function(i,r){1&i&&(Se(0,"section",0)(1,"div",1)(2,"div",2,3)(4,"div",4)(5,"div",5)(6,"div",6),p1(7,"img",7),De(),Se(8,"div",8)(9,"h3"),Qe(10,"saul goodman"),De(),Se(11,"p"),Qe(12,"ceo & founder"),De()()(),Se(13,"div",9)(14,"p",10),Qe(15,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),De()()(),Se(16,"div",4)(17,"div",5)(18,"div",6),p1(19,"img",11),De(),Se(20,"div",8)(21,"h3"),Qe(22,"saul goodman"),De(),Se(23,"p"),Qe(24,"ceo & founder"),De()()(),Se(25,"div",9)(26,"p",10),Qe(27,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),De()()(),Se(28,"div",4)(29,"div",5)(30,"div",6),p1(31,"img",12),De(),Se(32,"div",8)(33,"h3"),Qe(34,"saul goodman"),De(),Se(35,"p"),Qe(36,"ceo & founder"),De()()(),Se(37,"div",9)(38,"p",10),Qe(39,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),De()()(),Se(40,"div",4)(41,"div",5)(42,"div",6),p1(43,"img",13),De(),Se(44,"div",8)(45,"h3"),Qe(46,"saul goodman"),De(),Se(47,"p"),Qe(48,"ceo & founder"),De()()(),Se(49,"div",9)(50,"p",10),Qe(51,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),De()()(),Se(52,"div",4)(53,"div",5)(54,"div",6),p1(55,"img",14),De(),Se(56,"div",8)(57,"h3"),Qe(58,"saul goodman"),De(),Se(59,"p"),Qe(60,"ceo & founder"),De()()(),Se(61,"div",9)(62,"p",10),Qe(63,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),De()()()(),Se(64,"div",15),L7(65,lve,1,1,"button",16),De()()()),2&i&&(r1(1),n1("rootMargin",-100)("animationsClass",Ht(3,uve)),r1(64),n1("ngForOf",r.dots))},dependencies:[n9,sd,sa],styles:['section#testimonials[_ngcontent-%COMP%]{background:url(testimonials-bg.faada32349dedc98.jpg);background-position:center;background-attachment:fixed;position:relative;background-size:cover;padding-block:90px 100px}section#testimonials[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000000b3}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;transform-origin:bottom center}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;border-width:6px;border-style:solid;overflow:hidden}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .titleContainer[_ngcontent-%COMP%]{text-align:center;text-transform:capitalize}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .titleContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .titleContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin-top:5px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]{text-align:center;font-family:Open Sans,sans-serif;font-style:italic;line-height:2}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto;width:80%;position:relative}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{font-family:FontAwesome;position:relative;font-size:1.4rem}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\\f10d";bottom:8px;margin-right:8px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"\\f10e";top:8px;margin-left:8px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:30px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;display:block;width:12px;height:12px;border-radius:50%;border:none;opacity:.5}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{opacity:1}']}),e})(),hve=(()=>{var t;class e{constructor(){this.title="gp"}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["app-root"]],decls:13,vars:0,template:function(i,r){1&i&&(p1(0,"app-header")(1,"app-hero"),Se(2,"main"),p1(3,"app-about")(4,"app-features")(5,"app-clients-swipper")(6,"app-services")(7,"app-cta")(8,"app-counts")(9,"app-testimonials-swipper")(10,"app-team")(11,"app-contact"),De(),p1(12,"app-footer"))},dependencies:[K5e,J5e,e7e,t7e,n7e,r7e,s7e,Bge,Zge,Kge,ove,fve]}),e})();function TT(t){return new qe(3e3,!1)}function Gs(t){switch(t.length){case 0:return new xl;case 1:return t[0];default:return new xT(t)}}function DT(t,e,n=new Map,i=new Map){const r=[],o=[];let u=-1,h=null;if(e.forEach(p=>{const y=p.get("offset"),w=y==u,z=w&&h||new Map;p.forEach((E,D)=>{let k=D,B=E;if("offset"!==D)switch(k=t.normalizePropertyName(k,r),B){case"!":B=n.get(D);break;case U4:B=i.get(D);break;default:B=t.normalizeStyleValue(D,k,B,r)}z.set(k,B)}),w||o.push(z),h=z,u=y}),r.length)throw function Ive(t){return new qe(3502,!1)}();return o}function rm(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&am(n,"start",t)));break;case"done":t.onDone(()=>i(n&&am(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&am(n,"destroy",t)))}}function am(t,e,n){const o=sm(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),u=t._data;return null!=u&&(o._data=u),o}function sm(t,e,n,i,r="",o=0,u){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Gr(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function PT(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Zve=(()=>typeof document>"u"?null:document.documentElement)();function om(t){const e=t.parentNode||t.host||null;return e===Zve?null:e}let oc=null,AT=!1;function IT(t,e){for(;e;){if(e===t)return!0;e=om(e)}return!1}function kT(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const i=t.querySelector(e);return i?[i]:[]}let NT=(()=>{var t;class e{validateStyleProperty(i){return function Yve(t){oc||(oc=function Xve(){return typeof document<"u"?document.body:null}()||{},AT=!!oc.style&&"WebkitAppearance"in oc.style);let e=!0;return oc.style&&!function Wve(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in oc.style,!e&&AT&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in oc.style)),e}(i)}matchesElement(i,r){return!1}containsElement(i,r){return IT(i,r)}getParentElement(i){return om(i)}query(i,r,o){return kT(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,u,h,p=[],y){return new xl(o,u)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})(),cm=(()=>{class e{}return e.NOOP=new NT,e})();const Kve=1e3,lm="ng-enter",j9="ng-leave",U9="ng-trigger",q9=".ng-trigger",RT="ng-animating",um=".ng-animating";function q4(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fm(parseFloat(e[1]),e[2])}function fm(t,e){return"s"===e?t*Kve:t}function G9(t,e,n){return t.hasOwnProperty("duration")?t:function Jve(t,e,n){let r,o=0,u="";if("string"==typeof t){const h=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(TT()),{duration:0,delay:0,easing:""};r=fm(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(o=fm(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else r=t;if(!n){let h=!1,p=e.length;r<0&&(e.push(function dve(){return new qe(3100,!1)}()),h=!0),o<0&&(e.push(function pve(){return new qe(3101,!1)}()),h=!0),h&&e.splice(p,0,TT())}return{duration:r,delay:o,easing:u}}(t,e,n)}function zl(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function FT(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Zs(t,e=new Map,n){if(n)for(let[i,r]of n)e.set(i,r);for(let[i,r]of t)e.set(i,r);return e}function Wa(t,e,n){e.forEach((i,r)=>{const o=dm(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function cc(t,e){e.forEach((n,i)=>{const r=dm(i);t.style[r]=""})}function Sl(t){return Array.isArray(t)?1==t.length?t[0]:CT(t):t}const hm=new RegExp("{{\\s*(.+?)\\s*}}","g");function $T(t){let e=[];if("string"==typeof t){let n;for(;n=hm.exec(t);)e.push(n[1]);hm.lastIndex=0}return e}function Ll(t,e,n){const i=t.toString(),r=i.replace(hm,(o,u)=>{let h=e[u];return null==h&&(n.push(function gve(t){return new qe(3003,!1)}()),h=""),h.toString()});return r==i?t:r}function Z9(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const nye=/-+([a-z0-9])/g;function dm(t){return t.replace(nye,(...e)=>e[1].toUpperCase())}function Zr(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function vve(t){return new qe(3004,!1)}()}}function jT(t,e){return window.getComputedStyle(t)[e]}const W9="*";function aye(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function sye(t,e,n){if(":"==t[0]){const p=function oye(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(function Tve(t){return new qe(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof p)return void e.push(p);t=p}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function Eve(t){return new qe(3015,!1)}()),e;const r=i[1],o=i[2],u=i[3];e.push(UT(r,u));"<"==o[0]&&!(r==W9&&u==W9)&&e.push(UT(u,r))}(i,n,e)):n.push(t),n}const Y9=new Set(["true","1"]),X9=new Set(["false","0"]);function UT(t,e){const n=Y9.has(t)||X9.has(t),i=Y9.has(e)||X9.has(e);return(r,o)=>{let u=t==W9||t==r,h=e==W9||e==o;return!u&&n&&"boolean"==typeof r&&(u=r?Y9.has(t):X9.has(t)),!h&&i&&"boolean"==typeof o&&(h=o?Y9.has(e):X9.has(e)),u&&h}}const cye=new RegExp("s*:selfs*,?","g");function pm(t,e,n,i){return new lye(t).build(e,n,i)}class lye{constructor(e){this._driver=e}build(e,n,i){const r=new hye(n);return this._resetContextStyleTimingState(r),Zr(this,Sl(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&n.errors.push(function _ve(){return new qe(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(n),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,o.push(this.visitState(p,n))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,n);i+=p.queryCount,r+=p.depCount,u.push(p)}else n.errors.push(function Cve(){return new qe(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,n){const i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{$T(p).forEach(y=>{u.hasOwnProperty(y)||o.add(y)})})}),o.size&&(Z9(o.values()),n.errors.push(function bve(t,e){return new qe(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const i=Zr(this,Sl(e.animation),n);return{type:1,matchers:aye(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:lc(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(i=>Zr(this,i,n)),options:lc(e.options)}}visitGroup(e,n){const i=n.currentTime;let r=0;const o=e.steps.map(u=>{n.currentTime=i;const h=Zr(this,u,n);return r=Math.max(r,n.currentTime),h});return n.currentTime=r,{type:3,steps:o,options:lc(e.options)}}visitAnimate(e,n){const i=function pye(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return mm(G9(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=mm(0,0,"");return o.dynamic=!0,o.strValue=n,o}const r=G9(n,e);return mm(r.duration,r.delay,r.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:W6({});if(5==o.type)r=this.visitKeyframes(o,n);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=W6(y)}n.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,n);p.isEmptyStep=h,r=p}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,n){const i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===U4?i.push(h):n.errors.push(new qe(3002,!1)):i.push(FT(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let p of h.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){const i=n.currentAnimateTimings;let r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,p)=>{const y=n.collectedStyles.get(n.currentQuerySelector),w=y.get(p);let z=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(n.errors.push(function Mve(t,e,n,i,r){return new qe(3010,!1)}()),z=!1),o=w.startTime),z&&y.set(p,{startTime:o,endTime:r}),n.options&&function tye(t,e,n){const i=e.params||{},r=$T(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(function mve(t){return new qe(3001,!1)}())})}(h,n.options,n.errors)})})}visitKeyframes(e,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function wve(){return new qe(3011,!1)}()),i;let o=0;const u=[];let h=!1,p=!1,y=0;const w=e.steps.map(Z=>{const F=this._makeStyleAst(Z,n);let q=null!=F.offset?F.offset:function dye(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(F.styles),ee=0;return null!=q&&(o++,ee=F.offset=q),p=p||ee<0||ee>1,h=h||ee<y,y=ee,u.push(ee),F});p&&n.errors.push(function zve(){return new qe(3012,!1)}()),h&&n.errors.push(function Sve(){return new qe(3200,!1)}());const z=e.steps.length;let E=0;o>0&&o<z?n.errors.push(function Lve(){return new qe(3202,!1)}()):0==o&&(E=1/(z-1));const D=z-1,k=n.currentTime,B=n.currentAnimateTimings,j=B.duration;return w.forEach((Z,F)=>{const q=E>0?F==D?1:E*F:u[F],ee=q*j;n.currentTime=k+B.delay+ee,B.duration=ee,this._validateStyleAst(Z,n),Z.offset=q,i.styles.push(Z)}),i}visitReference(e,n){return{type:8,animation:Zr(this,Sl(e.animation),n),options:lc(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:lc(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:lc(e.options)}}visitQuery(e,n){const i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;const[o,u]=function uye(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(cye,"")),t=t.replace(/@\*/g,q9).replace(/@\w+/g,n=>q9+"-"+n.slice(1)).replace(/:animating/g,um),[t,e]}(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Gr(n.collectedStyles,n.currentQuerySelector,new Map);const h=Zr(this,Sl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:lc(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Hve(){return new qe(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:G9(e.timings,n.errors,!0);return{type:12,animation:Zr(this,Sl(e.animation),n),timings:i,options:null}}}class hye{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lc(t){return t?(t=zl(t)).params&&(t.params=function fye(t){return t?zl(t):null}(t.params)):t={},t}function mm(t,e,n){return{duration:t,delay:e,easing:n}}function gm(t,e,n,i,r,o,u=null,h=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class K9{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const vye=new RegExp(":enter","g"),_ye=new RegExp(":leave","g");function vm(t,e,n,i,r,o=new Map,u=new Map,h,p,y=[]){return(new Cye).buildKeyframes(t,e,n,i,r,o,u,h,p,y)}class Cye{buildKeyframes(e,n,i,r,o,u,h,p,y,w=[]){y=y||new K9;const z=new ym(e,n,y,r,o,w,[]);z.options=p;const E=p.delay?q4(p.delay):0;z.currentTimeline.delayNextStep(E),z.currentTimeline.setStyles([u],null,z.errors,p),Zr(this,i,z);const D=z.timelines.filter(k=>k.containsAnimation());if(D.length&&h.size){let k;for(let B=D.length-1;B>=0;B--){const j=D[B];if(j.element===n){k=j;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([h],null,z.errors,p)}return D.length?D.map(k=>k.buildKeyframes()):[gm(n,[],[],[],0,E,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&n.transformIntoNewTimeline(u)}n.previousNode=e}visitAnimateRef(e,n){const i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(const r of e){const o=r?.delay;if(o){const u="number"==typeof o?o:q4(Ll(o,r?.params??{},n.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime;const u=null!=i.duration?q4(i.duration):null,h=null!=i.delay?q4(i.delay):null;return 0!==u&&e.forEach(p=>{const y=n.appendInstructionToTimeline(p,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Zr(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const i=n.subContextCount;let r=n;const o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Q9);const u=q4(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Zr(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const i=[];let r=n.currentTimeline.currentTime;const o=e.options&&e.options.delay?q4(e.options.delay):0;e.steps.forEach(u=>{const h=n.createSubContext(e.options);o&&h.delayNextStep(o),Zr(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>n.currentTimeline.mergeTimelineCollectedStyles(u)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const i=e.strValue;return G9(n.params?Ll(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,h=n.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*o),h.setStyles(p.styles,p.easing,n.errors,n.options),h.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(h),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){const i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?q4(r.delay):0;o&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Q9);let u=i;const h=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=h.length;let p=null;h.forEach((y,w)=>{n.currentQueryIndex=w;const z=n.createSubContext(e.options,y);o&&z.delayNextStep(o),y===n.element&&(p=z.currentTimeline),Zr(this,e.animation,z),z.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,z.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(u),p&&(n.currentTimeline.mergeTimelineCollectedStyles(p),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const i=n.parentContext,r=n.currentTimeline,o=e.timings,u=Math.abs(o.duration),h=u*(n.currentQueryTotal-1);let p=u*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const w=n.currentTimeline;p&&w.delayNextStep(p);const z=w.currentTime;Zr(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-z+(r.startTime-i.currentTimeline.startTime)}}const Q9={};class ym{constructor(e,n,i,r,o,u,h,p){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Q9,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new J9(this._driver,n,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=q4(i.duration)),null!=i.delay&&(r.delay=q4(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!n||!u.hasOwnProperty(h))&&(u[h]=Ll(o[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){const r=n||this.element,o=new ym(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Q9,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){const r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new bye(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(vye,"."+this._enterClassName)).replace(_ye,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&u.push(function Vve(t){return new qe(3014,!1)}()),h}}class J9{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new J9(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||U4),this._currentKeyframe.set(n,U4);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);const o=r&&r.params||{},u=function xye(t,e){const n=new Map;let i;return t.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)n.set(o,U4)}else Zs(r,n)}),n}(e,this._globalTimelineStyles);for(let[h,p]of u){const y=Ll(p,o,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??U4),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=Zs(h,new Map,this._backFill);y.forEach((w,z)=>{"!"===w?e.add(z):w===U4&&n.add(z)}),i||y.set("offset",p/this.duration),r.push(y)});const o=e.size?Z9(e.values()):[],u=n.size?Z9(n.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return gm(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class bye extends J9{constructor(e,n,i,r,o,u,h=!1){super(e,n,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],u=i+n,h=n/u,p=Zs(e[0]);p.set("offset",0),o.push(p);const y=Zs(e[0]);y.set("offset",ZT(h)),o.push(y);const w=e.length-1;for(let z=1;z<=w;z++){let E=Zs(e[z]);const D=E.get("offset");E.set("offset",ZT((n+D*i)/u)),o.push(E)}i=u,n=0,r="",e=o}return gm(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function ZT(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class _m{}const Mye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wye extends _m{normalizePropertyName(e,n){return dm(e)}normalizeStyleValue(e,n,i,r){let o="";const u=i.toString().trim();if(Mye.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function yve(t,e){return new qe(3005,!1)}())}return u+o}}function WT(t,e,n,i,r,o,u,h,p,y,w,z,E){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:w,totalTime:z,errors:E}}const Cm={};class YT{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return function zye(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,u,h,p,y,w){const z=[],E=this.ast.options&&this.ast.options.params||Cm,k=this.buildStyles(i,h&&h.params||Cm,z),B=p&&p.params||Cm,j=this.buildStyles(r,B,z),Z=new Set,F=new Map,q=new Map,ee="void"===r,ve={params:Sye(B,E),delay:this.ast.options?.delay},Ee=w?[]:vm(e,n,this.ast.animation,o,u,k,j,ve,y,z);let Te=0;if(Ee.forEach(me=>{Te=Math.max(me.duration+me.delay,Te)}),z.length)return WT(n,this._triggerName,i,r,ee,k,j,[],[],F,q,Te,z);Ee.forEach(me=>{const e1=me.element,Oe=Gr(F,e1,new Set);me.preStyleProps.forEach(He=>Oe.add(He));const Ne=Gr(q,e1,new Set);me.postStyleProps.forEach(He=>Ne.add(He)),e1!==n&&Z.add(e1)});const Ve=Z9(Z.values());return WT(n,this._triggerName,i,r,ee,k,j,Ee,Ve,F,q,Te)}}function Sye(t,e){const n=zl(e);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(n[i]=t[i]);return n}class Lye{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){const i=new Map,r=zl(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=Ll(u,r,n));const p=this.normalizer.normalizePropertyName(h,n);u=this.normalizer.normalizeStyleValue(h,p,u,n),i.set(h,u)})}),i}}class Vye{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new Lye(r.style,r.options&&r.options.params||{},i))}),XT(this.states,"true","1"),XT(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new YT(e,r,this.states))}),this.fallbackTransition=function Eye(t,e,n){return new YT(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(u=>u.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}function XT(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Tye=new K9;class Dye{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const i=[],o=pm(this._driver,n,i,[]);if(i.length)throw function kve(t){return new qe(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,n,i){const r=e.element,o=DT(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){const r=[],o=this._animations.get(e);let u;const h=new Map;if(o?(u=vm(this._driver,n,o,lm,j9,new Map,new Map,i,Tye,r),u.forEach(w=>{const z=Gr(h,w.element,new Map);w.postStyleProps.forEach(E=>z.set(E,null))})):(r.push(function Nve(){return new qe(3300,!1)}()),u=[]),r.length)throw function Ove(t){return new qe(3504,!1)}();h.forEach((w,z)=>{w.forEach((E,D)=>{w.set(D,this._driver.computeStyle(z,D,U4))})});const y=Gs(u.map(w=>{const z=h.get(w.element);return this._buildPlayer(w,new Map,z)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function Rve(t){return new qe(3301,!1)}();return n}listen(e,n,i,r){const o=sm(n,"","","");return rm(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,n,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const KT="ng-animate-queued",bm="ng-animate-disabled",Nye=[],QT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Oye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ca="__ng_removed";class xm{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const i=e&&e.hasOwnProperty("value");if(this.value=function $ye(t){return t??null}(i?e.value:e),i){const o=zl(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const Hl="void",Mm=new xm(Hl);class Rye{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,y3(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw function Fve(t,e){return new qe(3302,!1)}();if(null==i||0==i.length)throw function Bve(t){return new qe(3303,!1)}();if(!function jye(t){return"start"==t||"done"==t}(i))throw function $ve(t,e){return new qe(3400,!1)}();const o=Gr(this._elementListeners,e,[]),u={name:n,phase:i,callback:r};o.push(u);const h=Gr(this._engine.statesByElement,e,new Map);return h.has(n)||(y3(e,U9),y3(e,U9+"-"+n),h.set(n,Mm)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(u);p>=0&&o.splice(p,1),this._triggers.has(n)||h.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function jve(t){return new qe(3401,!1)}();return n}trigger(e,n,i,r=!0){const o=this._getTrigger(n),u=new wm(this.id,n,e);let h=this._engine.statesByElement.get(e);h||(y3(e,U9),y3(e,U9+"-"+n),this._engine.statesByElement.set(e,h=new Map));let p=h.get(n);const y=new xm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h.set(n,y),p||(p=Mm),y.value!==Hl&&p.value===y.value){if(!function Gye(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(p.params,y.params)){const B=[],j=o.matchStyles(p.value,p.params,B),Z=o.matchStyles(y.value,y.params,B);B.length?this._engine.reportError(B):this._engine.afterFlush(()=>{cc(e,j),Wa(e,Z)})}return}const E=Gr(this._engine.playersByElement,e,[]);E.forEach(B=>{B.namespaceId==this.id&&B.triggerName==n&&B.queued&&B.destroy()});let D=o.matchTransition(p.value,y.value,e,y.params),k=!1;if(!D){if(!r)return;D=o.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:D,fromState:p,toState:y,player:u,isFallbackTransition:k}),k||(y3(e,KT),u.onStart(()=>{X6(e,KT)})),u.onDone(()=>{let B=this.players.indexOf(u);B>=0&&this.players.splice(B,1);const j=this._engine.playersByElement.get(e);if(j){let Z=j.indexOf(u);Z>=0&&j.splice(Z,1)}}),this.players.push(u),E.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const i=this._engine.driver.query(e,q9,!0);i.forEach(r=>{if(r[ca])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const h=[];if(o.forEach((p,y)=>{if(u.set(y,p.value),this._triggers.has(y)){const w=this.trigger(e,y,Hl,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,u),i&&Gs(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){const r=new Set;n.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const p=this._triggers.get(u).fallbackTransition,y=i.get(u)||Mm,w=new xm(Hl),z=new wm(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:p,fromState:y,toState:w,player:z,isFallbackTransition:!0})})}}removeNode(e,n){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{const o=e[ca];(!o||o===QT)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){y3(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=sm(o,i.triggerName,i.fromState.value,i.toState.value);p._data=e,rm(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Fye{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){const i=new Rye(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(n);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}return n}trigger(e,n,i,r){if(eu(n)){const o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!eu(n))return;const o=n[ca];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(n);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),y3(e,bm)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),X6(e,bm))}removeNode(e,n,i){if(eu(n)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);const o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[ca]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return eu(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,q9,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,um,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[ca];if(n&&n.setForRemoval){if(e[ca]=QT,n.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(bm)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)y3(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?Gs(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Uve(t){return new qe(3402,!1)}()}_flushAnimations(e,n){const i=new K9,r=[],o=new Map,u=[],h=new Map,p=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(pe=>{w.add(pe);const he=this.driver.query(pe,".ng-animate-queued",!0);for(let Me=0;Me<he.length;Me++)w.add(he[Me])});const z=this.bodyNode,E=Array.from(this.statesByElement.keys()),D=tD(E,this.collectedEnterElements),k=new Map;let B=0;D.forEach((pe,he)=>{const Me=lm+B++;k.set(he,Me),pe.forEach(Le=>y3(Le,Me))});const j=[],Z=new Set,F=new Set;for(let pe=0;pe<this.collectedLeaveElements.length;pe++){const he=this.collectedLeaveElements[pe],Me=he[ca];Me&&Me.setForRemoval&&(j.push(he),Z.add(he),Me.hasAnimation?this.driver.query(he,".ng-star-inserted",!0).forEach(Le=>Z.add(Le)):F.add(he))}const q=new Map,ee=tD(E,Array.from(Z));ee.forEach((pe,he)=>{const Me=j9+B++;q.set(he,Me),pe.forEach(Le=>y3(Le,Me))}),e.push(()=>{D.forEach((pe,he)=>{const Me=k.get(he);pe.forEach(Le=>X6(Le,Me))}),ee.forEach((pe,he)=>{const Me=q.get(he);pe.forEach(Le=>X6(Le,Me))}),j.forEach(pe=>{this.processLeaveNode(pe)})});const ve=[],Ee=[];for(let pe=this._namespaceList.length-1;pe>=0;pe--)this._namespaceList[pe].drainQueuedTransitions(n).forEach(Me=>{const Le=Me.player,u1=Me.element;if(ve.push(Le),this.collectedEnterElements.length){const b2=u1[ca];if(b2&&b2.setForMove){if(b2.previousTriggersValues&&b2.previousTriggersValues.has(Me.triggerName)){const a2=b2.previousTriggersValues.get(Me.triggerName),Jn=this.statesByElement.get(Me.element);if(Jn&&Jn.has(Me.triggerName)){const Ka=Jn.get(Me.triggerName);Ka.value=a2,Jn.set(Me.triggerName,Ka)}}return void Le.destroy()}}const D1=!z||!this.driver.containsElement(z,u1),tt=q.get(u1),M1=k.get(u1),F1=this._buildInstruction(Me,i,M1,tt,D1);if(F1.errors&&F1.errors.length)return void Ee.push(F1);if(D1)return Le.onStart(()=>cc(u1,F1.fromStyles)),Le.onDestroy(()=>Wa(u1,F1.toStyles)),void r.push(Le);if(Me.isFallbackTransition)return Le.onStart(()=>cc(u1,F1.fromStyles)),Le.onDestroy(()=>Wa(u1,F1.toStyles)),void r.push(Le);const Sn=[];F1.timelines.forEach(b2=>{b2.stretchStartingKeyframe=!0,this.disabledNodes.has(b2.element)||Sn.push(b2)}),F1.timelines=Sn,i.append(u1,F1.timelines),u.push({instruction:F1,player:Le,element:u1}),F1.queriedElements.forEach(b2=>Gr(h,b2,[]).push(Le)),F1.preStyleProps.forEach((b2,a2)=>{if(b2.size){let Jn=p.get(a2);Jn||p.set(a2,Jn=new Set),b2.forEach((Ka,b3)=>Jn.add(b3))}}),F1.postStyleProps.forEach((b2,a2)=>{let Jn=y.get(a2);Jn||y.set(a2,Jn=new Set),b2.forEach((Ka,b3)=>Jn.add(b3))})});if(Ee.length){const pe=[];Ee.forEach(he=>{pe.push(function qve(t,e){return new qe(3505,!1)}())}),ve.forEach(he=>he.destroy()),this.reportError(pe)}const Te=new Map,Ve=new Map;u.forEach(pe=>{const he=pe.element;i.has(he)&&(Ve.set(he,he),this._beforeAnimationBuild(pe.player.namespaceId,pe.instruction,Te))}),r.forEach(pe=>{const he=pe.element;this._getPreviousPlayers(he,!1,pe.namespaceId,pe.triggerName,null).forEach(Le=>{Gr(Te,he,[]).push(Le),Le.destroy()})});const me=j.filter(pe=>iD(pe,p,y)),e1=new Map;eD(e1,this.driver,F,y,U4).forEach(pe=>{iD(pe,p,y)&&me.push(pe)});const Ne=new Map;D.forEach((pe,he)=>{eD(Ne,this.driver,new Set(pe),p,"!")}),me.forEach(pe=>{const he=e1.get(pe),Me=Ne.get(pe);e1.set(pe,new Map([...he?.entries()??[],...Me?.entries()??[]]))});const He=[],ie=[],xe={};u.forEach(pe=>{const{element:he,player:Me,instruction:Le}=pe;if(i.has(he)){if(w.has(he))return Me.onDestroy(()=>Wa(he,Le.toStyles)),Me.disabled=!0,Me.overrideTotalTime(Le.totalTime),void r.push(Me);let u1=xe;if(Ve.size>1){let tt=he;const M1=[];for(;tt=tt.parentNode;){const F1=Ve.get(tt);if(F1){u1=F1;break}M1.push(tt)}M1.forEach(F1=>Ve.set(F1,u1))}const D1=this._buildAnimation(Me.namespaceId,Le,Te,o,Ne,e1);if(Me.setRealPlayer(D1),u1===xe)He.push(Me);else{const tt=this.playersByElement.get(u1);tt&&tt.length&&(Me.parentPlayer=Gs(tt)),r.push(Me)}}else cc(he,Le.fromStyles),Me.onDestroy(()=>Wa(he,Le.toStyles)),ie.push(Me),w.has(he)&&r.push(Me)}),ie.forEach(pe=>{const he=o.get(pe.element);if(he&&he.length){const Me=Gs(he);pe.setRealPlayer(Me)}}),r.forEach(pe=>{pe.parentPlayer?pe.syncPlayerEvents(pe.parentPlayer):pe.destroy()});for(let pe=0;pe<j.length;pe++){const he=j[pe],Me=he[ca];if(X6(he,j9),Me&&Me.hasAnimation)continue;let Le=[];if(h.size){let D1=h.get(he);D1&&D1.length&&Le.push(...D1);let tt=this.driver.query(he,um,!0);for(let M1=0;M1<tt.length;M1++){let F1=h.get(tt[M1]);F1&&F1.length&&Le.push(...F1)}}const u1=Le.filter(D1=>!D1.destroyed);u1.length?Uye(this,he,u1):this.processLeaveNode(he)}return j.length=0,He.forEach(pe=>{this.players.push(pe),pe.onDone(()=>{pe.destroy();const he=this.players.indexOf(pe);this.players.splice(he,1)}),pe.play()}),He}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let u=[];if(n){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const p=!o||o==Hl;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,n,i){const o=n.element,u=n.isRemovalTransition?void 0:e,h=n.isRemovalTransition?void 0:n.triggerName;for(const p of n.timelines){const y=p.element,w=y!==o,z=Gr(i,y,[]);this._getPreviousPlayers(y,w,u,h,n.toState).forEach(D=>{const k=D.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),D.destroy(),z.push(D)})}cc(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,u){const h=n.triggerName,p=n.element,y=[],w=new Set,z=new Set,E=n.timelines.map(k=>{const B=k.element;w.add(B);const j=B[ca];if(j&&j.removedBeforeQueried)return new xl(k.duration,k.delay);const Z=B!==p,F=function qye(t){const e=[];return nD(t,e),e}((i.get(B)||Nye).map(Te=>Te.getRealPlayer())).filter(Te=>!!Te.element&&Te.element===B),q=o.get(B),ee=u.get(B),ve=DT(this._normalizer,k.keyframes,q,ee),Ee=this._buildPlayer(k,ve,F);if(k.subTimeline&&r&&z.add(B),Z){const Te=new wm(e,h,B);Te.setRealPlayer(Ee),y.push(Te)}return Ee});y.forEach(k=>{Gr(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function Bye(t,e,n){let i=t.get(e);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}return i}(this.playersByQueriedElement,k.element,k))}),w.forEach(k=>y3(k,RT));const D=Gs(E);return D.onDestroy(()=>{w.forEach(k=>X6(k,RT)),Wa(p,n.toStyles)}),z.forEach(k=>{Gr(r,k,[]).push(D)}),D}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new xl(e.duration,e.delay)}}class wm{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new xl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>rm(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Gr(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function eu(t){return t&&1===t.nodeType}function JT(t,e){const n=t.style.display;return t.style.display=e??"none",n}function eD(t,e,n,i,r){const o=[];n.forEach(p=>o.push(JT(p)));const u=[];i.forEach((p,y)=>{const w=new Map;p.forEach(z=>{const E=e.computeStyle(y,z,r);w.set(z,E),(!E||0==E.length)&&(y[ca]=Oye,u.push(y))}),t.set(y,w)});let h=0;return n.forEach(p=>JT(p,o[h++])),u}function tD(t,e){const n=new Map;if(t.forEach(h=>n.set(h,[])),0==e.length)return n;const r=new Set(e),o=new Map;function u(h){if(!h)return 1;let p=o.get(h);if(p)return p;const y=h.parentNode;return p=n.has(y)?y:r.has(y)?1:u(y),o.set(h,p),p}return e.forEach(h=>{const p=u(h);1!==p&&n.get(p).push(h)}),n}function y3(t,e){t.classList?.add(e)}function X6(t,e){t.classList?.remove(e)}function Uye(t,e,n){Gs(n).onDone(()=>t.processLeaveNode(e))}function nD(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof xT?nD(i.players,e):e.push(i)}}function iD(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}class tu{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Fye(e,n,i),this._timelineEngine=new Dye(e,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,i,r,o){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],w=pm(this._driver,o,p,[]);if(p.length)throw function Ave(t,e){return new qe(3404,!1)}();h=function Hye(t,e,n){return new Vye(t,e,n)}(r,w,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(n,r,h)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if("@"==i.charAt(0)){const[o,u]=PT(i);this._timelineEngine.command(o,n,u,r)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if("@"==i.charAt(0)){const[u,h]=PT(i);return this._timelineEngine.listen(u,n,h,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Wye=(()=>{class e{constructor(i,r,o){this._element=i,this._startStyles=r,this._endStyles=o,this._state=0;let u=e.initialStylesByElement.get(i);u||e.initialStylesByElement.set(i,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Wa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wa(this._element,this._initialStyles),this._endStyles&&(Wa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(cc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cc(this._element,this._endStyles),this._endStyles=null),Wa(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function zm(t){let e=null;return t.forEach((n,i)=>{(function Yye(t){return"display"===t||"position"===t})(i)&&(e=e||new Map,e.set(i,n))}),e}class rD{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:jT(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class Xye{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return IT(e,n)}getParentElement(e){return om(e)}query(e,n,i){return kT(e,n,i)}computeStyle(e,n,i){return window.getComputedStyle(e)[n]}animate(e,n,i,r,o,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const y=new Map,w=u.filter(D=>D instanceof rD);(function iye(t,e){return 0===t||0===e})(i,r)&&w.forEach(D=>{D.currentSnapshot.forEach((k,B)=>y.set(B,k))});let z=function eye(t){return t.length?t[0]instanceof Map?t:t.map(e=>FT(e)):[]}(n).map(D=>Zs(D));z=function rye(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<e.length;o++){let u=e[o];r.forEach(h=>u.set(h,jT(t,h)))}}return e}(e,z,y);const E=function Zye(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=zm(e[0]),e.length>1&&(i=zm(e[e.length-1]))):e instanceof Map&&(n=zm(e)),n||i?new Wye(t,n,i):null}(e,z);return new rD(e,z,p,E)}}let Kye=(()=>{var t;class e extends yT{constructor(i,r){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(r.body,{id:"0",encapsulation:Tn.None,styles:[],data:{animation:[]}})}build(i){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(i)?CT(i):i;return aD(this._renderer,null,r,"register",[o]),new Qye(r,this._renderer)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(T8),w1(Bn))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();class Qye extends $ge{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new Jye(this._id,e,n||{},this._renderer)}}class Jye{constructor(e,n,i,r){this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return aD(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function aD(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const sD="@.disabled";let e_e=(()=>{var t;class e{constructor(i,r,o){this.delegate=i,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(u,h)=>{const p=h?.parentNode(u);p&&h.removeChild(p,u)}}createRenderer(i,r){const u=this.delegate.createRenderer(i,r);if(!(i&&r&&r.data&&r.data.animation)){let z=this._rendererCache.get(u);return z||(z=new oD("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,z)),z}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,i);const y=z=>{Array.isArray(z)?z.forEach(y):this.engine.registerTrigger(h,p,i,z.name,z)};return r.data.animation.forEach(y),new t_e(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,r,o){i>=0&&i<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[h,p]=u;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(T8),w1(tu),w1(r2))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();class oD{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){"@"==n.charAt(0)&&n==sD?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class t_e extends oD{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==sD?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if("@"==n.charAt(0)){const r=function n_e(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=n.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function i_e(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,n,i)}}const cD=[{provide:yT,useClass:Kye},{provide:_m,useFactory:function a_e(){return new wye}},{provide:tu,useClass:(()=>{var t;class e extends tu{constructor(i,r,o,u){super(i.body,r,o)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Bn),w1(cm),w1(_m),w1(Qo))},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})()},{provide:T8,useFactory:function s_e(t,e,n){return new e_e(t,e,n)},deps:[yd,tu,r2]}],Sm=[{provide:cm,useFactory:()=>new Xye},{provide:qg,useValue:"BrowserAnimations"},...cD],lD=[{provide:cm,useClass:NT},{provide:qg,useValue:"NoopAnimations"},...cD];let o_e=(()=>{var t;class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?lD:Sm}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=f1({type:t}),t.\u0275inj=ai({providers:Sm,imports:[Qb]}),e})();const{isArray:l_e}=Array,{getPrototypeOf:u_e,prototype:f_e,keys:h_e}=Object;const{isArray:m_e}=Array;function Lm(...t){const e=yt(t),n=function p0(t){return It(t3(t))?t.pop():void 0}(t),{args:i,keys:r}=function d_e(t){if(1===t.length){const e=t[0];if(l_e(e))return{args:e,keys:null};if(function p_e(t){return t&&"object"==typeof t&&u_e(t)===f_e}(e)){const n=h_e(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}(t);if(0===i.length)return G1([],e);const o=new d2(function __e(t,e,n=k2){return i=>{uD(e,()=>{const{length:r}=t,o=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)uD(e,()=>{const y=G1(t[p],e);let w=!1;y.subscribe(Vt(i,z=>{o[p]=z,w||(w=!0,h--),h||i.next(n(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>function y_e(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}(r,u):k2));return n?o.pipe(function v_e(t){return Lt(e=>function g_e(t,e){return m_e(e)?t(...e):t(e)}(t,e))}(n)):o}function uD(t,e,n){t?J1(n,t,e):e()}const iu=Js(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Hm(...t){return function C_e(){return Gt(1)}()(G1(t,yt(t)))}function fD(t){return new d2(e=>{g1(t()).subscribe(e)})}function Vl(t,e){const n=It(t)?t:()=>t,i=r=>r.error(n());return new d2(e?r=>e.schedule(i,0,r):i)}function Vm(){return Ft((t,e)=>{let n=null;t._refCount++;const i=Vt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}class hD extends d2{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,z3(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new h2;const n=this.getSubject();e.add(this.source.subscribe(Vt(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=h2.EMPTY)}return e}refCount(){return Vm()(this)}}function K6(t){return t<=0?()=>Bt:Ft((e,n)=>{let i=0;e.subscribe(Vt(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Ws(t,e){return Ft((n,i)=>{let r=0;n.subscribe(Vt(i,o=>t.call(e,o,r++)&&i.next(o)))})}function ru(t){return Ft((e,n)=>{let i=!1;e.subscribe(Vt(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function dD(t=x_e){return Ft((e,n)=>{let i=!1;e.subscribe(Vt(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function x_e(){return new iu}function uc(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Ws((r,o)=>t(r,o,i)):k2,K6(1),n?ru(e):dD(()=>new iu))}function El(t,e){return It(e)?it(t,e,1):it(t,1)}function Di(t,e,n){const i=It(t)||e||n?{next:t,error:e,complete:n}:t;return i?Ft((r,o)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let h=!0;r.subscribe(Vt(o,p=>{var y;null===(y=i.next)||void 0===y||y.call(i,p),o.next(p)},()=>{var p;h=!1,null===(p=i.complete)||void 0===p||p.call(i),o.complete()},p=>{var y;h=!1,null===(y=i.error)||void 0===y||y.call(i,p),o.error(p)},()=>{var p,y;h&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(y=i.finalize)||void 0===y||y.call(i)}))}):k2}function fc(t){return Ft((e,n)=>{let o,i=null,r=!1;i=e.subscribe(Vt(n,void 0,void 0,u=>{o=g1(t(u,fc(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function Em(t){return t<=0?()=>Bt:Ft((e,n)=>{let i=[];e.subscribe(Vt(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Tm(t){return Ft((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ut="primary",Tl=Symbol("RouteTitle");class H_e{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Q6(t){return new H_e(t)}function V_e(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=t[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Ya(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!pD(t[r],e[r]))return!1;return!0}function pD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}return t===e}function mD(t){return t.length>0?t[t.length-1]:null}function Ys(t){return function c_e(t){return!!t&&(t instanceof d2||It(t.lift)&&It(t.subscribe))}(t)?t:H7(t)?G1(Promise.resolve(t)):Z1(t)}const T_e={exact:function yD(t,e,n){if(!hc(t.segments,e.segments)||!au(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!yD(t.children[i],e.children[i],n))return!1;return!0},subset:_D},gD={exact:function D_e(t,e){return Ya(t,e)},subset:function P_e(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pD(t[n],e[n]))},ignored:()=>!0};function vD(t,e,n){return T_e[n.paths](t.root,e.root,n.matrixParams)&&gD[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function _D(t,e,n){return CD(t,e,e.segments,n)}function CD(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!hc(r,n)||e.hasChildren()||!au(r,n,i))}if(t.segments.length===n.length){if(!hc(t.segments,n)||!au(t.segments,n,i))return!1;for(const r in e.children)if(!t.children[r]||!_D(t.children[r],e.children[r],i))return!1;return!0}{const r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(hc(t.segments,r)&&au(t.segments,r,i)&&t.children[ut])&&CD(t.children[ut],e,o,i)}}function au(t,e,n){return e.every((i,r)=>gD[n](t[r].parameters,i.parameters))}class J6{constructor(e=new Kt([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Q6(this.queryParams)),this._queryParamMap}toString(){return k_e.serialize(this)}}class Kt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return su(this)}}class Dl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Q6(this.parameters)),this._parameterMap}toString(){return MD(this)}}function hc(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}let Pl=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:function(){return new Dm},providedIn:"root"}),e})();class Dm{parse(e){const n=new Z_e(e);return new J6(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Al(e.root,!0)}`,i=function R_e(t){const e=Object.keys(t).map(n=>{const i=t[n];return Array.isArray(i)?i.map(r=>`${ou(n)}=${ou(r)}`).join("&"):`${ou(n)}=${ou(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${i}${"string"==typeof e.fragment?`#${function N_e(t){return encodeURI(t)}(e.fragment)}`:""}`}}const k_e=new Dm;function su(t){return t.segments.map(e=>MD(e)).join("/")}function Al(t,e){if(!t.hasChildren())return su(t);if(e){const n=t.children[ut]?Al(t.children[ut],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==ut&&i.push(`${r}:${Al(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function I_e(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===ut&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==ut&&(n=n.concat(e(r,i)))}),n}(t,(i,r)=>r===ut?[Al(t.children[ut],!1)]:[`${r}:${Al(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ut]?`${su(t)}/${n[0]}`:`${su(t)}/(${n.join("//")})`}}function bD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ou(t){return bD(t).replace(/%3B/gi,";")}function Pm(t){return bD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cu(t){return decodeURIComponent(t)}function xD(t){return cu(t.replace(/\+/g,"%20"))}function MD(t){return`${Pm(t.path)}${function O_e(t){return Object.keys(t).map(e=>`;${Pm(e)}=${Pm(t[e])}`).join("")}(t.parameters)}`}const F_e=/^[^\/()?;#]+/;function Am(t){const e=t.match(F_e);return e?e[0]:""}const B_e=/^[^\/()?;=#]+/,j_e=/^[^=?&#]+/,q_e=/^[^&#]+/;class Z_e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ut]=new Kt(e,n)),i}parseSegment(){const e=Am(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new qe(4009,!1);return this.capture(e),new Dl(cu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function $_e(t){const e=t.match(B_e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=Am(this.remaining);r&&(i=r,this.capture(i))}e[cu(n)]=cu(i)}parseQueryParam(e){const n=function U_e(t){const e=t.match(j_e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const u=function G_e(t){const e=t.match(q_e);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=xD(n),o=xD(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(o)}else e[r]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Am(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new qe(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ut);const u=this.parseChildren();n[o]=1===Object.keys(u).length?u[ut]:new Kt([],u),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new qe(4011,!1)}}function wD(t){return t.segments.length>0?new Kt([],{[ut]:t}):t}function zD(t){const e={};for(const i of Object.keys(t.children)){const o=zD(t.children[i]);if(i===ut&&0===o.segments.length&&o.hasChildren())for(const[u,h]of Object.entries(o.children))e[u]=h;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function W_e(t){if(1===t.numberOfChildren&&t.children[ut]){const e=t.children[ut];return new Kt(t.segments.concat(e.segments),e.children)}return t}(new Kt(t.segments,e))}function dc(t){return t instanceof J6}function SD(t){let e;const r=wD(function n(o){const u={};for(const p of o.children){const y=n(p);u[p.outlet]=y}const h=new Kt(o.url,u);return o===t&&(e=h),h}(t.root));return e??r}function LD(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(0===e.length)return Im(r,r,r,n,i);const o=function X_e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new VD(!0,0,t);let e=0,n=!1;const i=t.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Object.entries(o.outlets).forEach(([p,y])=>{h[p]="string"==typeof y?y.split("/"):y}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?n=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new VD(n,e,i)}(e);if(o.toRoot())return Im(r,r,new Kt([],{}),n,i);const u=function K_e(t,e,n){if(t.isAbsolute)return new uu(e,!0,0);if(!n)return new uu(e,!1,NaN);if(null===n.parent)return new uu(n,!0,0);const i=lu(t.commands[0])?0:1;return function Q_e(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new qe(4005,!1);r=i.segments.length}return new uu(i,!1,r-o)}(n,n.segments.length-1+i,t.numberOfDoubleDots)}(o,r,t),h=u.processChildren?kl(u.segmentGroup,u.index,o.commands):ED(u.segmentGroup,u.index,o.commands);return Im(r,u.segmentGroup,h,n,i)}function lu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Il(t){return"object"==typeof t&&null!=t&&t.outlets}function Im(t,e,n,i,r){let u,o={};i&&Object.entries(i).forEach(([p,y])=>{o[p]=Array.isArray(y)?y.map(w=>`${w}`):`${y}`}),u=t===e?n:HD(t,e,n);const h=wD(zD(u));return new J6(h,o,r)}function HD(t,e,n){const i={};return Object.entries(t.children).forEach(([r,o])=>{i[r]=o===e?n:HD(o,e,n)}),new Kt(t.segments,i)}class VD{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&lu(i[0]))throw new qe(4003,!1);const r=i.find(Il);if(r&&r!==mD(i))throw new qe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uu{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function ED(t,e,n){if(t||(t=new Kt([],{})),0===t.segments.length&&t.hasChildren())return kl(t,e,n);const i=function eCe(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const u=t.segments[r],h=n[i];if(Il(h))break;const p=`${h}`,y=i<n.length-1?n[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!DD(p,y,u))return o;i+=2}else{if(!DD(p,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const o=new Kt(t.segments.slice(0,i.pathIndex),{});return o.children[ut]=new Kt(t.segments.slice(i.pathIndex),t.children),kl(o,0,r)}return i.match&&0===r.length?new Kt(t.segments,{}):i.match&&!t.hasChildren()?km(t,e,n):i.match?kl(t,0,r):km(t,e,n)}function kl(t,e,n){if(0===n.length)return new Kt(t.segments,{});{const i=function J_e(t){return Il(t[0])?t[0].outlets:{[ut]:t}}(n),r={};if(Object.keys(i).some(o=>o!==ut)&&t.children[ut]&&1===t.numberOfChildren&&0===t.children[ut].segments.length){const o=kl(t.children[ut],e,n);return new Kt(t.segments,o.children)}return Object.entries(i).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[o]=ED(t.children[o],e,u))}),Object.entries(t.children).forEach(([o,u])=>{void 0===i[o]&&(r[o]=u)}),new Kt(t.segments,r)}}function km(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if(Il(o)){const p=tCe(o.outlets);return new Kt(i,p)}if(0===r&&lu(n[0])){i.push(new Dl(t.segments[e].path,TD(n[0]))),r++;continue}const u=Il(o)?o.outlets[ut]:`${o}`,h=r<n.length-1?n[r+1]:null;u&&h&&lu(h)?(i.push(new Dl(u,TD(h))),r+=2):(i.push(new Dl(u,{})),r++)}return new Kt(i,{})}function tCe(t){const e={};return Object.entries(t).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[n]=km(new Kt([],{}),0,i))}),e}function TD(t){const e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function DD(t,e,n){return t==n.path&&Ya(e,n.parameters)}const Nl="imperative";class Xa{constructor(e,n){this.id=e,this.url=n}}class fu extends Xa{constructor(e,n,i="imperative",r=null){super(e,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xs extends Xa{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ol extends Xa{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class e0 extends Xa{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=16}}class hu extends Xa{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PD extends Xa{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nCe extends Xa{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iCe extends Xa{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rCe extends Xa{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aCe extends Xa{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sCe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oCe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cCe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lCe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uCe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fCe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AD{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nm{}class Om{constructor(e){this.url=e}}class hCe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rl,this.attachRef=null}}let Rl=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new hCe,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class ID{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Rm(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=Rm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Fm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Fm(e,this._root).map(n=>n.value)}}function Rm(t,e){if(t===e.value)return e;for(const n of e.children){const i=Rm(t,n);if(i)return i}return null}function Fm(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Fm(t,n);if(i.length)return i.unshift(e),i}return[]}class G4{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function t0(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class kD extends ID{constructor(e,n){super(e),this.snapshot=n,Bm(this,e)}toString(){return this.snapshot.toString()}}function ND(t,e){const n=function dCe(t,e){const u=new du([],{},{},"",{},ut,e,null,{});return new RD("",new G4(u,[]))}(0,e),i=new _t([new Dl("",{})]),r=new _t({}),o=new _t({}),u=new _t({}),h=new _t(""),p=new n0(i,r,u,h,o,ut,e,n.root);return p.snapshot=n.root,new kD(new G4(p,[]),n)}class n0{constructor(e,n,i,r,o,u,h,p){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=u,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(Lt(y=>y[Tl]))??Z1(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Lt(e=>Q6(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Lt(e=>Q6(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OD(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function pCe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class du{get title(){return this.data?.[Tl]}constructor(e,n,i,r,o,u,h,p,y){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=p,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Q6(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Q6(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RD extends ID{constructor(e,n){super(n),this.url=e,Bm(this,n)}toString(){return FD(this._root)}}function Bm(t,e){e.value._routerState=t,e.children.forEach(n=>Bm(t,n))}function FD(t){const e=t.children.length>0?` { ${t.children.map(FD).join(", ")} } `:"";return`${t.value}${e}`}function $m(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ya(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ya(e.params,n.params)||t.paramsSubject.next(n.params),function E_e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ya(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ya(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function jm(t,e){const n=Ya(t.params,e.params)&&function A_e(t,e){return hc(t,e)&&t.every((n,i)=>Ya(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||jm(t.parent,e.parent))}let BD=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new Xi,this.deactivateEvents=new Xi,this.attachEvents=new Xi,this.detachEvents=new Xi,this.parentContexts=z1(Rl),this.location=z1(na),this.changeDetector=z1(Rh),this.environmentInjector=z1(d3),this.inputBinder=z1(pu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new qe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new qe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new qe(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new qe(4013,!1);this._activatedRoute=i;const o=this.location,h=i.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new mCe(i,p,o.injector);this.activated=o.createComponent(h,{index:o.length,injector:y,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=jt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Z2]}),e})();class mCe{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===n0?this.route:e===Rl?this.childContexts:this.parent.get(e,n)}}const pu=new j1("");let $D=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:r}=i,o=Lm([r.queryParams,r.params,r.data]).pipe(sn(([u,h,p],y)=>(p={...u,...h,...p},0===y?Z1(p):Promise.resolve(p)))).subscribe(u=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(i);const h=function CF(t){const e=Ye(t);if(!e)return null;const n=new k8(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(h)for(const{templateName:p}of h.inputs)i.activatedComponentRef.setInput(p,u[p]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,o)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();function Fl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function vCe(t,e,n){return e.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Fl(t,i,r);return Fl(t,i)})}(t,e,n);return new G4(i,r)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Fl(t,h)),u}}const i=function yCe(t){return new n0(new _t(t.url),new _t(t.params),new _t(t.queryParams),new _t(t.fragment),new _t(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(o=>Fl(t,o));return new G4(i,r)}}const Um="ngNavigationCancelingError";function jD(t,e){const{redirectTo:n,navigationBehaviorOptions:i}=dc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=UD(!1,0,e);return r.url=n,r.navigationBehaviorOptions=i,r}function UD(t,e,n){const i=new Error("NavigationCancelingError: "+(t||""));return i[Um]=!0,i.cancellationCode=e,n&&(i.url=n),i}function qD(t){return t&&t[Um]}let GD=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N2({type:t,selectors:[["ng-component"]],standalone:!0,features:[$_],decls:1,vars:0,template:function(i,r){1&i&&p1(0,"router-outlet")},dependencies:[BD],encapsulation:2}),e})();function qm(t){const e=t.children&&t.children.map(qm),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ut&&(n.component=GD),n}function la(t){return t.outlet||ut}function Bl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class SCe{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),$m(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const r=t0(n);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){const r=e.value,o=n?n.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,n,u.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=t0(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=t0(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){const r=t0(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new fCe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lCe(e.value.snapshot))}activateRoutes(e,n,i){const r=e.value,o=n?n.value:null;if($m(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,u.children)}else this.activateChildRoutes(e,n,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),$m(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=Bl(r.snapshot);u.attachRef=null,u.route=r,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class ZD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mu{constructor(e,n){this.component=e,this.route=n}}function LCe(t,e,n){const i=t._root;return $l(i,e?e._root:null,n,[i.value])}function r0(t,e){const n=Symbol(),i=e.get(t,n);return i===n?"function"!=typeof t||function Lc(t){return null!==l4(t)}(t)?e.get(t):t:i}function $l(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t0(e);return t.children.forEach(u=>{(function VCe(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,u=e?e.value:null,h=n?n.getContext(t.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const p=function ECe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!hc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hc(t.url,e.url)||!Ya(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jm(t,e)||!Ya(t.queryParams,e.queryParams);default:return!jm(t,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new ZD(i)):(o.data=u.data,o._resolvedData=u._resolvedData),$l(t,e,o.component?h?h.children:null:n,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new mu(h.outlet.component,u))}else u&&jl(e,h,r),r.canActivateChecks.push(new ZD(i)),$l(t,null,o.component?h?h.children:null:n,i,r)})(u,o[u.value.outlet],n,i.concat([u.value]),r),delete o[u.value.outlet]}),Object.entries(o).forEach(([u,h])=>jl(h,n.getContext(u),r)),r}function jl(t,e,n){const i=t0(t),r=t.value;Object.entries(i).forEach(([o,u])=>{jl(u,r.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new mu(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Ul(t){return"function"==typeof t}function WD(t){return t instanceof iu||"EmptyError"===t?.name}const gu=Symbol("INITIAL_VALUE");function a0(){return sn(t=>Lm(t.map(e=>e.pipe(K6(1),function b_e(...t){const e=yt(t);return Ft((n,i)=>{(e?Hm(t,n,e):Hm(t,n)).subscribe(i)})}(gu)))).pipe(Lt(e=>{for(const n of e)if(!0!==n){if(n===gu)return gu;if(!1===n||n instanceof J6)return n}return!0}),Ws(e=>e!==gu),K6(1)))}function YD(t){return function M3(...t){return da(t)}(Di(e=>{if(dc(e))throw jD(0,e)}),Lt(e=>!0===e))}class vu{constructor(e){this.segmentGroup=e||null}}class XD{constructor(e){this.urlTree=e}}function s0(t){return Vl(new vu(t))}function KD(t){return Vl(new XD(t))}class XCe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new qe(4002,!1)}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Z1(i);if(r.numberOfChildren>1||!r.children[ut])return Vl(new qe(4e3,!1));r=r.children[ut]}}applyRedirectCommands(e,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i)}applyRedirectCreateUrlTree(e,n,i,r){const o=this.createSegmentGroup(e,n.root,i,r);return new J6(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const h=o.substring(1);i[r]=n[h]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){const o=this.createSegments(e,n.segments,i,r);let u={};return Object.entries(n.children).forEach(([h,p])=>{u[h]=this.createSegmentGroup(e,p,i,r)}),new Kt(o,u)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){const r=i[n.path.substring(1)];if(!r)throw new qe(4001,!1);return r}findOrReturn(e,n){let i=0;for(const r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}}const Gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KCe(t,e,n,i,r){const o=Zm(t,e,n);return o.matched?(i=function CCe(t,e){return t.providers&&!t._injector&&(t._injector=ph(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,i),function ZCe(t,e,n,i){const r=e.canMatch;return r&&0!==r.length?Z1(r.map(u=>{const h=r0(u,t);return Ys(function kCe(t){return t&&Ul(t.canMatch)}(h)?h.canMatch(e,n):t.runInContext(()=>h(e,n)))})).pipe(a0(),YD()):Z1(!0)}(i,e,n).pipe(Lt(u=>!0===u?o:{...Gm}))):Z1(o)}function Zm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Gm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(e.matcher||V_e)(n,t,e);if(!r)return{...Gm};const o={};Object.entries(r.posParams??{}).forEach(([h,p])=>{o[h]=p.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function QD(t,e,n,i){return n.length>0&&function ebe(t,e,n){return n.some(i=>yu(t,e,i)&&la(i)!==ut)}(t,n,i)?{segmentGroup:new Kt(e,JCe(i,new Kt(n,t.children))),slicedSegments:[]}:0===n.length&&function tbe(t,e,n){return n.some(i=>yu(t,e,i))}(t,n,i)?{segmentGroup:new Kt(t.segments,QCe(t,0,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Kt(t.segments,t.children),slicedSegments:n}}function QCe(t,e,n,i,r){const o={};for(const u of i)if(yu(t,n,u)&&!r[la(u)]){const h=new Kt([],{});o[la(u)]=h}return{...r,...o}}function JCe(t,e){const n={};n[ut]=e;for(const i of t)if(""===i.path&&la(i)!==ut){const r=new Kt([],{});n[la(i)]=r}return n}function yu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class abe{constructor(e,n,i,r,o,u,h){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new XCe(this.urlSerializer,this.urlTree)}noMatchError(e){return new qe(4002,!1)}recognize(){const e=QD(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ut).pipe(fc(n=>{if(n instanceof XD)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof vu?this.noMatchError(n):n}),Lt(n=>{const i=new du([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),r=new G4(i,n),o=new RD("",r),u=function Y_e(t,e,n=null,i=null){return LD(SD(t),e,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(o._root),{state:o,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ut).pipe(fc(i=>{throw i instanceof vu?this.noMatchError(i):i}))}inheritParamsAndData(e){const n=e.value,i=OD(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0)}processChildren(e,n,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return G1(r).pipe(El(o=>{const u=i.children[o],h=function wCe(t,e){const n=t.filter(i=>la(i)===e);return n.push(...t.filter(i=>la(i)!==e)),n}(n,o);return this.processSegmentGroup(e,h,u,o)}),function w_e(t,e){return Ft(function M_e(t,e,n,i,r){return(o,u)=>{let h=n,p=e,y=0;o.subscribe(Vt(u,w=>{const z=y++;p=h?t(p,w,z):(h=!0,w),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}(t,e,arguments.length>=2,!0))}((o,u)=>(o.push(...u),o)),ru(null),function z_e(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Ws((r,o)=>t(r,o,i)):k2,Em(1),n?ru(e):dD(()=>new iu))}(),it(o=>{if(null===o)return s0(i);const u=JD(o);return function sbe(t){t.sort((e,n)=>e.value.outlet===ut?-1:n.value.outlet===ut?1:e.value.outlet.localeCompare(n.value.outlet))}(u),Z1(u)}))}processSegment(e,n,i,r,o,u){return G1(n).pipe(El(h=>this.processSegmentAgainstRoute(h._injector??e,n,h,i,r,o,u).pipe(fc(p=>{if(p instanceof vu)return Z1(null);throw p}))),uc(h=>!!h),fc(h=>{if(WD(h))return function ibe(t,e,n){return 0===e.length&&!t.children[n]}(i,r,o)?Z1([]):s0(i);throw h}))}processSegmentAgainstRoute(e,n,i,r,o,u,h){return function nbe(t,e,n,i){return!!(la(t)===i||i!==ut&&yu(e,n,t))&&("**"===t.path||Zm(e,t,n).matched)}(i,r,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,u,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,u):s0(r):s0(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?KD(o):this.applyRedirects.lineralizeSegments(i,o).pipe(it(u=>{const h=new Kt(u,{});return this.processSegment(e,n,h,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,o,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:w}=Zm(n,r,o);if(!h)return s0(n);const z=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?KD(z):this.applyRedirects.lineralizeSegments(r,z).pipe(it(E=>this.processSegment(e,i,n,E.concat(y),u,!1)))}matchSegmentAgainstRoute(e,n,i,r,o,u){let h;if("**"===i.path){const p=r.length>0?mD(r).parameters:{};h=Z1({snapshot:new du(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eP(i),la(i),i.component??i._loadedComponent??null,i,tP(i)),consumedSegments:[],remainingSegments:[]}),n.children={}}else h=KCe(n,i,r,e).pipe(Lt(({matched:p,consumedSegments:y,remainingSegments:w,parameters:z})=>p?{snapshot:new du(y,z,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eP(i),la(i),i.component??i._loadedComponent??null,i,tP(i)),consumedSegments:y,remainingSegments:w}:null));return h.pipe(sn(p=>null===p?s0(n):this.getChildConfig(e=i._injector??e,i,r).pipe(sn(({routes:y})=>{const w=i._loadedInjector??e,{snapshot:z,consumedSegments:E,remainingSegments:D}=p,{segmentGroup:k,slicedSegments:B}=QD(n,E,D,y);if(0===B.length&&k.hasChildren())return this.processChildren(w,y,k).pipe(Lt(Z=>null===Z?null:[new G4(z,Z)]));if(0===y.length&&0===B.length)return Z1([new G4(z,[])]);const j=la(i)===o;return this.processSegment(w,y,k,B,j?ut:o,!0).pipe(Lt(Z=>[new G4(z,Z)]))}))))}getChildConfig(e,n,i){return n.children?Z1({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Z1({routes:n._loadedRoutes,injector:n._loadedInjector}):function GCe(t,e,n,i){const r=e.canLoad;return void 0===r||0===r.length?Z1(!0):Z1(r.map(u=>{const h=r0(u,t);return Ys(function DCe(t){return t&&Ul(t.canLoad)}(h)?h.canLoad(e,n):t.runInContext(()=>h(e,n)))})).pipe(a0(),YD())}(e,n,i).pipe(it(r=>r?this.configLoader.loadChildren(e,n).pipe(Di(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function YCe(t){return Vl(UD(!1,3))}())):Z1({routes:[],injector:e})}}function obe(t){const e=t.value.routeConfig;return e&&""===e.path}function JD(t){const e=[],n=new Set;for(const i of t){if(!obe(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):e.push(i)}for(const i of n){const r=JD(i.children);e.push(new G4(i.value,r))}return e.filter(i=>!n.has(i))}function eP(t){return t.data||{}}function tP(t){return t.resolve||{}}function nP(t){return"string"==typeof t.title||null===t.title}function Wm(t){return sn(e=>{const n=t(e);return n?G1(n).pipe(Lt(()=>e)):Z1(e)})}const o0=new j1("ROUTES");let Ym=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z1(PC)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Z1(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=Ys(i.loadComponent()).pipe(Lt(iP),Di(u=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=u}),Tm(()=>{this.componentLoaders.delete(i)})),o=new hD(r,()=>new nn).pipe(Vm());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z1({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Lt(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w;return Array.isArray(p)?w=p:(y=p.create(i).injector,w=y.get(o0,[],ot.Self|ot.Optional).flat()),{routes:w.map(qm),injector:y}}),Tm(()=>{this.childrenLoaders.delete(r)})),h=new hD(u,()=>new nn).pipe(Vm());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(i){return Ys(i()).pipe(Lt(iP),it(r=>r instanceof F_||Array.isArray(r)?Z1(r):G1(this.compiler.compileModuleAsync(r))))}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function iP(t){return function pbe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let _u=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nn,this.transitionAbortSubject=new nn,this.configLoader=z1(Ym),this.environmentInjector=z1(d3),this.urlSerializer=z1(Pl),this.rootContexts=z1(Rl),this.inputBindingEnabled=null!==z1(pu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z1(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new oCe(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new sCe(o))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i,r,o){return this.transitions=new _t({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:i.urlHandlingStrategy.extract(r),urlAfterRedirects:i.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ws(u=>0!==u.id),Lt(u=>({...u,extractedUrl:i.urlHandlingStrategy.extract(u.rawUrl)})),sn(u=>{this.currentTransition=u;let h=!1,p=!1;return Z1(u).pipe(Di(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),sn(y=>{const w=y.currentBrowserUrl.toString(),z=!i.navigated||y.extractedUrl.toString()!==w||w!==y.currentUrlTree.toString();if(!z&&"reload"!==(y.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const D="";return this.events.next(new e0(y.id,this.urlSerializer.serialize(y.rawUrl),D,0)),y.resolve(null),Bt}if(i.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Z1(y).pipe(sn(D=>{const k=this.transitions?.getValue();return this.events.next(new fu(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),k!==this.transitions?.getValue()?Bt:Promise.resolve(D)}),function cbe(t,e,n,i,r,o){return it(u=>function rbe(t,e,n,i,r,o,u="emptyOnly"){return new abe(t,e,n,i,r,u,o).recognize()}(t,e,n,i,u.extractedUrl,r,o).pipe(Lt(({state:h,tree:p})=>({...u,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),Di(D=>{u.targetSnapshot=D.targetSnapshot,u.urlAfterRedirects=D.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects};const k=new PD(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(k)}));if(z&&i.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:D,extractedUrl:k,source:B,restoredState:j,extras:Z}=y,F=new fu(D,this.urlSerializer.serialize(k),B,j);this.events.next(F);const q=ND(0,this.rootComponentType).snapshot;return this.currentTransition=u={...y,targetSnapshot:q,urlAfterRedirects:k,extras:{...Z,skipLocationChange:!1,replaceUrl:!1}},Z1(u)}{const D="";return this.events.next(new e0(y.id,this.urlSerializer.serialize(y.extractedUrl),D,1)),y.resolve(null),Bt}}),Di(y=>{const w=new nCe(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}),Lt(y=>(this.currentTransition=u={...y,guards:LCe(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},u)),function OCe(t,e){return it(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=n;return 0===u.length&&0===o.length?Z1({...n,guardsResult:!0}):function RCe(t,e,n,i){return G1(t).pipe(it(r=>function qCe(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Z1(o.map(h=>{const p=Bl(e)??r,y=r0(h,p);return Ys(function ICe(t){return t&&Ul(t.canDeactivate)}(y)?y.canDeactivate(t,e,n,i):p.runInContext(()=>y(t,e,n,i))).pipe(uc())})).pipe(a0()):Z1(!0)}(r.component,r.route,n,e,i)),uc(r=>!0!==r,!0))}(u,i,r,t).pipe(it(h=>h&&function TCe(t){return"boolean"==typeof t}(h)?function FCe(t,e,n,i){return G1(e).pipe(El(r=>Hm(function $Ce(t,e){return null!==t&&e&&e(new cCe(t)),Z1(!0)}(r.route.parent,i),function BCe(t,e){return null!==t&&e&&e(new uCe(t)),Z1(!0)}(r.route,i),function UCe(t,e,n){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function HCe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(u)).filter(u=>null!==u).map(u=>fD(()=>Z1(u.guards.map(p=>{const y=Bl(u.node)??n,w=r0(p,y);return Ys(function ACe(t){return t&&Ul(t.canActivateChild)}(w)?w.canActivateChild(i,t):y.runInContext(()=>w(i,t))).pipe(uc())})).pipe(a0())));return Z1(o).pipe(a0())}(t,r.path,n),function jCe(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Z1(!0);const r=i.map(o=>fD(()=>{const u=Bl(e)??n,h=r0(o,u);return Ys(function PCe(t){return t&&Ul(t.canActivate)}(h)?h.canActivate(e,t):u.runInContext(()=>h(e,t))).pipe(uc())}));return Z1(r).pipe(a0())}(t,r.route,n))),uc(r=>!0!==r,!0))}(i,o,t,e):Z1(h)),Lt(h=>({...n,guardsResult:h})))})}(this.environmentInjector,y=>this.events.next(y)),Di(y=>{if(u.guardsResult=y.guardsResult,dc(y.guardsResult))throw jD(0,y.guardsResult);const w=new iCe(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(w)}),Ws(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",3),!1)),Wm(y=>{if(y.guards.canActivateChecks.length)return Z1(y).pipe(Di(w=>{const z=new rCe(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(z)}),sn(w=>{let z=!1;return Z1(w).pipe(function lbe(t,e){return it(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Z1(n);let o=0;return G1(r).pipe(El(u=>function ube(t,e,n,i){const r=t.routeConfig,o=t._resolve;return void 0!==r?.title&&!nP(r)&&(o[Tl]=r.title),function fbe(t,e,n,i){const r=function hbe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return Z1({});const o={};return G1(r).pipe(it(u=>function dbe(t,e,n,i){const r=Bl(e)??i,o=r0(t,r);return Ys(o.resolve?o.resolve(e,n):r.runInContext(()=>o(e,n)))}(t[u],e,n,i).pipe(uc(),Di(h=>{o[u]=h}))),Em(1),function S_e(t){return Lt(()=>t)}(o),fc(u=>WD(u)?Bt:Vl(u)))}(o,t,e,i).pipe(Lt(u=>(t._resolvedData=u,t.data=OD(t,n).resolve,r&&nP(r)&&(t.data[Tl]=r.title),null)))}(u.route,i,t,e)),Di(()=>o++),Em(1),it(u=>o===r.length?Z1(n):Bt))})}(i.paramsInheritanceStrategy,this.environmentInjector),Di({next:()=>z=!0,complete:()=>{z||this.cancelNavigationTransition(w,"",2)}}))}),Di(w=>{const z=new aCe(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(z)}))}),Wm(y=>{const w=z=>{const E=[];z.routeConfig?.loadComponent&&!z.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(z.routeConfig).pipe(Di(D=>{z.component=D}),Lt(()=>{})));for(const D of z.children)E.push(...w(D));return E};return Lm(w(y.targetSnapshot.root)).pipe(ru(),K6(1))}),Wm(()=>this.afterPreactivation()),Lt(y=>{const w=function gCe(t,e,n){const i=Fl(t,e._root,n?n._root:void 0);return new kD(i,e)}(i.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=u={...y,targetRouterState:w},u}),Di(()=>{this.events.next(new Nm)}),((t,e,n,i)=>Lt(r=>(new SCe(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)))(this.rootContexts,i.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),K6(1),Di({next:y=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xs(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),i.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{h=!0}}),function L_e(t){return Ft((e,n)=>{g1(t).subscribe(Vt(n,()=>n.complete(),Xr)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Di(y=>{throw y}))),Tm(()=>{h||p||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),fc(y=>{if(p=!0,qD(y))this.events.next(new Ol(u.id,this.urlSerializer.serialize(u.extractedUrl),y.message,y.cancellationCode)),function _Ce(t){return qD(t)&&dc(t.url)}(y)?this.events.next(new Om(y.url)):u.resolve(!1);else{this.events.next(new hu(u.id,this.urlSerializer.serialize(u.extractedUrl),y,u.targetSnapshot??void 0));try{u.resolve(i.errorHandler(y))}catch(w){u.reject(w)}}return Bt}))}))}cancelNavigationTransition(i,r,o){const u=new Ol(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(u),i.resolve(!1)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function rP(t){return t!==Nl}let aP=(()=>{var t;class e{buildTitle(i){let r,o=i.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===ut);return r}getResolvedTitleForRoute(i){return i.data[Tl]}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:function(){return z1(mbe)},providedIn:"root"}),e})(),mbe=(()=>{var t;class e extends aP{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Jb))},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),gbe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:function(){return z1(ybe)},providedIn:"root"}),e})();class vbe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let ybe=(()=>{var t;class e extends vbe{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=function D2(t){return si(()=>{const e=t.prototype.constructor,n=e[wi]||e6(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[wi]||e6(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}(t)))(r||t)}}(),t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Cu=new j1("",{providedIn:"root",factory:()=>({})});let _be=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:function(){return z1(Cbe)},providedIn:"root"}),e})(),Cbe=(()=>{var t;class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var ql=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ql||{});function sP(t,e){t.events.pipe(Ws(n=>n instanceof Xs||n instanceof Ol||n instanceof hu||n instanceof e0),Lt(n=>n instanceof Xs||n instanceof e0?ql.COMPLETE:n instanceof Ol&&(0===n.code||1===n.code)?ql.REDIRECTING:ql.FAILED),Ws(n=>n!==ql.REDIRECTING),K6(1)).subscribe(()=>{e()})}function bbe(t){throw t}function xbe(t,e,n){return e.parse("/")}const Mbe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wbe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _3=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=z1(TC),this.isNgZoneEnabled=!1,this._events=new nn,this.options=z1(Cu,{optional:!0})||{},this.pendingTasks=z1(DC),this.errorHandler=this.options.errorHandler||bbe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xbe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=z1(_be),this.routeReuseStrategy=z1(gbe),this.titleStrategy=z1(aP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=z1(o0,{optional:!0})?.flat()??[],this.navigationTransitions=z1(_u),this.urlSerializer=z1(Pl),this.location=z1(Yh),this.componentInputBindingEnabled=!!z1(pu,{optional:!0}),this.eventsSubscription=new h2,this.isNgZoneEnabled=z1(r2)instanceof r2&&r2.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new J6,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ND(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(oP(r)&&this._events.next(r));if(r instanceof fu)rP(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof e0)this.rawUrlTree=o.rawUrl;else if(r instanceof PD){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof Nm)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof Ol)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof Om){const u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),h={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rP(o.source)};this.scheduleNavigation(u,Nl,null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof hu&&this.restoreHistory(o,!0),r instanceof Xs&&(this.navigated=!0),oP(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Nl,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const r="popstate"===i.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,r,i.state)},0)}))}navigateToSyncWithBrowser(i,r,o){const u={replaceUrl:!0},h=o?.navigationId?o:null;if(o){const y={...o};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const p=this.parseUrl(i);this.scheduleNavigation(p,r,h,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(qm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:p,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:h;let E,z=null;switch(p){case"merge":z={...this.currentUrlTree.queryParams,...u};break;case"preserve":z=this.currentUrlTree.queryParams;break;default:z=u||null}null!==z&&(z=this.removeEmptyProps(z));try{E=SD(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),E=this.currentUrlTree.root}return LD(E,i,z,w??null)}navigateByUrl(i,r={skipLocationChange:!1}){const o=dc(i)?i:this.parseUrl(i),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Nl,null,r)}navigate(i,r={skipLocationChange:!1}){return function zbe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new qe(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let r;try{r=this.urlSerializer.parse(i)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,i)}return r}isActive(i,r){let o;if(o=!0===r?{...Mbe}:!1===r?{...wbe}:r,dc(i))return vD(this.currentUrlTree,i,o);const u=this.parseUrl(i);return vD(this.currentUrlTree,u,o)}removeEmptyProps(i){return Object.keys(i).reduce((r,o)=>{const u=i[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(i,r,o,u,h){if(this.disposed)return Promise.resolve(!1);let p,y,w;h?(p=h.resolve,y=h.reject,w=h.promise):w=new Promise((E,D)=>{p=E,y=D});const z=this.pendingTasks.add();return sP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(z))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:u,resolve:p,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(E=>Promise.reject(E))}setBrowserUrl(i,r){const o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const h={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",h)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function oP(t){return!(t instanceof Nm||t instanceof Om)}class cP{}let Hbe=(()=>{var t;class e{constructor(i,r,o,u,h){this.router=i,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Ws(i=>i instanceof Xs),El(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=ph(u.providers,i,`Route: ${u.path}`));const h=u._injector??i,p=u._loadedInjector??h;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(p,u.children??u._loadedRoutes))}return G1(o).pipe(Gt())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):Z1(null);const u=o.pipe(it(h=>null===h?Z1(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??i,h.routes))));return r.loadComponent&&!r._loadedComponent?G1([u,this.loader.loadComponent(r)]).pipe(Gt()):u})}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(_3),w1(PC),w1(d3),w1(cP),w1(Ym))},t.\u0275prov=A1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Km=new j1("");let lP=(()=>{var t;class e{constructor(i,r,o,u,h={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof fu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Xs?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof e0&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof AD&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AD(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){!function Mv(){throw new Error("invalid")}()},t.\u0275prov=A1({token:t,factory:t.\u0275fac}),e})();function Z4(t,e){return{\u0275kind:t,\u0275providers:e}}function fP(){const t=z1($r);return e=>{const n=t.get(Qo);if(e!==n.components[0])return;const i=t.get(_3),r=t.get(hP);1===t.get(Qm)&&i.initialNavigation(),t.get(dP,null,ot.Optional)?.setUpPreloading(),t.get(Km,null,ot.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const hP=new j1("",{factory:()=>new nn}),Qm=new j1("",{providedIn:"root",factory:()=>1}),dP=new j1("");function Dbe(t){return Z4(0,[{provide:dP,useExisting:Hbe},{provide:cP,useExisting:t}])}const pP=new j1("ROUTER_FORROOT_GUARD"),Abe=[Yh,{provide:Pl,useClass:Dm},_3,Rl,{provide:n0,useFactory:function uP(t){return t.routerState.root},deps:[_3]},Ym,[]];function Ibe(){return new FC("Router",_3)}let kbe=(()=>{var t;class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[Abe,[],{provide:o0,multi:!0,useValue:i},{provide:pP,useFactory:Fbe,deps:[[_3,new No,new Yi]]},{provide:Cu,useValue:r||{}},r?.useHash?{provide:ec,useClass:zF}:{provide:ec,useClass:gb},{provide:Km,useFactory:()=>{const t=z1(jB),e=z1(r2),n=z1(Cu),i=z1(_u),r=z1(Pl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new lP(r,i,t,e,n)}},r?.preloadingStrategy?Dbe(r.preloadingStrategy).\u0275providers:[],{provide:FC,multi:!0,useFactory:Ibe},r?.initialNavigation?Bbe(r):[],r?.bindToComponentInputs?Z4(8,[$D,{provide:pu,useExisting:$D}]).\u0275providers:[],[{provide:mP,useFactory:fP},{provide:Nh,multi:!0,useExisting:mP}]]}}static forChild(i){return{ngModule:e,providers:[{provide:o0,multi:!0,useValue:i}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(pP,8))},t.\u0275mod=f1({type:t}),t.\u0275inj=ai({}),e})();function Fbe(t){return"guarded"}function Bbe(t){return["disabled"===t.initialNavigation?Z4(3,[{provide:Vh,multi:!0,useFactory:()=>{const e=z1(_3);return()=>{e.setUpLocationChangeListener()}}},{provide:Qm,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Z4(2,[{provide:Qm,useValue:0},{provide:Vh,multi:!0,deps:[$r],useFactory:e=>{const n=e.get(MF,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=e.get(_3),o=e.get(hP);sP(r,()=>{i(!0)}),e.get(_u).afterPreactivation=()=>(i(!0),o.closed?Z1(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const mP=new j1("");function gP(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function Jm(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:gP(e[n])&&gP(t[n])&&Object.keys(e[n]).length>0&&Jm(t[n],e[n])})}const vP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Pi(){const t=typeof document<"u"?document:{};return Jm(t,vP),t}const jbe={document:vP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>typeof setTimeout>"u"?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Q2(){const t=typeof window<"u"?window:{};return Jm(t,jbe),t}function pc(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function C3(){return Date.now()}function eg(t,e){void 0===e&&(e="x");const n=Q2();let i,r,o;const u=function qbe(t){const e=Q2();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}(t);return n.WebKitCSSMatrix?(r=u.transform||u.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(h=>h.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix("none"===r?"":r)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),"x"===e&&(r=n.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=n.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function Gl(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function Gbe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(1===t.nodeType||11===t.nodeType)}function Wr(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(null!=i&&!Gbe(i)){const r=Object.keys(Object(i)).filter(o=>e.indexOf(o)<0);for(let o=0,u=r.length;o<u;o+=1){const h=r[o],p=Object.getOwnPropertyDescriptor(i,h);void 0!==p&&p.enumerable&&(Gl(t[h])&&Gl(i[h])?i[h].__swiper__?t[h]=i[h]:Wr(t[h],i[h]):!Gl(t[h])&&Gl(i[h])?(t[h]={},i[h].__swiper__?t[h]=i[h]:Wr(t[h],i[h])):t[h]=i[h])}}}return t}function Zl(t,e,n){t.style.setProperty(e,n)}function yP(t){let{swiper:e,targetPosition:n,side:i}=t;const r=Q2(),o=-e.translate;let h,u=null;const p=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const y=n>o?"next":"prev",w=(E,D)=>"next"===y&&E>=D||"prev"===y&&E<=D,z=()=>{h=(new Date).getTime(),null===u&&(u=h);const E=Math.max(Math.min((h-u)/p,1),0),D=.5-Math.cos(E*Math.PI)/2;let k=o+D*(n-o);if(w(k,n)&&(k=n),e.wrapperEl.scrollTo({[i]:k}),w(k,n))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:k})}),void r.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=r.requestAnimationFrame(z)};z()}function mc(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function vi(t,e){return void 0===e&&(e=""),[...t.children].filter(n=>n.matches(e))}function ua(t,e){void 0===e&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function bu(t){const e=Q2(),n=Pi(),i=t.getBoundingClientRect(),r=n.body;return{top:i.top+(t===e?e.scrollY:t.scrollTop)-(t.clientTop||r.clientTop||0),left:i.left+(t===e?e.scrollX:t.scrollLeft)-(t.clientLeft||r.clientLeft||0)}}function Ks(t,e){return Q2().getComputedStyle(t,null).getPropertyValue(e)}function Wl(t){let n,e=t;if(e){for(n=0;null!==(e=e.previousSibling);)1===e.nodeType&&(n+=1);return n}}function gc(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function Yl(t,e){e&&t.addEventListener("transitionend",function n(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",n))})}function tg(t,e,n){const i=Q2();return n?t["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):t.offsetWidth}let ng,ig,rg;function _P(){return ng||(ng=function Ybe(){const t=Q2(),e=Pi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}()),ng}const xu=(t,e)=>{if(!t||t.destroyed||!t.params)return;const i=e.closest(t.isElement?"swiper-slide":`.${t.params.slideClass}`);if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},ag=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},sg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const u=r,h=[u-e];return h.push(...Array.from({length:e}).map((p,y)=>u+i+y)),void t.slides.forEach((p,y)=>{h.includes(p.column)&&ag(t,y)})}const o=r+i-1;if(t.params.rewind||t.params.loop)for(let u=r-e;u<=o+e;u+=1){const h=(u%n+n)%n;(h<r||h>o)&&ag(t,h)}else for(let u=Math.max(r-e,0);u<=Math.min(o+e,n-1);u+=1)u!==r&&(u>o||u<r)&&ag(t,u)};function CP(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:o,previousIndex:u}=e;let h=i;if(h||(h=o>u?"next":o<u?"prev":"reset"),e.emit(`transition${r}`),n&&o!==u){if("reset"===h)return void e.emit(`slideResetTransition${r}`);e.emit(`slideChangeTransition${r}`),e.emit("next"===h?`slideNextTransition${r}`:`slidePrevTransition${r}`)}}function Fxe(t){const e=this,n=Pi(),i=Q2(),r=e.touchEventsData;r.evCache.push(t);const{params:o,touches:u,enabled:h}=e;if(!h||!o.simulateTouch&&"mouse"===t.pointerType||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let p=t;p.originalEvent&&(p=p.originalEvent);let y=p.target;if("wrapper"===o.touchEventsTarget&&!e.wrapperEl.contains(y)||"which"in p&&3===p.which||"button"in p&&p.button>0||r.isTouched&&r.isMoved)return;const w=!!o.noSwipingClass&&""!==o.noSwipingClass,z=t.composedPath?t.composedPath():t.path;w&&p.target&&p.target.shadowRoot&&z&&(y=z[0]);const E=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`;if(o.noSwiping&&(p.target&&p.target.shadowRoot?function Rxe(t,e){return void 0===e&&(e=this),function n(i){if(!i||i===Pi()||i===Q2())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return r||i.getRootNode?r||n(i.getRootNode().host):null}(e)}(E,y):y.closest(E)))return void(e.allowClick=!0);if(o.swipeHandler&&!y.closest(o.swipeHandler))return;u.currentX=p.pageX,u.currentY=p.pageY;const k=u.currentX,B=u.currentY,j=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,Z=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(j&&(k<=Z||k>=i.innerWidth-Z)){if("prevent"!==j)return;t.preventDefault()}Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=k,u.startY=B,r.touchStartTime=C3(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let F=!0;y.matches(r.focusableElements)&&(F=!1,"SELECT"===y.nodeName&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==y&&n.activeElement.blur(),(o.touchStartForcePreventDefault||F&&e.allowTouchMove&&o.touchStartPreventDefault)&&!y.isContentEditable&&p.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",p)}function Bxe(t){const e=Pi(),n=this,i=n.touchEventsData,{params:r,touches:o,rtlTranslate:u,enabled:h}=n;if(!h||!r.simulateTouch&&"mouse"===t.pointerType)return;let p=t;if(p.originalEvent&&(p=p.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",p));const y=i.evCache.findIndex(Te=>Te.pointerId===p.pointerId);y>=0&&(i.evCache[y]=p);const w=i.evCache.length>1?i.evCache[0]:p,z=w.pageX,E=w.pageY;if(p.preventedByNestedSwiper)return o.startX=z,void(o.startY=E);if(!n.allowTouchMove)return p.target.matches(i.focusableElements)||(n.allowClick=!1),void(i.isTouched&&(Object.assign(o,{startX:z,startY:E,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:z,currentY:E}),i.touchStartTime=C3()));if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(E<o.startY&&n.translate<=n.maxTranslate()||E>o.startY&&n.translate>=n.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(z<o.startX&&n.translate<=n.maxTranslate()||z>o.startX&&n.translate>=n.minTranslate())return;if(e.activeElement&&p.target===e.activeElement&&p.target.matches(i.focusableElements))return i.isMoved=!0,void(n.allowClick=!1);if(i.allowTouchCallbacks&&n.emit("touchMove",p),p.targetTouches&&p.targetTouches.length>1)return;o.currentX=z,o.currentY=E;const D=o.currentX-o.startX,k=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(D**2+k**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let Te;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:D*D+k*k>=25&&(Te=180*Math.atan2(Math.abs(k),Math.abs(D))/Math.PI,i.isScrolling=n.isHorizontal()?Te>r.touchAngle:90-Te>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",p),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&i.evCache.length>1)return void(i.isTouched=!1);if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&p.cancelable&&p.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&p.stopPropagation();let B=n.isHorizontal()?D:k,j=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(B=Math.abs(B)*(u?1:-1),j=Math.abs(j)*(u?1:-1)),o.diff=B,B*=r.touchRatio,u&&(B=-B,j=-j);const Z=n.touchesDirection;n.swipeDirection=B>0?"prev":"next",n.touchesDirection=j>0?"prev":"next";const F=n.params.loop&&!r.cssMode,q="next"===n.swipeDirection&&n.allowSlideNext||"prev"===n.swipeDirection&&n.allowSlidePrev;if(!i.isMoved){if(F&&q&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const Te=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(Te)}i.allowMomentumBounce=!1,r.grabCursor&&(!0===n.allowSlideNext||!0===n.allowSlidePrev)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",p)}let ee;i.isMoved&&Z!==n.touchesDirection&&F&&q&&Math.abs(B)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),ee=!0),n.emit("sliderMove",p),i.isMoved=!0,i.currentTranslate=B+i.startTranslate;let ve=!0,Ee=r.resistanceRatio;if(r.touchReleaseOnEdges&&(Ee=0),B>0?(F&&q&&!ee&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(ve=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+B)**Ee))):B<0&&(F&&q&&!ee&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===r.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(ve=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-B)**Ee))),ve&&(p.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(B)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function $xe(t){const e=this,n=e.touchEventsData,i=n.evCache.findIndex(q=>q.pointerId===t.pointerId);if(i>=0&&n.evCache.splice(i,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(t.type)&&(!["pointercancel","contextmenu"].includes(t.type)||!e.browser.isSafari&&!e.browser.isWebView))return;const{params:r,touches:o,rtlTranslate:u,slidesGrid:h,enabled:p}=e;if(!p||!r.simulateTouch&&"mouse"===t.pointerType)return;let y=t;if(y.originalEvent&&(y=y.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",y),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const w=C3(),z=w-n.touchStartTime;if(e.allowClick){const q=y.path||y.composedPath&&y.composedPath();e.updateClickedSlide(q&&q[0]||y.target,q),e.emit("tap click",y),z<300&&w-n.lastClickTime<300&&e.emit("doubleTap doubleClick",y)}if(n.lastClickTime=C3(),pc(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===o.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let E;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,E=r.followFinger?u?e.translate:-e.translate:-n.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:E});let D=0,k=e.slidesSizesGrid[0];for(let q=0;q<h.length;q+=q<r.slidesPerGroupSkip?1:r.slidesPerGroup){const ee=q<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof h[q+ee]<"u"?E>=h[q]&&E<h[q+ee]&&(D=q,k=h[q+ee]-h[q]):E>=h[q]&&(D=q,k=h[h.length-1]-h[h.length-2])}let B=null,j=null;r.rewind&&(e.isBeginning?j=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(B=0));const Z=(E-h[D])/k,F=D<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(z>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(Z>=r.longSwipesRatio?r.rewind&&e.isEnd?B:D+F:D),"prev"===e.swipeDirection&&(Z>1-r.longSwipesRatio?e.slideTo(D+F):null!==j&&Z<0&&Math.abs(Z)>r.longSwipesRatio?e.slideTo(j):e.slideTo(D))}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||y.target!==e.navigation.nextEl&&y.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==B?B:D+F),"prev"===e.swipeDirection&&e.slideTo(null!==j?j:D)):e.slideTo(y.target===e.navigation.nextEl?D+F:D)}}function bP(){const t=this,{params:e,el:n}=t;if(n&&0===n.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=t,u=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),!("auto"===e.slidesPerView||e.slidesPerView>1)||!t.isEnd||t.isBeginning||t.params.centeredSlides||u&&e.loop?t.params.loop&&!u?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0):t.slideTo(t.slides.length-1,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function jxe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Uxe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;let r;t.previousTranslate=t.translate,t.translate=t.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const o=t.maxTranslate()-t.minTranslate();r=0===o?0:(t.translate-t.minTranslate())/o,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function qxe(t){const e=this;xu(e,t.target),!e.params.cssMode&&("auto"===e.params.slidesPerView||e.params.autoHeight)&&e.update()}let xP=!1;function Gxe(){}const MP=(t,e)=>{const n=Pi(),{params:i,el:r,wrapperEl:o,device:u}=t,h=!!i.nested,p="on"===e?"addEventListener":"removeEventListener",y=e;r[p]("pointerdown",t.onTouchStart,{passive:!1}),n[p]("pointermove",t.onTouchMove,{passive:!1,capture:h}),n[p]("pointerup",t.onTouchEnd,{passive:!0}),n[p]("pointercancel",t.onTouchEnd,{passive:!0}),n[p]("pointerout",t.onTouchEnd,{passive:!0}),n[p]("pointerleave",t.onTouchEnd,{passive:!0}),n[p]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[p]("click",t.onClick,!0),i.cssMode&&o[p]("scroll",t.onScroll),t[y](i.updateOnWindowResize?u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",bP,!0),r[p]("load",t.onLoad,{capture:!0})},wP=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;var og={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function aMe(t,e){return function(i){void 0===i&&(i={});const r=Object.keys(i)[0],o=i[r];"object"==typeof o&&null!==o?(!0===t[r]&&(t[r]={enabled:!0}),"navigation"===r&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),r in t&&"enabled"in o?("object"==typeof t[r]&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Wr(e,i)):Wr(e,i)):Wr(e,i)}}const cg={eventsEmitter:{on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;const r=n?"unshift":"push";return t.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];e.apply(i,u)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||"function"!=typeof t)return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,o)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(o,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return"string"==typeof o[0]||Array.isArray(o[0])?(e=o[0],n=o.slice(1,o.length),i=t):(e=o[0].events,n=o[0].data,i=o[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(p=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(y=>{y.apply(i,[p,...n])}),t.eventsListeners&&t.eventsListeners[p]&&t.eventsListeners[p].forEach(y=>{y.apply(i,n)})}),t}},update:{updateSize:function ixe(){const t=this;let e,n;const i=t.el;e=typeof t.params.width<"u"&&null!==t.params.width?t.params.width:i.clientWidth,n=typeof t.params.height<"u"&&null!==t.params.height?t.params.height:i.clientHeight,!(0===e&&t.isHorizontal()||0===n&&t.isVertical())&&(e=e-parseInt(Ks(i,"padding-left")||0,10)-parseInt(Ks(i,"padding-right")||0,10),n=n-parseInt(Ks(i,"padding-top")||0,10)-parseInt(Ks(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))},updateSlides:function rxe(){const t=this;function e(Oe){return t.isHorizontal()?Oe:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Oe]}function n(Oe,Ne){return parseFloat(Oe.getPropertyValue(e(Ne))||0)}const i=t.params,{wrapperEl:r,slidesEl:o,size:u,rtlTranslate:h,wrongRTL:p}=t,y=t.virtual&&i.virtual.enabled,w=y?t.virtual.slides.length:t.slides.length,z=vi(o,`.${t.params.slideClass}, swiper-slide`),E=y?t.virtual.slides.length:z.length;let D=[];const k=[],B=[];let j=i.slidesOffsetBefore;"function"==typeof j&&(j=i.slidesOffsetBefore.call(t));let Z=i.slidesOffsetAfter;"function"==typeof Z&&(Z=i.slidesOffsetAfter.call(t));const F=t.snapGrid.length,q=t.slidesGrid.length;let ee=i.spaceBetween,ve=-j,Ee=0,Te=0;if(typeof u>"u")return;"string"==typeof ee&&ee.indexOf("%")>=0?ee=parseFloat(ee.replace("%",""))/100*u:"string"==typeof ee&&(ee=parseFloat(ee)),t.virtualSize=-ee,z.forEach(Oe=>{h?Oe.style.marginLeft="":Oe.style.marginRight="",Oe.style.marginBottom="",Oe.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(Zl(r,"--swiper-centered-offset-before",""),Zl(r,"--swiper-centered-offset-after",""));const Ve=i.grid&&i.grid.rows>1&&t.grid;let me;Ve&&t.grid.initSlides(E);const e1="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter(Oe=>typeof i.breakpoints[Oe].slidesPerView<"u").length>0;for(let Oe=0;Oe<E;Oe+=1){let Ne;if(me=0,z[Oe]&&(Ne=z[Oe]),Ve&&t.grid.updateSlide(Oe,Ne,E,e),!z[Oe]||"none"!==Ks(Ne,"display")){if("auto"===i.slidesPerView){e1&&(z[Oe].style[e("width")]="");const He=getComputedStyle(Ne),ie=Ne.style.transform,xe=Ne.style.webkitTransform;if(ie&&(Ne.style.transform="none"),xe&&(Ne.style.webkitTransform="none"),i.roundLengths)me=t.isHorizontal()?tg(Ne,"width",!0):tg(Ne,"height",!0);else{const pe=n(He,"width"),he=n(He,"padding-left"),Me=n(He,"padding-right"),Le=n(He,"margin-left"),u1=n(He,"margin-right"),D1=He.getPropertyValue("box-sizing");if(D1&&"border-box"===D1)me=pe+Le+u1;else{const{clientWidth:tt,offsetWidth:M1}=Ne;me=pe+he+Me+Le+u1+(M1-tt)}}ie&&(Ne.style.transform=ie),xe&&(Ne.style.webkitTransform=xe),i.roundLengths&&(me=Math.floor(me))}else me=(u-(i.slidesPerView-1)*ee)/i.slidesPerView,i.roundLengths&&(me=Math.floor(me)),z[Oe]&&(z[Oe].style[e("width")]=`${me}px`);z[Oe]&&(z[Oe].swiperSlideSize=me),B.push(me),i.centeredSlides?(ve=ve+me/2+Ee/2+ee,0===Ee&&0!==Oe&&(ve=ve-u/2-ee),0===Oe&&(ve=ve-u/2-ee),Math.abs(ve)<.001&&(ve=0),i.roundLengths&&(ve=Math.floor(ve)),Te%i.slidesPerGroup==0&&D.push(ve),k.push(ve)):(i.roundLengths&&(ve=Math.floor(ve)),(Te-Math.min(t.params.slidesPerGroupSkip,Te))%t.params.slidesPerGroup==0&&D.push(ve),k.push(ve),ve=ve+me+ee),t.virtualSize+=me+ee,Ee=me,Te+=1}}if(t.virtualSize=Math.max(t.virtualSize,u)+Z,h&&p&&("slide"===i.effect||"coverflow"===i.effect)&&(r.style.width=`${t.virtualSize+ee}px`),i.setWrapperSize&&(r.style[e("width")]=`${t.virtualSize+ee}px`),Ve&&t.grid.updateWrapperSize(me,D,e),!i.centeredSlides){const Oe=[];for(let Ne=0;Ne<D.length;Ne+=1){let He=D[Ne];i.roundLengths&&(He=Math.floor(He)),D[Ne]<=t.virtualSize-u&&Oe.push(He)}D=Oe,Math.floor(t.virtualSize-u)-Math.floor(D[D.length-1])>1&&D.push(t.virtualSize-u)}if(y&&i.loop){const Oe=B[0]+ee;if(i.slidesPerGroup>1){const Ne=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/i.slidesPerGroup),He=Oe*i.slidesPerGroup;for(let ie=0;ie<Ne;ie+=1)D.push(D[D.length-1]+He)}for(let Ne=0;Ne<t.virtual.slidesBefore+t.virtual.slidesAfter;Ne+=1)1===i.slidesPerGroup&&D.push(D[D.length-1]+Oe),k.push(k[k.length-1]+Oe),t.virtualSize+=Oe}if(0===D.length&&(D=[0]),0!==ee){const Oe=t.isHorizontal()&&h?"marginLeft":e("marginRight");z.filter((Ne,He)=>!(i.cssMode&&!i.loop)||He!==z.length-1).forEach(Ne=>{Ne.style[Oe]=`${ee}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let Oe=0;B.forEach(He=>{Oe+=He+(ee||0)}),Oe-=ee;const Ne=Oe-u;D=D.map(He=>He<=0?-j:He>Ne?Ne+Z:He)}if(i.centerInsufficientSlides){let Oe=0;if(B.forEach(Ne=>{Oe+=Ne+(ee||0)}),Oe-=ee,Oe<u){const Ne=(u-Oe)/2;D.forEach((He,ie)=>{D[ie]=He-Ne}),k.forEach((He,ie)=>{k[ie]=He+Ne})}}if(Object.assign(t,{slides:z,snapGrid:D,slidesGrid:k,slidesSizesGrid:B}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){Zl(r,"--swiper-centered-offset-before",-D[0]+"px"),Zl(r,"--swiper-centered-offset-after",t.size/2-B[B.length-1]/2+"px");const Oe=-t.snapGrid[0],Ne=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(He=>He+Oe),t.slidesGrid=t.slidesGrid.map(He=>He+Ne)}if(E!==w&&t.emit("slidesLengthChange"),D.length!==F&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),k.length!==q&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),!(y||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const Oe=`${i.containerModifierClass}backface-hidden`,Ne=t.el.classList.contains(Oe);E<=i.maxBackfaceHiddenSlides?Ne||t.el.classList.add(Oe):Ne&&t.el.classList.remove(Oe)}},updateAutoHeight:function axe(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let o,r=0;"number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const u=h=>i?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{n.push(h)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const h=e.activeIndex+o;if(h>e.slides.length&&!i)break;n.push(u(h))}else n.push(u(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const h=n[o].offsetHeight;r=h>r?h:r}(r||0===r)&&(e.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function sxe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()},updateSlidesProgress:function oxe(t){void 0===t&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:o}=e;if(0===i.length)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-t;r&&(u=t),i.forEach(p=>{p.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=n.spaceBetween;"string"==typeof h&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:"string"==typeof h&&(h=parseFloat(h));for(let p=0;p<i.length;p+=1){const y=i[p];let w=y.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(w-=i[0].swiperSlideOffset);const z=(u+(n.centeredSlides?e.minTranslate():0)-w)/(y.swiperSlideSize+h),E=(u-o[0]+(n.centeredSlides?e.minTranslate():0)-w)/(y.swiperSlideSize+h),D=-(u-w),k=D+e.slidesSizesGrid[p];(D>=0&&D<e.size-1||k>1&&k<=e.size||D<=0&&k>=e.size)&&(e.visibleSlides.push(y),e.visibleSlidesIndexes.push(p),i[p].classList.add(n.slideVisibleClass)),y.progress=r?-z:z,y.originalProgress=r?-E:E}},updateProgress:function cxe(t){const e=this;typeof t>"u"&&(t=e&&e.translate&&e.translate*(e.rtlTranslate?-1:1)||0);const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:o,isEnd:u,progressLoop:h}=e;const p=o,y=u;if(0===i)r=0,o=!0,u=!0;else{r=(t-e.minTranslate())/i;const w=Math.abs(t-e.minTranslate())<1,z=Math.abs(t-e.maxTranslate())<1;o=w||r<=0,u=z||r>=1,w&&(r=0),z&&(r=1)}if(n.loop){const w=e.getSlideIndexByData(0),z=e.getSlideIndexByData(e.slides.length-1),E=e.slidesGrid[w],D=e.slidesGrid[z],k=e.slidesGrid[e.slidesGrid.length-1],B=Math.abs(t);h=B>=E?(B-E)/k:(B+k-D)/k,h>1&&(h-=1)}Object.assign(e,{progress:r,progressLoop:h,isBeginning:o,isEnd:u}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!p&&e.emit("reachBeginning toEdge"),u&&!y&&e.emit("reachEnd toEdge"),(p&&!o||y&&!u)&&e.emit("fromEdge"),e.emit("progress",r)},updateSlidesClasses:function lxe(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,o=t.virtual&&n.virtual.enabled,u=p=>vi(i,`.${n.slideClass}${p}, swiper-slide${p}`)[0];let h;if(e.forEach(p=>{p.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)}),o)if(n.loop){let p=r-t.virtual.slidesBefore;p<0&&(p=t.virtual.slides.length+p),p>=t.virtual.slides.length&&(p-=t.virtual.slides.length),h=u(`[data-swiper-slide-index="${p}"]`)}else h=u(`[data-swiper-slide-index="${r}"]`);else h=e[r];if(h){h.classList.add(n.slideActiveClass);let p=function Wbe(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}(h,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!p&&(p=e[0]),p&&p.classList.add(n.slideNextClass);let y=function Zbe(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}(h,`.${n.slideClass}, swiper-slide`)[0];n.loop&&0===!y&&(y=e[e.length-1]),y&&y.classList.add(n.slidePrevClass)}t.emitSlidesClasses()},updateActiveIndex:function fxe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:u,snapIndex:h}=e;let y,p=t;const w=E=>{let D=E-e.virtual.slidesBefore;return D<0&&(D=e.virtual.slides.length+D),D>=e.virtual.slides.length&&(D-=e.virtual.slides.length),D};if(typeof p>"u"&&(p=function uxe(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?i>=e[o]&&i<e[o+1]-(e[o+1]-e[o])/2?r=o:i>=e[o]&&i<e[o+1]&&(r=o+1):i>=e[o]&&(r=o);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}(e)),i.indexOf(n)>=0)y=i.indexOf(n);else{const E=Math.min(r.slidesPerGroupSkip,p);y=E+Math.floor((p-E)/r.slidesPerGroup)}if(y>=i.length&&(y=i.length-1),p===o)return y!==h&&(e.snapIndex=y,e.emit("snapIndexChange")),void(e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=w(p)));let z;z=e.virtual&&r.virtual.enabled&&r.loop?w(p):e.slides[p]?parseInt(e.slides[p].getAttribute("data-swiper-slide-index")||p,10):p,Object.assign(e,{previousSnapIndex:h,snapIndex:y,previousRealIndex:u,realIndex:z,previousIndex:o,activeIndex:p}),e.initialized&&sg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==z&&e.emit("realIndexChange"),e.emit("slideChange"))},updateClickedSlide:function hxe(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(h=>{!r&&h.matches&&h.matches(`.${i.slideClass}, swiper-slide`)&&(r=h)});let u,o=!1;if(r)for(let h=0;h<n.slides.length;h+=1)if(n.slides[h]===r){o=!0,u=h;break}if(!r||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=r,n.clickedIndex=n.virtual&&n.params.virtual.enabled?parseInt(r.getAttribute("data-swiper-slide-index"),10):u,i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},translate:{getTranslate:function pxe(t){void 0===t&&(t=this.isHorizontal()?"x":"y");const{params:n,rtlTranslate:i,translate:r,wrapperEl:o}=this;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let u=eg(o,t);return u+=this.cssOverflowAdjustment(),i&&(u=-u),u||0},setTranslate:function mxe(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:u}=n;let w,h=0,p=0;n.isHorizontal()?h=i?-t:t:p=t,r.roundLengths&&(h=Math.floor(h),p=Math.floor(p)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?h:p,r.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-h:-p:r.virtualTranslate||(n.isHorizontal()?h-=n.cssOverflowAdjustment():p-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${h}px, ${p}px, 0px)`);const z=n.maxTranslate()-n.minTranslate();w=0===z?0:(t-n.minTranslate())/z,w!==u&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)},minTranslate:function gxe(){return-this.snapGrid[0]},maxTranslate:function vxe(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function yxe(t,e,n,i,r){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),void 0===i&&(i=!0);const o=this,{params:u,wrapperEl:h}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const p=o.minTranslate(),y=o.maxTranslate();let w;if(w=i&&t>p?p:i&&t<y?y:t,o.updateProgress(w),u.cssMode){const z=o.isHorizontal();if(0===e)h[z?"scrollLeft":"scrollTop"]=-w;else{if(!o.support.smoothScroll)return yP({swiper:o,targetPosition:-w,side:z?"left":"top"}),!0;h.scrollTo({[z?"left":"top"]:-w,behavior:"smooth"})}return!0}return 0===e?(o.setTransition(0),o.setTranslate(w),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(w),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(E){!o||o.destroyed||E.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function Cxe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=0===t?"0ms":""),n.emit("setTransition",t,e)},transitionStart:function bxe(t,e){void 0===t&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),CP({swiper:n,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function xxe(t,e){void 0===t&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),CP({swiper:n,runCallbacks:t,direction:e,step:"End"}))}},slide:{slideTo:function wxe(t,e,n,i,r){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),"string"==typeof t&&(t=parseInt(t,10));const o=this;let u=t;u<0&&(u=0);const{params:h,snapGrid:p,slidesGrid:y,previousIndex:w,activeIndex:z,rtlTranslate:E,wrapperEl:D,enabled:k}=o;if(o.animating&&h.preventInteractionOnTransition||!k&&!i&&!r)return!1;const B=Math.min(o.params.slidesPerGroupSkip,u);let j=B+Math.floor((u-B)/o.params.slidesPerGroup);j>=p.length&&(j=p.length-1);const Z=-p[j];if(h.normalizeSlideIndex)for(let q=0;q<y.length;q+=1){const ee=-Math.floor(100*Z),ve=Math.floor(100*y[q]),Ee=Math.floor(100*y[q+1]);typeof y[q+1]<"u"?ee>=ve&&ee<Ee-(Ee-ve)/2?u=q:ee>=ve&&ee<Ee&&(u=q+1):ee>=ve&&(u=q)}if(o.initialized&&u!==z&&(!o.allowSlideNext&&(E?Z>o.translate&&Z>o.minTranslate():Z<o.translate&&Z<o.minTranslate())||!o.allowSlidePrev&&Z>o.translate&&Z>o.maxTranslate()&&(z||0)!==u))return!1;let F;if(u!==(w||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(Z),F=u>z?"next":u<z?"prev":"reset",E&&-Z===o.translate||!E&&Z===o.translate)return o.updateActiveIndex(u),h.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==h.effect&&o.setTranslate(Z),"reset"!==F&&(o.transitionStart(n,F),o.transitionEnd(n,F)),!1;if(h.cssMode){const q=o.isHorizontal(),ee=E?Z:-Z;if(0===e){const ve=o.virtual&&o.params.virtual.enabled;ve&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),ve&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{D[q?"scrollLeft":"scrollTop"]=ee})):D[q?"scrollLeft":"scrollTop"]=ee,ve&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return yP({swiper:o,targetPosition:ee,side:q?"left":"top"}),!0;D.scrollTo({[q?"left":"top"]:ee,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(Z),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,i),o.transitionStart(n,F),0===e?o.transitionEnd(n,F):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(ee){!o||o.destroyed||ee.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,F))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function zxe(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),"string"==typeof t&&(t=parseInt(t,10));const r=this;let o=t;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?o+=r.virtual.slidesBefore:o=r.getSlideIndexByData(o)),r.slideTo(o,e,n,i)},slideNext:function Sxe(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);const i=this,{enabled:r,params:o,animating:u}=i;if(!r)return i;let h=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(h=Math.max(i.slidesPerViewDynamic("current",!0),1));const p=i.activeIndex<o.slidesPerGroupSkip?1:h;if(o.loop){if(u&&(!i.virtual||!o.virtual.enabled)&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+p)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+p)},slidePrev:function Lxe(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);const i=this,{params:r,snapGrid:o,slidesGrid:u,rtlTranslate:h,enabled:p,animating:y}=i;if(!p)return i;if(r.loop){if(y&&(!i.virtual||!r.virtual.enabled)&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function E(Z){return Z<0?-Math.floor(Math.abs(Z)):Math.floor(Z)}const D=E(h?i.translate:-i.translate),k=o.map(Z=>E(Z));let B=o[k.indexOf(D)-1];if(typeof B>"u"&&r.cssMode){let Z;o.forEach((F,q)=>{D>=F&&(Z=q)}),typeof Z<"u"&&(B=o[Z>0?Z-1:Z])}let j=0;return typeof B<"u"&&(j=u.indexOf(B),j<0&&(j=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(j=j-i.slidesPerViewDynamic("previous",!0)+1,j=Math.max(j,0))),r.rewind&&i.isBeginning?i.slideTo(i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1,t,e,n):r.loop&&0===i.activeIndex&&r.cssMode?(requestAnimationFrame(()=>{i.slideTo(j,t,e,n)}),!0):i.slideTo(j,t,e,n)},slideReset:function Hxe(t,e,n){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function Vxe(t,e,n,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===i&&(i=.5);const r=this;let o=r.activeIndex;const u=Math.min(r.params.slidesPerGroupSkip,o),h=u+Math.floor((o-u)/r.params.slidesPerGroup),p=r.rtlTranslate?r.translate:-r.translate;if(p>=r.snapGrid[h]){const y=r.snapGrid[h];p-y>(r.snapGrid[h+1]-y)*i&&(o+=r.params.slidesPerGroup)}else{const y=r.snapGrid[h-1];p-y<=(r.snapGrid[h]-y)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,t,e,n)},slideToClickedSlide:function Exe(){const t=this,{params:e,slidesEl:n}=t,i="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let o,r=t.clickedIndex;const u=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(vi(n,`${u}[data-swiper-slide-index="${o}"]`)[0]),pc(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(vi(n,`${u}[data-swiper-slide-index="${o}"]`)[0]),pc(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}},loop:{loopCreate:function Dxe(t){const e=this,{params:n,slidesEl:i}=e;!n.loop||e.virtual&&e.params.virtual.enabled||(vi(i,`.${n.slideClass}, swiper-slide`).forEach((o,u)=>{o.setAttribute("data-swiper-slide-index",u)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"}))},loopFix:function Pxe(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:u,byMousewheel:h}=void 0===t?{}:t;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:w,allowSlideNext:z,slidesEl:E,params:D}=p;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&D.virtual.enabled)return n&&(D.centeredSlides||0!==p.snapIndex?D.centeredSlides&&p.snapIndex<D.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0):p.slideTo(p.virtual.slides.length,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=z,void p.emit("loopFix");const k="auto"===D.slidesPerView?p.slidesPerViewDynamic():Math.ceil(parseFloat(D.slidesPerView,10));let B=D.loopedSlides||k;B%D.slidesPerGroup!=0&&(B+=D.slidesPerGroup-B%D.slidesPerGroup),p.loopedSlides=B;const j=[],Z=[];let F=p.activeIndex;typeof o>"u"?o=p.getSlideIndex(p.slides.filter(Te=>Te.classList.contains(D.slideActiveClass))[0]):F=o;const q="next"===i||!i,ee="prev"===i||!i;let ve=0,Ee=0;if(o<B){ve=Math.max(B-o,D.slidesPerGroup);for(let Te=0;Te<B-o;Te+=1){const Ve=Te-Math.floor(Te/y.length)*y.length;j.push(y.length-Ve-1)}}else if(o>p.slides.length-2*B){Ee=Math.max(o-(p.slides.length-2*B),D.slidesPerGroup);for(let Te=0;Te<Ee;Te+=1){const Ve=Te-Math.floor(Te/y.length)*y.length;Z.push(Ve)}}if(ee&&j.forEach(Te=>{p.slides[Te].swiperLoopMoveDOM=!0,E.prepend(p.slides[Te]),p.slides[Te].swiperLoopMoveDOM=!1}),q&&Z.forEach(Te=>{p.slides[Te].swiperLoopMoveDOM=!0,E.append(p.slides[Te]),p.slides[Te].swiperLoopMoveDOM=!1}),p.recalcSlides(),"auto"===D.slidesPerView&&p.updateSlides(),D.watchSlidesProgress&&p.updateSlidesOffset(),n)if(j.length>0&&ee)if(typeof e>"u"){const me=p.slidesGrid[F+ve]-p.slidesGrid[F];h?p.setTranslate(p.translate-me):(p.slideTo(F+ve,0,!1,!0),r&&(p.touches[p.isHorizontal()?"startX":"startY"]+=me,p.touchEventsData.currentTranslate=p.translate))}else r&&(p.slideToLoop(e,0,!1,!0),p.touchEventsData.currentTranslate=p.translate);else if(Z.length>0&&q)if(typeof e>"u"){const me=p.slidesGrid[F-Ee]-p.slidesGrid[F];h?p.setTranslate(p.translate-me):(p.slideTo(F-Ee,0,!1,!0),r&&(p.touches[p.isHorizontal()?"startX":"startY"]+=me,p.touchEventsData.currentTranslate=p.translate))}else p.slideToLoop(e,0,!1,!0);if(p.allowSlidePrev=w,p.allowSlideNext=z,p.controller&&p.controller.control&&!u){const Te={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(Ve=>{!Ve.destroyed&&Ve.params.loop&&Ve.loopFix({...Te,slideTo:Ve.params.slidesPerView===D.slidesPerView&&n})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...Te,slideTo:p.controller.control.params.slidesPerView===D.slidesPerView&&n})}p.emit("loopFix")},loopDestroy:function Axe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const o=typeof r.swiperSlideIndex>"u"?1*r.getAttribute("data-swiper-slide-index"):r.swiperSlideIndex;i[o]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}},grabCursor:{setGrabCursor:function kxe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})},unsetGrabCursor:function Nxe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}},events:{attachEvents:function Zxe(){const t=this,e=Pi(),{params:n}=t;t.onTouchStart=Fxe.bind(t),t.onTouchMove=Bxe.bind(t),t.onTouchEnd=$xe.bind(t),n.cssMode&&(t.onScroll=Uxe.bind(t)),t.onClick=jxe.bind(t),t.onLoad=qxe.bind(t),xP||(e.addEventListener("touchstart",Gxe),xP=!0),MP(t,"on")},detachEvents:function Wxe(){MP(this,"off")}},breakpoints:{setBreakpoint:function Xxe(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,o=i.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const u=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!u||t.currentBreakpoint===u)return;const p=(u in o?o[u]:void 0)||t.originalParams,y=wP(t,i),w=wP(t,p),z=i.enabled;y&&!w?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!y&&w&&(r.classList.add(`${i.containerModifierClass}grid`),(p.grid.fill&&"column"===p.grid.fill||!p.grid.fill&&"column"===i.grid.fill)&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(Z=>{if(typeof p[Z]>"u")return;const F=i[Z]&&i[Z].enabled,q=p[Z]&&p[Z].enabled;F&&!q&&t[Z].disable(),!F&&q&&t[Z].enable()});const E=p.direction&&p.direction!==i.direction,D=i.loop&&(p.slidesPerView!==i.slidesPerView||E),k=i.loop;E&&n&&t.changeDirection(),Wr(t.params,p);const B=t.params.enabled,j=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),z&&!B?t.disable():!z&&B&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",p),n&&(D?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!k&&j?(t.loopCreate(e),t.updateSlides()):k&&!j&&t.loopDestroy()),t.emit("breakpoint",p)},getBreakpoint:function Kxe(t,e,n){if(void 0===e&&(e="window"),!t||"container"===e&&!n)return;let i=!1;const r=Q2(),o="window"===e?r.innerHeight:n.clientHeight,u=Object.keys(t).map(h=>{if("string"==typeof h&&0===h.indexOf("@")){const p=parseFloat(h.substr(1));return{value:o*p,point:h}}return{value:h,point:h}});u.sort((h,p)=>parseInt(h.value,10)-parseInt(p.value,10));for(let h=0;h<u.length;h+=1){const{point:p,value:y}=u[h];"window"===e?r.matchMedia(`(min-width: ${y}px)`).matches&&(i=p):y<=n.clientWidth&&(i=p)}return i||"max"}},checkOverflow:{checkOverflow:function iMe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1;t.isLocked=t.size>t.slidesGrid[r]+t.slidesSizesGrid[r]+2*i}else t.isLocked=1===t.snapGrid.length;!0===n.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===n.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:{addClasses:function eMe(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:o}=t,u=function Jxe(t,e){const n=[];return t.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):"string"==typeof i&&n.push(e+i)}),n}(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...u),r.classList.add(...e),t.emitContainerClasses()},removeClasses:function tMe(){const{el:e,classNames:n}=this;e.classList.remove(...n),this.emitContainerClasses()}}},lg={};class Yr{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?n=r[0]:[e,n]=r,n||(n={}),n=Wr({},n),e&&!n.el&&(n.el=e);const u=Pi();if(n.el&&"string"==typeof n.el&&u.querySelectorAll(n.el).length>1){const w=[];return u.querySelectorAll(n.el).forEach(z=>{const E=Wr({},n,{el:z});w.push(new Yr(E))}),w}const h=this;h.__swiper__=!0,h.support=_P(),h.device=function Kbe(t){return void 0===t&&(t={}),ig||(ig=function Xbe(t){let{userAgent:e}=void 0===t?{}:t;const n=_P(),i=Q2(),r=i.navigator.platform,o=e||i.navigator.userAgent,u={ios:!1,android:!1},h=i.screen.width,p=i.screen.height,y=o.match(/(Android);?[\s\/]+([\d.]+)?/);let w=o.match(/(iPad).*OS\s([\d_]+)/);const z=o.match(/(iPod)(.*OS\s([\d_]+))?/),E=!w&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),D="Win32"===r;let k="MacIntel"===r;return!w&&k&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${h}x${p}`)>=0&&(w=o.match(/(Version)\/([\d.]+)/),w||(w=[0,1,"13_0_0"]),k=!1),y&&!D&&(u.os="android",u.android=!0),(w||E||z)&&(u.os="ios",u.ios=!0),u}(t)),ig}({userAgent:n.userAgent}),h.browser=function Jbe(){return rg||(rg=function Qbe(){const t=Q2();let e=!1;function n(){const i=t.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(n()){const i=String(t.navigator.userAgent);if(i.includes("Version/")){const[r,o]=i.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));e=r<16||16===r&&o<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),rg}(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],n.modules&&Array.isArray(n.modules)&&h.modules.push(...n.modules);const p={};h.modules.forEach(w=>{w({params:n,swiper:h,extendParams:aMe(n,p),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const y=Wr({},og,p);return h.params=Wr({},y,lg,n),h.originalParams=Wr({},h.params),h.passedParams=Wr({},n),h.params&&h.params.on&&Object.keys(h.params.on).forEach(w=>{h.on(w,h.params.on[w])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===h.params.direction,isVertical:()=>"vertical"===h.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getSlideIndex(e){const{slidesEl:n,params:i}=this,o=Wl(vi(n,`.${i.slideClass}, swiper-slide`)[0]);return Wl(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>1*n.getAttribute("data-swiper-slide-index")===e)[0])}recalcSlides(){const{slidesEl:n,params:i}=this;this.slides=vi(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),u=(i.maxTranslate()-r)*e+r;i.translateTo(u,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(n.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){void 0===e&&(e="current"),void 0===n&&(n=!1);const{params:r,slides:o,slidesGrid:u,slidesSizesGrid:h,size:p,activeIndex:y}=this;let w=1;if("number"==typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let E,z=o[y]?o[y].swiperSlideSize:0;for(let D=y+1;D<o.length;D+=1)o[D]&&!E&&(z+=o[D].swiperSlideSize,w+=1,z>p&&(E=!0));for(let D=y-1;D>=0;D-=1)o[D]&&!E&&(z+=o[D].swiperSlideSize,w+=1,z>p&&(E=!0))}else if("current"===e)for(let z=y+1;z<o.length;z+=1)(n?u[z]+h[z]-u[y]<p:u[z]-u[y]<p)&&(w+=1);else for(let z=y-1;z>=0;z-=1)u[y]-u[z]<p&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;function r(){const h=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let o;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&xu(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode?(r(),i.autoHeight&&e.updateAutoHeight()):(o=e.slideTo(("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides?(e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides).length-1:e.activeIndex,0,!1,!0),o||r()),i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){void 0===n&&(n=!0);const i=this,r=i.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(o=>{"vertical"===e?o.style.width="":o.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&"rtl"===e||!n.rtl&&"ltr"===e||(n.rtl="rtl"===e,n.rtlTranslate="horizontal"===n.params.direction&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&"SWIPER-CONTAINER"===i.parentNode.host.nodeName&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):vi(i,r())[0];return!u&&n.params.createElements&&(u=ua("div",n.params.wrapperClass),i.append(u),vi(i,`.${n.params.slideClass}`).forEach(h=>{u.append(h)})),Object.assign(n,{el:i,wrapperEl:u,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:u,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===Ks(i,"direction"),rtlTranslate:"horizontal"===n.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===Ks(i,"direction")),wrongRTL:"-webkit-box"===Ks(u,"display")}),!0}init(e){const n=this;if(n.initialized||!1===n.mount(e))return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.slideTo(n.params.loop&&n.virtual&&n.params.virtual.enabled?n.params.initialSlide+n.virtual.slidesBefore:n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?xu(n,o):o.addEventListener("load",u=>{xu(n,u.target)})}),sg(n),n.initialized=!0,sg(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);const i=this,{params:r,el:o,wrapperEl:u,slides:h}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),o.removeAttribute("style"),u.removeAttribute("style"),h&&h.length&&h.forEach(p=>{p.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(p=>{i.off(p)}),!1!==e&&(i.el.swiper=null,function Ube(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}(i)),i.destroyed=!0),null}static extendDefaults(e){Wr(lg,e)}static get extendedDefaults(){return lg}static get defaults(){return og}static installModule(e){Yr.prototype.__modules__||(Yr.prototype.__modules__=[]);const n=Yr.prototype.__modules__;"function"==typeof e&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Yr.installModule(n)),Yr):(Yr.installModule(e),Yr)}}function ug(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&!0===n.auto){let o=vi(t.el,`.${i[r]}`)[0];o||(o=ua("div",i[r]),o.className=i[r],t.el.append(o)),n[r]=o,e[r]=o}}),n}function Qs(t){return void 0===t&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function xMe(t){const e=this,{params:n,slidesEl:i}=e;n.loop&&e.loopDestroy();const r=o=>{if("string"==typeof o){const u=document.createElement("div");u.innerHTML=o,i.append(u.children[0]),u.innerHTML=""}else i.append(o)};if("object"==typeof t&&"length"in t)for(let o=0;o<t.length;o+=1)t[o]&&r(t[o]);else r(t);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update()}function MMe(t){const e=this,{params:n,activeIndex:i,slidesEl:r}=e;n.loop&&e.loopDestroy();let o=i+1;const u=h=>{if("string"==typeof h){const p=document.createElement("div");p.innerHTML=h,r.prepend(p.children[0]),p.innerHTML=""}else r.prepend(h)};if("object"==typeof t&&"length"in t){for(let h=0;h<t.length;h+=1)t[h]&&u(t[h]);o=i+t.length}else u(t);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update(),e.slideTo(o,0,!1)}function wMe(t,e){const n=this,{params:i,activeIndex:r,slidesEl:o}=n;let u=r;i.loop&&(u-=n.loopedSlides,n.loopDestroy(),n.recalcSlides());const h=n.slides.length;if(t<=0)return void n.prependSlide(e);if(t>=h)return void n.appendSlide(e);let p=u>t?u+1:u;const y=[];for(let w=h-1;w>=t;w-=1){const z=n.slides[w];z.remove(),y.unshift(z)}if("object"==typeof e&&"length"in e){for(let w=0;w<e.length;w+=1)e[w]&&o.append(e[w]);p=u>t?u+e.length:u}else o.append(e);for(let w=0;w<y.length;w+=1)o.append(y[w]);n.recalcSlides(),i.loop&&n.loopCreate(),(!i.observer||n.isElement)&&n.update(),n.slideTo(i.loop?p+n.loopedSlides:p,0,!1)}function zMe(t){const e=this,{params:n,activeIndex:i}=e;let r=i;n.loop&&(r-=e.loopedSlides,e.loopDestroy());let u,o=r;if("object"==typeof t&&"length"in t){for(let h=0;h<t.length;h+=1)u=t[h],e.slides[u]&&e.slides[u].remove(),u<o&&(o-=1);o=Math.max(o,0)}else u=t,e.slides[u]&&e.slides[u].remove(),u<o&&(o-=1),o=Math.max(o,0);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update(),e.slideTo(n.loop?o+e.loopedSlides:o,0,!1)}function SMe(){const t=this,e=[];for(let n=0;n<t.slides.length;n+=1)e.push(n);t.removeSlide(e)}function c0(t){const{effect:e,swiper:n,on:i,setTranslate:r,setTransition:o,overwriteParams:u,perspective:h,recreateShadows:p,getEffectParams:y}=t;let w;i("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),h&&h()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const z=u?u():{};Object.assign(n.params,z),Object.assign(n.originalParams,z)}),i("setTranslate",()=>{n.params.effect===e&&r()}),i("setTransition",(z,E)=>{n.params.effect===e&&o(E)}),i("transitionEnd",()=>{if(n.params.effect===e&&p){if(!y||!y().slideShadows)return;n.slides.forEach(z=>{z.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(E=>E.remove())}),p()}}),i("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(w=!0),requestAnimationFrame(()=>{w&&n.slides&&n.slides.length&&(r(),w=!1)}))})}function Xl(t,e){const n=mc(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function Mu(t){let{swiper:e,duration:n,transformElements:i,allSlides:r}=t;const{activeIndex:o}=e;if(e.params.virtualTranslate&&0!==n){let p,h=!1;p=r?i:i.filter(y=>{const w=y.classList.contains("swiper-slide-transform")?(h=>h.parentElement?h.parentElement:e.slides.filter(y=>y.shadowRoot&&y.shadowRoot===h.parentNode)[0])(y):y;return e.getSlideIndex(w)===o}),p.forEach(y=>{Yl(y,()=>{if(h||!e||e.destroyed)return;h=!0,e.animating=!1;const w=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(w)})})}}function l0(t,e,n){const i=`swiper-slide-shadow${n?`-${n}`:""}${t?` swiper-slide-shadow-${t}`:""}`,r=mc(e);let o=r.querySelector(`.${i.split(" ").join(".")}`);return o||(o=ua("div",i.split(" ")),r.append(o)),o}Object.keys(cg).forEach(t=>{Object.keys(cg[t]).forEach(e=>{Yr.prototype[e]=cg[t][e]})}),Yr.use([function exe(t){let{swiper:e,on:n,emit:i}=t;const r=Q2();let o=null,u=null;const h=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},w=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{e.params.resizeObserver&&typeof r.ResizeObserver<"u"?!e||e.destroyed||!e.initialized||(o=new ResizeObserver(z=>{u=r.requestAnimationFrame(()=>{const{width:E,height:D}=e;let k=E,B=D;z.forEach(j=>{let{contentBoxSize:Z,contentRect:F,target:q}=j;q&&q!==e.el||(k=F?F.width:(Z[0]||Z).inlineSize,B=F?F.height:(Z[0]||Z).blockSize)}),(k!==E||B!==D)&&h()})}),o.observe(e.el)):(r.addEventListener("resize",h),r.addEventListener("orientationchange",w))}),n("destroy",()=>{u&&r.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null),r.removeEventListener("resize",h),r.removeEventListener("orientationchange",w)})},function txe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=[],u=Q2(),h=function(w,z){void 0===z&&(z={});const D=new(u.MutationObserver||u.WebkitMutationObserver)(k=>{if(e.__preventObserver__)return;if(1===k.length)return void r("observerUpdate",k[0]);const B=function(){r("observerUpdate",k[0])};u.requestAnimationFrame?u.requestAnimationFrame(B):u.setTimeout(B,0)});D.observe(w,{attributes:typeof z.attributes>"u"||z.attributes,childList:typeof z.childList>"u"||z.childList,characterData:typeof z.characterData>"u"||z.characterData}),o.push(D)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(e.params.observer){if(e.params.observeParents){const w=gc(e.hostEl);for(let z=0;z<w.length;z+=1)h(w[z])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}}),i("destroy",()=>{o.forEach(w=>{w.disconnect()}),o.splice(0,o.length)})}]),Yr.use([function sMe(t){let o,{swiper:e,extendParams:n,on:i,emit:r}=t;n({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const u=Pi();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const h=u.createElement("div");function p(k,B){const j=e.params.virtual;if(j.cache&&e.virtual.cache[B])return e.virtual.cache[B];let Z;return j.renderSlide?(Z=j.renderSlide.call(e,k,B),"string"==typeof Z&&(h.innerHTML=Z,Z=h.children[0])):Z=e.isElement?ua("swiper-slide"):ua("div",e.params.slideClass),Z.setAttribute("data-swiper-slide-index",B),j.renderSlide||(Z.innerHTML=k),j.cache&&(e.virtual.cache[B]=Z),Z}function y(k){const{slidesPerView:B,slidesPerGroup:j,centeredSlides:Z,loop:F}=e.params,{addSlidesBefore:q,addSlidesAfter:ee}=e.params.virtual,{from:ve,to:Ee,slides:Te,slidesGrid:Ve,offset:me}=e.virtual;e.params.cssMode||e.updateActiveIndex();const e1=e.activeIndex||0;let Oe,Ne,He;Oe=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",Z?(Ne=Math.floor(B/2)+j+ee,He=Math.floor(B/2)+j+q):(Ne=B+(j-1)+ee,He=(F?B:j)+q);let ie=e1-He,xe=e1+Ne;F||(ie=Math.max(ie,0),xe=Math.min(xe,Te.length-1));let pe=(e.slidesGrid[ie]||0)-(e.slidesGrid[0]||0);function he(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r("virtualUpdate")}if(F&&e1>=He?(ie-=He,Z||(pe+=e.slidesGrid[0])):F&&e1<He&&(ie=-He,Z&&(pe+=e.slidesGrid[0])),Object.assign(e.virtual,{from:ie,to:xe,offset:pe,slidesGrid:e.slidesGrid,slidesBefore:He,slidesAfter:Ne}),ve===ie&&Ee===xe&&!k)return e.slidesGrid!==Ve&&pe!==me&&e.slides.forEach(M1=>{M1.style[Oe]=pe-Math.abs(e.cssOverflowAdjustment())+"px"}),e.updateProgress(),void r("virtualUpdate");if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:pe,from:ie,to:xe,slides:function(){const F1=[];for(let Sn=ie;Sn<=xe;Sn+=1)F1.push(Te[Sn]);return F1}()}),void(e.params.virtual.renderExternalUpdate?he():r("virtualUpdate"));const Me=[],Le=[],u1=M1=>{let F1=M1;return M1<0?F1=Te.length+M1:F1>=Te.length&&(F1-=Te.length),F1};if(k)e.slides.filter(M1=>M1.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(M1=>{M1.remove()});else for(let M1=ve;M1<=Ee;M1+=1)if(M1<ie||M1>xe){const F1=u1(M1);e.slides.filter(Sn=>Sn.matches(`.${e.params.slideClass}[data-swiper-slide-index="${F1}"], swiper-slide[data-swiper-slide-index="${F1}"]`)).forEach(Sn=>{Sn.remove()})}const tt=F?2*Te.length:Te.length;for(let M1=F?-Te.length:0;M1<tt;M1+=1)if(M1>=ie&&M1<=xe){const F1=u1(M1);typeof Ee>"u"||k?Le.push(F1):(M1>Ee&&Le.push(F1),M1<ve&&Me.push(F1))}if(Le.forEach(M1=>{e.slidesEl.append(p(Te[M1],M1))}),F)for(let M1=Me.length-1;M1>=0;M1-=1){const F1=Me[M1];e.slidesEl.prepend(p(Te[F1],F1))}else Me.sort((M1,F1)=>F1-M1),Me.forEach(M1=>{e.slidesEl.prepend(p(Te[M1],M1))});vi(e.slidesEl,".swiper-slide, swiper-slide").forEach(M1=>{M1.style[Oe]=pe-Math.abs(e.cssOverflowAdjustment())+"px"}),he()}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let k;if(typeof e.passedParams.virtual.slides>"u"){const B=[...e.slidesEl.children].filter(j=>j.matches(`.${e.params.slideClass}, swiper-slide`));B&&B.length&&(e.virtual.slides=[...B],k=!0,B.forEach((j,Z)=>{j.setAttribute("data-swiper-slide-index",Z),e.virtual.cache[Z]=j,j.remove()}))}k||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,y()}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(o),o=setTimeout(()=>{y()},100)):y())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&Zl(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:function w(k){if("object"==typeof k&&"length"in k)for(let B=0;B<k.length;B+=1)k[B]&&e.virtual.slides.push(k[B]);else e.virtual.slides.push(k);y(!0)},prependSlide:function z(k){const B=e.activeIndex;let j=B+1,Z=1;if(Array.isArray(k)){for(let F=0;F<k.length;F+=1)k[F]&&e.virtual.slides.unshift(k[F]);j=B+k.length,Z=k.length}else e.virtual.slides.unshift(k);if(e.params.virtual.cache){const F=e.virtual.cache,q={};Object.keys(F).forEach(ee=>{const ve=F[ee],Ee=ve.getAttribute("data-swiper-slide-index");Ee&&ve.setAttribute("data-swiper-slide-index",parseInt(Ee,10)+Z),q[parseInt(ee,10)+Z]=ve}),e.virtual.cache=q}y(!0),e.slideTo(j,0)},removeSlide:function E(k){if(typeof k>"u"||null===k)return;let B=e.activeIndex;if(Array.isArray(k))for(let j=k.length-1;j>=0;j-=1)e.params.virtual.cache&&(delete e.virtual.cache[k[j]],Object.keys(e.virtual.cache).forEach(Z=>{Z>k&&(e.virtual.cache[Z-1]=e.virtual.cache[Z],e.virtual.cache[Z-1].setAttribute("data-swiper-slide-index",Z-1),delete e.virtual.cache[Z])})),e.virtual.slides.splice(k[j],1),k[j]<B&&(B-=1),B=Math.max(B,0);else e.params.virtual.cache&&(delete e.virtual.cache[k],Object.keys(e.virtual.cache).forEach(j=>{j>k&&(e.virtual.cache[j-1]=e.virtual.cache[j],e.virtual.cache[j-1].setAttribute("data-swiper-slide-index",j-1),delete e.virtual.cache[j])})),e.virtual.slides.splice(k,1),k<B&&(B-=1),B=Math.max(B,0);y(!0),e.slideTo(B,0)},removeAllSlides:function D(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),y(!0),e.slideTo(0,0)},update:y})},function oMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=Pi(),u=Q2();function h(w){if(!e.enabled)return;const{rtlTranslate:z}=e;let E=w;E.originalEvent&&(E=E.originalEvent);const D=E.keyCode||E.charCode,k=e.params.keyboard.pageUpDown,B=k&&33===D,j=k&&34===D,Z=37===D,F=39===D,q=38===D,ee=40===D;if(!e.allowSlideNext&&(e.isHorizontal()&&F||e.isVertical()&&ee||j)||!e.allowSlidePrev&&(e.isHorizontal()&&Z||e.isVertical()&&q||B))return!1;if(!(E.shiftKey||E.altKey||E.ctrlKey||E.metaKey||o.activeElement&&o.activeElement.nodeName&&("input"===o.activeElement.nodeName.toLowerCase()||"textarea"===o.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(B||j||Z||F||q||ee)){let ve=!1;if(gc(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&0===gc(e.el,`.${e.params.slideActiveClass}`).length)return;const Ee=e.el,Te=Ee.clientWidth,Ve=Ee.clientHeight,me=u.innerWidth,e1=u.innerHeight,Oe=bu(Ee);z&&(Oe.left-=Ee.scrollLeft);const Ne=[[Oe.left,Oe.top],[Oe.left+Te,Oe.top],[Oe.left,Oe.top+Ve],[Oe.left+Te,Oe.top+Ve]];for(let He=0;He<Ne.length;He+=1){const ie=Ne[He];if(ie[0]>=0&&ie[0]<=me&&ie[1]>=0&&ie[1]<=e1){if(0===ie[0]&&0===ie[1])continue;ve=!0}}if(!ve)return}e.isHorizontal()?((B||j||Z||F)&&(E.preventDefault?E.preventDefault():E.returnValue=!1),((j||F)&&!z||(B||Z)&&z)&&e.slideNext(),((B||Z)&&!z||(j||F)&&z)&&e.slidePrev()):((B||j||q||ee)&&(E.preventDefault?E.preventDefault():E.returnValue=!1),(j||ee)&&e.slideNext(),(B||q)&&e.slidePrev()),r("keyPress",D)}}function p(){e.keyboard.enabled||(o.addEventListener("keydown",h),e.keyboard.enabled=!0)}function y(){e.keyboard.enabled&&(o.removeEventListener("keydown",h),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{e.params.keyboard.enabled&&p()}),i("destroy",()=>{e.keyboard.enabled&&y()}),Object.assign(e.keyboard,{enable:p,disable:y})},function cMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=Q2();n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let u,p,h=C3();const y=[];function z(){e.enabled&&(e.mouseEntered=!0)}function E(){e.enabled&&(e.mouseEntered=!1)}function D(q){return!(e.params.mousewheel.thresholdDelta&&q.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&C3()-h<e.params.mousewheel.thresholdTime)&&(q.delta>=6&&C3()-h<60||(q.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",q.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",q.raw)),h=(new o.Date).getTime(),!1))}function B(q){let ee=q,ve=!0;if(!e.enabled||q.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const Ee=e.params.mousewheel;e.params.cssMode&&ee.preventDefault();let Te=e.el;"container"!==e.params.mousewheel.eventsTarget&&(Te=document.querySelector(e.params.mousewheel.eventsTarget));const Ve=Te&&Te.contains(ee.target);if(!e.mouseEntered&&!Ve&&!Ee.releaseOnEdges)return!0;ee.originalEvent&&(ee=ee.originalEvent);let me=0;const e1=e.rtlTranslate?-1:1,Oe=function w(q){let Te=0,Ve=0,me=0,e1=0;return"detail"in q&&(Ve=q.detail),"wheelDelta"in q&&(Ve=-q.wheelDelta/120),"wheelDeltaY"in q&&(Ve=-q.wheelDeltaY/120),"wheelDeltaX"in q&&(Te=-q.wheelDeltaX/120),"axis"in q&&q.axis===q.HORIZONTAL_AXIS&&(Te=Ve,Ve=0),me=10*Te,e1=10*Ve,"deltaY"in q&&(e1=q.deltaY),"deltaX"in q&&(me=q.deltaX),q.shiftKey&&!me&&(me=e1,e1=0),(me||e1)&&q.deltaMode&&(1===q.deltaMode?(me*=40,e1*=40):(me*=800,e1*=800)),me&&!Te&&(Te=me<1?-1:1),e1&&!Ve&&(Ve=e1<1?-1:1),{spinX:Te,spinY:Ve,pixelX:me,pixelY:e1}}(ee);if(Ee.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(Oe.pixelX)>Math.abs(Oe.pixelY)))return!0;me=-Oe.pixelX*e1}else{if(!(Math.abs(Oe.pixelY)>Math.abs(Oe.pixelX)))return!0;me=-Oe.pixelY}else me=Math.abs(Oe.pixelX)>Math.abs(Oe.pixelY)?-Oe.pixelX*e1:-Oe.pixelY;if(0===me)return!0;Ee.invert&&(me=-me);let Ne=e.getTranslate()+me*Ee.sensitivity;if(Ne>=e.minTranslate()&&(Ne=e.minTranslate()),Ne<=e.maxTranslate()&&(Ne=e.maxTranslate()),ve=!!e.params.loop||!(Ne===e.minTranslate()||Ne===e.maxTranslate()),ve&&e.params.nested&&ee.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const He={time:C3(),delta:Math.abs(me),direction:Math.sign(me)},ie=p&&He.time<p.time+500&&He.delta<=p.delta&&He.direction===p.direction;if(!ie){p=void 0;let xe=e.getTranslate()+me*Ee.sensitivity;const pe=e.isBeginning,he=e.isEnd;if(xe>=e.minTranslate()&&(xe=e.minTranslate()),xe<=e.maxTranslate()&&(xe=e.maxTranslate()),e.setTransition(0),e.setTranslate(xe),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!pe&&e.isBeginning||!he&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:He.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(u),u=void 0,y.length>=15&&y.shift();const Me=y.length?y[y.length-1]:void 0,Le=y[0];if(y.push(He),Me&&(He.delta>Me.delta||He.direction!==Me.direction))y.splice(0);else if(y.length>=15&&He.time-Le.time<500&&Le.delta-He.delta>=1&&He.delta<=6){const u1=me>0?.8:.2;p=He,y.splice(0),u=pc(()=>{e.slideToClosest(e.params.speed,!0,void 0,u1)},0)}u||(u=pc(()=>{p=He,y.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(ie||r("scroll",ee),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),Ee.releaseOnEdges&&(xe===e.minTranslate()||xe===e.maxTranslate()))return!0}}else{const He={time:C3(),delta:Math.abs(me),direction:Math.sign(me),raw:q};y.length>=2&&y.shift();const ie=y.length?y[y.length-1]:void 0;if(y.push(He),ie?(He.direction!==ie.direction||He.delta>ie.delta||He.time>ie.time+150)&&D(He):D(He),function k(q){const ee=e.params.mousewheel;if(q.direction<0){if(e.isEnd&&!e.params.loop&&ee.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&ee.releaseOnEdges)return!0;return!1}(He))return!0}return ee.preventDefault?ee.preventDefault():ee.returnValue=!1,!1}function j(q){let ee=e.el;"container"!==e.params.mousewheel.eventsTarget&&(ee=document.querySelector(e.params.mousewheel.eventsTarget)),ee[q]("mouseenter",z),ee[q]("mouseleave",E),ee[q]("wheel",B)}function Z(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",B),!0):!e.mousewheel.enabled&&(j("addEventListener"),e.mousewheel.enabled=!0,!0)}function F(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,B),!0):!!e.mousewheel.enabled&&(j("removeEventListener"),e.mousewheel.enabled=!1,!0)}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&F(),e.params.mousewheel.enabled&&Z()}),i("destroy",()=>{e.params.cssMode&&Z(),e.mousewheel.enabled&&F()}),Object.assign(e.mousewheel,{enable:Z,disable:F})},function lMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const o=B=>(Array.isArray(B)?B:[B]).filter(j=>!!j);function u(B){let j;return B&&"string"==typeof B&&e.isElement&&(j=e.el.querySelector(B),j)?j:(B&&("string"==typeof B&&(j=[...document.querySelectorAll(B)]),e.params.uniqueNavElements&&"string"==typeof B&&j.length>1&&1===e.el.querySelectorAll(B).length&&(j=e.el.querySelector(B))),B&&!j?B:j)}function h(B,j){const Z=e.params.navigation;(B=o(B)).forEach(F=>{F&&(F.classList[j?"add":"remove"](...Z.disabledClass.split(" ")),"BUTTON"===F.tagName&&(F.disabled=j),e.params.watchOverflow&&e.enabled&&F.classList[e.isLocked?"add":"remove"](Z.lockClass))})}function p(){const{nextEl:B,prevEl:j}=e.navigation;if(e.params.loop)return h(j,!1),void h(B,!1);h(j,e.isBeginning&&!e.params.rewind),h(B,e.isEnd&&!e.params.rewind)}function y(B){B.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function w(B){B.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function z(){const B=e.params.navigation;if(e.params.navigation=ug(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!B.nextEl&&!B.prevEl)return;let j=u(B.nextEl),Z=u(B.prevEl);Object.assign(e.navigation,{nextEl:j,prevEl:Z}),j=o(j),Z=o(Z);const F=(q,ee)=>{q&&q.addEventListener("click","next"===ee?w:y),!e.enabled&&q&&q.classList.add(...B.lockClass.split(" "))};j.forEach(q=>F(q,"next")),Z.forEach(q=>F(q,"prev"))}function E(){let{nextEl:B,prevEl:j}=e.navigation;B=o(B),j=o(j);const Z=(F,q)=>{F.removeEventListener("click","next"===q?w:y),F.classList.remove(...e.params.navigation.disabledClass.split(" "))};B.forEach(F=>Z(F,"next")),j.forEach(F=>Z(F,"prev"))}i("init",()=>{!1===e.params.navigation.enabled?k():(z(),p())}),i("toEdge fromEdge lock unlock",()=>{p()}),i("destroy",()=>{E()}),i("enable disable",()=>{let{nextEl:B,prevEl:j}=e.navigation;B=o(B),j=o(j),e.enabled?p():[...B,...j].filter(Z=>!!Z).forEach(Z=>Z.classList.add(e.params.navigation.lockClass))}),i("click",(B,j)=>{let{nextEl:Z,prevEl:F}=e.navigation;Z=o(Z),F=o(F);const q=j.target;if(e.params.navigation.hideOnClick&&!F.includes(q)&&!Z.includes(q)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===q||e.pagination.el.contains(q)))return;let ee;Z.length?ee=Z[0].classList.contains(e.params.navigation.hiddenClass):F.length&&(ee=F[0].classList.contains(e.params.navigation.hiddenClass)),r(!0===ee?"navigationShow":"navigationHide"),[...Z,...F].filter(ve=>!!ve).forEach(ve=>ve.classList.toggle(e.params.navigation.hiddenClass))}});const k=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),E()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),z(),p()},disable:k,update:p,init:z,destroy:E})},function uMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:F=>F,formatFractionTotal:F=>F,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,h=0;const p=F=>(Array.isArray(F)?F:[F]).filter(q=>!!q);function y(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function w(F,q){const{bulletActiveClass:ee}=e.params.pagination;F&&(F=F[("prev"===q?"previous":"next")+"ElementSibling"])&&(F.classList.add(`${ee}-${q}`),(F=F[("prev"===q?"previous":"next")+"ElementSibling"])&&F.classList.add(`${ee}-${q}-${q}`))}function z(F){const q=F.target.closest(Qs(e.params.pagination.bulletClass));if(!q)return;F.preventDefault();const ee=Wl(q)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===ee)return;const ve=e.realIndex,Ee=e.getSlideIndexByData(ee),Te=e.getSlideIndexByData(e.realIndex),Ve=me=>{const e1=e.activeIndex;e.loopFix({direction:me,activeSlideIndex:Ee,slideTo:!1}),e1===e.activeIndex&&e.slideToLoop(ve,0,!1,!0)};if(Ee>e.slides.length-e.loopedSlides)Ve(Ee>Te?"next":"prev");else if(e.params.centeredSlides){const me="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));Ee<Math.floor(me/2)&&Ve("prev")}e.slideToLoop(ee)}else e.slideTo(ee)}function E(){const F=e.rtl,q=e.params.pagination;if(y())return;let ve,Ee,ee=e.pagination.el;ee=p(ee);const Ve=e.params.loop?Math.ceil((e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(Ee=e.previousRealIndex||0,ve=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(ve=e.snapIndex,Ee=e.previousSnapIndex):(Ee=e.previousIndex||0,ve=e.activeIndex||0),"bullets"===q.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const me=e.pagination.bullets;let e1,Oe,Ne;if(q.dynamicBullets&&(u=tg(me[0],e.isHorizontal()?"width":"height",!0),ee.forEach(He=>{He.style[e.isHorizontal()?"width":"height"]=u*(q.dynamicMainBullets+4)+"px"}),q.dynamicMainBullets>1&&void 0!==Ee&&(h+=ve-(Ee||0),h>q.dynamicMainBullets-1?h=q.dynamicMainBullets-1:h<0&&(h=0)),e1=Math.max(ve-h,0),Oe=e1+(Math.min(me.length,q.dynamicMainBullets)-1),Ne=(Oe+e1)/2),me.forEach(He=>{const ie=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(xe=>`${q.bulletActiveClass}${xe}`)].map(xe=>"string"==typeof xe&&xe.includes(" ")?xe.split(" "):xe).flat();He.classList.remove(...ie)}),ee.length>1)me.forEach(He=>{const ie=Wl(He);ie===ve?He.classList.add(...q.bulletActiveClass.split(" ")):e.isElement&&He.setAttribute("part","bullet"),q.dynamicBullets&&(ie>=e1&&ie<=Oe&&He.classList.add(...`${q.bulletActiveClass}-main`.split(" ")),ie===e1&&w(He,"prev"),ie===Oe&&w(He,"next"))});else{const He=me[ve];if(He&&He.classList.add(...q.bulletActiveClass.split(" ")),e.isElement&&me.forEach((ie,xe)=>{ie.setAttribute("part",xe===ve?"bullet-active":"bullet")}),q.dynamicBullets){const ie=me[e1],xe=me[Oe];for(let pe=e1;pe<=Oe;pe+=1)me[pe]&&me[pe].classList.add(...`${q.bulletActiveClass}-main`.split(" "));w(ie,"prev"),w(xe,"next")}}if(q.dynamicBullets){const He=Math.min(me.length,q.dynamicMainBullets+4),ie=(u*He-u)/2-Ne*u,xe=F?"right":"left";me.forEach(pe=>{pe.style[e.isHorizontal()?xe:"top"]=`${ie}px`})}}ee.forEach((me,e1)=>{if("fraction"===q.type&&(me.querySelectorAll(Qs(q.currentClass)).forEach(Oe=>{Oe.textContent=q.formatFractionCurrent(ve+1)}),me.querySelectorAll(Qs(q.totalClass)).forEach(Oe=>{Oe.textContent=q.formatFractionTotal(Ve)})),"progressbar"===q.type){let Oe;Oe=q.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const Ne=(ve+1)/Ve;let He=1,ie=1;"horizontal"===Oe?He=Ne:ie=Ne,me.querySelectorAll(Qs(q.progressbarFillClass)).forEach(xe=>{xe.style.transform=`translate3d(0,0,0) scaleX(${He}) scaleY(${ie})`,xe.style.transitionDuration=`${e.params.speed}ms`})}"custom"===q.type&&q.renderCustom?(me.innerHTML=q.renderCustom(e,ve+1,Ve),0===e1&&r("paginationRender",me)):(0===e1&&r("paginationRender",me),r("paginationUpdate",me)),e.params.watchOverflow&&e.enabled&&me.classList[e.isLocked?"add":"remove"](q.lockClass)})}function D(){const F=e.params.pagination;if(y())return;const q=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let ee=e.pagination.el;ee=p(ee);let ve="";if("bullets"===F.type){let Ee=e.params.loop?Math.ceil(q/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&Ee>q&&(Ee=q);for(let Te=0;Te<Ee;Te+=1)ve+=F.renderBullet?F.renderBullet.call(e,Te,F.bulletClass):`<${F.bulletElement} ${e.isElement?'part="bullet"':""} class="${F.bulletClass}"></${F.bulletElement}>`}"fraction"===F.type&&(ve=F.renderFraction?F.renderFraction.call(e,F.currentClass,F.totalClass):`<span class="${F.currentClass}"></span> / <span class="${F.totalClass}"></span>`),"progressbar"===F.type&&(ve=F.renderProgressbar?F.renderProgressbar.call(e,F.progressbarFillClass):`<span class="${F.progressbarFillClass}"></span>`),e.pagination.bullets=[],ee.forEach(Ee=>{"custom"!==F.type&&(Ee.innerHTML=ve||""),"bullets"===F.type&&e.pagination.bullets.push(...Ee.querySelectorAll(Qs(F.bulletClass)))}),"custom"!==F.type&&r("paginationRender",ee[0])}function k(){e.params.pagination=ug(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const F=e.params.pagination;if(!F.el)return;let q;"string"==typeof F.el&&e.isElement&&(q=e.el.querySelector(F.el)),!q&&"string"==typeof F.el&&(q=[...document.querySelectorAll(F.el)]),q||(q=F.el),q&&0!==q.length&&(e.params.uniqueNavElements&&"string"==typeof F.el&&Array.isArray(q)&&q.length>1&&(q=[...e.el.querySelectorAll(F.el)],q.length>1&&(q=q.filter(ee=>gc(ee,".swiper")[0]===e.el)[0])),Array.isArray(q)&&1===q.length&&(q=q[0]),Object.assign(e.pagination,{el:q}),q=p(q),q.forEach(ee=>{"bullets"===F.type&&F.clickable&&ee.classList.add(...(F.clickableClass||"").split(" ")),ee.classList.add(F.modifierClass+F.type),ee.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass),"bullets"===F.type&&F.dynamicBullets&&(ee.classList.add(`${F.modifierClass}${F.type}-dynamic`),h=0,F.dynamicMainBullets<1&&(F.dynamicMainBullets=1)),"progressbar"===F.type&&F.progressbarOpposite&&ee.classList.add(F.progressbarOppositeClass),F.clickable&&ee.addEventListener("click",z),e.enabled||ee.classList.add(F.lockClass)}))}function B(){const F=e.params.pagination;if(y())return;let q=e.pagination.el;q&&(q=p(q),q.forEach(ee=>{ee.classList.remove(F.hiddenClass),ee.classList.remove(F.modifierClass+F.type),ee.classList.remove(e.isHorizontal()?F.horizontalClass:F.verticalClass),F.clickable&&(ee.classList.remove(...(F.clickableClass||"").split(" ")),ee.removeEventListener("click",z))})),e.pagination.bullets&&e.pagination.bullets.forEach(ee=>ee.classList.remove(...F.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const F=e.params.pagination;let{el:q}=e.pagination;q=p(q),q.forEach(ee=>{ee.classList.remove(F.horizontalClass,F.verticalClass),ee.classList.add(e.isHorizontal()?F.horizontalClass:F.verticalClass)})}),i("init",()=>{!1===e.params.pagination.enabled?Z():(k(),D(),E())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&E()}),i("snapIndexChange",()=>{E()}),i("snapGridLengthChange",()=>{D(),E()}),i("destroy",()=>{B()}),i("enable disable",()=>{let{el:F}=e.pagination;F&&(F=p(F),F.forEach(q=>q.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{E()}),i("click",(F,q)=>{const ee=q.target,ve=p(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&ve&&ve.length>0&&!ee.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&ee===e.navigation.nextEl||e.navigation.prevEl&&ee===e.navigation.prevEl))return;const Ee=ve[0].classList.contains(e.params.pagination.hiddenClass);r(!0===Ee?"paginationShow":"paginationHide"),ve.forEach(Te=>Te.classList.toggle(e.params.pagination.hiddenClass))}});const Z=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:F}=e.pagination;F&&(F=p(F),F.forEach(q=>q.classList.add(e.params.pagination.paginationDisabledClass))),B()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:F}=e.pagination;F&&(F=p(F),F.forEach(q=>q.classList.remove(e.params.pagination.paginationDisabledClass))),k(),D(),E()},disable:Z,render:D,update:E,init:k,destroy:B})},function fMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=Pi();let y,w,z,E,u=!1,h=null,p=null;function D(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:Ne,rtlTranslate:He}=e,{dragEl:ie,el:xe}=Ne,pe=e.params.scrollbar;let Me=w,Le=(z-w)*(e.params.loop?e.progressLoop:e.progress);He?(Le=-Le,Le>0?(Me=w-Le,Le=0):-Le+w>z&&(Me=z+Le)):Le<0?(Me=w+Le,Le=0):Le+w>z&&(Me=z-Le),e.isHorizontal()?(ie.style.transform=`translate3d(${Le}px, 0, 0)`,ie.style.width=`${Me}px`):(ie.style.transform=`translate3d(0px, ${Le}px, 0)`,ie.style.height=`${Me}px`),pe.hide&&(clearTimeout(h),xe.style.opacity=1,h=setTimeout(()=>{xe.style.opacity=0,xe.style.transitionDuration="400ms"},1e3))}function B(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:Ne}=e,{dragEl:He,el:ie}=Ne;He.style.width="",He.style.height="",z=e.isHorizontal()?ie.offsetWidth:ie.offsetHeight,E=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),w="auto"===e.params.scrollbar.dragSize?z*E:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?He.style.width=`${w}px`:He.style.height=`${w}px`,ie.style.display=E>=1?"none":"",e.params.scrollbar.hide&&(ie.style.opacity=0),e.params.watchOverflow&&e.enabled&&Ne.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function j(Ne){return e.isHorizontal()?Ne.clientX:Ne.clientY}function Z(Ne){const{scrollbar:He,rtlTranslate:ie}=e,{el:xe}=He;let pe;pe=(j(Ne)-bu(xe)[e.isHorizontal()?"left":"top"]-(null!==y?y:w/2))/(z-w),pe=Math.max(Math.min(pe,1),0),ie&&(pe=1-pe);const he=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*pe;e.updateProgress(he),e.setTranslate(he),e.updateActiveIndex(),e.updateSlidesClasses()}function F(Ne){const He=e.params.scrollbar,{scrollbar:ie,wrapperEl:xe}=e,{el:pe,dragEl:he}=ie;u=!0,y=Ne.target===he?j(Ne)-Ne.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,Ne.preventDefault(),Ne.stopPropagation(),xe.style.transitionDuration="100ms",he.style.transitionDuration="100ms",Z(Ne),clearTimeout(p),pe.style.transitionDuration="0ms",He.hide&&(pe.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",Ne)}function q(Ne){const{scrollbar:He,wrapperEl:ie}=e,{el:xe,dragEl:pe}=He;u&&(Ne.preventDefault?Ne.preventDefault():Ne.returnValue=!1,Z(Ne),ie.style.transitionDuration="0ms",xe.style.transitionDuration="0ms",pe.style.transitionDuration="0ms",r("scrollbarDragMove",Ne))}function ee(Ne){const He=e.params.scrollbar,{scrollbar:ie,wrapperEl:xe}=e,{el:pe}=ie;u&&(u=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",xe.style.transitionDuration=""),He.hide&&(clearTimeout(p),p=pc(()=>{pe.style.opacity=0,pe.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",Ne),He.snapOnRelease&&e.slideToClosest())}function ve(Ne){const{scrollbar:He,params:ie}=e,xe=He.el;if(!xe)return;const he=!!ie.passiveListeners&&{passive:!1,capture:!1},Me=!!ie.passiveListeners&&{passive:!0,capture:!1};if(!xe)return;const Le="on"===Ne?"addEventListener":"removeEventListener";xe[Le]("pointerdown",F,he),o[Le]("pointermove",q,he),o[Le]("pointerup",ee,Me)}function Ve(){const{scrollbar:Ne,el:He}=e;e.params.scrollbar=ug(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const ie=e.params.scrollbar;if(!ie.el)return;let xe,pe;"string"==typeof ie.el&&e.isElement&&(xe=e.el.querySelector(ie.el)),xe||"string"!=typeof ie.el?xe||(xe=ie.el):xe=o.querySelectorAll(ie.el),e.params.uniqueNavElements&&"string"==typeof ie.el&&xe.length>1&&1===He.querySelectorAll(ie.el).length&&(xe=He.querySelector(ie.el)),xe.length>0&&(xe=xe[0]),xe.classList.add(e.isHorizontal()?ie.horizontalClass:ie.verticalClass),xe&&(pe=xe.querySelector(`.${e.params.scrollbar.dragClass}`),pe||(pe=ua("div",e.params.scrollbar.dragClass),xe.append(pe))),Object.assign(Ne,{el:xe,dragEl:pe}),ie.draggable&&function Ee(){!e.params.scrollbar.el||!e.scrollbar.el||ve("on")}(),xe&&xe.classList[e.enabled?"remove":"add"](e.params.scrollbar.lockClass)}function me(){const Ne=e.params.scrollbar,He=e.scrollbar.el;He&&He.classList.remove(e.isHorizontal()?Ne.horizontalClass:Ne.verticalClass),function Te(){!e.params.scrollbar.el||!e.scrollbar.el||ve("off")}()}n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null},i("init",()=>{!1===e.params.scrollbar.enabled?Oe():(Ve(),B(),D())}),i("update resize observerUpdate lock unlock",()=>{B()}),i("setTranslate",()=>{D()}),i("setTransition",(Ne,He)=>{!function k(Ne){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${Ne}ms`)}(He)}),i("enable disable",()=>{const{el:Ne}=e.scrollbar;Ne&&Ne.classList[e.enabled?"remove":"add"](e.params.scrollbar.lockClass)}),i("destroy",()=>{me()});const Oe=()=>{e.el.classList.add(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.el&&e.scrollbar.el.classList.add(e.params.scrollbar.scrollbarDisabledClass),me()};Object.assign(e.scrollbar,{enable:()=>{e.el.classList.remove(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.el&&e.scrollbar.el.classList.remove(e.params.scrollbar.scrollbarDisabledClass),Ve(),B(),D()},disable:Oe,updateSize:B,setTranslate:D,init:Ve,destroy:me})},function hMe(t){let{swiper:e,extendParams:n,on:i}=t;n({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",o=(p,y)=>{const{rtl:w}=e,z=w?-1:1,E=p.getAttribute("data-swiper-parallax")||"0";let D=p.getAttribute("data-swiper-parallax-x"),k=p.getAttribute("data-swiper-parallax-y");const B=p.getAttribute("data-swiper-parallax-scale"),j=p.getAttribute("data-swiper-parallax-opacity"),Z=p.getAttribute("data-swiper-parallax-rotate");if(D||k?(D=D||"0",k=k||"0"):e.isHorizontal()?(D=E,k="0"):(k=E,D="0"),D=D.indexOf("%")>=0?parseInt(D,10)*y*z+"%":D*y*z+"px",k=k.indexOf("%")>=0?parseInt(k,10)*y+"%":k*y+"px",typeof j<"u"&&null!==j){const q=j-(j-1)*(1-Math.abs(y));p.style.opacity=q}let F=`translate3d(${D}, ${k}, 0px)`;typeof B<"u"&&null!==B&&(F+=` scale(${B-(B-1)*(1-Math.abs(y))})`),Z&&typeof Z<"u"&&null!==Z&&(F+=` rotate(${Z*y*-1}deg)`),p.style.transform=F},u=()=>{const{el:p,slides:y,progress:w,snapGrid:z}=e,D=vi(p,r);e.isElement&&D.push(...vi(e.hostEl,r)),D.forEach(k=>{o(k,w)}),y.forEach((k,B)=>{let j=k.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(j+=Math.ceil(B/2)-w*(z.length-1)),j=Math.min(Math.max(j,-1),1),k.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(Z=>{o(Z,j)})})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&u()}),i("setTranslate",()=>{e.params.parallax.enabled&&u()}),i("setTransition",(p,y)=>{e.params.parallax.enabled&&function(p){void 0===p&&(p=e.params.speed);const{el:y,hostEl:w}=e,z=[...y.querySelectorAll(r)];e.isElement&&z.push(...w.querySelectorAll(r)),z.forEach(E=>{let D=parseInt(E.getAttribute("data-swiper-parallax-duration"),10)||p;0===p&&(D=0),E.style.transitionDuration=`${D}ms`})}(y)})},function dMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=Q2();n({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let p,y,u=1,h=!1;const w=[],z={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},E={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},D={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let k=1;function B(){return w.length<2?1:Math.sqrt((w[1].pageX-w[0].pageX)**2+(w[1].pageY-w[0].pageY)**2)}function F(he){const Me=function Z(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}();return!!(he.target.matches(Me)||e.slides.filter(Le=>Le.contains(he.target)).length>0)}function ee(he){if("mouse"===he.pointerType&&w.splice(0,w.length),!F(he))return;const Me=e.params.zoom;if(p=!1,y=!1,w.push(he),!(w.length<2)){if(p=!0,z.scaleStart=B(),!z.slideEl){z.slideEl=he.target.closest(`.${e.params.slideClass}, swiper-slide`),z.slideEl||(z.slideEl=e.slides[e.activeIndex]);let Le=z.slideEl.querySelector(`.${Me.containerClass}`);if(Le&&(Le=Le.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),z.imageEl=Le,z.imageWrapEl=Le?gc(z.imageEl,`.${Me.containerClass}`)[0]:void 0,!z.imageWrapEl)return void(z.imageEl=void 0);z.maxRatio=z.imageWrapEl.getAttribute("data-swiper-zoom")||Me.maxRatio}if(z.imageEl){const[Le,u1]=function j(){if(w.length<2)return{x:null,y:null};const he=z.imageEl.getBoundingClientRect();return[(w[0].pageX+(w[1].pageX-w[0].pageX)/2-he.x-o.scrollX)/u,(w[0].pageY+(w[1].pageY-w[0].pageY)/2-he.y-o.scrollY)/u]}();z.originX=Le,z.originY=u1,z.imageEl.style.transitionDuration="0ms"}h=!0}}function ve(he){if(!F(he))return;const Me=e.params.zoom,Le=e.zoom,u1=w.findIndex(D1=>D1.pointerId===he.pointerId);u1>=0&&(w[u1]=he),!(w.length<2)&&(y=!0,z.scaleMove=B(),z.imageEl&&(Le.scale=z.scaleMove/z.scaleStart*u,Le.scale>z.maxRatio&&(Le.scale=z.maxRatio-1+(Le.scale-z.maxRatio+1)**.5),Le.scale<Me.minRatio&&(Le.scale=Me.minRatio+1-(Me.minRatio-Le.scale+1)**.5),z.imageEl.style.transform=`translate3d(0,0,0) scale(${Le.scale})`))}function Ee(he){if(!F(he)||"mouse"===he.pointerType&&"pointerout"===he.type)return;const Me=e.params.zoom,Le=e.zoom,u1=w.findIndex(D1=>D1.pointerId===he.pointerId);u1>=0&&w.splice(u1,1),p&&y&&(p=!1,y=!1,z.imageEl&&(Le.scale=Math.max(Math.min(Le.scale,z.maxRatio),Me.minRatio),z.imageEl.style.transitionDuration=`${e.params.speed}ms`,z.imageEl.style.transform=`translate3d(0,0,0) scale(${Le.scale})`,u=Le.scale,h=!1,Le.scale>1&&z.slideEl?z.slideEl.classList.add(`${Me.zoomedSlideClass}`):Le.scale<=1&&z.slideEl&&z.slideEl.classList.remove(`${Me.zoomedSlideClass}`),1===Le.scale&&(z.originX=0,z.originY=0,z.slideEl=void 0)))}function Ve(he){if(!F(he)||!function q(he){const Me=`.${e.params.zoom.containerClass}`;return!!(he.target.matches(Me)||[...e.hostEl.querySelectorAll(Me)].filter(Le=>Le.contains(he.target)).length>0)}(he))return;const Me=e.zoom;if(!z.imageEl||!E.isTouched||!z.slideEl)return;E.isMoved||(E.width=z.imageEl.offsetWidth,E.height=z.imageEl.offsetHeight,E.startX=eg(z.imageWrapEl,"x")||0,E.startY=eg(z.imageWrapEl,"y")||0,z.slideWidth=z.slideEl.offsetWidth,z.slideHeight=z.slideEl.offsetHeight,z.imageWrapEl.style.transitionDuration="0ms");const Le=E.width*Me.scale,u1=E.height*Me.scale;if(Le<z.slideWidth&&u1<z.slideHeight)return;if(E.minX=Math.min(z.slideWidth/2-Le/2,0),E.maxX=-E.minX,E.minY=Math.min(z.slideHeight/2-u1/2,0),E.maxY=-E.minY,E.touchesCurrent.x=w.length>0?w[0].pageX:he.pageX,E.touchesCurrent.y=w.length>0?w[0].pageY:he.pageY,Math.max(Math.abs(E.touchesCurrent.x-E.touchesStart.x),Math.abs(E.touchesCurrent.y-E.touchesStart.y))>5&&(e.allowClick=!1),!E.isMoved&&!h){if(e.isHorizontal()&&(Math.floor(E.minX)===Math.floor(E.startX)&&E.touchesCurrent.x<E.touchesStart.x||Math.floor(E.maxX)===Math.floor(E.startX)&&E.touchesCurrent.x>E.touchesStart.x))return void(E.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(E.minY)===Math.floor(E.startY)&&E.touchesCurrent.y<E.touchesStart.y||Math.floor(E.maxY)===Math.floor(E.startY)&&E.touchesCurrent.y>E.touchesStart.y))return void(E.isTouched=!1)}he.cancelable&&he.preventDefault(),he.stopPropagation(),E.isMoved=!0;const tt=(Me.scale-u)/(z.maxRatio-e.params.zoom.minRatio),{originX:M1,originY:F1}=z;E.currentX=E.touchesCurrent.x-E.touchesStart.x+E.startX+tt*(E.width-2*M1),E.currentY=E.touchesCurrent.y-E.touchesStart.y+E.startY+tt*(E.height-2*F1),E.currentX<E.minX&&(E.currentX=E.minX+1-(E.minX-E.currentX+1)**.8),E.currentX>E.maxX&&(E.currentX=E.maxX-1+(E.currentX-E.maxX+1)**.8),E.currentY<E.minY&&(E.currentY=E.minY+1-(E.minY-E.currentY+1)**.8),E.currentY>E.maxY&&(E.currentY=E.maxY-1+(E.currentY-E.maxY+1)**.8),D.prevPositionX||(D.prevPositionX=E.touchesCurrent.x),D.prevPositionY||(D.prevPositionY=E.touchesCurrent.y),D.prevTime||(D.prevTime=Date.now()),D.x=(E.touchesCurrent.x-D.prevPositionX)/(Date.now()-D.prevTime)/2,D.y=(E.touchesCurrent.y-D.prevPositionY)/(Date.now()-D.prevTime)/2,Math.abs(E.touchesCurrent.x-D.prevPositionX)<2&&(D.x=0),Math.abs(E.touchesCurrent.y-D.prevPositionY)<2&&(D.y=0),D.prevPositionX=E.touchesCurrent.x,D.prevPositionY=E.touchesCurrent.y,D.prevTime=Date.now(),z.imageWrapEl.style.transform=`translate3d(${E.currentX}px, ${E.currentY}px,0)`}function e1(){const he=e.zoom;z.slideEl&&e.activeIndex!==e.slides.indexOf(z.slideEl)&&(z.imageEl&&(z.imageEl.style.transform="translate3d(0,0,0) scale(1)"),z.imageWrapEl&&(z.imageWrapEl.style.transform="translate3d(0,0,0)"),z.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),he.scale=1,u=1,z.slideEl=void 0,z.imageEl=void 0,z.imageWrapEl=void 0,z.originX=0,z.originY=0)}function Oe(he){const Me=e.zoom,Le=e.params.zoom;if(!z.slideEl){he&&he.target&&(z.slideEl=he.target.closest(`.${e.params.slideClass}, swiper-slide`)),z.slideEl||(z.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?vi(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex]);let Ql=z.slideEl.querySelector(`.${Le.containerClass}`);Ql&&(Ql=Ql.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),z.imageEl=Ql,z.imageWrapEl=Ql?gc(z.imageEl,`.${Le.containerClass}`)[0]:void 0}if(!z.imageEl||!z.imageWrapEl)return;let u1,D1,tt,M1,F1,Sn,J2,b2,a2,Jn,Ka,b3,vc,f0,fg,hg,dg,pg;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),z.slideEl.classList.add(`${Le.zoomedSlideClass}`),typeof E.touchesStart.x>"u"&&he?(u1=he.pageX,D1=he.pageY):(u1=E.touchesStart.x,D1=E.touchesStart.y);const Kl="number"==typeof he?he:null;1===u&&Kl&&(u1=void 0,D1=void 0),Me.scale=Kl||z.imageWrapEl.getAttribute("data-swiper-zoom")||Le.maxRatio,u=Kl||z.imageWrapEl.getAttribute("data-swiper-zoom")||Le.maxRatio,!he||1===u&&Kl?(J2=0,b2=0):(dg=z.slideEl.offsetWidth,pg=z.slideEl.offsetHeight,tt=bu(z.slideEl).left+o.scrollX,M1=bu(z.slideEl).top+o.scrollY,F1=tt+dg/2-u1,Sn=M1+pg/2-D1,a2=z.imageEl.offsetWidth,Jn=z.imageEl.offsetHeight,Ka=a2*Me.scale,b3=Jn*Me.scale,vc=Math.min(dg/2-Ka/2,0),f0=Math.min(pg/2-b3/2,0),fg=-vc,hg=-f0,J2=F1*Me.scale,b2=Sn*Me.scale,J2<vc&&(J2=vc),J2>fg&&(J2=fg),b2<f0&&(b2=f0),b2>hg&&(b2=hg)),Kl&&1===Me.scale&&(z.originX=0,z.originY=0),z.imageWrapEl.style.transitionDuration="300ms",z.imageWrapEl.style.transform=`translate3d(${J2}px, ${b2}px,0)`,z.imageEl.style.transitionDuration="300ms",z.imageEl.style.transform=`translate3d(0,0,0) scale(${Me.scale})`}function Ne(){const he=e.zoom,Me=e.params.zoom;if(!z.slideEl){z.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?vi(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex];let Le=z.slideEl.querySelector(`.${Me.containerClass}`);Le&&(Le=Le.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),z.imageEl=Le,z.imageWrapEl=Le?gc(z.imageEl,`.${Me.containerClass}`)[0]:void 0}!z.imageEl||!z.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),he.scale=1,u=1,z.imageWrapEl.style.transitionDuration="300ms",z.imageWrapEl.style.transform="translate3d(0,0,0)",z.imageEl.style.transitionDuration="300ms",z.imageEl.style.transform="translate3d(0,0,0) scale(1)",z.slideEl.classList.remove(`${Me.zoomedSlideClass}`),z.slideEl=void 0,z.originX=0,z.originY=0)}function He(he){const Me=e.zoom;Me.scale&&1!==Me.scale?Ne():Oe(he)}function ie(){return{passiveListener:!!e.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!e.params.passiveListeners||{passive:!1,capture:!0}}}function xe(){const he=e.zoom;if(he.enabled)return;he.enabled=!0;const{passiveListener:Me,activeListenerWithCapture:Le}=ie();e.wrapperEl.addEventListener("pointerdown",ee,Me),e.wrapperEl.addEventListener("pointermove",ve,Le),["pointerup","pointercancel","pointerout"].forEach(u1=>{e.wrapperEl.addEventListener(u1,Ee,Me)}),e.wrapperEl.addEventListener("pointermove",Ve,Le)}function pe(){const he=e.zoom;if(!he.enabled)return;he.enabled=!1;const{passiveListener:Me,activeListenerWithCapture:Le}=ie();e.wrapperEl.removeEventListener("pointerdown",ee,Me),e.wrapperEl.removeEventListener("pointermove",ve,Le),["pointerup","pointercancel","pointerout"].forEach(u1=>{e.wrapperEl.removeEventListener(u1,Ee,Me)}),e.wrapperEl.removeEventListener("pointermove",Ve,Le)}Object.defineProperty(e.zoom,"scale",{get:()=>k,set(he){k!==he&&r("zoomChange",he,z.imageEl,z.slideEl),k=he}}),i("init",()=>{e.params.zoom.enabled&&xe()}),i("destroy",()=>{pe()}),i("touchStart",(he,Me)=>{e.zoom.enabled&&function Te(he){if(!z.imageEl||E.isTouched)return;e.device.android&&he.cancelable&&he.preventDefault(),E.isTouched=!0;const Le=w.length>0?w[0]:he;E.touchesStart.x=Le.pageX,E.touchesStart.y=Le.pageY}(Me)}),i("touchEnd",(he,Me)=>{e.zoom.enabled&&function me(){const he=e.zoom;if(!z.imageEl)return;if(!E.isTouched||!E.isMoved)return E.isTouched=!1,void(E.isMoved=!1);E.isTouched=!1,E.isMoved=!1;let Me=300,Le=300;const D1=E.currentX+D.x*Me,M1=E.currentY+D.y*Le;0!==D.x&&(Me=Math.abs((D1-E.currentX)/D.x)),0!==D.y&&(Le=Math.abs((M1-E.currentY)/D.y));const F1=Math.max(Me,Le);E.currentX=D1,E.currentY=M1;const J2=E.height*he.scale;E.minX=Math.min(z.slideWidth/2-E.width*he.scale/2,0),E.maxX=-E.minX,E.minY=Math.min(z.slideHeight/2-J2/2,0),E.maxY=-E.minY,E.currentX=Math.max(Math.min(E.currentX,E.maxX),E.minX),E.currentY=Math.max(Math.min(E.currentY,E.maxY),E.minY),z.imageWrapEl.style.transitionDuration=`${F1}ms`,z.imageWrapEl.style.transform=`translate3d(${E.currentX}px, ${E.currentY}px,0)`}()}),i("doubleTap",(he,Me)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&He(Me)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e1()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e1()}),Object.assign(e.zoom,{enable:xe,disable:pe,in:Oe,out:Ne,toggle:He})},function pMe(t){let{swiper:e,extendParams:n,on:i}=t;function r(y,w){const z=function(){let B,j,Z;return(F,q)=>{for(j=-1,B=F.length;B-j>1;)Z=B+j>>1,F[Z]<=q?j=Z:B=Z;return B}}();let E,D;return this.x=y,this.y=w,this.lastIndex=y.length-1,this.interpolate=function(B){return B?(D=z(this.x,B),E=D-1,(B-this.x[E])*(this.y[D]-this.y[E])/(this.x[D]-this.x[E])+this.y[E]):0},this}function p(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},i("beforeInit",()=>{if(typeof window<"u"&&("string"==typeof e.params.controller.control||e.params.controller.control instanceof HTMLElement)){const y=document.querySelector(e.params.controller.control);if(y&&y.swiper)e.controller.control=y.swiper;else if(y){const w=z=>{e.controller.control=z.detail[0],e.update(),y.removeEventListener("init",w)};y.addEventListener("init",w)}}else e.controller.control=e.params.controller.control}),i("update",()=>{p()}),i("resize",()=>{p()}),i("observerUpdate",()=>{p()}),i("setTranslate",(y,w,z)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(w,z)}),i("setTransition",(y,w,z)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(w,z)}),Object.assign(e.controller,{setTranslate:function u(y,w){const z=e.controller.control;let E,D;const k=e.constructor;function B(j){if(j.destroyed)return;const Z=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(function o(y){e.controller.spline=e.params.loop?new r(e.slidesGrid,y.slidesGrid):new r(e.snapGrid,y.snapGrid)}(j),D=-e.controller.spline.interpolate(-Z)),(!D||"container"===e.params.controller.by)&&(E=(j.maxTranslate()-j.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(E)||!Number.isFinite(E))&&(E=1),D=(Z-e.minTranslate())*E+j.minTranslate()),e.params.controller.inverse&&(D=j.maxTranslate()-D),j.updateProgress(D),j.setTranslate(D,e),j.updateActiveIndex(),j.updateSlidesClasses()}if(Array.isArray(z))for(let j=0;j<z.length;j+=1)z[j]!==w&&z[j]instanceof k&&B(z[j]);else z instanceof k&&w!==z&&B(z)},setTransition:function h(y,w){const z=e.constructor,E=e.controller.control;let D;function k(B){B.destroyed||(B.setTransition(y,e),0!==y&&(B.transitionStart(),B.params.autoHeight&&pc(()=>{B.updateAutoHeight()}),Yl(B.wrapperEl,()=>{E&&B.transitionEnd()})))}if(Array.isArray(E))for(D=0;D<E.length;D+=1)E[D]!==w&&E[D]instanceof z&&k(E[D]);else E instanceof z&&w!==E&&k(E)}})},function mMe(t){let{swiper:e,extendParams:n,on:i}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let r=null;function o(ie){const xe=r;0!==xe.length&&(xe.innerHTML="",xe.innerHTML=ie)}const u=ie=>(Array.isArray(ie)?ie:[ie]).filter(xe=>!!xe);function p(ie){(ie=u(ie)).forEach(xe=>{xe.setAttribute("tabIndex","0")})}function y(ie){(ie=u(ie)).forEach(xe=>{xe.setAttribute("tabIndex","-1")})}function w(ie,xe){(ie=u(ie)).forEach(pe=>{pe.setAttribute("role",xe)})}function z(ie,xe){(ie=u(ie)).forEach(pe=>{pe.setAttribute("aria-roledescription",xe)})}function D(ie,xe){(ie=u(ie)).forEach(pe=>{pe.setAttribute("aria-label",xe)})}function j(ie){(ie=u(ie)).forEach(xe=>{xe.setAttribute("aria-disabled",!0)})}function Z(ie){(ie=u(ie)).forEach(xe=>{xe.setAttribute("aria-disabled",!1)})}function F(ie){if(13!==ie.keyCode&&32!==ie.keyCode)return;const xe=e.params.a11y,pe=ie.target;e.pagination&&e.pagination.el&&(pe===e.pagination.el||e.pagination.el.contains(ie.target))&&!ie.target.matches(Qs(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&pe===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),o(e.isEnd?xe.lastSlideMessage:xe.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&pe===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),o(e.isBeginning?xe.firstSlideMessage:xe.prevSlideMessage)),e.pagination&&pe.matches(Qs(e.params.pagination.bulletClass))&&pe.click())}function ee(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function ve(){return ee()&&e.params.pagination.clickable}const Te=(ie,xe,pe)=>{p(ie),"BUTTON"!==ie.tagName&&(w(ie,"button"),ie.addEventListener("keydown",F)),D(ie,pe),function E(ie,xe){(ie=u(ie)).forEach(pe=>{pe.setAttribute("aria-controls",xe)})}(ie,xe)},Ve=()=>{e.a11y.clicked=!0},me=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},e1=ie=>{if(e.a11y.clicked)return;const xe=ie.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!xe||!e.slides.includes(xe))return;const pe=e.slides.indexOf(xe)===e.activeIndex,he=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(xe);pe||he||ie.sourceCapabilities&&ie.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(xe),0))},Oe=()=>{const ie=e.params.a11y;ie.itemRoleDescriptionMessage&&z(e.slides,ie.itemRoleDescriptionMessage),ie.slideRole&&w(e.slides,ie.slideRole);const xe=e.slides.length;ie.slideLabelMessage&&e.slides.forEach((pe,he)=>{const Me=e.params.loop?parseInt(pe.getAttribute("data-swiper-slide-index"),10):he;D(pe,ie.slideLabelMessage.replace(/\{\{index\}\}/,Me+1).replace(/\{\{slidesLength\}\}/,xe))})};i("beforeInit",()=>{r=ua("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&(()=>{const ie=e.params.a11y;e.el.append(r);const xe=e.el;ie.containerRoleDescriptionMessage&&z(xe,ie.containerRoleDescriptionMessage),ie.containerMessage&&D(xe,ie.containerMessage);const pe=e.wrapperEl,he=ie.id||pe.getAttribute("id")||`swiper-wrapper-${function h(ie){return void 0===ie&&(ie=16),"x".repeat(ie).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,Me=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";(function k(ie,xe){(ie=u(ie)).forEach(pe=>{pe.setAttribute("id",xe)})})(pe,he),function B(ie,xe){(ie=u(ie)).forEach(pe=>{pe.setAttribute("aria-live",xe)})}(pe,Me),Oe();let{nextEl:Le,prevEl:u1}=e.navigation?e.navigation:{};Le=u(Le),u1=u(u1),Le&&Le.forEach(D1=>Te(D1,he,ie.nextSlideMessage)),u1&&u1.forEach(D1=>Te(D1,he,ie.prevSlideMessage)),ve()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(tt=>{tt.addEventListener("keydown",F)}),e.el.addEventListener("focus",e1,!0),e.el.addEventListener("pointerdown",Ve,!0),e.el.addEventListener("pointerup",me,!0)})()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&Oe()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&function q(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:ie,prevEl:xe}=e.navigation;xe&&(e.isBeginning?(j(xe),y(xe)):(Z(xe),p(xe))),ie&&(e.isEnd?(j(ie),y(ie)):(Z(ie),p(ie)))}()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&function Ee(){const ie=e.params.a11y;ee()&&e.pagination.bullets.forEach(xe=>{e.params.pagination.clickable&&(p(xe),e.params.pagination.renderBullet||(w(xe,"button"),D(xe,ie.paginationBulletMessage.replace(/\{\{index\}\}/,Wl(xe)+1)))),xe.matches(Qs(e.params.pagination.bulletActiveClass))?xe.setAttribute("aria-current","true"):xe.removeAttribute("aria-current")})}()}),i("destroy",()=>{e.params.a11y.enabled&&function He(){r&&r.remove();let{nextEl:ie,prevEl:xe}=e.navigation?e.navigation:{};ie=u(ie),xe=u(xe),ie&&ie.forEach(pe=>pe.removeEventListener("keydown",F)),xe&&xe.forEach(pe=>pe.removeEventListener("keydown",F)),ve()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(he=>{he.removeEventListener("keydown",F)}),e.el.removeEventListener("focus",e1,!0),e.el.removeEventListener("pointerdown",Ve,!0),e.el.removeEventListener("pointerup",me,!0)}()})},function gMe(t){let{swiper:e,extendParams:n,on:i}=t;n({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,o={};const u=D=>D.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),h=D=>{const k=Q2();let B;B=D?new URL(D):k.location;const j=B.pathname.slice(1).split("/").filter(ee=>""!==ee),Z=j.length;return{key:j[Z-2],value:j[Z-1]}},p=(D,k)=>{const B=Q2();if(!r||!e.params.history.enabled)return;let j;j=e.params.url?new URL(e.params.url):B.location;let F=u(e.slides[k].getAttribute("data-history"));if(e.params.history.root.length>0){let ee=e.params.history.root;"/"===ee[ee.length-1]&&(ee=ee.slice(0,ee.length-1)),F=`${ee}/${D?`${D}/`:""}${F}`}else j.pathname.includes(D)||(F=`${D?`${D}/`:""}${F}`);e.params.history.keepQuery&&(F+=j.search);const q=B.history.state;q&&q.value===F||(e.params.history.replaceState?B.history.replaceState({value:F},null,F):B.history.pushState({value:F},null,F))},y=(D,k,B)=>{if(k)for(let j=0,Z=e.slides.length;j<Z;j+=1){const F=e.slides[j];if(u(F.getAttribute("data-history"))===k){const ee=e.getSlideIndex(F);e.slideTo(ee,D,B)}}else e.slideTo(0,D,B)},w=()=>{o=h(e.params.url),y(e.params.speed,o.value,!1)};i("init",()=>{e.params.history.enabled&&(()=>{const D=Q2();if(e.params.history){if(!D.history||!D.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);if(r=!0,o=h(e.params.url),!o.key&&!o.value)return void(e.params.history.replaceState||D.addEventListener("popstate",w));y(0,o.value,e.params.runCallbacksOnInit),e.params.history.replaceState||D.addEventListener("popstate",w)}})()}),i("destroy",()=>{e.params.history.enabled&&(()=>{const D=Q2();e.params.history.replaceState||D.removeEventListener("popstate",w)})()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&p(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{r&&e.params.cssMode&&p(e.params.history.key,e.activeIndex)})},function vMe(t){let{swiper:e,extendParams:n,emit:i,on:r}=t,o=!1;const u=Pi(),h=Q2();n({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(E,D){if(e.virtual&&e.params.virtual.enabled){const k=e.slides.filter(j=>j.getAttribute("data-hash")===D)[0];return k?parseInt(k.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(vi(e.slidesEl,`.${e.params.slideClass}[data-hash="${D}"], swiper-slide[data-hash="${D}"]`)[0])}}});const p=()=>{i("hashChange");const E=u.location.hash.replace("#",""),D=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex];if(E!==(D?D.getAttribute("data-hash"):"")){const B=e.params.hashNavigation.getSlideIndex(e,E);if(typeof B>"u"||Number.isNaN(B))return;e.slideTo(B)}},y=()=>{if(!o||!e.params.hashNavigation.enabled)return;const E=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],D=E?E.getAttribute("data-hash")||E.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&h.history&&h.history.replaceState?(h.history.replaceState(null,null,`#${D}`||""),i("hashSet")):(u.location.hash=D||"",i("hashSet"))};r("init",()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;o=!0;const E=u.location.hash.replace("#","");if(E){const k=e.params.hashNavigation.getSlideIndex(e,E);e.slideTo(k||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&h.addEventListener("hashchange",p)})()}),r("destroy",()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&h.removeEventListener("hashchange",p)}),r("transitionEnd _freeModeNoMomentumRelease",()=>{o&&y()}),r("slideChange",()=>{o&&e.params.cssMode&&y()})},function yMe(t){let{swiper:e,extendParams:n,on:i,emit:r,params:o}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,h,w,E,D,k,B,j,Z,p=o&&o.autoplay?o.autoplay.delay:3e3,y=o&&o.autoplay?o.autoplay.delay:3e3,z=(new Date).getTime;function F(he){!e||e.destroyed||!e.wrapperEl||he.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",F),me())}const q=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?E=!0:E&&(y=w,E=!1);const he=e.autoplay.paused?w:z+y-(new Date).getTime();e.autoplay.timeLeft=he,r("autoplayTimeLeft",he,he/p),h=requestAnimationFrame(()=>{q()})},ve=he=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),q();let Me=typeof he>"u"?e.params.autoplay.delay:he;p=e.params.autoplay.delay,y=e.params.autoplay.delay;const Le=(()=>{let he;return he=e.virtual&&e.params.virtual.enabled?e.slides.filter(Le=>Le.classList.contains("swiper-slide-active"))[0]:e.slides[e.activeIndex],he?parseInt(he.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(Le)&&Le>0&&typeof he>"u"&&(Me=Le,p=Le,y=Le),w=Me;const u1=e.params.speed,D1=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(u1,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,u1,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(u1,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,u1,!0,!0),r("autoplay")),e.params.cssMode&&(z=(new Date).getTime(),requestAnimationFrame(()=>{ve()})))};return Me>0?(clearTimeout(u),u=setTimeout(()=>{D1()},Me)):requestAnimationFrame(()=>{D1()}),Me},Ee=()=>{e.autoplay.running=!0,ve(),r("autoplayStart")},Te=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(h),r("autoplayStop")},Ve=(he,Me)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),he||(Z=!0);const Le=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",F):me()};if(e.autoplay.paused=!0,Me)return j&&(w=e.params.autoplay.delay),j=!1,void Le();w=(w||e.params.autoplay.delay)-((new Date).getTime()-z),(!(e.isEnd&&w<0)||e.params.loop)&&(w<0&&(w=0),Le())},me=()=>{e.isEnd&&w<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(z=(new Date).getTime(),Z?(Z=!1,ve(w)):ve(),e.autoplay.paused=!1,r("autoplayResume"))},e1=()=>{if(e.destroyed||!e.autoplay.running)return;const he=Pi();"hidden"===he.visibilityState&&(Z=!0,Ve(!0)),"visible"===he.visibilityState&&me()},Oe=he=>{"mouse"===he.pointerType&&(Z=!0,!e.animating&&!e.autoplay.paused&&Ve(!0))},Ne=he=>{"mouse"===he.pointerType&&e.autoplay.paused&&me()};i("init",()=>{e.params.autoplay.enabled&&(e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",Oe),e.el.addEventListener("pointerleave",Ne)),Pi().addEventListener("visibilitychange",e1),z=(new Date).getTime(),Ee())}),i("destroy",()=>{e.el.removeEventListener("pointerenter",Oe),e.el.removeEventListener("pointerleave",Ne),Pi().removeEventListener("visibilitychange",e1),e.autoplay.running&&Te()}),i("beforeTransitionStart",(he,Me,Le)=>{e.destroyed||!e.autoplay.running||(Le||!e.params.autoplay.disableOnInteraction?Ve(!0,!0):Te())}),i("sliderFirstMove",()=>{if(!e.destroyed&&e.autoplay.running){if(e.params.autoplay.disableOnInteraction)return void Te();D=!0,k=!1,Z=!1,B=setTimeout(()=>{Z=!0,k=!0,Ve(!0)},200)}}),i("touchEnd",()=>{if(!e.destroyed&&e.autoplay.running&&D){if(clearTimeout(B),clearTimeout(u),e.params.autoplay.disableOnInteraction)return k=!1,void(D=!1);k&&e.params.cssMode&&me(),k=!1,D=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(j=!0)}),Object.assign(e.autoplay,{start:Ee,stop:Te,pause:Ve,resume:me})},function _Me(t){let{swiper:e,extendParams:n,on:i}=t;n({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,o=!1;function u(){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const w=y.clickedIndex,z=y.clickedSlide;if(z&&z.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof w>"u"||null===w)return;let E;E=y.params.loop?parseInt(y.clickedSlide.getAttribute("data-swiper-slide-index"),10):w,e.params.loop?e.slideToLoop(E):e.slideTo(E)}function h(){const{thumbs:y}=e.params;if(r)return!1;r=!0;const w=e.constructor;if(y.swiper instanceof w)e.thumbs.swiper=y.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(Gl(y.swiper)){const z=Object.assign({},y.swiper);Object.assign(z,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new w(z),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function p(y){const w=e.thumbs.swiper;if(!w||w.destroyed)return;const z="auto"===w.params.slidesPerView?w.slidesPerViewDynamic():w.params.slidesPerView;let E=1;const D=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(E=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(E=1),E=Math.floor(E),w.slides.forEach(j=>j.classList.remove(D)),w.params.loop||w.params.virtual&&w.params.virtual.enabled)for(let j=0;j<E;j+=1)vi(w.slidesEl,`[data-swiper-slide-index="${e.realIndex+j}"]`).forEach(Z=>{Z.classList.add(D)});else for(let j=0;j<E;j+=1)w.slides[e.realIndex+j]&&w.slides[e.realIndex+j].classList.add(D);const k=e.params.thumbs.autoScrollOffset,B=k&&!w.params.loop;if(e.realIndex!==w.realIndex||B){const j=w.activeIndex;let Z,F;if(w.params.loop){const q=w.slides.filter(ee=>ee.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];Z=w.slides.indexOf(q),F=e.activeIndex>e.previousIndex?"next":"prev"}else Z=e.realIndex,F=Z>e.previousIndex?"next":"prev";B&&(Z+="next"===F?k:-1*k),w.visibleSlidesIndexes&&w.visibleSlidesIndexes.indexOf(Z)<0&&(w.params.centeredSlides&&(Z=Z>j?Z-Math.floor(z/2)+1:Z+Math.floor(z/2)-1),w.slideTo(Z,y?0:void 0))}}e.thumbs={swiper:null},i("beforeInit",()=>{const{thumbs:y}=e.params;if(y&&y.swiper)if("string"==typeof y.swiper||y.swiper instanceof HTMLElement){const w=Pi(),z=()=>{const D="string"==typeof y.swiper?w.querySelector(y.swiper):y.swiper;if(D&&D.swiper)y.swiper=D.swiper,h(),p(!0);else if(D){const k=B=>{y.swiper=B.detail[0],D.removeEventListener("init",k),h(),p(!0),y.swiper.update(),e.update()};D.addEventListener("init",k)}return D},E=()=>{e.destroyed||z()||requestAnimationFrame(E)};requestAnimationFrame(E)}else h(),p(!0)}),i("slideChange update resize observerUpdate",()=>{p()}),i("setTransition",(y,w)=>{const z=e.thumbs.swiper;!z||z.destroyed||z.setTransition(w)}),i("beforeDestroy",()=>{const y=e.thumbs.swiper;!y||y.destroyed||o&&y.destroy()}),Object.assign(e.thumbs,{init:h,update:p})},function CMe(t){let{swiper:e,extendParams:n,emit:i,once:r}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function o(){if(e.params.cssMode)return;const p=e.getTranslate();e.setTranslate(p),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function u(){if(e.params.cssMode)return;const{touchEventsData:p,touches:y}=e;0===p.velocities.length&&p.velocities.push({position:y[e.isHorizontal()?"startX":"startY"],time:p.touchStartTime}),p.velocities.push({position:y[e.isHorizontal()?"currentX":"currentY"],time:C3()})},onTouchEnd:function h(p){let{currentPos:y}=p;if(e.params.cssMode)return;const{params:w,wrapperEl:z,rtlTranslate:E,snapGrid:D,touchEventsData:k}=e,j=C3()-k.touchStartTime;if(y<-e.minTranslate())e.slideTo(e.activeIndex);else if(y>-e.maxTranslate())e.slideTo(e.slides.length<D.length?D.length-1:e.slides.length-1);else{if(w.freeMode.momentum){if(k.velocities.length>1){const Ve=k.velocities.pop(),me=k.velocities.pop(),Oe=Ve.time-me.time;e.velocity=(Ve.position-me.position)/Oe,e.velocity/=2,Math.abs(e.velocity)<w.freeMode.minimumVelocity&&(e.velocity=0),(Oe>150||C3()-Ve.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=w.freeMode.momentumVelocityRatio,k.velocities.length=0;let Z=1e3*w.freeMode.momentumRatio,q=e.translate+e.velocity*Z;E&&(q=-q);let ve,ee=!1;const Ee=20*Math.abs(e.velocity)*w.freeMode.momentumBounceRatio;let Te;if(q<e.maxTranslate())w.freeMode.momentumBounce?(q+e.maxTranslate()<-Ee&&(q=e.maxTranslate()-Ee),ve=e.maxTranslate(),ee=!0,k.allowMomentumBounce=!0):q=e.maxTranslate(),w.loop&&w.centeredSlides&&(Te=!0);else if(q>e.minTranslate())w.freeMode.momentumBounce?(q-e.minTranslate()>Ee&&(q=e.minTranslate()+Ee),ve=e.minTranslate(),ee=!0,k.allowMomentumBounce=!0):q=e.minTranslate(),w.loop&&w.centeredSlides&&(Te=!0);else if(w.freeMode.sticky){let Ve;for(let me=0;me<D.length;me+=1)if(D[me]>-q){Ve=me;break}q=Math.abs(D[Ve]-q)<Math.abs(D[Ve-1]-q)||"next"===e.swipeDirection?D[Ve]:D[Ve-1],q=-q}if(Te&&r("transitionEnd",()=>{e.loopFix()}),0!==e.velocity){if(Z=E?Math.abs((-q-e.translate)/e.velocity):Math.abs((q-e.translate)/e.velocity),w.freeMode.sticky){const Ve=Math.abs((E?-q:q)-e.translate),me=e.slidesSizesGrid[e.activeIndex];Z=Ve<me?w.speed:Ve<2*me?1.5*w.speed:2.5*w.speed}}else if(w.freeMode.sticky)return void e.slideToClosest();w.freeMode.momentumBounce&&ee?(e.updateProgress(ve),e.setTransition(Z),e.setTranslate(q),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Yl(z,()=>{!e||e.destroyed||!k.allowMomentumBounce||(i("momentumBounce"),e.setTransition(w.speed),setTimeout(()=>{e.setTranslate(ve),Yl(z,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(q),e.setTransition(Z),e.setTranslate(q),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Yl(z,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(q),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(w.freeMode.sticky)return void e.slideToClosest();w.freeMode&&i("_freeModeNoMomentumRelease")}(!w.freeMode.momentum||j>=w.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function bMe(t){let r,o,u,h,{swiper:e,extendParams:n,on:i}=t;n({grid:{rows:1,fill:"column"}});const p=()=>{let k=e.params.spaceBetween;return"string"==typeof k&&k.indexOf("%")>=0?k=parseFloat(k.replace("%",""))/100*e.size:"string"==typeof k&&(k=parseFloat(k)),k};i("init",()=>{h=e.params.grid&&e.params.grid.rows>1}),i("update",()=>{const{params:k,el:B}=e,j=k.grid&&k.grid.rows>1;h&&!j?(B.classList.remove(`${k.containerModifierClass}grid`,`${k.containerModifierClass}grid-column`),u=1,e.emitContainerClasses()):!h&&j&&(B.classList.add(`${k.containerModifierClass}grid`),"column"===k.grid.fill&&B.classList.add(`${k.containerModifierClass}grid-column`),e.emitContainerClasses()),h=j}),e.grid={initSlides:k=>{const{slidesPerView:B}=e.params,{rows:j,fill:Z}=e.params.grid;u=Math.floor(k/j),r=Math.floor(k/j)===k/j?k:Math.ceil(k/j)*j,"auto"!==B&&"row"===Z&&(r=Math.max(r,B*j)),o=r/j},updateSlide:(k,B,j,Z)=>{const{slidesPerGroup:F}=e.params,q=p(),{rows:ee,fill:ve}=e.params.grid;let Ee,Te,Ve;if("row"===ve&&F>1){const me=Math.floor(k/(F*ee)),e1=k-ee*F*me,Oe=0===me?F:Math.min(Math.ceil((j-me*ee*F)/ee),F);Ve=Math.floor(e1/Oe),Te=e1-Ve*Oe+me*F,Ee=Te+Ve*r/ee,B.style.order=Ee}else"column"===ve?(Te=Math.floor(k/ee),Ve=k-Te*ee,(Te>u||Te===u&&Ve===ee-1)&&(Ve+=1,Ve>=ee&&(Ve=0,Te+=1))):(Ve=Math.floor(k/o),Te=k-Ve*o);B.row=Ve,B.column=Te,B.style[Z("margin-top")]=0!==Ve?q&&`${q}px`:""},updateWrapperSize:(k,B,j)=>{const{centeredSlides:Z,roundLengths:F}=e.params,q=p(),{rows:ee}=e.params.grid;if(e.virtualSize=(k+q)*r,e.virtualSize=Math.ceil(e.virtualSize/ee)-q,e.wrapperEl.style[j("width")]=`${e.virtualSize+q}px`,Z){const ve=[];for(let Ee=0;Ee<B.length;Ee+=1){let Te=B[Ee];F&&(Te=Math.floor(Te)),B[Ee]<e.virtualSize+B[0]&&ve.push(Te)}B.splice(0,B.length),B.push(...ve)}}}},function LMe(t){let{swiper:e}=t;Object.assign(e,{appendSlide:xMe.bind(e),prependSlide:MMe.bind(e),addSlide:wMe.bind(e),removeSlide:zMe.bind(e),removeAllSlides:SMe.bind(e)})},function HMe(t){let{swiper:e,extendParams:n,on:i}=t;n({fadeEffect:{crossFade:!1}}),c0({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:u}=e;for(let p=0;p<u.length;p+=1){const y=e.slides[p];let z=-y.swiperSlideOffset;e.params.virtualTranslate||(z-=e.translate);let E=0;e.isHorizontal()||(E=z,z=0);const D=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(y.progress),0):1+Math.min(Math.max(y.progress,-1),0),k=Xl(0,y);k.style.opacity=D,k.style.transform=`translate3d(${z}px, ${E}px, 0px)`}},setTransition:u=>{const h=e.slides.map(p=>mc(p));h.forEach(p=>{p.style.transitionDuration=`${u}ms`}),Mu({swiper:e,duration:u,transformElements:h,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function VMe(t){let{swiper:e,extendParams:n,on:i}=t;n({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(p,y,w)=>{let z=p.querySelector(w?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),E=p.querySelector(w?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");z||(z=ua("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(w?"left":"top")).split(" ")),p.append(z)),E||(E=ua("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(w?"right":"bottom")).split(" ")),p.append(E)),z&&(z.style.opacity=Math.max(-y,0)),E&&(E.style.opacity=Math.max(y,0))};c0({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:p,wrapperEl:y,slides:w,width:z,height:E,rtlTranslate:D,size:k,browser:B}=e,j=e.params.cubeEffect,Z=e.isHorizontal(),F=e.virtual&&e.params.virtual.enabled;let ee,q=0;j.shadow&&(Z?(ee=e.wrapperEl.querySelector(".swiper-cube-shadow"),ee||(ee=ua("div","swiper-cube-shadow"),e.wrapperEl.append(ee)),ee.style.height=`${z}px`):(ee=p.querySelector(".swiper-cube-shadow"),ee||(ee=ua("div","swiper-cube-shadow"),p.append(ee))));for(let Ee=0;Ee<w.length;Ee+=1){const Te=w[Ee];let Ve=Ee;F&&(Ve=parseInt(Te.getAttribute("data-swiper-slide-index"),10));let me=90*Ve,e1=Math.floor(me/360);D&&(me=-me,e1=Math.floor(-me/360));const Oe=Math.max(Math.min(Te.progress,1),-1);let Ne=0,He=0,ie=0;Ve%4==0?(Ne=4*-e1*k,ie=0):(Ve-1)%4==0?(Ne=0,ie=4*-e1*k):(Ve-2)%4==0?(Ne=k+4*e1*k,ie=k):(Ve-3)%4==0&&(Ne=-k,ie=3*k+4*k*e1),D&&(Ne=-Ne),Z||(He=Ne,Ne=0),Oe<=1&&Oe>-1&&(q=90*Ve+90*Oe,D&&(q=90*-Ve-90*Oe)),Te.style.transform=`rotateX(${Z?0:-me}deg) rotateY(${Z?me:0}deg) translate3d(${Ne}px, ${He}px, ${ie}px)`,j.slideShadows&&r(Te,Oe,Z)}if(y.style.transformOrigin=`50% 50% -${k/2}px`,y.style["-webkit-transform-origin"]=`50% 50% -${k/2}px`,j.shadow)if(Z)ee.style.transform=`translate3d(0px, ${z/2+j.shadowOffset}px, ${-z/2}px) rotateX(90deg) rotateZ(0deg) scale(${j.shadowScale})`;else{const Ee=Math.abs(q)-90*Math.floor(Math.abs(q)/90),Te=1.5-(Math.sin(2*Ee*Math.PI/360)/2+Math.cos(2*Ee*Math.PI/360)/2),me=j.shadowScale/Te;ee.style.transform=`scale3d(${j.shadowScale}, 1, ${me}) translate3d(0px, ${E/2+j.shadowOffset}px, ${-E/2/me}px) rotateX(-90deg)`}const ve=(B.isSafari||B.isWebView)&&B.needPerspectiveFix?-k/2:0;y.style.transform=`translate3d(0px,0,${ve}px) rotateX(${e.isHorizontal()?0:q}deg) rotateY(${e.isHorizontal()?-q:0}deg)`,y.style.setProperty("--swiper-cube-translate-z",`${ve}px`)},setTransition:p=>{const{el:y,slides:w}=e;if(w.forEach(z=>{z.style.transitionDuration=`${p}ms`,z.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(E=>{E.style.transitionDuration=`${p}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const z=y.querySelector(".swiper-cube-shadow");z&&(z.style.transitionDuration=`${p}ms`)}},recreateShadows:()=>{const p=e.isHorizontal();e.slides.forEach(y=>{const w=Math.max(Math.min(y.progress,1),-1);r(y,w,p)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function EMe(t){let{swiper:e,extendParams:n,on:i}=t;n({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(p,y)=>{let w=e.isHorizontal()?p.querySelector(".swiper-slide-shadow-left"):p.querySelector(".swiper-slide-shadow-top"),z=e.isHorizontal()?p.querySelector(".swiper-slide-shadow-right"):p.querySelector(".swiper-slide-shadow-bottom");w||(w=l0("flip",p,e.isHorizontal()?"left":"top")),z||(z=l0("flip",p,e.isHorizontal()?"right":"bottom")),w&&(w.style.opacity=Math.max(-y,0)),z&&(z.style.opacity=Math.max(y,0))};c0({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:p,rtlTranslate:y}=e,w=e.params.flipEffect;for(let z=0;z<p.length;z+=1){const E=p[z];let D=E.progress;e.params.flipEffect.limitRotation&&(D=Math.max(Math.min(E.progress,1),-1));const k=E.swiperSlideOffset;let j=-180*D,Z=0,F=e.params.cssMode?-k-e.translate:-k,q=0;e.isHorizontal()?y&&(j=-j):(q=F,F=0,Z=-j,j=0),E.style.zIndex=-Math.abs(Math.round(D))+p.length,w.slideShadows&&r(E,D);const ee=`translate3d(${F}px, ${q}px, 0px) rotateX(${Z}deg) rotateY(${j}deg)`;Xl(0,E).style.transform=ee}},setTransition:p=>{const y=e.slides.map(w=>mc(w));y.forEach(w=>{w.style.transitionDuration=`${p}ms`,w.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(z=>{z.style.transitionDuration=`${p}ms`})}),Mu({swiper:e,duration:p,transformElements:y})},recreateShadows:()=>{e.slides.forEach(p=>{let y=p.progress;e.params.flipEffect.limitRotation&&(y=Math.max(Math.min(p.progress,1),-1)),r(p,y)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function TMe(t){let{swiper:e,extendParams:n,on:i}=t;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),c0({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:u,height:h,slides:p,slidesSizesGrid:y}=e,w=e.params.coverflowEffect,z=e.isHorizontal(),E=e.translate,D=z?u/2-E:h/2-E,k=z?w.rotate:-w.rotate,B=w.depth;for(let j=0,Z=p.length;j<Z;j+=1){const F=p[j],q=y[j],ve=(D-F.swiperSlideOffset-q/2)/q,Ee="function"==typeof w.modifier?w.modifier(ve):ve*w.modifier;let Te=z?k*Ee:0,Ve=z?0:k*Ee,me=-B*Math.abs(Ee),e1=w.stretch;"string"==typeof e1&&-1!==e1.indexOf("%")&&(e1=parseFloat(w.stretch)/100*q);let Oe=z?0:e1*Ee,Ne=z?e1*Ee:0,He=1-(1-w.scale)*Math.abs(Ee);Math.abs(Ne)<.001&&(Ne=0),Math.abs(Oe)<.001&&(Oe=0),Math.abs(me)<.001&&(me=0),Math.abs(Te)<.001&&(Te=0),Math.abs(Ve)<.001&&(Ve=0),Math.abs(He)<.001&&(He=0);const ie=`translate3d(${Ne}px,${Oe}px,${me}px)  rotateX(${Ve}deg) rotateY(${Te}deg) scale(${He})`;if(Xl(0,F).style.transform=ie,F.style.zIndex=1-Math.abs(Math.round(Ee)),w.slideShadows){let pe=F.querySelector(z?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),he=F.querySelector(z?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");pe||(pe=l0("coverflow",F,z?"left":"top")),he||(he=l0("coverflow",F,z?"right":"bottom")),pe&&(pe.style.opacity=Ee>0?Ee:0),he&&(he.style.opacity=-Ee>0?-Ee:0)}}},setTransition:u=>{e.slides.map(p=>mc(p)).forEach(p=>{p.style.transitionDuration=`${u}ms`,p.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(y=>{y.style.transitionDuration=`${u}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function DMe(t){let{swiper:e,extendParams:n,on:i}=t;n({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=h=>"string"==typeof h?h:`${h}px`;c0({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:h,wrapperEl:p,slidesSizesGrid:y}=e,w=e.params.creativeEffect,{progressMultiplier:z}=w,E=e.params.centeredSlides;E&&(p.style.transform=`translateX(calc(50% - ${y[0]/2-e.params.slidesOffsetBefore||0}px))`);for(let D=0;D<h.length;D+=1){const k=h[D],B=k.progress,j=Math.min(Math.max(k.progress,-w.limitProgress),w.limitProgress);let Z=j;E||(Z=Math.min(Math.max(k.originalProgress,-w.limitProgress),w.limitProgress));const F=k.swiperSlideOffset,q=[e.params.cssMode?-F-e.translate:-F,0,0],ee=[0,0,0];let ve=!1;e.isHorizontal()||(q[1]=q[0],q[0]=0);let Ee={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};j<0?(Ee=w.next,ve=!0):j>0&&(Ee=w.prev,ve=!0),q.forEach((He,ie)=>{q[ie]=`calc(${He}px + (${r(Ee.translate[ie])} * ${Math.abs(j*z)}))`}),ee.forEach((He,ie)=>{ee[ie]=Ee.rotate[ie]*Math.abs(j*z)}),k.style.zIndex=-Math.abs(Math.round(B))+h.length;const Te=q.join(", "),e1=Z<0?1+(1-Ee.opacity)*Z*z:1-(1-Ee.opacity)*Z*z,Oe=`translate3d(${Te}) rotateX(${ee[0]}deg) rotateY(${ee[1]}deg) rotateZ(${ee[2]}deg) ${Z<0?`scale(${1+(1-Ee.scale)*Z*z})`:`scale(${1-(1-Ee.scale)*Z*z})`}`;if(ve&&Ee.shadow||!ve){let He=k.querySelector(".swiper-slide-shadow");!He&&Ee.shadow&&(He=l0("creative",k)),He&&(He.style.opacity=Math.min(Math.max(Math.abs(w.shadowPerProgress?j*(1/w.limitProgress):j),0),1))}const Ne=Xl(0,k);Ne.style.transform=Oe,Ne.style.opacity=e1,Ee.origin&&(Ne.style.transformOrigin=Ee.origin)}},setTransition:h=>{const p=e.slides.map(y=>mc(y));p.forEach(y=>{y.style.transitionDuration=`${h}ms`,y.querySelectorAll(".swiper-slide-shadow").forEach(w=>{w.style.transitionDuration=`${h}ms`})}),Mu({swiper:e,duration:h,transformElements:p,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function PMe(t){let{swiper:e,extendParams:n,on:i}=t;n({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),c0({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:u,activeIndex:h,rtlTranslate:p}=e,y=e.params.cardsEffect,{startTranslate:w,isTouched:z}=e.touchEventsData,E=p?-e.translate:e.translate;for(let D=0;D<u.length;D+=1){const k=u[D],B=k.progress,j=Math.min(Math.max(B,-4),4);let Z=k.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(Z-=u[0].swiperSlideOffset);let F=e.params.cssMode?-Z-e.translate:-Z,q=0;const ee=-100*Math.abs(j);let ve=1,Ee=-y.perSlideRotate*j,Te=y.perSlideOffset-.75*Math.abs(j);const Ve=e.virtual&&e.params.virtual.enabled?e.virtual.from+D:D;if((Ve===h||Ve===h-1)&&j>0&&j<1&&(z||e.params.cssMode)&&E<w||(Ve===h||Ve===h+1)&&j<0&&j>-1&&(z||e.params.cssMode)&&E>w){const ie=(1-Math.abs((Math.abs(j)-.5)/.5))**.5;Ee+=-28*j*ie,ve+=-.5*ie,Te+=96*ie,q=-25*ie*Math.abs(j)+"%"}if(F=j<0?`calc(${F}px ${p?"-":"+"} (${Te*Math.abs(j)}%))`:j>0?`calc(${F}px ${p?"-":"+"} (-${Te*Math.abs(j)}%))`:`${F}px`,!e.isHorizontal()){const ie=q;q=F,F=ie}const Ne=`\n        translate3d(${F}, ${q}, ${ee}px)\n        rotateZ(${y.rotate?p?-Ee:Ee:0}deg)\n        scale(${j<0?""+(1+(1-ve)*j):""+(1-(1-ve)*j)})\n      `;if(y.slideShadows){let ie=k.querySelector(".swiper-slide-shadow");ie||(ie=l0("cards",k)),ie&&(ie.style.opacity=Math.min(Math.max((Math.abs(j)-.5)/.5,0),1))}k.style.zIndex=-Math.abs(Math.round(B))+u.length,Xl(0,k).style.transform=Ne}},setTransition:u=>{const h=e.slides.map(p=>mc(p));h.forEach(p=>{p.style.transitionDuration=`${u}ms`,p.querySelectorAll(".swiper-slide-shadow").forEach(y=>{y.style.transitionDuration=`${u}ms`})}),Mu({swiper:e,duration:u,transformElements:h})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}]);const wu=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function u0(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)&&!t.__swiper__}function zu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:u0(e[i])&&u0(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:zu(t[i],e[i]):t[i]=e[i]})}function Su(t){return void 0===t&&(t=""),t.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}const zP=t=>{if(parseFloat(t)===Number(t))return Number(t);if("true"===t||""===t)return!0;if("false"===t)return!1;if("null"===t)return null;if("undefined"!==t){if("string"==typeof t&&t.includes("{")&&t.includes("}")&&t.includes('"')){let e;try{e=JSON.parse(t)}catch{e=t}return e}return t}},SP=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function LP(t,e,n){const i={},r={};zu(i,og);const o=[...wu,"on"],u=o.map(p=>p.replace(/_/,""));o.forEach(p=>{p=p.replace("_",""),typeof t[p]<"u"&&(r[p]=t[p])});const h=[...t.attributes];return"string"==typeof e&&typeof n<"u"&&h.push({name:e,value:u0(n)?{...n}:n}),h.forEach(p=>{const y=SP.filter(w=>0===p.name.indexOf(`${w}-`))[0];if(y){const w=Su(y),z=Su(p.name.split(`${y}-`)[1]);typeof r[w]>"u"&&(r[w]={}),!0===r[w]&&(r[w]={enabled:!0}),r[w][z]=zP(p.value)}else{const w=Su(p.name);if(!u.includes(w))return;const z=zP(p.value);r[w]&&SP.includes(p.name)&&!u0(z)?(r[w].constructor!==Object&&(r[w]={}),r[w].enabled=!!z):r[w]=z}}),zu(i,r),i.navigation?i.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==i.navigation?i.navigation:{}}:!1===i.navigation&&delete i.navigation,i.scrollbar?i.scrollbar={el:".swiper-scrollbar",...!0!==i.scrollbar?i.scrollbar:{}}:!1===i.scrollbar&&delete i.scrollbar,i.pagination?i.pagination={el:".swiper-pagination",...!0!==i.pagination?i.pagination:{}}:!1===i.pagination&&delete i.pagination,{params:i,passedParams:r}}const RMe=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;overflow:clip;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",HP=typeof window>"u"||typeof HTMLElement>"u"?class BMe{}:HTMLElement,VP='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',EP=(t,e)=>{if(typeof CSSStyleSheet<"u"&&t.adoptedStyleSheets){const n=new CSSStyleSheet;n.replaceSync(e),t.adoptedStyleSheets=[n]}else{const n=document.createElement("style");n.rel="stylesheet",n.textContent=e,t.appendChild(n)}};class TP extends HP{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return VP}static get prevButtonSvg(){return VP.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[RMe,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,n=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=n.length?Math.max(...n)+1:0,this.rendered)if(this.slideSlots>e)for(let i=e;i<this.slideSlots;i+=1){const r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);const o=document.createElement("slot");o.setAttribute("name",`slide-${i+1}`),r.appendChild(o),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<e){const i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&EP(this.shadowRoot,e),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const o=document.createElement("link");o.rel="stylesheet",o.href=i,this.shadowRoot.appendChild(o)});const n=document.createElement("div");n.classList.add("swiper"),n.part="container",n.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((i,r)=>`\n        <swiper-slide part="slide slide-${r}">\n          <slot name="slide-${r}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function IMe(t){return void 0===t&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function kMe(t){return void 0===t&&(t={}),t.pagination&&typeof t.pagination.el>"u"}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function NMe(t){return void 0===t&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(n),this.rendered=!0}initialize(){var e=this;if(this.initialized)return;this.initialized=!0;const{params:n,passedParams:i}=LP(this);this.swiperParams=n,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new Yr(this.shadowRoot.querySelector(".swiper"),{...n.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...n,touchEventsTarget:"container",onAny:function(r){"observerUpdate"===r&&e.calcSlideSlots();const o=n.eventsPrefix?`${n.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var u=arguments.length,h=new Array(u>1?u-1:0),p=1;p<u;p++)h[p-1]=arguments[p];const y=new CustomEvent(o,{detail:h,bubbles:"hashChange"!==r,cancelable:!0});e.dispatchEvent(y)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(e,n){const{params:i,passedParams:r}=LP(this,e,n);this.passedParams=r,this.swiperParams=i,function OMe(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:o,prevEl:u,scrollbarEl:h,paginationEl:p}=t;const y=r.filter(me=>"children"!==me&&"direction"!==me&&"wrapperClass"!==me),{params:w,pagination:z,navigation:E,scrollbar:D,virtual:k,thumbs:B}=e;let j,Z,F,q,ee,ve,Ee,Te;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&w.thumbs&&!w.thumbs.swiper&&(j=!0),r.includes("controller")&&i.controller&&i.controller.control&&w.controller&&!w.controller.control&&(Z=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||p)&&(w.pagination||!1===w.pagination)&&z&&!z.el&&(F=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||h)&&(w.scrollbar||!1===w.scrollbar)&&D&&!D.el&&(q=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||u)&&(i.navigation.nextEl||o)&&(w.navigation||!1===w.navigation)&&E&&!E.prevEl&&!E.nextEl&&(ee=!0);const Ve=me=>{e[me]&&(e[me].destroy(),"navigation"===me?(e.isElement&&(e[me].prevEl.remove(),e[me].nextEl.remove()),w[me].prevEl=void 0,w[me].nextEl=void 0,e[me].prevEl=void 0,e[me].nextEl=void 0):(e.isElement&&e[me].el.remove(),w[me].el=void 0,e[me].el=void 0))};r.includes("loop")&&e.isElement&&(w.loop&&!i.loop?ve=!0:!w.loop&&i.loop?Ee=!0:Te=!0),y.forEach(me=>{if(u0(w[me])&&u0(i[me]))zu(w[me],i[me]),("navigation"===me||"pagination"===me||"scrollbar"===me)&&"enabled"in i[me]&&!i[me].enabled&&Ve(me);else{const e1=i[me];!0!==e1&&!1!==e1||"navigation"!==me&&"pagination"!==me&&"scrollbar"!==me?w[me]=i[me]:!1===e1&&Ve(me)}}),y.includes("controller")&&!Z&&e.controller&&e.controller.control&&w.controller&&w.controller.control&&(e.controller.control=w.controller.control),r.includes("children")&&n&&k&&w.virtual.enabled&&(k.slides=n,k.update(!0)),r.includes("children")&&n&&w.loop&&(Te=!0),j&&B.init()&&B.update(!0),Z&&(e.controller.control=w.controller.control),F&&(e.isElement&&(!p||"string"==typeof p)&&(p=document.createElement("div"),p.classList.add("swiper-pagination"),p.part.add("pagination"),e.el.appendChild(p)),p&&(w.pagination.el=p),z.init(),z.render(),z.update()),q&&(e.isElement&&(!h||"string"==typeof h)&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(w.scrollbar.el=h),D.init(),D.updateSize(),D.setTranslate()),ee&&(e.isElement&&((!o||"string"==typeof o)&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!u||"string"==typeof u)&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),o&&(w.navigation.nextEl=o),u&&(w.navigation.prevEl=u),E.init(),E.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(ve||Te)&&e.loopDestroy(),(Ee||Te)&&e.loopCreate(),e.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[Su(e)],..."navigation"===e&&r[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===e&&r[e]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===e&&r[e]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(e,n,i){this.initialized&&("true"===n&&null===i&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){return wu.filter(n=>n.includes("_")).map(n=>n.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}wu.forEach(t=>{"init"!==t&&(t=t.replace("_",""),Object.defineProperty(TP.prototype,t,{configurable:!0,get(){return(this.passedParams||{})[t]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[t]=e,this.initialized&&this.updateSwiperOnPropChange(t,e)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=t=>{wu.push(...t)});let WMe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=f1({type:t}),t.\u0275inj=ai({imports:[Pb]}),e})();typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",TP),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class $Me extends HP{constructor(){super(),this.attachShadow({mode:"open"})}render(){const e=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(EP(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),e){const n=document.createElement("div");n.classList.add("swiper-lazy-preloader"),n.part.add("preloader"),this.shadowRoot.appendChild(n)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let YMe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=f1({type:t,bootstrap:[hve]}),t.\u0275inj=ai({imports:[Qb,G5e,o_e,kbe,WMe]}),e})();I$().bootstrapModule(YMe).catch(t=>console.error(t))},624:function(h0){h0.exports=function(){"use strict";var W4,Y4,It;function Js(_,h2){if(W4)if(Y4){var Re="var sharedChunk = {}; ("+W4+")(sharedChunk); ("+Y4+")(sharedChunk);",Ai={};W4(Ai),It=h2(Ai),typeof window<"u"&&(It.workerUrl=window.URL.createObjectURL(new Blob([Re],{type:"text/javascript"})))}else Y4=h2;else W4=h2}return Js(0,function(_){function h2(c,a,l,d){return new(l||(l=Promise))(function(g,b){function M(P){try{V(d.next(P))}catch(I){b(I)}}function S(P){try{V(d.throw(P))}catch(I){b(I)}}function V(P){var I;P.done?g(P.value):(I=P.value,I instanceof l?I:new l(function(R){R(I)})).then(M,S)}V((d=d.apply(c,a||[])).next())})}function Re(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}"function"==typeof SuppressedError&&SuppressedError;var Ai=Ln;function Ln(c,a){this.x=c,this.y=a}Ln.prototype={clone:function(){return new Ln(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,a){return this.clone()._rotateAround(c,a)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var a=c.x-this.x,l=c.y-this.y;return a*a+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,a){return Math.atan2(this.x*a-this.y*c,this.x*c+this.y*a)},_matMult:function(c){var a=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=a,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var a=Math.cos(c),l=Math.sin(c),d=l*this.x+a*this.y;return this.x=a*this.x-l*this.y,this.y=d,this},_rotateAround:function(c,a){var l=Math.cos(c),d=Math.sin(c),g=a.y+d*(this.x-a.x)+l*(this.y-a.y);return this.x=a.x+l*(this.x-a.x)-d*(this.y-a.y),this.y=g,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Ln.convert=function(c){return c instanceof Ln?c:Array.isArray(c)?new Ln(c[0],c[1]):c};var T1=Re(Ai),Cr=fa;function fa(c,a,l,d){this.cx=3*c,this.bx=3*(l-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(d-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=a,this.p2x=l,this.p2y=d}fa.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,a){if(void 0===a&&(a=1e-6),c<0)return 0;if(c>1)return 1;for(var l=c,d=0;d<8;d++){var g=this.sampleCurveX(l)-c;if(Math.abs(g)<a)return l;var b=this.sampleCurveDerivativeX(l);if(Math.abs(b)<1e-6)break;l-=g/b}var M=0,S=1;for(l=c,d=0;d<20&&(g=this.sampleCurveX(l),!(Math.abs(g-c)<a));d++)c>g?M=l:S=l,l=.5*(S-M)+M;return l},solve:function(c,a){return this.sampleCurveY(this.solveCurveX(c,a))}};var Xr=Re(Cr);let Hn,H2;function X4(){return null==Hn&&(Hn=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),Hn}function tr(){if(null==H2&&(H2=!1,X4())){const a=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(a){for(let d=0;d<25;d++){const g=4*d;a.fillStyle=`rgb(${g},${g+1},${g+2})`,a.fillRect(d%5,Math.floor(d/5),1,1)}const l=a.getImageData(0,0,5,5).data;for(let d=0;d<100;d++)if(d%4!=3&&l[d]!==d){H2=!0;break}}}return H2||!1}function Ii(c,a,l,d){const g=new Xr(c,a,l,d);return function(b){return g.solve(b)}}const br=Ii(.25,.1,.25,1);function nr(c,a,l){return Math.min(l,Math.max(a,c))}function x3(c,a,l){const d=l-a,g=((c-a)%d+d)%d+a;return g===a?l:g}function en(c,...a){for(const l of a)for(const d in l)c[d]=l[d];return c}let ha=1;function Qt(c,a,l){const d={};for(const g in c)d[g]=a.call(l||this,c[g],g,c);return d}function ir(c,a,l){const d={};for(const g in c)a.call(l||this,c[g],g,c)&&(d[g]=c[g]);return d}function jn(c){return Array.isArray(c)?c.map(jn):"object"==typeof c&&c?Qt(c,jn):c}const Kr={};function tn(c){Kr[c]||(typeof console<"u"&&console.warn(c),Kr[c]=!0)}function ei(c,a,l){return(l.y-c.y)*(a.x-c.x)>(a.y-c.y)*(l.x-c.x)}function ki(c){let a=0;for(let l,d,g=0,b=c.length,M=b-1;g<b;M=g++)l=c[g],d=c[M],a+=(d.x-l.x)*(l.y+d.y);return a}function k2(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let M3=null;function da(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const d2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function pa(c,a,l,d,g){return h2(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const b=new VideoFrame(c,{timestamp:0});try{const M=b?.format;if(!M||!M.startsWith("BGR")&&!M.startsWith("RGB"))throw new Error(`Unrecognized format ${M}`);const S=M.startsWith("BGR"),V=new Uint8ClampedArray(d*g*4);if(yield b.copyTo(V,function(P,I,R,U,Y){const X=4*Math.max(-I,0),J=(Math.max(0,R)-R)*U*4+X,oe=4*U,ue=Math.max(0,I),be=Math.max(0,R);return{rect:{x:ue,y:be,width:Math.min(P.width,I+U)-ue,height:Math.min(P.height,R+Y)-be},layout:[{offset:J,stride:oe}]}}(c,a,l,d,g)),S)for(let P=0;P<V.length;P+=4){const I=V[P];V[P]=V[P+2],V[P+2]=I}return V}finally{b.close()}})}let rr,Rt,Un,nn;const w3={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(c){const a=requestAnimationFrame(c);return{cancel:()=>cancelAnimationFrame(a)}},getImageData(c,a=0){return this.getImageCanvasContext(c).getImageData(-a,-a,c.width+2*a,c.height+2*a)},getImageCanvasContext(c){const a=window.document.createElement("canvas"),l=a.getContext("2d",{willReadFrequently:!0});if(!l)throw new Error("failed to create canvas 2d context");return a.width=c.width,a.height=c.height,l.drawImage(c,0,0,c.width,c.height),l},resolveURL:c=>(Un||(Un=document.createElement("a")),Un.href=c,Un.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==nn&&(nn=matchMedia("(prefers-reduced-motion: reduce)")),nn.matches)}},z3={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class Ft extends Error{constructor(a,l,d,g){super(`AJAXError: ${l} (${a}): ${d}`),this.status=a,this.statusText=l,this.url=d,this.body=g}}const Vt=k2()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,yi=c=>z3.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))];function Lt(c,a){const l=new AbortController,d=new Request(c.url,{method:c.method||"GET",body:c.body,credentials:c.credentials,headers:c.headers,cache:c.cache,referrer:Vt(),signal:l.signal});let g=!1,b=!1;return"json"===c.type&&d.headers.set("Accept","application/json"),b||fetch(d).then(M=>{return M.ok?(S=M,void("arrayBuffer"===c.type||"image"===c.type?S.arrayBuffer():"json"===c.type?S.json():S.text()).then(V=>{b||(g=!0,a(null,V,S.headers.get("Cache-Control"),S.headers.get("Expires")))}).catch(V=>{b||a(new Error(V.message))})):M.blob().then(S=>a(new Ft(M.status,M.statusText,c.url,S)));var S}).catch(M=>{20!==M.code&&a(new Error(M.message))}),{cancel:()=>{b=!0,g||l.abort()}}}const ar=function(c,a){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){if(k2()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,a);if(!k2())return(yi(c.url)||Lt)(c,a)}if(!(/^file:/.test(l=c.url)||/^file:/.test(Vt())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Lt(c,a);if(k2()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,a,void 0,!0)}var l;return function(d,g){const b=new XMLHttpRequest;b.open(d.method||"GET",d.url,!0),"arrayBuffer"!==d.type&&"image"!==d.type||(b.responseType="arraybuffer");for(const M in d.headers)b.setRequestHeader(M,d.headers[M]);return"json"===d.type&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials="include"===d.credentials,b.onerror=()=>{g(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||0===b.status)&&null!==b.response){let M=b.response;if("json"===d.type)try{M=JSON.parse(b.response)}catch(S){return g(S)}g(null,M,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else{const M=new Blob([b.response],{type:b.getResponseHeader("Content-Type")});g(new Ft(b.status,b.statusText,d.url,M))}},b.send(d.body),{cancel:()=>b.abort()}}(c,a)},Qa=function(c,a){return ar(en(c,{type:"arrayBuffer"}),a)};function Ni(c){if(!c||c.indexOf("://")<=0||0===c.indexOf("data:image/")||0===c.indexOf("blob:"))return!0;const a=new URL(c),l=window.location;return a.protocol===l.protocol&&a.host===l.host}function ma(c,a,l){l[c]&&-1!==l[c].indexOf(a)||(l[c]=l[c]||[],l[c].push(a))}function S3(c,a,l){if(l&&l[c]){const d=l[c].indexOf(a);-1!==d&&l[c].splice(d,1)}}class Qr{constructor(a,l={}){en(this,l),this.type=a}}class L3 extends Qr{constructor(a,l={}){super("error",en({error:a},l))}}class ga{on(a,l){return this._listeners=this._listeners||{},ma(a,l,this._listeners),this}off(a,l){return S3(a,l,this._listeners),S3(a,l,this._oneTimeListeners),this}once(a,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},ma(a,l,this._oneTimeListeners),this):new Promise(d=>this.once(a,d))}fire(a,l){"string"==typeof a&&(a=new Qr(a,l||{}));const d=a.type;if(this.listens(d)){a.target=this;const g=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const S of g)S.call(this,a);const b=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const S of b)S3(d,S,this._oneTimeListeners),S.call(this,a);const M=this._eventedParent;M&&(en(a,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),M.fire(a))}else a instanceof L3&&console.error(a.error);return this}listens(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)}setEventedParent(a,l){return this._eventedParent=a,this._eventedParentData=l,this}}var Fe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ti=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function _i(c,a){const l={};for(const d in c)"ref"!==d&&(l[d]=c[d]);return ti.forEach(d=>{d in a&&(l[d]=a[d])}),l}function Et(c,a){if(Array.isArray(c)){if(!Array.isArray(a)||c.length!==a.length)return!1;for(let l=0;l<c.length;l++)if(!Et(c[l],a[l]))return!1;return!0}if("object"==typeof c&&null!==c&&null!==a){if("object"!=typeof a||Object.keys(c).length!==Object.keys(a).length)return!1;for(const l in c)if(!Et(c[l],a[l]))return!1;return!0}return c===a}const vt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ci(c,a,l){l.push({command:vt.addSource,args:[c,a[c]]})}function va(c,a,l){a.push({command:vt.removeSource,args:[c]}),l[c]=!0}function Oi(c,a,l,d){va(c,l,d),Ci(c,a,l)}function Ja(c,a,l){let d;for(d in c[l])if(Object.prototype.hasOwnProperty.call(c[l],d)&&"data"!==d&&!Et(c[l][d],a[l][d]))return!1;for(d in a[l])if(Object.prototype.hasOwnProperty.call(a[l],d)&&"data"!==d&&!Et(c[l][d],a[l][d]))return!1;return!0}function ya(c,a,l,d,g,b){let M;for(M in a=a||{},c=c||{})Object.prototype.hasOwnProperty.call(c,M)&&(Et(c[M],a[M])||l.push({command:b,args:[d,M,a[M],g]}));for(M in a)Object.prototype.hasOwnProperty.call(a,M)&&!Object.prototype.hasOwnProperty.call(c,M)&&(Et(c[M],a[M])||l.push({command:b,args:[d,M,a[M],g]}))}function Jr(c){return c.id}function H3(c,a){return c[a.id]=a,c}class t1{constructor(a,l,d,g){this.message=(a?`${a}: `:"")+d,g&&(this.identifier=g),null!=l&&l.__line__&&(this.line=l.__line__)}}function Ri(c,...a){for(const l of a)for(const d in l)c[d]=l[d];return c}class s2 extends Error{constructor(a,l){super(l),this.message=l,this.key=a}}class e3{constructor(a,l=[]){this.parent=a,this.bindings={};for(const[d,g]of l)this.bindings[d]=g}concat(a){return new e3(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const xr={kind:"null"},o1={kind:"number"},nt={kind:"string"},U1={kind:"boolean"},Vn={kind:"color"},sr={kind:"object"},K1={kind:"value"},Mr={kind:"collator"},re={kind:"formatted"},$={kind:"padding"},G={kind:"resolvedImage"},K={kind:"variableAnchorOffsetCollection"};function se(c,a){return{kind:"array",itemType:c,N:a}}function ce(c){if("array"===c.kind){const a=ce(c.itemType);return"number"==typeof c.N?`array<${a}, ${c.N}>`:"value"===c.itemType.kind?"array":`array<${a}>`}return c.kind}const we=[xr,o1,nt,U1,Vn,re,sr,se(K1),$,G,K];function ge(c,a){if("error"===a.kind)return null;if("array"===c.kind){if("array"===a.kind&&(0===a.N&&"value"===a.itemType.kind||!ge(c.itemType,a.itemType))&&("number"!=typeof c.N||c.N===a.N))return null}else{if(c.kind===a.kind)return null;if("value"===c.kind)for(const l of we)if(!ge(l,a))return null}return`Expected ${ce(c)} but found ${ce(a)} instead.`}function fe(c,a){return a.some(l=>l.kind===c.kind)}function _e(c,a){return a.some(l=>"null"===l?null===c:"array"===l?Array.isArray(c):"object"===l?c&&!Array.isArray(c)&&"object"==typeof c:l===typeof c)}function $e(c,a){return"array"===c.kind&&"array"===a.kind?c.itemType.kind===a.itemType.kind&&"number"==typeof c.N:c.kind===a.kind}const g1=4/29,R1=6/29,C1=3*R1*R1,P1=R1*R1*R1,q1=Math.PI/180,Ct=180/Math.PI;function Tt(c){return(c%=360)<0&&(c+=360),c}function pt([c,a,l,d]){let g,b;const M=dn((.2225045*(c=J1(c))+.7168786*(a=J1(a))+.0606169*(l=J1(l)))/1);c===a&&a===l?g=b=M:(g=dn((.4360747*c+.3850649*a+.1430804*l)/.96422),b=dn((.0139322*c+.0971045*a+.7141733*l)/.82521));const S=116*M-16;return[S<0?0:S,500*(g-M),200*(M-b),d]}function J1(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function dn(c){return c>P1?Math.pow(c,1/3):c/C1+g1}function it([c,a,l,d]){let g=(c+16)/116,b=isNaN(a)?g:g+a/500,M=isNaN(l)?g:g-l/200;return g=1*Bt(g),b=.96422*Bt(b),M=.82521*Bt(M),[Gt(3.1338561*b-1.6168667*g-.4906146*M),Gt(-.9787684*b+1.9161415*g+.033454*M),Gt(.0719453*b-.2289914*g+1.4052427*M),d]}function Gt(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function Bt(c){return c>R1?c*c*c:C1*(c-g1)}function Fi(c){return parseInt(c.padEnd(2,c),16)/255}function yc(c,a){return _a(a?c/100:c,0,1)}function _a(c,a,l){return Math.min(Math.max(a,c),l)}function t3(c){return!c.some(Number.isNaN)}const p0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class yt{constructor(a,l,d,g=1,b=!0){this.r=a,this.g=l,this.b=d,this.a=g,b||(this.r*=g,this.g*=g,this.b*=g,g||this.overwriteGetter("rgb",[a,l,d,g]))}static parse(a){if(a instanceof yt)return a;if("string"!=typeof a)return;const l=function(d){if("transparent"===(d=d.toLowerCase().trim()))return[0,0,0,0];const g=p0[d];if(g){const[M,S,V]=g;return[M/255,S/255,V/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){const M=d.length<6?1:2;let S=1;return[Fi(d.slice(S,S+=M)),Fi(d.slice(S,S+=M)),Fi(d.slice(S,S+=M)),Fi(d.slice(S,S+M)||"ff")]}if(d.startsWith("rgb")){const M=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(M){const[S,V,P,I,R,U,Y,X,J,oe,ue,be]=M,de=[I||" ",Y||" ",oe].join("");if("  "===de||"  /"===de||",,"===de||",,,"===de){const ze=[P,U,J].join(""),Ae="%%%"===ze?100:""===ze?255:0;if(Ae){const Ue=[_a(+V/Ae,0,1),_a(+R/Ae,0,1),_a(+X/Ae,0,1),ue?yc(+ue,be):1];if(t3(Ue))return Ue}}return}}const b=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(b){const[M,S,V,P,I,R,U,Y,X]=b,J=[V||" ",I||" ",U].join("");if("  "===J||"  /"===J||",,"===J||",,,"===J){const oe=[+S,_a(+P,0,100),_a(+R,0,100),Y?yc(+Y,X):1];if(t3(oe))return function([ue,be,de,ze]){function Ae(Ue){const h1=(Ue+ue/30)%12,y1=be*Math.min(de,1-de);return de-y1*Math.max(-1,Math.min(h1-3,9-h1,1))}return ue=Tt(ue),be/=100,de/=100,[Ae(0),Ae(8),Ae(4),ze]}(oe)}}}(a);return l?new yt(...l,!1):void 0}get rgb(){const{r:a,g:l,b:d,a:g}=this,b=g||1/0;return this.overwriteGetter("rgb",[a/b,l/b,d/b,g])}get hcl(){return this.overwriteGetter("hcl",function(a){const[l,d,g,b]=pt(a),M=Math.sqrt(d*d+g*g);return[Math.round(1e4*M)?Tt(Math.atan2(g,d)*Ct):NaN,M,l,b]}(this.rgb))}get lab(){return this.overwriteGetter("lab",pt(this.rgb))}overwriteGetter(a,l){return Object.defineProperty(this,a,{value:l}),l}toString(){const[a,l,d,g]=this.rgb;return`rgba(${[a,l,d].map(b=>Math.round(255*b)).join(",")},${g})`}}yt.black=new yt(0,0,0,1),yt.white=new yt(1,1,1,1),yt.transparent=new yt(0,0,0,0),yt.red=new yt(1,0,0,1);class eo{constructor(a,l,d){this.sensitivity=a?l?"variant":"case":l?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,l){return this.collator.compare(a,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class e4{constructor(a,l,d,g,b){this.text=a,this.image=l,this.scale=d,this.fontStack=g,this.textColor=b}}class rn{constructor(a){this.sections=a}static fromString(a){return new rn([new e4(a,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(a=>0!==a.text.length||a.image&&0!==a.image.name.length)}static factory(a){return a instanceof rn?a:rn.fromString(a)}toString(){return 0===this.sections.length?"":this.sections.map(a=>a.text).join("")}}class ni{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof ni)return a;if("number"==typeof a)return new ni([a,a,a,a]);if(Array.isArray(a)&&!(a.length<1||a.length>4)){for(const l of a)if("number"!=typeof l)return;switch(a.length){case 1:a=[a[0],a[0],a[0],a[0]];break;case 2:a=[a[0],a[1],a[0],a[1]];break;case 3:a=[a[0],a[1],a[2],a[1]]}return new ni(a)}}toString(){return JSON.stringify(this.values)}}const m0=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class bi{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof bi)return a;if(Array.isArray(a)&&!(a.length<1)&&a.length%2==0){for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if("string"!=typeof d||!m0.has(d)||!Array.isArray(g)||2!==g.length||"number"!=typeof g[0]||"number"!=typeof g[1])return}return new bi(a)}}toString(){return JSON.stringify(this.values)}}class an{constructor(a){this.name=a.name,this.available=a.available}toString(){return this.name}static fromString(a){return a?new an({name:a,available:!1}):null}}function t4(c,a,l,d){return"number"==typeof c&&c>=0&&c<=255&&"number"==typeof a&&a>=0&&a<=255&&"number"==typeof l&&l>=0&&l<=255?void 0===d||"number"==typeof d&&d>=0&&d<=1?null:`Invalid rgba value [${[c,a,l,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof d?[c,a,l,d]:[c,a,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ca(c){if(null===c||"string"==typeof c||"boolean"==typeof c||"number"==typeof c||c instanceof yt||c instanceof eo||c instanceof rn||c instanceof ni||c instanceof bi||c instanceof an)return!0;if(Array.isArray(c)){for(const a of c)if(!Ca(a))return!1;return!0}if("object"==typeof c){for(const a in c)if(!Ca(c[a]))return!1;return!0}return!1}function Jt(c){if(null===c)return xr;if("string"==typeof c)return nt;if("boolean"==typeof c)return U1;if("number"==typeof c)return o1;if(c instanceof yt)return Vn;if(c instanceof eo)return Mr;if(c instanceof rn)return re;if(c instanceof ni)return $;if(c instanceof bi)return K;if(c instanceof an)return G;if(Array.isArray(c)){const a=c.length;let l;for(const d of c){const g=Jt(d);if(l){if(l===g)continue;l=K1;break}l=g}return se(l||K1,a)}return sr}function G1(c){const a=typeof c;return null===c?"":"string"===a||"number"===a||"boolean"===a?String(c):c instanceof yt||c instanceof rn||c instanceof ni||c instanceof bi||c instanceof an?c.toString():JSON.stringify(c)}class V3{constructor(a,l){this.type=a,this.value=l}static parse(a,l){if(2!==a.length)return l.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!Ca(a[1]))return l.error("invalid value");const d=a[1];let g=Jt(d);const b=l.expectedType;return"array"!==g.kind||0!==g.N||!b||"array"!==b.kind||"number"==typeof b.N&&0!==b.N||(g=b),new V3(g,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class _t{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const Z1={string:nt,number:o1,boolean:U1,object:sr};class ii{constructor(a,l){this.type=a,this.args=l}static parse(a,l){if(a.length<2)return l.error("Expected at least one argument.");let d,g=1;const b=a[0];if("array"===b){let S,V;if(a.length>2){const P=a[1];if("string"!=typeof P||!(P in Z1)||"object"===P)return l.error('The item type argument of "array" must be one of string, number, boolean',1);S=Z1[P],g++}else S=K1;if(a.length>3){if(null!==a[2]&&("number"!=typeof a[2]||a[2]<0||a[2]!==Math.floor(a[2])))return l.error('The length argument to "array" must be a positive integer literal',2);V=a[2],g++}d=se(S,V)}else{if(!Z1[b])throw new Error(`Types doesn't contain name = ${b}`);d=Z1[b]}const M=[];for(;g<a.length;g++){const S=l.parse(a[g],g,K1);if(!S)return null;M.push(S)}return new ii(d,M)}evaluate(a){for(let l=0;l<this.args.length;l++){const d=this.args[l].evaluate(a);if(!ge(this.type,Jt(d)))return d;if(l===this.args.length-1)throw new _t(`Expected value to be of type ${ce(this.type)}, but found ${ce(Jt(d))} instead.`)}throw new Error}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const n4={"to-boolean":U1,"to-color":Vn,"to-number":o1,"to-string":nt};class sn{constructor(a,l){this.type=a,this.args=l}static parse(a,l){if(a.length<2)return l.error("Expected at least one argument.");const d=a[0];if(!n4[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if(("to-boolean"===d||"to-string"===d)&&2!==a.length)return l.error("Expected one argument.");const g=n4[d],b=[];for(let M=1;M<a.length;M++){const S=l.parse(a[M],M,K1);if(!S)return null;b.push(S)}return new sn(g,b)}evaluate(a){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(a);case"color":{let l,d;for(const g of this.args){if(l=g.evaluate(a),d=null,l instanceof yt)return l;if("string"==typeof l){const b=a.parseColor(l);if(b)return b}else if(Array.isArray(l)&&(d=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:t4(l[0],l[1],l[2],l[3]),!d))return new yt(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new _t(d||`Could not parse color from value '${"string"==typeof l?l:JSON.stringify(l)}'`)}case"padding":{let l;for(const d of this.args){l=d.evaluate(a);const g=ni.parse(l);if(g)return g}throw new _t(`Could not parse padding from value '${"string"==typeof l?l:JSON.stringify(l)}'`)}case"variableAnchorOffsetCollection":{let l;for(const d of this.args){l=d.evaluate(a);const g=bi.parse(l);if(g)return g}throw new _t(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof l?l:JSON.stringify(l)}'`)}case"number":{let l=null;for(const d of this.args){if(l=d.evaluate(a),null===l)return 0;const g=Number(l);if(!isNaN(g))return g}throw new _t(`Could not convert ${JSON.stringify(l)} to number.`)}case"formatted":return rn.fromString(G1(this.args[0].evaluate(a)));case"resolvedImage":return an.fromString(G1(this.args[0].evaluate(a)));default:return G1(this.args[0].evaluate(a))}}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const _c=["Unknown","Point","LineString","Polygon"];class to{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?_c[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(a){let l=this._parseColorCache[a];return l||(l=this._parseColorCache[a]=yt.parse(a)),l}}class xt{constructor(a,l,d=[],g,b=new e3,M=[]){this.registry=a,this.path=d,this.key=d.map(S=>`[${S}]`).join(""),this.scope=b,this.errors=M,this.expectedType=g,this._isConstant=l}parse(a,l,d,g,b={}){return l?this.concat(l,d,g)._parse(a,b):this._parse(a,b)}_parse(a,l){function d(g,b,M){return"assert"===M?new ii(b,[g]):"coerce"===M?new sn(b,[g]):g}if(null!==a&&"string"!=typeof a&&"boolean"!=typeof a&&"number"!=typeof a||(a=["literal",a]),Array.isArray(a)){if(0===a.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=a[0];if("string"!=typeof g)return this.error(`Expression name must be a string, but found ${typeof g} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const b=this.registry[g];if(b){let M=b.parse(a,this);if(!M)return null;if(this.expectedType){const S=this.expectedType,V=M.type;if("string"!==S.kind&&"number"!==S.kind&&"boolean"!==S.kind&&"object"!==S.kind&&"array"!==S.kind||"value"!==V.kind)if("color"!==S.kind&&"formatted"!==S.kind&&"resolvedImage"!==S.kind||"value"!==V.kind&&"string"!==V.kind)if("padding"!==S.kind||"value"!==V.kind&&"number"!==V.kind&&"array"!==V.kind)if("variableAnchorOffsetCollection"!==S.kind||"value"!==V.kind&&"array"!==V.kind){if(this.checkSubtype(S,V))return null}else M=d(M,S,l.typeAnnotation||"coerce");else M=d(M,S,l.typeAnnotation||"coerce");else M=d(M,S,l.typeAnnotation||"coerce");else M=d(M,S,l.typeAnnotation||"assert")}if(!(M instanceof V3)&&"resolvedImage"!==M.type.kind&&this._isConstant(M)){const S=new to;try{M=new V3(M.type,M.evaluate(S))}catch(V){return this.error(V.message),null}}return M}return this.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===a?"'undefined' value invalid. Use null instead.":"object"==typeof a?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,l,d){const g="number"==typeof a?this.path.concat(a):this.path,b=d?this.scope.concat(d):this.scope;return new xt(this.registry,this._isConstant,g,l||null,b,this.errors)}error(a,...l){const d=`${this.key}${l.map(g=>`[${g}]`).join("")}`;this.errors.push(new s2(d,a))}checkSubtype(a,l){const d=ge(a,l);return d&&this.error(d),d}}class E3{constructor(a,l,d){this.type=Mr,this.locale=d,this.caseSensitive=a,this.diacriticSensitive=l}static parse(a,l){if(2!==a.length)return l.error("Expected one argument.");const d=a[1];if("object"!=typeof d||Array.isArray(d))return l.error("Collator options argument must be an object.");const g=l.parse(void 0!==d["case-sensitive"]&&d["case-sensitive"],1,U1);if(!g)return null;const b=l.parse(void 0!==d["diacritic-sensitive"]&&d["diacritic-sensitive"],1,U1);if(!b)return null;let M=null;return d.locale&&(M=l.parse(d.locale,1,nt),!M)?null:new E3(g,b,M)}evaluate(a){return new eo(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}}const $t=8192;function i4(c,a){c[0]=Math.min(c[0],a[0]),c[1]=Math.min(c[1],a[1]),c[2]=Math.max(c[2],a[0]),c[3]=Math.max(c[3],a[1])}function r4(c,a){return!(c[0]<=a[0]||c[2]>=a[2]||c[1]<=a[1]||c[3]>=a[3])}function K4(c,a){const l=(180+c[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,g=Math.pow(2,a.z);return[Math.round(l*g*$t),Math.round(d*g*$t)]}function Y1(c,a,l){const d=c[0]-a[0],g=c[1]-a[1],b=c[0]-l[0],M=c[1]-l[1];return d*M-b*g==0&&d*b<=0&&g*M<=0}function a4(c,a){let l=!1;for(let M=0,S=a.length;M<S;M++){const V=a[M];for(let P=0,I=V.length;P<I-1;P++){if(Y1(c,V[P],V[P+1]))return!1;(g=V[P])[1]>(d=c)[1]!=(b=V[P+1])[1]>d[1]&&d[0]<(b[0]-g[0])*(d[1]-g[1])/(b[1]-g[1])+g[0]&&(l=!l)}}var d,g,b;return l}function s4(c,a){for(let l=0;l<a.length;l++)if(a4(c,a[l]))return!0;return!1}function g0(c,a,l,d){const g=d[0]-l[0],b=d[1]-l[1],M=(c[0]-l[0])*b-g*(c[1]-l[1]),S=(a[0]-l[0])*b-g*(a[1]-l[1]);return M>0&&S<0||M<0&&S>0}function Cc(c,a,l){for(const P of l)for(let I=0;I<P.length-1;++I)if((S=[(M=P[I+1])[0]-(b=P[I])[0],M[1]-b[1]])[0]*(V=[(g=a)[0]-(d=c)[0],g[1]-d[1]])[1]-S[1]*V[0]!=0&&g0(d,g,b,M)&&g0(b,M,d,g))return!0;var d,g,b,M,S,V;return!1}function qe(c,a){for(let l=0;l<c.length;++l)if(!a4(c[l],a))return!1;for(let l=0;l<c.length-1;++l)if(Cc(c[l],c[l+1],a))return!1;return!0}function o4(c,a){for(let l=0;l<a.length;l++)if(qe(c,a[l]))return!0;return!1}function W1(c,a,l){const d=[];for(let g=0;g<c.length;g++){const b=[];for(let M=0;M<c[g].length;M++){const S=K4(c[g][M],l);i4(a,S),b.push(S)}d.push(b)}return d}function wt(c,a,l){const d=[];for(let g=0;g<c.length;g++){const b=W1(c[g],a,l);d.push(b)}return d}function bc(c,a,l,d){if(c[0]<l[0]||c[0]>l[2]){const g=.5*d;let b=c[0]-l[0]>g?-d:l[0]-c[0]>g?d:0;0===b&&(b=c[0]-l[2]>g?-d:l[2]-c[0]>g?d:0),c[0]+=b}i4(a,c)}function xc(c,a,l,d){const g=Math.pow(2,d.z)*$t,b=[d.x*$t,d.y*$t],M=[];for(const S of c)for(const V of S){const P=[V.x+b[0],V.y+b[1]];bc(P,a,l,g),M.push(P)}return M}function no(c,a,l,d){const g=Math.pow(2,d.z)*$t,b=[d.x*$t,d.y*$t],M=[];for(const V of c){const P=[];for(const I of V){const R=[I.x+b[0],I.y+b[1]];i4(a,R),P.push(R)}M.push(P)}if(a[2]-a[0]<=g/2){(S=a)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const V of M)for(const P of V)bc(P,a,l,g)}var S;return M}class wr{constructor(a,l){this.type=U1,this.geojson=a,this.geometries=l}static parse(a,l){if(2!==a.length)return l.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(Ca(a[1])){const d=a[1];if("FeatureCollection"===d.type)for(let g=0;g<d.features.length;++g){const b=d.features[g].geometry.type;if("Polygon"===b||"MultiPolygon"===b)return new wr(d,d.features[g].geometry)}else if("Feature"===d.type){const g=d.geometry.type;if("Polygon"===g||"MultiPolygon"===g)return new wr(d,d.geometry)}else if("Polygon"===d.type||"MultiPolygon"===d.type)return new wr(d,d)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(null!=a.geometry()&&null!=a.canonicalID()){if("Point"===a.geometryType())return function(l,d){const g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],M=l.canonicalID();if("Polygon"===d.type){const S=W1(d.coordinates,b,M),V=xc(l.geometry(),g,b,M);if(!r4(g,b))return!1;for(const P of V)if(!a4(P,S))return!1}if("MultiPolygon"===d.type){const S=wt(d.coordinates,b,M),V=xc(l.geometry(),g,b,M);if(!r4(g,b))return!1;for(const P of V)if(!s4(P,S))return!1}return!0}(a,this.geometries);if("LineString"===a.geometryType())return function(l,d){const g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],M=l.canonicalID();if("Polygon"===d.type){const S=W1(d.coordinates,b,M),V=no(l.geometry(),g,b,M);if(!r4(g,b))return!1;for(const P of V)if(!qe(P,S))return!1}if("MultiPolygon"===d.type){const S=wt(d.coordinates,b,M),V=no(l.geometry(),g,b,M);if(!r4(g,b))return!1;for(const P of V)if(!o4(P,S))return!1}return!0}(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class pn{constructor(a,l){this.type=l.type,this.name=a,this.boundExpression=l}static parse(a,l){if(2!==a.length||"string"!=typeof a[1])return l.error("'var' expression requires exactly one string literal argument.");const d=a[1];return l.scope.has(d)?new pn(d,l.scope.get(d)):l.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}}class Bi{constructor(a,l,d,g){this.name=a,this.type=l,this._evaluate=d,this.args=g}evaluate(a){return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}static parse(a,l){const d=a[0],g=Bi.definitions[d];if(!g)return l.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(g)?g[0]:g.type,M=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,S=M.filter(([P])=>!Array.isArray(P)||P.length===a.length-1);let V=null;for(const[P,I]of S){V=new xt(l.registry,Q4,l.path,null,l.scope);const R=[];let U=!1;for(let Y=1;Y<a.length;Y++){const X=a[Y],J=Array.isArray(P)?P[Y-1]:P.type,oe=V.parse(X,1+R.length,J);if(!oe){U=!0;break}R.push(oe)}if(!U)if(Array.isArray(P)&&P.length!==R.length)V.error(`Expected ${P.length} arguments, but found ${R.length} instead.`);else{for(let Y=0;Y<R.length;Y++){const X=Array.isArray(P)?P[Y]:P.type,J=R[Y];V.concat(Y+1).checkSubtype(X,J.type)}if(0===V.errors.length)return new Bi(d,b,I,R)}}if(1===S.length)l.errors.push(...V.errors);else{const P=(S.length?S:M).map(([R])=>{return U=R,Array.isArray(U)?`(${U.map(ce).join(", ")})`:`(${ce(U.type)}...)`;var U}).join(" | "),I=[];for(let R=1;R<a.length;R++){const U=l.parse(a[R],1+I.length);if(!U)return null;I.push(ce(U.type))}l.error(`Expected arguments of type ${P}, but found (${I.join(", ")}) instead.`)}return null}static register(a,l){Bi.definitions=l;for(const d in l)a[d]=Bi}}function Q4(c){if(c instanceof pn)return Q4(c.boundExpression);if(c instanceof Bi&&"error"===c.name||c instanceof E3||c instanceof wr)return!1;const a=c instanceof sn||c instanceof ii;let l=!0;return c.eachChild(d=>{l=a?l&&Q4(d):l&&d instanceof V3}),!!l&&io(c)&&ro(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function io(c){if(c instanceof Bi&&("get"===c.name&&1===c.args.length||"feature-state"===c.name||"has"===c.name&&1===c.args.length||"properties"===c.name||"geometry-type"===c.name||"id"===c.name||/^filter-/.test(c.name))||c instanceof wr)return!1;let a=!0;return c.eachChild(l=>{a&&!io(l)&&(a=!1)}),a}function $i(c){if(c instanceof Bi&&"feature-state"===c.name)return!1;let a=!0;return c.eachChild(l=>{a&&!$i(l)&&(a=!1)}),a}function ro(c,a){if(c instanceof Bi&&a.indexOf(c.name)>=0)return!1;let l=!0;return c.eachChild(d=>{l&&!ro(d,a)&&(l=!1)}),l}function c4(c,a){const l=c.length-1;let d,g,b=0,M=l,S=0;for(;b<=M;)if(S=Math.floor((b+M)/2),d=c[S],g=c[S+1],d<=a){if(S===l||a<g)return S;b=S+1}else{if(!(d>a))throw new _t("Input is not a number.");M=S-1}return 0}class T3{constructor(a,l,d){this.type=a,this.input=l,this.labels=[],this.outputs=[];for(const[g,b]of d)this.labels.push(g),this.outputs.push(b)}static parse(a,l){if(a.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return l.error("Expected an even number of arguments.");const d=l.parse(a[1],1,o1);if(!d)return null;const g=[];let b=null;l.expectedType&&"value"!==l.expectedType.kind&&(b=l.expectedType);for(let M=1;M<a.length;M+=2){const S=1===M?-1/0:a[M],V=a[M+1],P=M,I=M+1;if("number"!=typeof S)return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',P);if(g.length&&g[g.length-1][0]>=S)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',P);const R=l.parse(V,I,b);if(!R)return null;b=b||R.type,g.push([S,R])}return new T3(b,d,g)}evaluate(a){const l=this.labels,d=this.outputs;if(1===l.length)return d[0].evaluate(a);const g=this.input.evaluate(a);if(g<=l[0])return d[0].evaluate(a);const b=l.length;return g>=l[b-1]?d[b-1].evaluate(a):d[c4(l,g)].evaluate(a)}eachChild(a){a(this.input);for(const l of this.outputs)a(l)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function ft(c,a,l){return c+l*(a-c)}function J4(c,a,l){return c.map((d,g)=>ft(d,a[g],l))}const xi={number:ft,color:function(c,a,l,d="rgb"){switch(d){case"rgb":{const[g,b,M,S]=J4(c.rgb,a.rgb,l);return new yt(g,b,M,S,!1)}case"hcl":{const[g,b,M,S]=c.hcl,[V,P,I,R]=a.hcl;let U,Y;if(isNaN(g)||isNaN(V))isNaN(g)?isNaN(V)?U=NaN:(U=V,1!==M&&0!==M||(Y=P)):(U=g,1!==I&&0!==I||(Y=b));else{let be=V-g;V>g&&be>180?be-=360:V<g&&g-V>180&&(be+=360),U=g+l*be}const[X,J,oe,ue]=function([be,de,ze,Ae]){return be=isNaN(be)?0:be*q1,it([ze,Math.cos(be)*de,Math.sin(be)*de,Ae])}([U,Y??ft(b,P,l),ft(M,I,l),ft(S,R,l)]);return new yt(X,J,oe,ue,!1)}case"lab":{const[g,b,M,S]=it(J4(c.lab,a.lab,l));return new yt(g,b,M,S,!1)}}},array:J4,padding:function(c,a,l){return new ni(J4(c.values,a.values,l))},variableAnchorOffsetCollection:function(c,a,l){const d=c.values,g=a.values;if(d.length!==g.length)throw new _t(`Cannot interpolate values of different length. from: ${c.toString()}, to: ${a.toString()}`);const b=[];for(let M=0;M<d.length;M+=2){if(d[M]!==g[M])throw new _t(`Cannot interpolate values containing mismatched anchors. from[${M}]: ${d[M]}, to[${M}]: ${g[M]}`);b.push(d[M]);const[S,V]=d[M+1],[P,I]=g[M+1];b.push([ft(S,P,l),ft(V,I,l)])}return new bi(b)}};class ri{constructor(a,l,d,g,b){this.type=a,this.operator=l,this.interpolation=d,this.input=g,this.labels=[],this.outputs=[];for(const[M,S]of b)this.labels.push(M),this.outputs.push(S)}static interpolationFactor(a,l,d,g){let b=0;if("exponential"===a.name)b=Mc(l,a.base,d,g);else if("linear"===a.name)b=Mc(l,1,d,g);else if("cubic-bezier"===a.name){const M=a.controlPoints;b=new Xr(M[0],M[1],M[2],M[3]).solve(Mc(l,1,d,g))}return b}static parse(a,l){let[d,g,b,...M]=a;if(!Array.isArray(g)||0===g.length)return l.error("Expected an interpolation type expression.",1);if("linear"===g[0])g={name:"linear"};else if("exponential"===g[0]){const P=g[1];if("number"!=typeof P)return l.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:P}}else{if("cubic-bezier"!==g[0])return l.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const P=g.slice(1);if(4!==P.length||P.some(I=>"number"!=typeof I||I<0||I>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:P}}}if(a.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(b=l.parse(b,2,o1),!b)return null;const S=[];let V=null;"interpolate-hcl"===d||"interpolate-lab"===d?V=Vn:l.expectedType&&"value"!==l.expectedType.kind&&(V=l.expectedType);for(let P=0;P<M.length;P+=2){const I=M[P],R=M[P+1],U=P+3,Y=P+4;if("number"!=typeof I)return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',U);if(S.length&&S[S.length-1][0]>=I)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',U);const X=l.parse(R,Y,V);if(!X)return null;V=V||X.type,S.push([I,X])}return $e(V,o1)||$e(V,Vn)||$e(V,$)||$e(V,K)||$e(V,se(o1))?new ri(V,d,g,b,S):l.error(`Type ${ce(V)} is not interpolatable.`)}evaluate(a){const l=this.labels,d=this.outputs;if(1===l.length)return d[0].evaluate(a);const g=this.input.evaluate(a);if(g<=l[0])return d[0].evaluate(a);const b=l.length;if(g>=l[b-1])return d[b-1].evaluate(a);const M=c4(l,g),S=ri.interpolationFactor(this.interpolation,g,l[M],l[M+1]),V=d[M].evaluate(a),P=d[M+1].evaluate(a);switch(this.operator){case"interpolate":return xi[this.type.kind](V,P,S);case"interpolate-hcl":return xi.color(V,P,S,"hcl");case"interpolate-lab":return xi.color(V,P,S,"lab")}}eachChild(a){a(this.input);for(const l of this.outputs)a(l)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function Mc(c,a,l,d){const g=d-l,b=c-l;return 0===g?0:1===a?b/g:(Math.pow(a,b)-1)/(Math.pow(a,g)-1)}class En{constructor(a,l){this.type=a,this.args=l}static parse(a,l){if(a.length<2)return l.error("Expectected at least one argument.");let d=null;const g=l.expectedType;g&&"value"!==g.kind&&(d=g);const b=[];for(const S of a.slice(1)){const V=l.parse(S,1+b.length,d,void 0,{typeAnnotation:"omit"});if(!V)return null;d=d||V.type,b.push(V)}if(!d)throw new Error("No output type");const M=g&&b.some(S=>ge(g,S.type));return new En(M?K1:d,b)}evaluate(a){let l,d=null,g=0;for(const b of this.args)if(g++,d=b.evaluate(a),d&&d instanceof an&&!d.available&&(l||(l=d.name),d=null,g===this.args.length&&(d=l)),null!==d)break;return d}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}class B1{constructor(a,l){this.type=l.type,this.bindings=[].concat(a),this.result=l}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const l of this.bindings)a(l[1]);a(this.result)}static parse(a,l){if(a.length<4)return l.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const d=[];for(let b=1;b<a.length-1;b+=2){const M=a[b];if("string"!=typeof M)return l.error(`Expected string, but found ${typeof M} instead.`,b);if(/[^a-zA-Z0-9_]/.test(M))return l.error("Variable names must contain only alphanumeric characters or '_'.",b);const S=l.parse(a[b+1],b+1);if(!S)return null;d.push([M,S])}const g=l.parse(a[a.length-1],a.length-1,l.expectedType,d);return g?new B1(d,g):null}outputDefined(){return this.result.outputDefined()}}class wc{constructor(a,l,d){this.type=a,this.index=l,this.input=d}static parse(a,l){if(3!==a.length)return l.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const d=l.parse(a[1],1,o1),g=l.parse(a[2],2,se(l.expectedType||K1));return d&&g?new wc(g.type.itemType,d,g):null}evaluate(a){const l=this.index.evaluate(a),d=this.input.evaluate(a);if(l<0)throw new _t(`Array index out of bounds: ${l} < 0.`);if(l>=d.length)throw new _t(`Array index out of bounds: ${l} > ${d.length-1}.`);if(l!==Math.floor(l))throw new _t(`Array index must be an integer, but found ${l} instead.`);return d[l]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}}class zc{constructor(a,l){this.type=U1,this.needle=a,this.haystack=l}static parse(a,l){if(3!==a.length)return l.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const d=l.parse(a[1],1,K1),g=l.parse(a[2],2,K1);return d&&g?fe(d.type,[U1,nt,o1,xr,K1])?new zc(d,g):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${ce(d.type)} instead`):null}evaluate(a){const l=this.needle.evaluate(a),d=this.haystack.evaluate(a);if(!d)return!1;if(!_e(l,["boolean","string","number","null"]))throw new _t(`Expected first argument to be of type boolean, string, number or null, but found ${ce(Jt(l))} instead.`);if(!_e(d,["string","array"]))throw new _t(`Expected second argument to be of type array or string, but found ${ce(Jt(d))} instead.`);return d.indexOf(l)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}}class ao{constructor(a,l,d){this.type=o1,this.needle=a,this.haystack=l,this.fromIndex=d}static parse(a,l){if(a.length<=2||a.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const d=l.parse(a[1],1,K1),g=l.parse(a[2],2,K1);if(!d||!g)return null;if(!fe(d.type,[U1,nt,o1,xr,K1]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${ce(d.type)} instead`);if(4===a.length){const b=l.parse(a[3],3,o1);return b?new ao(d,g,b):null}return new ao(d,g)}evaluate(a){const l=this.needle.evaluate(a),d=this.haystack.evaluate(a);if(!_e(l,["boolean","string","number","null"]))throw new _t(`Expected first argument to be of type boolean, string, number or null, but found ${ce(Jt(l))} instead.`);if(!_e(d,["string","array"]))throw new _t(`Expected second argument to be of type array or string, but found ${ce(Jt(d))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(a);return d.indexOf(l,g)}return d.indexOf(l)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}}class A1{constructor(a,l,d,g,b,M){this.inputType=a,this.type=l,this.input=d,this.cases=g,this.outputs=b,this.otherwise=M}static parse(a,l){if(a.length<5)return l.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return l.error("Expected an even number of arguments.");let d,g;l.expectedType&&"value"!==l.expectedType.kind&&(g=l.expectedType);const b={},M=[];for(let P=2;P<a.length-1;P+=2){let I=a[P];const R=a[P+1];Array.isArray(I)||(I=[I]);const U=l.concat(P);if(0===I.length)return U.error("Expected at least one branch label.");for(const X of I){if("number"!=typeof X&&"string"!=typeof X)return U.error("Branch labels must be numbers or strings.");if("number"==typeof X&&Math.abs(X)>Number.MAX_SAFE_INTEGER)return U.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof X&&Math.floor(X)!==X)return U.error("Numeric branch labels must be integer values.");if(d){if(U.checkSubtype(d,Jt(X)))return null}else d=Jt(X);if(void 0!==b[String(X)])return U.error("Branch labels must be unique.");b[String(X)]=M.length}const Y=l.parse(R,P,g);if(!Y)return null;g=g||Y.type,M.push(Y)}const S=l.parse(a[1],1,K1);if(!S)return null;const V=l.parse(a[a.length-1],a.length-1,g);return V?"value"!==S.type.kind&&l.concat(1).checkSubtype(d,S.type)?null:new A1(d,g,S,b,M,V):null}evaluate(a){const l=this.input.evaluate(a);return(Jt(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every(a=>a.outputDefined())&&this.otherwise.outputDefined()}}class Sc{constructor(a,l,d){this.type=a,this.branches=l,this.otherwise=d}static parse(a,l){if(a.length<4)return l.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return l.error("Expected an odd number of arguments.");let d;l.expectedType&&"value"!==l.expectedType.kind&&(d=l.expectedType);const g=[];for(let M=1;M<a.length-1;M+=2){const S=l.parse(a[M],M,U1);if(!S)return null;const V=l.parse(a[M+1],M+1,d);if(!V)return null;g.push([S,V]),d=d||V.type}const b=l.parse(a[a.length-1],a.length-1,d);if(!b)return null;if(!d)throw new Error("Can't infer output type");return new Sc(d,g,b)}evaluate(a){for(const[l,d]of this.branches)if(l.evaluate(a))return d.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[l,d]of this.branches)a(l),a(d);a(this.otherwise)}outputDefined(){return this.branches.every(([a,l])=>l.outputDefined())&&this.otherwise.outputDefined()}}class ai{constructor(a,l,d,g){this.type=a,this.input=l,this.beginIndex=d,this.endIndex=g}static parse(a,l){if(a.length<=2||a.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const d=l.parse(a[1],1,K1),g=l.parse(a[2],2,o1);if(!d||!g)return null;if(!fe(d.type,[se(K1),nt,K1]))return l.error(`Expected first argument to be of type array or string, but found ${ce(d.type)} instead`);if(4===a.length){const b=l.parse(a[3],3,o1);return b?new ai(d.type,d,g,b):null}return new ai(d.type,d,g)}evaluate(a){const l=this.input.evaluate(a),d=this.beginIndex.evaluate(a);if(!_e(l,["string","array"]))throw new _t(`Expected first argument to be of type array or string, but found ${ce(Jt(l))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(a);return l.slice(d,g)}return l.slice(d)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}}function l4(c,a){return"=="===c||"!="===c?"boolean"===a.kind||"string"===a.kind||"number"===a.kind||"null"===a.kind||"value"===a.kind:"string"===a.kind||"number"===a.kind||"value"===a.kind}function Lc(c,a,l,d){return 0===d.compare(a,l)}function D3(c,a,l){const d="=="!==c&&"!="!==c;return class PP{constructor(b,M,S){this.type=U1,this.lhs=b,this.rhs=M,this.collator=S,this.hasUntypedArgument="value"===b.type.kind||"value"===M.type.kind}static parse(b,M){if(3!==b.length&&4!==b.length)return M.error("Expected two or three arguments.");const S=b[0];let V=M.parse(b[1],1,K1);if(!V)return null;if(!l4(S,V.type))return M.concat(1).error(`"${S}" comparisons are not supported for type '${ce(V.type)}'.`);let P=M.parse(b[2],2,K1);if(!P)return null;if(!l4(S,P.type))return M.concat(2).error(`"${S}" comparisons are not supported for type '${ce(P.type)}'.`);if(V.type.kind!==P.type.kind&&"value"!==V.type.kind&&"value"!==P.type.kind)return M.error(`Cannot compare types '${ce(V.type)}' and '${ce(P.type)}'.`);d&&("value"===V.type.kind&&"value"!==P.type.kind?V=new ii(P.type,[V]):"value"!==V.type.kind&&"value"===P.type.kind&&(P=new ii(V.type,[P])));let I=null;if(4===b.length){if("string"!==V.type.kind&&"string"!==P.type.kind&&"value"!==V.type.kind&&"value"!==P.type.kind)return M.error("Cannot use collator to compare non-string types.");if(I=M.parse(b[3],3,Mr),!I)return null}return new PP(V,P,I)}evaluate(b){const M=this.lhs.evaluate(b),S=this.rhs.evaluate(b);if(d&&this.hasUntypedArgument){const V=Jt(M),P=Jt(S);if(V.kind!==P.kind||"string"!==V.kind&&"number"!==V.kind)throw new _t(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${V.kind}, ${P.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const V=Jt(M),P=Jt(S);if("string"!==V.kind||"string"!==P.kind)return a(b,M,S)}return this.collator?l(b,M,S,this.collator.evaluate(b)):a(b,M,S)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}}}const v0=D3("==",function(c,a,l){return a===l},Lc),es=D3("!=",function(c,a,l){return a!==l},function(c,a,l,d){return!Lc(0,a,l,d)}),ts=D3("<",function(c,a,l){return a<l},function(c,a,l,d){return d.compare(a,l)<0}),so=D3(">",function(c,a,l){return a>l},function(c,a,l,d){return d.compare(a,l)>0}),Hc=D3("<=",function(c,a,l){return a<=l},function(c,a,l,d){return d.compare(a,l)<=0}),y0=D3(">=",function(c,a,l){return a>=l},function(c,a,l,d){return d.compare(a,l)>=0});class ot{constructor(a,l,d,g,b){this.type=nt,this.number=a,this.locale=l,this.currency=d,this.minFractionDigits=g,this.maxFractionDigits=b}static parse(a,l){if(3!==a.length)return l.error("Expected two arguments.");const d=l.parse(a[1],1,o1);if(!d)return null;const g=a[2];if("object"!=typeof g||Array.isArray(g))return l.error("NumberFormat options argument must be an object.");let b=null;if(g.locale&&(b=l.parse(g.locale,1,nt),!b))return null;let M=null;if(g.currency&&(M=l.parse(g.currency,1,nt),!M))return null;let S=null;if(g["min-fraction-digits"]&&(S=l.parse(g["min-fraction-digits"],1,o1),!S))return null;let V=null;return g["max-fraction-digits"]&&(V=l.parse(g["max-fraction-digits"],1,o1),!V)?null:new ot(d,b,M,S,V)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}}class ba{constructor(a){this.type=re,this.sections=a}static parse(a,l){if(a.length<2)return l.error("Expected at least one argument.");const d=a[1];if(!Array.isArray(d)&&"object"==typeof d)return l.error("First argument must be an image or text section.");const g=[];let b=!1;for(let M=1;M<=a.length-1;++M){const S=a[M];if(b&&"object"==typeof S&&!Array.isArray(S)){b=!1;let V=null;if(S["font-scale"]&&(V=l.parse(S["font-scale"],1,o1),!V))return null;let P=null;if(S["text-font"]&&(P=l.parse(S["text-font"],1,se(nt)),!P))return null;let I=null;if(S["text-color"]&&(I=l.parse(S["text-color"],1,Vn),!I))return null;const R=g[g.length-1];R.scale=V,R.font=P,R.textColor=I}else{const V=l.parse(a[M],1,K1);if(!V)return null;const P=V.type.kind;if("string"!==P&&"value"!==P&&"null"!==P&&"resolvedImage"!==P)return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,g.push({content:V,scale:null,font:null,textColor:null})}}return new ba(g)}evaluate(a){return new rn(this.sections.map(l=>{const d=l.content.evaluate(a);return Jt(d)===G?new e4("",d,null,null,null):new e4(G1(d),null,l.scale?l.scale.evaluate(a):null,l.font?l.font.evaluate(a).join(","):null,l.textColor?l.textColor.evaluate(a):null)}))}eachChild(a){for(const l of this.sections)a(l.content),l.scale&&a(l.scale),l.font&&a(l.font),l.textColor&&a(l.textColor)}outputDefined(){return!1}}class ns{constructor(a){this.type=G,this.input=a}static parse(a,l){if(2!==a.length)return l.error("Expected two arguments.");const d=l.parse(a[1],1,nt);return d?new ns(d):l.error("No image name provided.")}evaluate(a){const l=this.input.evaluate(a),d=an.fromString(l);return d&&a.availableImages&&(d.available=a.availableImages.indexOf(l)>-1),d}eachChild(a){a(this.input)}outputDefined(){return!1}}class mn{constructor(a){this.type=o1,this.input=a}static parse(a,l){if(2!==a.length)return l.error(`Expected 1 argument, but found ${a.length-1} instead.`);const d=l.parse(a[1],1);return d?"array"!==d.type.kind&&"string"!==d.type.kind&&"value"!==d.type.kind?l.error(`Expected argument of type string or array, but found ${ce(d.type)} instead.`):new mn(d):null}evaluate(a){const l=this.input.evaluate(a);if("string"==typeof l||Array.isArray(l))return l.length;throw new _t(`Expected value to be of type string or array, but found ${ce(Jt(l))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}}const P3={"==":v0,"!=":es,">":so,"<":ts,">=":y0,"<=":Hc,array:ii,at:wc,boolean:ii,case:Sc,coalesce:En,collator:E3,format:ba,image:ns,in:zc,"index-of":ao,interpolate:ri,"interpolate-hcl":ri,"interpolate-lab":ri,length:mn,let:B1,literal:V3,match:A1,number:ii,"number-format":ot,object:ii,slice:ai,step:T3,string:ii,"to-boolean":sn,"to-color":sn,"to-number":sn,"to-string":sn,var:pn,within:wr};function _0(c,[a,l,d,g]){a=a.evaluate(c),l=l.evaluate(c),d=d.evaluate(c);const b=g?g.evaluate(c):1,M=t4(a,l,d,b);if(M)throw new _t(M);return new yt(a/255,l/255,d/255,b,!1)}function kt(c,a){return c in a}function Vc(c,a){const l=a[c];return void 0===l?null:l}function xa(c){return{type:c}}function is(c){return{result:"success",value:c}}function or(c){return{result:"error",value:c}}function A3(c){return"data-driven"===c["property-type"]||"cross-faded-data-driven"===c["property-type"]}function rs(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function oo(c){return!!c.expression&&c.expression.interpolated}function mt(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":null===c?"null":typeof c}function o2(c){return"object"==typeof c&&null!==c&&!Array.isArray(c)}function Jl(c){return c}function ht(c,a){const l="color"===a.type,d=c.stops&&"object"==typeof c.stops[0][0],g=d||!(d||void 0!==c.property),b=c.type||(oo(a)?"exponential":"interval");if(l||"padding"===a.type){const I=l?yt.parse:ni.parse;(c=Ri({},c)).stops&&(c.stops=c.stops.map(R=>[R[0],I(R[1])])),c.default=I(c.default?c.default:a.default)}if(c.colorSpace&&"rgb"!==(M=c.colorSpace)&&"hcl"!==M&&"lab"!==M)throw new Error(`Unknown color space: "${c.colorSpace}"`);var M;let S,V,P;if("exponential"===b)S=I3;else if("interval"===b)S=Dt;else if("categorical"===b){S=c2,V=Object.create(null);for(const I of c.stops)V[I[0]]=I[1];P=typeof c.stops[0][0]}else{if("identity"!==b)throw new Error(`Unknown function type "${b}"`);S=u4}if(d){const I={},R=[];for(let X=0;X<c.stops.length;X++){const J=c.stops[X],oe=J[0].zoom;void 0===I[oe]&&(I[oe]={zoom:oe,type:c.type,property:c.property,default:c.default,stops:[]},R.push(oe)),I[oe].stops.push([J[0].value,J[1]])}const U=[];for(const X of R)U.push([I[X].zoom,ht(I[X],a)]);const Y={name:"linear"};return{kind:"composite",interpolationType:Y,interpolationFactor:ri.interpolationFactor.bind(void 0,Y),zoomStops:U.map(X=>X[0]),evaluate:({zoom:X},J)=>I3({stops:U,base:c.base},a,X).evaluate(X,J)}}if(g){const I="exponential"===b?{name:"exponential",base:void 0!==c.base?c.base:1}:null;return{kind:"camera",interpolationType:I,interpolationFactor:ri.interpolationFactor.bind(void 0,I),zoomStops:c.stops.map(R=>R[0]),evaluate:({zoom:R})=>S(c,a,R,V,P)}}return{kind:"source",evaluate(I,R){const U=R&&R.properties?R.properties[c.property]:void 0;return void 0===U?Ma(c.default,a.default):S(c,a,U,V,P)}}}function Ma(c,a,l){return void 0!==c?c:void 0!==a?a:void 0!==l?l:void 0}function c2(c,a,l,d,g){return Ma(typeof l===g?d[l]:void 0,c.default,a.default)}function Dt(c,a,l){if("number"!==mt(l))return Ma(c.default,a.default);const d=c.stops.length;if(1===d||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[d-1][0])return c.stops[d-1][1];const g=c4(c.stops.map(b=>b[0]),l);return c.stops[g][1]}function I3(c,a,l){const d=void 0!==c.base?c.base:1;if("number"!==mt(l))return Ma(c.default,a.default);const g=c.stops.length;if(1===g||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[g-1][0])return c.stops[g-1][1];const b=c4(c.stops.map(I=>I[0]),l),M=function(I,R,U,Y){const X=Y-U,J=I-U;return 0===X?0:1===R?J/X:(Math.pow(R,J)-1)/(Math.pow(R,X)-1)}(l,d,c.stops[b][0],c.stops[b+1][0]),S=c.stops[b][1],V=c.stops[b+1][1],P=xi[a.type]||Jl;return"function"==typeof S.evaluate?{evaluate(...I){const R=S.evaluate.apply(void 0,I),U=V.evaluate.apply(void 0,I);if(void 0!==R&&void 0!==U)return P(R,U,M,c.colorSpace)}}:P(S,V,M,c.colorSpace)}function u4(c,a,l){switch(a.type){case"color":l=yt.parse(l);break;case"formatted":l=rn.fromString(l.toString());break;case"resolvedImage":l=an.fromString(l.toString());break;case"padding":l=ni.parse(l);break;default:mt(l)===a.type||"enum"===a.type&&a.values[l]||(l=void 0)}return Ma(l,c.default,a.default)}Bi.register(P3,{error:[{kind:"error"},[nt],(c,[a])=>{throw new _t(a.evaluate(c))}],typeof:[nt,[K1],(c,[a])=>ce(Jt(a.evaluate(c)))],"to-rgba":[se(o1,4),[Vn],(c,[a])=>{const[l,d,g,b]=a.evaluate(c).rgb;return[255*l,255*d,255*g,b]}],rgb:[Vn,[o1,o1,o1],_0],rgba:[Vn,[o1,o1,o1,o1],_0],has:{type:U1,overloads:[[[nt],(c,[a])=>kt(a.evaluate(c),c.properties())],[[nt,sr],(c,[a,l])=>kt(a.evaluate(c),l.evaluate(c))]]},get:{type:K1,overloads:[[[nt],(c,[a])=>Vc(a.evaluate(c),c.properties())],[[nt,sr],(c,[a,l])=>Vc(a.evaluate(c),l.evaluate(c))]]},"feature-state":[K1,[nt],(c,[a])=>Vc(a.evaluate(c),c.featureState||{})],properties:[sr,[],c=>c.properties()],"geometry-type":[nt,[],c=>c.geometryType()],id:[K1,[],c=>c.id()],zoom:[o1,[],c=>c.globals.zoom],"heatmap-density":[o1,[],c=>c.globals.heatmapDensity||0],"line-progress":[o1,[],c=>c.globals.lineProgress||0],accumulated:[K1,[],c=>void 0===c.globals.accumulated?null:c.globals.accumulated],"+":[o1,xa(o1),(c,a)=>{let l=0;for(const d of a)l+=d.evaluate(c);return l}],"*":[o1,xa(o1),(c,a)=>{let l=1;for(const d of a)l*=d.evaluate(c);return l}],"-":{type:o1,overloads:[[[o1,o1],(c,[a,l])=>a.evaluate(c)-l.evaluate(c)],[[o1],(c,[a])=>-a.evaluate(c)]]},"/":[o1,[o1,o1],(c,[a,l])=>a.evaluate(c)/l.evaluate(c)],"%":[o1,[o1,o1],(c,[a,l])=>a.evaluate(c)%l.evaluate(c)],ln2:[o1,[],()=>Math.LN2],pi:[o1,[],()=>Math.PI],e:[o1,[],()=>Math.E],"^":[o1,[o1,o1],(c,[a,l])=>Math.pow(a.evaluate(c),l.evaluate(c))],sqrt:[o1,[o1],(c,[a])=>Math.sqrt(a.evaluate(c))],log10:[o1,[o1],(c,[a])=>Math.log(a.evaluate(c))/Math.LN10],ln:[o1,[o1],(c,[a])=>Math.log(a.evaluate(c))],log2:[o1,[o1],(c,[a])=>Math.log(a.evaluate(c))/Math.LN2],sin:[o1,[o1],(c,[a])=>Math.sin(a.evaluate(c))],cos:[o1,[o1],(c,[a])=>Math.cos(a.evaluate(c))],tan:[o1,[o1],(c,[a])=>Math.tan(a.evaluate(c))],asin:[o1,[o1],(c,[a])=>Math.asin(a.evaluate(c))],acos:[o1,[o1],(c,[a])=>Math.acos(a.evaluate(c))],atan:[o1,[o1],(c,[a])=>Math.atan(a.evaluate(c))],min:[o1,xa(o1),(c,a)=>Math.min(...a.map(l=>l.evaluate(c)))],max:[o1,xa(o1),(c,a)=>Math.max(...a.map(l=>l.evaluate(c)))],abs:[o1,[o1],(c,[a])=>Math.abs(a.evaluate(c))],round:[o1,[o1],(c,[a])=>{const l=a.evaluate(c);return l<0?-Math.round(-l):Math.round(l)}],floor:[o1,[o1],(c,[a])=>Math.floor(a.evaluate(c))],ceil:[o1,[o1],(c,[a])=>Math.ceil(a.evaluate(c))],"filter-==":[U1,[nt,K1],(c,[a,l])=>c.properties()[a.value]===l.value],"filter-id-==":[U1,[K1],(c,[a])=>c.id()===a.value],"filter-type-==":[U1,[nt],(c,[a])=>c.geometryType()===a.value],"filter-<":[U1,[nt,K1],(c,[a,l])=>{const d=c.properties()[a.value],g=l.value;return typeof d==typeof g&&d<g}],"filter-id-<":[U1,[K1],(c,[a])=>{const l=c.id(),d=a.value;return typeof l==typeof d&&l<d}],"filter->":[U1,[nt,K1],(c,[a,l])=>{const d=c.properties()[a.value],g=l.value;return typeof d==typeof g&&d>g}],"filter-id->":[U1,[K1],(c,[a])=>{const l=c.id(),d=a.value;return typeof l==typeof d&&l>d}],"filter-<=":[U1,[nt,K1],(c,[a,l])=>{const d=c.properties()[a.value],g=l.value;return typeof d==typeof g&&d<=g}],"filter-id-<=":[U1,[K1],(c,[a])=>{const l=c.id(),d=a.value;return typeof l==typeof d&&l<=d}],"filter->=":[U1,[nt,K1],(c,[a,l])=>{const d=c.properties()[a.value],g=l.value;return typeof d==typeof g&&d>=g}],"filter-id->=":[U1,[K1],(c,[a])=>{const l=c.id(),d=a.value;return typeof l==typeof d&&l>=d}],"filter-has":[U1,[K1],(c,[a])=>a.value in c.properties()],"filter-has-id":[U1,[],c=>null!==c.id()&&void 0!==c.id()],"filter-type-in":[U1,[se(nt)],(c,[a])=>a.value.indexOf(c.geometryType())>=0],"filter-id-in":[U1,[se(K1)],(c,[a])=>a.value.indexOf(c.id())>=0],"filter-in-small":[U1,[nt,se(K1)],(c,[a,l])=>l.value.indexOf(c.properties()[a.value])>=0],"filter-in-large":[U1,[nt,se(K1)],(c,[a,l])=>function(d,g,b,M){for(;b<=M;){const S=b+M>>1;if(g[S]===d)return!0;g[S]>d?M=S-1:b=S+1}return!1}(c.properties()[a.value],l.value,0,l.value.length-1)],all:{type:U1,overloads:[[[U1,U1],(c,[a,l])=>a.evaluate(c)&&l.evaluate(c)],[xa(U1),(c,a)=>{for(const l of a)if(!l.evaluate(c))return!1;return!0}]]},any:{type:U1,overloads:[[[U1,U1],(c,[a,l])=>a.evaluate(c)||l.evaluate(c)],[xa(U1),(c,a)=>{for(const l of a)if(l.evaluate(c))return!0;return!1}]]},"!":[U1,[U1],(c,[a])=>!a.evaluate(c)],"is-supported-script":[U1,[nt],(c,[a])=>{const l=c.globals&&c.globals.isSupportedScript;return!l||l(a.evaluate(c))}],upcase:[nt,[nt],(c,[a])=>a.evaluate(c).toUpperCase()],downcase:[nt,[nt],(c,[a])=>a.evaluate(c).toLowerCase()],concat:[nt,xa(K1),(c,a)=>a.map(l=>G1(l.evaluate(c))).join("")],"resolved-locale":[nt,[Mr],(c,[a])=>a.evaluate(c).resolvedLocale()]});class co{constructor(a,l){var d;this.expression=a,this._warningHistory={},this._evaluator=new to,this._defaultValue=l?"color"===(d=l).type&&o2(d.default)?new yt(0,0,0,0):"color"===d.type?yt.parse(d.default)||null:"padding"===d.type?ni.parse(d.default)||null:"variableAnchorOffsetCollection"===d.type?bi.parse(d.default)||null:void 0===d.default?null:d.default:null,this._enumValues=l&&"enum"===l.type?l.values:null}evaluateWithoutErrorHandling(a,l,d,g,b,M){return this._evaluator.globals=a,this._evaluator.feature=l,this._evaluator.featureState=d,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=M,this.expression.evaluate(this._evaluator)}evaluate(a,l,d,g,b,M){this._evaluator.globals=a,this._evaluator.feature=l||null,this._evaluator.featureState=d||null,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=M||null;try{const S=this.expression.evaluate(this._evaluator);if(null==S||"number"==typeof S&&S!=S)return this._defaultValue;if(this._enumValues&&!(S in this._enumValues))throw new _t(`Expected value to be one of ${Object.keys(this._enumValues).map(V=>JSON.stringify(V)).join(", ")}, but found ${JSON.stringify(S)} instead.`);return S}catch(S){return this._warningHistory[S.message]||(this._warningHistory[S.message]=!0,typeof console<"u"&&console.warn(S.message)),this._defaultValue}}}function as(c){return Array.isArray(c)&&c.length>0&&"string"==typeof c[0]&&c[0]in P3}function ss(c,a){const l=new xt(P3,Q4,[],a?function(g){const b={color:Vn,string:nt,number:o1,enum:nt,boolean:U1,formatted:re,padding:$,resolvedImage:G,variableAnchorOffsetCollection:K};return"array"===g.type?se(b[g.value]||K1,g.length):b[g.type]}(a):void 0),d=l.parse(c,void 0,void 0,void 0,a&&"string"===a.type?{typeAnnotation:"coerce"}:void 0);return d?is(new co(d,a)):or(l.errors)}class os{constructor(a,l){this.kind=a,this._styleExpression=l,this.isStateDependent="constant"!==a&&!$i(l.expression)}evaluateWithoutErrorHandling(a,l,d,g,b,M){return this._styleExpression.evaluateWithoutErrorHandling(a,l,d,g,b,M)}evaluate(a,l,d,g,b,M){return this._styleExpression.evaluate(a,l,d,g,b,M)}}class zr{constructor(a,l,d,g){this.kind=a,this.zoomStops=d,this._styleExpression=l,this.isStateDependent="camera"!==a&&!$i(l.expression),this.interpolationType=g}evaluateWithoutErrorHandling(a,l,d,g,b,M){return this._styleExpression.evaluateWithoutErrorHandling(a,l,d,g,b,M)}evaluate(a,l,d,g,b,M){return this._styleExpression.evaluate(a,l,d,g,b,M)}interpolationFactor(a,l,d){return this.interpolationType?ri.interpolationFactor(this.interpolationType,a,l,d):0}}function lo(c,a){const l=ss(c,a);if("error"===l.result)return l;const d=l.value.expression,g=io(d);if(!g&&!A3(a))return or([new s2("","data expressions not supported")]);const b=ro(d,["zoom"]);if(!b&&!rs(a))return or([new s2("","zoom expressions not supported")]);const M=f4(d);return M||b?M instanceof s2?or([M]):M instanceof ri&&!oo(a)?or([new s2("",'"interpolate" expressions cannot be used with this property')]):is(M?new zr(g?"camera":"composite",l.value,M.labels,M instanceof ri?M.interpolation:void 0):new os(g?"constant":"source",l.value)):or([new s2("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Mi{constructor(a,l){this._parameters=a,this._specification=l,Ri(this,ht(this._parameters,this._specification))}static deserialize(a){return new Mi(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function f4(c){let a=null;if(c instanceof B1)a=f4(c.result);else if(c instanceof En){for(const l of c.args)if(a=f4(l),a)break}else(c instanceof T3||c instanceof ri)&&c.input instanceof Bi&&"zoom"===c.input.name&&(a=c);return a instanceof s2||c.eachChild(l=>{const d=f4(l);d instanceof s2?a=d:!a&&d?a=new s2("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):a&&d&&a!==d&&(a=new s2("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),a}function w1(c){if(!0===c||!1===c)return!0;if(!Array.isArray(c)||0===c.length)return!1;switch(c[0]){case"has":return c.length>=2&&"$id"!==c[1]&&"$type"!==c[1];case"in":return c.length>=3&&("string"!=typeof c[1]||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==c.length||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const a of c.slice(1))if(!w1(a)&&"boolean"!=typeof a)return!1;return!0;default:return!0}}const Ec={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function z1(c){if(null==c)return{filter:()=>!0,needGeometry:!1};w1(c)||(c=n3(c));const a=ss(c,Ec);if("error"===a.result)throw new Error(a.value.map(l=>`${l.key}: ${l.message}`).join(", "));return{filter:(l,d,g)=>a.value.evaluate(l,d,{},g),needGeometry:ls(c)}}function cs(c,a){return c<a?-1:c>a?1:0}function ls(c){if(!Array.isArray(c))return!1;if("within"===c[0])return!0;for(let a=1;a<c.length;a++)if(ls(c[a]))return!0;return!1}function n3(c){if(!c)return!0;const a=c[0];return c.length<=1?"any"!==a:"=="===a?uo(c[1],c[2],"=="):"!="===a?si(uo(c[1],c[2],"==")):"<"===a||">"===a||"<="===a||">="===a?uo(c[1],c[2],a):"any"===a?(l=c.slice(1),["any"].concat(l.map(n3))):"all"===a?["all"].concat(c.slice(1).map(n3)):"none"===a?["all"].concat(c.slice(1).map(n3).map(si)):"in"===a?Tc(c[1],c.slice(2)):"!in"===a?si(Tc(c[1],c.slice(2))):"has"===a?Dc(c[1]):"!has"===a?si(Dc(c[1])):"within"!==a||c;var l}function uo(c,a,l){switch(c){case"$type":return[`filter-type-${l}`,a];case"$id":return[`filter-id-${l}`,a];default:return[`filter-${l}`,c,a]}}function Tc(c,a){if(0===a.length)return!1;switch(c){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(l=>typeof l!=typeof a[0])?["filter-in-large",c,["literal",a.sort(cs)]]:["filter-in-small",c,["literal",a]]}}function Dc(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function si(c){return["!",c]}function k3(c){const a=typeof c;if("number"===a||"boolean"===a||"string"===a||null==c)return JSON.stringify(c);if(Array.isArray(c)){let g="[";for(const b of c)g+=`${k3(b)},`;return`${g}]`}const l=Object.keys(c).sort();let d="{";for(let g=0;g<l.length;g++)d+=`${JSON.stringify(l[g])}:${k3(c[l[g]])},`;return`${d}}`}function Tn(c){let a="";for(const l of ti)a+=`/${k3(c[l])}`;return a}function ji(c){const a=c.value;return a?[new t1(c.key,a,"constants have been deprecated as of v8")]:[]}function O1(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function cr(c){if(Array.isArray(c))return c.map(cr);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const a={};for(const l in c)a[l]=cr(c[l]);return a}return O1(c)}function gn(c){const a=c.key,l=c.value,d=c.valueSpec||{},g=c.objectElementValidators||{},b=c.style,M=c.styleSpec,S=c.validateSpec;let V=[];const P=mt(l);if("object"!==P)return[new t1(a,l,`object expected, ${P} found`)];for(const I in l){const R=I.split(".")[0],U=d[R]||d["*"];let Y;if(g[R])Y=g[R];else if(d[R])Y=S;else if(g["*"])Y=g["*"];else{if(!d["*"]){V.push(new t1(a,l[I],`unknown property "${I}"`));continue}Y=S}V=V.concat(Y({key:(a&&`${a}.`)+I,value:l[I],valueSpec:U,style:b,styleSpec:M,object:l,objectKey:I,validateSpec:S},l))}for(const I in d)g[I]||d[I].required&&void 0===d[I].default&&void 0===l[I]&&V.push(new t1(a,l,`missing required property "${I}"`));return V}function i3(c){const a=c.value,l=c.valueSpec,d=c.style,g=c.styleSpec,b=c.key,M=c.arrayElementValidator||c.validateSpec;if("array"!==mt(a))return[new t1(b,a,`array expected, ${mt(a)} found`)];if(l.length&&a.length!==l.length)return[new t1(b,a,`array length ${l.length} expected, length ${a.length} found`)];if(l["min-length"]&&a.length<l["min-length"])return[new t1(b,a,`array length at least ${l["min-length"]} expected, length ${a.length} found`)];let S={type:l.value,values:l.values};g.$version<7&&(S.function=l.function),"object"===mt(l.value)&&(S=l.value);let V=[];for(let P=0;P<a.length;P++)V=V.concat(M({array:a,arrayIndex:P,value:a[P],valueSpec:S,validateSpec:c.validateSpec,style:d,styleSpec:g,key:`${b}[${P}]`}));return V}function wa(c){const a=c.key,l=c.value,d=c.valueSpec;let g=mt(l);return"number"===g&&l!=l&&(g="NaN"),"number"!==g?[new t1(a,l,`number expected, ${g} found`)]:"minimum"in d&&l<d.minimum?[new t1(a,l,`${l} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&l>d.maximum?[new t1(a,l,`${l} is greater than the maximum value ${d.maximum}`)]:[]}function wi(c){const a=c.valueSpec,l=O1(c.value.type);let d,g,b,M={};const S="categorical"!==l&&void 0===c.value.property,V=!S,P="array"===mt(c.value.stops)&&"array"===mt(c.value.stops[0])&&"object"===mt(c.value.stops[0][0]),I=gn({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(Y){if("identity"===l)return[new t1(Y.key,Y.value,'identity function may not have a "stops" property')];let X=[];const J=Y.value;return X=X.concat(i3({key:Y.key,value:J,valueSpec:Y.valueSpec,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,arrayElementValidator:R})),"array"===mt(J)&&0===J.length&&X.push(new t1(Y.key,J,"array must have at least one stop")),X},default:function(Y){return Y.validateSpec({key:Y.key,value:Y.value,valueSpec:a,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec})}}});return"identity"===l&&S&&I.push(new t1(c.key,c.value,'missing required property "property"')),"identity"===l||c.value.stops||I.push(new t1(c.key,c.value,'missing required property "stops"')),"exponential"===l&&c.valueSpec.expression&&!oo(c.valueSpec)&&I.push(new t1(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(V&&!A3(c.valueSpec)?I.push(new t1(c.key,c.value,"property functions not supported")):S&&!rs(c.valueSpec)&&I.push(new t1(c.key,c.value,"zoom functions not supported"))),"categorical"!==l&&!P||void 0!==c.value.property||I.push(new t1(c.key,c.value,'"property" property is required')),I;function R(Y){let X=[];const J=Y.value,oe=Y.key;if("array"!==mt(J))return[new t1(oe,J,`array expected, ${mt(J)} found`)];if(2!==J.length)return[new t1(oe,J,`array length 2 expected, length ${J.length} found`)];if(P){if("object"!==mt(J[0]))return[new t1(oe,J,`object expected, ${mt(J[0])} found`)];if(void 0===J[0].zoom)return[new t1(oe,J,"object stop key must have zoom")];if(void 0===J[0].value)return[new t1(oe,J,"object stop key must have value")];if(b&&b>O1(J[0].zoom))return[new t1(oe,J[0].zoom,"stop zoom values must appear in ascending order")];O1(J[0].zoom)!==b&&(b=O1(J[0].zoom),g=void 0,M={}),X=X.concat(gn({key:`${oe}[0]`,value:J[0],valueSpec:{zoom:{}},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec,objectElementValidators:{zoom:wa,value:U}}))}else X=X.concat(U({key:`${oe}[0]`,value:J[0],valueSpec:{},validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec},J));return as(cr(J[1]))?X.concat([new t1(`${oe}[1]`,J[1],"expressions are not allowed in function stops.")]):X.concat(Y.validateSpec({key:`${oe}[1]`,value:J[1],valueSpec:a,validateSpec:Y.validateSpec,style:Y.style,styleSpec:Y.styleSpec}))}function U(Y,X){const J=mt(Y.value),oe=O1(Y.value),ue=null!==Y.value?Y.value:X;if(d){if(J!==d)return[new t1(Y.key,ue,`${J} stop domain type must match previous stop domain type ${d}`)]}else d=J;if("number"!==J&&"string"!==J&&"boolean"!==J)return[new t1(Y.key,ue,"stop domain value must be a number, string, or boolean")];if("number"!==J&&"categorical"!==l){let be=`number expected, ${J} found`;return A3(a)&&void 0===l&&(be+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new t1(Y.key,ue,be)]}return"categorical"!==l||"number"!==J||isFinite(oe)&&Math.floor(oe)===oe?"categorical"!==l&&"number"===J&&void 0!==g&&oe<g?[new t1(Y.key,ue,"stop domain values must appear in ascending order")]:(g=oe,"categorical"===l&&oe in M?[new t1(Y.key,ue,"stop domain values must be unique")]:(M[oe]=!0,[])):[new t1(Y.key,ue,`integer expected, found ${oe}`)]}}function Ui(c){const a=("property"===c.expressionContext?lo:ss)(cr(c.value),c.valueSpec);if("error"===a.result)return a.value.map(d=>new t1(`${c.key}${d.key}`,c.value,d.message));const l=a.value.expression||a.value._styleExpression.expression;if("property"===c.expressionContext&&"text-font"===c.propertyKey&&!l.outputDefined())return[new t1(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===c.expressionContext&&"layout"===c.propertyType&&!$i(l))return[new t1(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===c.expressionContext&&!$i(l))return[new t1(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&0===c.expressionContext.indexOf("cluster")){if(!ro(l,["zoom","feature-state"]))return[new t1(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===c.expressionContext&&!io(l))return[new t1(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function za(c){const a=c.key,l=c.value,d=c.valueSpec,g=[];return Array.isArray(d.values)?-1===d.values.indexOf(O1(l))&&g.push(new t1(a,l,`expected one of [${d.values.join(", ")}], ${JSON.stringify(l)} found`)):-1===Object.keys(d.values).indexOf(O1(l))&&g.push(new t1(a,l,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(l)} found`)),g}function N3(c){return w1(cr(c.value))?Ui(Ri({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):us(c)}function us(c){const a=c.value,l=c.key;if("array"!==mt(a))return[new t1(l,a,`array expected, ${mt(a)} found`)];const d=c.styleSpec;let g,b=[];if(a.length<1)return[new t1(l,a,"filter array must have at least 1 element")];switch(b=b.concat(za({key:`${l}[0]`,value:a[0],valueSpec:d.filter_operator,style:c.style,styleSpec:c.styleSpec})),O1(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&"$type"===O1(a[1])&&b.push(new t1(l,a,`"$type" cannot be use with operator "${a[0]}"`));case"==":case"!=":3!==a.length&&b.push(new t1(l,a,`filter array for operator "${a[0]}" must have 3 elements`));case"in":case"!in":a.length>=2&&(g=mt(a[1]),"string"!==g&&b.push(new t1(`${l}[1]`,a[1],`string expected, ${g} found`)));for(let M=2;M<a.length;M++)g=mt(a[M]),"$type"===O1(a[1])?b=b.concat(za({key:`${l}[${M}]`,value:a[M],valueSpec:d.geometry_type,style:c.style,styleSpec:c.styleSpec})):"string"!==g&&"number"!==g&&"boolean"!==g&&b.push(new t1(`${l}[${M}]`,a[M],`string, number, or boolean expected, ${g} found`));break;case"any":case"all":case"none":for(let M=1;M<a.length;M++)b=b.concat(us({key:`${l}[${M}]`,value:a[M],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":g=mt(a[1]),2!==a.length?b.push(new t1(l,a,`filter array for "${a[0]}" operator must have 2 elements`)):"string"!==g&&b.push(new t1(`${l}[1]`,a[1],`string expected, ${g} found`));break;case"within":g=mt(a[1]),2!==a.length?b.push(new t1(l,a,`filter array for "${a[0]}" operator must have 2 elements`)):"object"!==g&&b.push(new t1(`${l}[1]`,a[1],`object expected, ${g} found`))}return b}function fo(c,a){const l=c.key,d=c.validateSpec,g=c.style,b=c.styleSpec,M=c.value,S=c.objectKey,V=b[`${a}_${c.layerType}`];if(!V)return[];const P=S.match(/^(.*)-transition$/);if("paint"===a&&P&&V[P[1]]&&V[P[1]].transition)return d({key:l,value:M,valueSpec:b.transition,style:g,styleSpec:b});const I=c.valueSpec||V[S];if(!I)return[new t1(l,M,`unknown property "${S}"`)];let R;if("string"===mt(M)&&A3(I)&&!I.tokens&&(R=/^{([^}]+)}$/.exec(M)))return[new t1(l,M,`"${S}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(R[1])} }\`.`)];const U=[];return"symbol"===c.layerType&&("text-field"===S&&g&&!g.glyphs&&U.push(new t1(l,M,'use of "text-field" requires a style "glyphs" property')),"text-font"===S&&o2(cr(M))&&"identity"===O1(M.type)&&U.push(new t1(l,M,'"text-font" does not support identity functions'))),U.concat(d({key:c.key,value:M,valueSpec:I,style:g,styleSpec:b,expressionContext:"property",propertyType:a,propertyKey:S}))}function ho(c){return fo(c,"paint")}function Sa(c){return fo(c,"layout")}function po(c){let a=[];const l=c.value,d=c.key,g=c.style,b=c.styleSpec;l.type||l.ref||a.push(new t1(d,l,'either "type" or "ref" is required'));let M=O1(l.type);const S=O1(l.ref);if(l.id){const V=O1(l.id);for(let P=0;P<c.arrayIndex;P++){const I=g.layers[P];O1(I.id)===V&&a.push(new t1(d,l.id,`duplicate layer id "${l.id}", previously used at line ${I.id.__line__}`))}}if("ref"in l){let V;["type","source","source-layer","filter","layout"].forEach(P=>{P in l&&a.push(new t1(d,l[P],`"${P}" is prohibited for ref layers`))}),g.layers.forEach(P=>{O1(P.id)===S&&(V=P)}),V?V.ref?a.push(new t1(d,l.ref,"ref cannot reference another ref layer")):M=O1(V.type):a.push(new t1(d,l.ref,`ref layer "${S}" not found`))}else if("background"!==M)if(l.source){const V=g.sources&&g.sources[l.source],P=V&&O1(V.type);V?"vector"===P&&"raster"===M?a.push(new t1(d,l.source,`layer "${l.id}" requires a raster source`)):"raster-dem"!==P&&"hillshade"===M?a.push(new t1(d,l.source,`layer "${l.id}" requires a raster-dem source`)):"raster"===P&&"raster"!==M?a.push(new t1(d,l.source,`layer "${l.id}" requires a vector source`)):"vector"!==P||l["source-layer"]?"raster-dem"===P&&"hillshade"!==M?a.push(new t1(d,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==M||!l.paint||!l.paint["line-gradient"]||"geojson"===P&&V.lineMetrics||a.push(new t1(d,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):a.push(new t1(d,l,`layer "${l.id}" must specify a "source-layer"`)):a.push(new t1(d,l.source,`source "${l.source}" not found`))}else a.push(new t1(d,l,'missing required property "source"'));return a=a.concat(gn({key:d,value:l,valueSpec:b.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${d}.type`,value:l.type,valueSpec:b.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:l,objectKey:"type"}),filter:N3,layout:V=>gn({layer:l,key:V.key,value:V.value,style:V.style,styleSpec:V.styleSpec,validateSpec:V.validateSpec,objectElementValidators:{"*":P=>Sa(Ri({layerType:M},P))}}),paint:V=>gn({layer:l,key:V.key,value:V.value,style:V.style,styleSpec:V.styleSpec,validateSpec:V.validateSpec,objectElementValidators:{"*":P=>ho(Ri({layerType:M},P))}})}})),a}function qi(c){const a=c.value,l=c.key,d=mt(a);return"string"!==d?[new t1(l,a,`string expected, ${d} found`)]:[]}const h4={promoteId:function({key:c,value:a}){if("string"===mt(a))return qi({key:c,value:a});{const l=[];for(const d in a)l.push(...qi({key:`${c}.${d}`,value:a[d]}));return l}}};function qn(c){const a=c.value,l=c.key,d=c.styleSpec,g=c.style,b=c.validateSpec;if(!a.type)return[new t1(l,a,'"type" is required')];const M=O1(a.type);let S;switch(M){case"vector":case"raster":return S=gn({key:l,value:a,valueSpec:d[`source_${M.replace("-","_")}`],style:c.style,styleSpec:d,objectElementValidators:h4,validateSpec:b}),S;case"raster-dem":return S=function(V){var P;const I=null!==(P=V.sourceName)&&void 0!==P?P:"",R=V.value,U=V.styleSpec,Y=U.source_raster_dem,X=V.style;let J=[];const oe=mt(R);if(void 0===R)return J;if("object"!==oe)return J.push(new t1("source_raster_dem",R,`object expected, ${oe} found`)),J;const ue="custom"===O1(R.encoding),be=["redFactor","greenFactor","blueFactor","baseShift"],de=V.value.encoding?`"${V.value.encoding}"`:"Default";for(const ze in R)!ue&&be.includes(ze)?J.push(new t1(ze,R[ze],`In "${I}": "${ze}" is only valid when "encoding" is set to "custom". ${de} encoding found`)):Y[ze]?J=J.concat(V.validateSpec({key:ze,value:R[ze],valueSpec:Y[ze],validateSpec:V.validateSpec,style:X,styleSpec:U})):J.push(new t1(ze,R[ze],`unknown property "${ze}"`));return J}({sourceName:l,value:a,style:c.style,styleSpec:d,validateSpec:b}),S;case"geojson":if(S=gn({key:l,value:a,valueSpec:d.source_geojson,style:g,styleSpec:d,validateSpec:b,objectElementValidators:h4}),a.cluster)for(const V in a.clusterProperties){const[P,I]=a.clusterProperties[V],R="string"==typeof P?[P,["accumulated"],["get",V]]:P;S.push(...Ui({key:`${l}.${V}.map`,value:I,validateSpec:b,expressionContext:"cluster-map"})),S.push(...Ui({key:`${l}.${V}.reduce`,value:R,validateSpec:b,expressionContext:"cluster-reduce"}))}return S;case"video":return gn({key:l,value:a,valueSpec:d.source_video,style:g,validateSpec:b,styleSpec:d});case"image":return gn({key:l,value:a,valueSpec:d.source_image,style:g,validateSpec:b,styleSpec:d});case"canvas":return[new t1(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return za({key:`${l}.type`,value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:g,validateSpec:b,styleSpec:d})}}function d4(c){const a=c.value,l=c.styleSpec,d=l.light,g=c.style;let b=[];const M=mt(a);if(void 0===a)return b;if("object"!==M)return b=b.concat([new t1("light",a,`object expected, ${M} found`)]),b;for(const S in a){const V=S.match(/^(.*)-transition$/);b=b.concat(V&&d[V[1]]&&d[V[1]].transition?c.validateSpec({key:S,value:a[S],valueSpec:l.transition,validateSpec:c.validateSpec,style:g,styleSpec:l}):d[S]?c.validateSpec({key:S,value:a[S],valueSpec:d[S],validateSpec:c.validateSpec,style:g,styleSpec:l}):[new t1(S,a[S],`unknown property "${S}"`)])}return b}function Pc(c){const a=c.value,l=c.styleSpec,d=l.terrain,g=c.style;let b=[];const M=mt(a);if(void 0===a)return b;if("object"!==M)return b=b.concat([new t1("terrain",a,`object expected, ${M} found`)]),b;for(const S in a)b=b.concat(d[S]?c.validateSpec({key:S,value:a[S],valueSpec:d[S],validateSpec:c.validateSpec,style:g,styleSpec:l}):[new t1(S,a[S],`unknown property "${S}"`)]);return b}function zi(c){let a=[];const l=c.value,d=c.key;if(Array.isArray(l)){const g=[],b=[];for(const M in l)l[M].id&&g.includes(l[M].id)&&a.push(new t1(d,l,`all the sprites' ids must be unique, but ${l[M].id} is duplicated`)),g.push(l[M].id),l[M].url&&b.includes(l[M].url)&&a.push(new t1(d,l,`all the sprites' URLs must be unique, but ${l[M].url} is duplicated`)),b.push(l[M].url),a=a.concat(gn({key:`${d}[${M}]`,value:l[M],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return a}return qi({key:d,value:l})}const Ac={"*":()=>[],array:i3,boolean:function(c){const a=c.value,l=c.key,d=mt(a);return"boolean"!==d?[new t1(l,a,`boolean expected, ${d} found`)]:[]},number:wa,color:function(c){const a=c.key,l=c.value,d=mt(l);return"string"!==d?[new t1(a,l,`color expected, ${d} found`)]:yt.parse(String(l))?[]:[new t1(a,l,`color expected, "${l}" found`)]},constants:ji,enum:za,filter:N3,function:wi,layer:po,object:gn,source:qn,light:d4,terrain:Pc,string:qi,formatted:function(c){return 0===qi(c).length?[]:Ui(c)},resolvedImage:function(c){return 0===qi(c).length?[]:Ui(c)},padding:function(c){const a=c.key,l=c.value;if("array"===mt(l)){if(l.length<1||l.length>4)return[new t1(a,l,`padding requires 1 to 4 values; ${l.length} values found`)];const d={type:"number"};let g=[];for(let b=0;b<l.length;b++)g=g.concat(c.validateSpec({key:`${a}[${b}]`,value:l[b],validateSpec:c.validateSpec,valueSpec:d}));return g}return wa({key:a,value:l,valueSpec:{}})},variableAnchorOffsetCollection:function(c){const a=c.key,l=c.value,d=mt(l),g=c.styleSpec;if("array"!==d||l.length<1||l.length%2!=0)return[new t1(a,l,"variableAnchorOffsetCollection requires a non-empty array of even length")];let b=[];for(let M=0;M<l.length;M+=2)b=b.concat(za({key:`${a}[${M}]`,value:l[M],valueSpec:g.layout_symbol["text-anchor"]})),b=b.concat(i3({key:`${a}[${M+1}]`,value:l[M+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:g}));return b},sprite:zi};function lr(c){const a=c.value,l=c.valueSpec,d=c.styleSpec;return c.validateSpec=lr,l.expression&&o2(O1(a))?wi(c):l.expression&&as(cr(a))?Ui(c):l.type&&Ac[l.type]?Ac[l.type](c):gn(Ri({},c,{valueSpec:l.type?d[l.type]:l}))}function Ic(c){const a=c.value,l=c.key,d=qi(c);return d.length||(-1===a.indexOf("{fontstack}")&&d.push(new t1(l,a,'"glyphs" url must include a "{fontstack}" token')),-1===a.indexOf("{range}")&&d.push(new t1(l,a,'"glyphs" url must include a "{range}" token'))),d}function Si(c,a=Fe){let l=[];return l=l.concat(lr({key:"",value:c,valueSpec:a.$root,styleSpec:a,style:c,validateSpec:lr,objectElementValidators:{glyphs:Ic,"*":()=>[]}})),c.constants&&(l=l.concat(ji({key:"constants",value:c.constants,style:c,styleSpec:a,validateSpec:lr}))),fs(l)}function Sr(c){return function(a){return c({...a,validateSpec:lr})}}function fs(c){return[].concat(c).sort((a,l)=>a.line-l.line)}function ur(c){return function(...a){return fs(c.apply(this,a))}}Si.source=ur(Sr(qn)),Si.sprite=ur(Sr(zi)),Si.glyphs=ur(Sr(Ic)),Si.light=ur(Sr(d4)),Si.terrain=ur(Sr(Pc)),Si.layer=ur(Sr(po)),Si.filter=ur(Sr(N3)),Si.paintProperty=ur(Sr(ho)),Si.layoutProperty=ur(Sr(Sa));const Lr=Si,C0=Lr.light,mo=Lr.paintProperty,N2=Lr.layoutProperty;function hs(c,a){let l=!1;if(a&&a.length)for(const d of a)c.fire(new L3(new Error(d.message))),l=!0;return l}class La{constructor(a,l,d){const g=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;const M=new Int32Array(this.arrayBuffer);a=M[0],this.d=(l=M[1])+2*(d=M[2]);for(let V=0;V<this.d*this.d;V++){const P=M[3+V],I=M[3+V+1];g.push(P===I?null:M.subarray(P,I))}const S=M[3+g.length+1];this.keys=M.subarray(M[3+g.length],S),this.bboxes=M.subarray(S),this.insert=this._insertReadonly}else{this.d=l+2*d;for(let M=0;M<this.d*this.d;M++)g.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=a,this.padding=d,this.scale=l/a,this.uid=0;const b=d/l*a;this.min=-b,this.max=a+b}insert(a,l,d,g,b){this._forEachCell(l,d,g,b,this._insertCell,this.uid++,void 0,void 0),this.keys.push(a),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(b)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(a,l,d,g,b,M){this.cells[b].push(M)}query(a,l,d,g,b){const M=this.min,S=this.max;if(a<=M&&l<=M&&S<=d&&S<=g&&!b)return Array.prototype.slice.call(this.keys);{const V=[];return this._forEachCell(a,l,d,g,this._queryCell,V,{},b),V}}_queryCell(a,l,d,g,b,M,S,V){const P=this.cells[b];if(null!==P){const I=this.keys,R=this.bboxes;for(let U=0;U<P.length;U++){const Y=P[U];if(void 0===S[Y]){const X=4*Y;(V?V(R[X+0],R[X+1],R[X+2],R[X+3]):a<=R[X+2]&&l<=R[X+3]&&d>=R[X+0]&&g>=R[X+1])?(S[Y]=!0,M.push(I[Y])):S[Y]=!1}}}}_forEachCell(a,l,d,g,b,M,S,V){const P=this._convertToCellCoord(a),I=this._convertToCellCoord(l),R=this._convertToCellCoord(d),U=this._convertToCellCoord(g);for(let Y=P;Y<=R;Y++)for(let X=I;X<=U;X++){const J=this.d*X+Y;if((!V||V(this._convertFromCellCoord(Y),this._convertFromCellCoord(X),this._convertFromCellCoord(Y+1),this._convertFromCellCoord(X+1)))&&b.call(this,a,l,d,g,J,M,S,V))return}}_convertFromCellCoord(a){return(a-this.padding)/this.scale}_convertToCellCoord(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const a=this.cells,l=3+this.cells.length+1+1;let d=0;for(let M=0;M<this.cells.length;M++)d+=this.cells[M].length;const g=new Int32Array(l+d+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;let b=l;for(let M=0;M<a.length;M++){const S=a[M];g[3+M]=b,g.set(S,b),b+=S.length}return g[3+a.length]=b,g.set(this.keys,b),b+=this.keys.length,g[3+a.length+1]=b,g.set(this.bboxes,b),b+=this.bboxes.length,g.buffer}static serialize(a,l){const d=a.toArrayBuffer();return l&&l.push(d),{buffer:d}}static deserialize(a){return new La(a.buffer)}}const Hr={};function f1(c,a,l={}){if(Hr[c])throw new Error(`${c} is already registered.`);Object.defineProperty(a,"_classRegistryKey",{value:c,writeable:!1}),Hr[c]={klass:a,omit:l.omit||[],shallow:l.shallow||[]}}f1("Object",Object),f1("TransferableGridIndex",La),f1("Color",yt),f1("Error",Error),f1("AJAXError",Ft),f1("ResolvedImage",an),f1("StylePropertyFunction",Mi),f1("StyleExpression",co,{omit:["_evaluator"]}),f1("ZoomDependentExpression",zr),f1("ZoomConstantExpression",os),f1("CompoundExpression",Bi,{omit:["_evaluate"]});for(const c in P3)P3[c]._classRegistryKey||f1(`Expression_${c}`,P3[c]);function ds(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&"ArrayBuffer"===c.constructor.name)}function Vr(c,a){if(null==c||"boolean"==typeof c||"number"==typeof c||"string"==typeof c||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob)return c;if(ds(c)||da(c))return a&&a.push(c),c;if(ArrayBuffer.isView(c)){const l=c;return a&&a.push(l.buffer),l}if(c instanceof ImageData)return a&&a.push(c.data.buffer),c;if(Array.isArray(c)){const l=[];for(const d of c)l.push(Vr(d,a));return l}if("object"==typeof c){const l=c.constructor,d=l._classRegistryKey;if(!d)throw new Error("can't serialize object of unregistered class");if(!Hr[d])throw new Error(`${d} is not registered.`);const g=l.serialize?l.serialize(c,a):{};if(l.serialize){if(a&&g===a[a.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const b in c){if(!c.hasOwnProperty(b)||Hr[d].omit.indexOf(b)>=0)continue;const M=c[b];g[b]=Hr[d].shallow.indexOf(b)>=0?M:Vr(M,a)}c instanceof Error&&(g.message=c.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==d&&(g.$name=d),g}throw new Error("can't serialize object of type "+typeof c)}function jt(c){if(null==c||"boolean"==typeof c||"number"==typeof c||"string"==typeof c||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||ds(c)||da(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(jt);if("object"==typeof c){const a=c.$name||"Object";if(!Hr[a])throw new Error(`can't deserialize unregistered class ${a}`);const{klass:l}=Hr[a];if(!l)throw new Error(`can't deserialize unregistered class ${a}`);if(l.deserialize)return l.deserialize(c);const d=Object.create(l.prototype);for(const g of Object.keys(c)){if("$name"===g)continue;const b=c[g];d[g]=Hr[a].shallow.indexOf(g)>=0?b:jt(b)}return d}throw new Error("can't deserialize object of type "+typeof c)}class Dn{constructor(){this.first=!0}update(a,l){const d=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=l),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=d,!0))}}const Ye={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function O2(c){for(const a of c)if(Pn(a.charCodeAt(0)))return!0;return!1}function on(c){for(const a of c)if(!Ha(a.charCodeAt(0)))return!1;return!0}function Ha(c){return!(Ye.Arabic(c)||Ye["Arabic Supplement"](c)||Ye["Arabic Extended-A"](c)||Ye["Arabic Presentation Forms-A"](c)||Ye["Arabic Presentation Forms-B"](c))}function Pn(c){return!(746!==c&&747!==c&&(c<4352||!(Ye["Bopomofo Extended"](c)||Ye.Bopomofo(c)||Ye["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||Ye["CJK Compatibility Ideographs"](c)||Ye["CJK Compatibility"](c)||Ye["CJK Radicals Supplement"](c)||Ye["CJK Strokes"](c)||!(!Ye["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||12336===c)||Ye["CJK Unified Ideographs Extension A"](c)||Ye["CJK Unified Ideographs"](c)||Ye["Enclosed CJK Letters and Months"](c)||Ye["Hangul Compatibility Jamo"](c)||Ye["Hangul Jamo Extended-A"](c)||Ye["Hangul Jamo Extended-B"](c)||Ye["Hangul Jamo"](c)||Ye["Hangul Syllables"](c)||Ye.Hiragana(c)||Ye["Ideographic Description Characters"](c)||Ye.Kanbun(c)||Ye["Kangxi Radicals"](c)||Ye["Katakana Phonetic Extensions"](c)||Ye.Katakana(c)&&12540!==c||!(!Ye["Halfwidth and Fullwidth Forms"](c)||65288===c||65289===c||65293===c||c>=65306&&c<=65310||65339===c||65341===c||65343===c||c>=65371&&c<=65503||65507===c||c>=65512&&c<=65519)||!(!Ye["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||Ye["Unified Canadian Aboriginal Syllabics"](c)||Ye["Unified Canadian Aboriginal Syllabics Extended"](c)||Ye["Vertical Forms"](c)||Ye["Yijing Hexagram Symbols"](c)||Ye["Yi Syllables"](c)||Ye["Yi Radicals"](c))))}function go(c){return!(Pn(c)||(a=c,Ye["Latin-1 Supplement"](a)&&(167===a||169===a||174===a||177===a||188===a||189===a||190===a||215===a||247===a)||Ye["General Punctuation"](a)&&(8214===a||8224===a||8225===a||8240===a||8241===a||8251===a||8252===a||8258===a||8263===a||8264===a||8265===a||8273===a)||Ye["Letterlike Symbols"](a)||Ye["Number Forms"](a)||Ye["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||9003===a||a>=9085&&a<=9114||a>=9150&&a<=9165||9167===a||a>=9169&&a<=9179||a>=9186&&a<=9215)||Ye["Control Pictures"](a)&&9251!==a||Ye["Optical Character Recognition"](a)||Ye["Enclosed Alphanumerics"](a)||Ye["Geometric Shapes"](a)||Ye["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||Ye["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||Ye["CJK Symbols and Punctuation"](a)||Ye.Katakana(a)||Ye["Private Use Area"](a)||Ye["CJK Compatibility Forms"](a)||Ye["Small Form Variants"](a)||Ye["Halfwidth and Fullwidth Forms"](a)||8734===a||8756===a||8757===a||a>=9984&&a<=10087||a>=10102&&a<=10131||65532===a||65533===a));var a}function vo(c){return c>=1424&&c<=2303||Ye["Arabic Presentation Forms-A"](c)||Ye["Arabic Presentation Forms-B"](c)}function p4(c,a){return!(!a&&vo(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||Ye.Khmer(c))}function b0(c){for(const a of c)if(vo(a.charCodeAt(0)))return!0;return!1}const yo="deferred",e2="loading",m1="loaded";let et=null,dt="unavailable",j2=null;const Er=function(c){c&&"string"==typeof c&&c.indexOf("NetworkError")>-1&&(dt="error"),et&&et(c)};function U2(){fr.fire(new Qr("pluginStateChange",{pluginStatus:dt,pluginURL:j2}))}const fr=new ga,l2=function(){return dt},Tr=function(){if(dt!==yo||!j2)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");dt=e2,U2(),j2&&Qa({url:j2},c=>{c?Er(c):(dt=m1,U2())})},q2={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>dt===m1||null!=q2.applyArabicShaping,isLoading:()=>dt===e2,setState(c){if(!k2())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");dt=c.pluginStatus,j2=c.pluginURL},isParsed(){if(!k2())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=q2.applyArabicShaping&&null!=q2.processBidirectionalText&&null!=q2.processStyledBidirectionalText},getPluginURL(){if(!k2())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return j2}};class _1{constructor(a,l){this.zoom=a,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.zoomHistory=l.zoomHistory,this.transition=l.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Dn,this.transition={})}isSupportedScript(a){return function(l,d){for(const g of l)if(!p4(g.charCodeAt(0),d))return!1;return!0}(a,q2.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const a=this.zoom,l=a-Math.floor(a),d=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*l}}}class r3{constructor(a,l){this.property=a,this.value=l,this.expression=function(d,g){if(o2(d))return new Mi(d,g);if(as(d)){const b=lo(d,g);if("error"===b.result)throw new Error(b.value.map(M=>`${M.key}: ${M.message}`).join(", "));return b.value}{let b=d;return"color"===g.type&&"string"==typeof d?b=yt.parse(d):"padding"!==g.type||"number"!=typeof d&&!Array.isArray(d)?"variableAnchorOffsetCollection"===g.type&&Array.isArray(d)&&(b=bi.parse(d)):b=ni.parse(d),{kind:"constant",evaluate:()=>b}}}(void 0===l?a.specification.default:l,a.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(a,l,d){return this.property.possiblyEvaluate(this,a,l,d)}}class ps{constructor(a){this.property=a,this.value=new r3(a,void 0)}transitioned(a,l){return new p2(this.property,this.value,l,en({},a.transition,this.transition),a.now)}untransitioned(){return new p2(this.property,this.value,null,{},0)}}class O3{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)}getValue(a){return jn(this._values[a].value.value)}setValue(a,l){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new ps(this._values[a].property)),this._values[a].value=new r3(this._values[a].property,null===l?void 0:jn(l))}getTransition(a){return jn(this._values[a].transition)}setTransition(a,l){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new ps(this._values[a].property)),this._values[a].transition=jn(l)||void 0}serialize(){const a={};for(const l of Object.keys(this._values)){const d=this.getValue(l);void 0!==d&&(a[l]=d);const g=this.getTransition(l);void 0!==g&&(a[`${l}-transition`]=g)}return a}transitioned(a,l){const d=new Va(this._properties);for(const g of Object.keys(this._values))d._values[g]=this._values[g].transitioned(a,l._values[g]);return d}untransitioned(){const a=new Va(this._properties);for(const l of Object.keys(this._values))a._values[l]=this._values[l].untransitioned();return a}}class p2{constructor(a,l,d,g,b){this.property=a,this.value=l,this.begin=b+g.delay||0,this.end=this.begin+g.duration||0,a.specification.transition&&(g.delay||g.duration)&&(this.prior=d)}possiblyEvaluate(a,l,d){const g=a.now||0,b=this.value.possiblyEvaluate(a,l,d),M=this.prior;if(M){if(g>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(g<this.begin)return M.possiblyEvaluate(a,l,d);{const S=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(M.possiblyEvaluate(a,l,d),b,function(V){if(V<=0)return 0;if(V>=1)return 1;const P=V*V,I=P*V;return 4*(V<.5?I:3*(V-P)+I-.75)}(S))}}return b}}class Va{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,l,d){const g=new a3(this._properties);for(const b of Object.keys(this._values))g._values[b]=this._values[b].possiblyEvaluate(a,l,d);return g}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class Ea{constructor(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)}hasValue(a){return void 0!==this._values[a].value}getValue(a){return jn(this._values[a].value)}setValue(a,l){this._values[a]=new r3(this._values[a].property,null===l?void 0:jn(l))}serialize(){const a={};for(const l of Object.keys(this._values)){const d=this.getValue(l);void 0!==d&&(a[l]=d)}return a}possiblyEvaluate(a,l,d){const g=new a3(this._properties);for(const b of Object.keys(this._values))g._values[b]=this._values[b].possiblyEvaluate(a,l,d);return g}}class t2{constructor(a,l,d){this.property=a,this.value=l,this.parameters=d}isConstant(){return"constant"===this.value.kind}constantOr(a){return"constant"===this.value.kind?this.value.value:a}evaluate(a,l,d,g){return this.property.evaluate(this.value,this.parameters,a,l,d,g)}}class a3{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class S1{constructor(a){this.specification=a}possiblyEvaluate(a,l){if(a.isDataDriven())throw new Error("Value should not be data driven");return a.expression.evaluate(l)}interpolate(a,l,d){const g=xi[this.specification.type];return g?g(a,l,d):a}}class H1{constructor(a,l){this.specification=a,this.overrides=l}possiblyEvaluate(a,l,d,g){return new t2(this,"constant"===a.expression.kind||"camera"===a.expression.kind?{kind:"constant",value:a.expression.evaluate(l,null,{},d,g)}:a.expression,l)}interpolate(a,l,d){if("constant"!==a.value.kind||"constant"!==l.value.kind)return a;if(void 0===a.value.value||void 0===l.value.value)return new t2(this,{kind:"constant",value:void 0},a.parameters);const g=xi[this.specification.type];if(g){const b=g(a.value.value,l.value.value,d);return new t2(this,{kind:"constant",value:b},a.parameters)}return a}evaluate(a,l,d,g,b,M){return"constant"===a.kind?a.value:a.evaluate(l,d,g,b,M)}}class oi extends H1{possiblyEvaluate(a,l,d,g){if(void 0===a.value)return new t2(this,{kind:"constant",value:void 0},l);if("constant"===a.expression.kind){const b=a.expression.evaluate(l,null,{},d,g),M="resolvedImage"===a.property.specification.type&&"string"!=typeof b?b.name:b,S=this._calculate(M,M,M,l);return new t2(this,{kind:"constant",value:S},l)}if("camera"===a.expression.kind){const b=this._calculate(a.expression.evaluate({zoom:l.zoom-1}),a.expression.evaluate({zoom:l.zoom}),a.expression.evaluate({zoom:l.zoom+1}),l);return new t2(this,{kind:"constant",value:b},l)}return new t2(this,a.expression,l)}evaluate(a,l,d,g,b,M){if("source"===a.kind){const S=a.evaluate(l,d,g,b,M);return this._calculate(S,S,S,l)}return"composite"===a.kind?this._calculate(a.evaluate({zoom:Math.floor(l.zoom)-1},d,g),a.evaluate({zoom:Math.floor(l.zoom)},d,g),a.evaluate({zoom:Math.floor(l.zoom)+1},d,g),l):a.value}_calculate(a,l,d,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:a,to:l}:{from:d,to:l}}interpolate(a){return a}}class R3{constructor(a){this.specification=a}possiblyEvaluate(a,l,d,g){if(void 0!==a.value){if("constant"===a.expression.kind){const b=a.expression.evaluate(l,null,{},d,g);return this._calculate(b,b,b,l)}return this._calculate(a.expression.evaluate(new _1(Math.floor(l.zoom-1),l)),a.expression.evaluate(new _1(Math.floor(l.zoom),l)),a.expression.evaluate(new _1(Math.floor(l.zoom+1),l)),l)}}_calculate(a,l,d,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:a,to:l}:{from:d,to:l}}interpolate(a){return a}}class F3{constructor(a){this.specification=a}possiblyEvaluate(a,l,d,g){return!!a.expression.evaluate(l,null,{},d,g)}interpolate(){return!1}}class k1{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const l in a){const d=a[l];d.specification.overridable&&this.overridableProperties.push(l);const g=this.defaultPropertyValues[l]=new r3(d,void 0),b=this.defaultTransitionablePropertyValues[l]=new ps(d);this.defaultTransitioningPropertyValues[l]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=g.possiblyEvaluate({})}}}f1("DataDrivenProperty",H1),f1("DataConstantProperty",S1),f1("CrossFadedDataDrivenProperty",oi),f1("CrossFadedProperty",R3),f1("ColorRampProperty",F3);const kc="-transition";class Gn extends ga{constructor(a,l){if(super(),this.id=a.id,this.type=a.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==a.type&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,"background"!==a.type&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),l.layout&&(this._unevaluatedLayout=new Ea(l.layout)),l.paint)){this._transitionablePaint=new O3(l.paint);for(const d in a.paint)this.setPaintProperty(d,a.paint[d],{validate:!1});for(const d in a.layout)this.setLayoutProperty(d,a.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new a3(l.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(a){return"visibility"===a?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,l,d={}){null!=l&&this._validate(N2,`layers.${this.id}.layout.${a}`,a,l,d)||("visibility"!==a?this._unevaluatedLayout.setValue(a,l):this.visibility=l)}getPaintProperty(a){return a.endsWith(kc)?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)}setPaintProperty(a,l,d={}){if(null!=l&&this._validate(mo,`layers.${this.id}.paint.${a}`,a,l,d))return!1;if(a.endsWith(kc))return this._transitionablePaint.setTransition(a.slice(0,-11),l||void 0),!1;{const g=this._transitionablePaint._values[a],b="cross-faded-data-driven"===g.property.specification["property-type"],M=g.value.isDataDriven(),S=g.value;this._transitionablePaint.setValue(a,l),this._handleSpecialPaintPropertyUpdate(a);const V=this._transitionablePaint._values[a].value;return V.isDataDriven()||M||b||this._handleOverridablePaintPropertyUpdate(a,S,V)}}_handleSpecialPaintPropertyUpdate(a){}_handleOverridablePaintPropertyUpdate(a,l,d){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||"none"===this.visibility}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,l){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,l)}serialize(){const a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),ir(a,(l,d)=>!(void 0===l||"layout"===d&&!Object.keys(l).length||"paint"===d&&!Object.keys(l).length))}_validate(a,l,d,g,b={}){return(!b||!1!==b.validate)&&hs(this,a.call(Lr,{key:l,layerType:this.type,objectKey:d,value:g,styleSpec:Fe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const a in this.paint._values){const l=this.paint.get(a);if(l instanceof t2&&A3(l.property.specification)&&("source"===l.value.kind||"composite"===l.value.kind)&&l.value.isStateDependent)return!0}return!1}}const _o={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class vn{constructor(a,l){this._structArray=a,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ut{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,l){return a._trim(),l&&(a.isTransferred=!0,l.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const l=Object.create(this.prototype);return l.arrayBuffer=a.arrayBuffer,l.length=a.length,l.capacity=a.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Pt(c,a=1){let l=0,d=0;return{members:c.map(g=>{const b=_o[g.type].BYTES_PER_ELEMENT,M=l=hr(l,Math.max(a,b)),S=g.components||1;return d=Math.max(d,b),l+=b*S,{name:g.name,type:g.type,components:S,offset:M}}),size:hr(l,Math.max(d,a)),alignment:a}}function hr(c,a){return Math.ceil(c/a)*a}class x2 extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l){const d=this.length;return this.resize(d+1),this.emplace(d,a,l)}emplace(a,l,d){const g=2*a;return this.int16[g+0]=l,this.int16[g+1]=d,a}}x2.prototype.bytesPerElement=4,f1("StructArrayLayout2i4",x2);class ms extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const b=3*a;return this.int16[b+0]=l,this.int16[b+1]=d,this.int16[b+2]=g,a}}ms.prototype.bytesPerElement=6,f1("StructArrayLayout3i6",ms);class V2 extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g){const b=this.length;return this.resize(b+1),this.emplace(b,a,l,d,g)}emplace(a,l,d,g,b){const M=4*a;return this.int16[M+0]=l,this.int16[M+1]=d,this.int16[M+2]=g,this.int16[M+3]=b,a}}V2.prototype.bytesPerElement=8,f1("StructArrayLayout4i8",V2);class cn extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,b,M){const S=this.length;return this.resize(S+1),this.emplace(S,a,l,d,g,b,M)}emplace(a,l,d,g,b,M,S){const V=6*a;return this.int16[V+0]=l,this.int16[V+1]=d,this.int16[V+2]=g,this.int16[V+3]=b,this.int16[V+4]=M,this.int16[V+5]=S,a}}cn.prototype.bytesPerElement=12,f1("StructArrayLayout2i4i12",cn);class m4 extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,b,M){const S=this.length;return this.resize(S+1),this.emplace(S,a,l,d,g,b,M)}emplace(a,l,d,g,b,M,S){const V=4*a,P=8*a;return this.int16[V+0]=l,this.int16[V+1]=d,this.uint8[P+4]=g,this.uint8[P+5]=b,this.uint8[P+6]=M,this.uint8[P+7]=S,a}}m4.prototype.bytesPerElement=8,f1("StructArrayLayout2i4ub8",m4);class Li extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l){const d=this.length;return this.resize(d+1),this.emplace(d,a,l)}emplace(a,l,d){const g=2*a;return this.float32[g+0]=l,this.float32[g+1]=d,a}}Li.prototype.bytesPerElement=8,f1("StructArrayLayout2f8",Li);class Ta extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,b,M,S,V,P,I){const R=this.length;return this.resize(R+1),this.emplace(R,a,l,d,g,b,M,S,V,P,I)}emplace(a,l,d,g,b,M,S,V,P,I,R){const U=10*a;return this.uint16[U+0]=l,this.uint16[U+1]=d,this.uint16[U+2]=g,this.uint16[U+3]=b,this.uint16[U+4]=M,this.uint16[U+5]=S,this.uint16[U+6]=V,this.uint16[U+7]=P,this.uint16[U+8]=I,this.uint16[U+9]=R,a}}Ta.prototype.bytesPerElement=20,f1("StructArrayLayout10ui20",Ta);class ci extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,b,M,S,V,P,I,R,U){const Y=this.length;return this.resize(Y+1),this.emplace(Y,a,l,d,g,b,M,S,V,P,I,R,U)}emplace(a,l,d,g,b,M,S,V,P,I,R,U,Y){const X=12*a;return this.int16[X+0]=l,this.int16[X+1]=d,this.int16[X+2]=g,this.int16[X+3]=b,this.uint16[X+4]=M,this.uint16[X+5]=S,this.uint16[X+6]=V,this.uint16[X+7]=P,this.int16[X+8]=I,this.int16[X+9]=R,this.int16[X+10]=U,this.int16[X+11]=Y,a}}ci.prototype.bytesPerElement=24,f1("StructArrayLayout4i4ui4i24",ci);class gt extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const b=3*a;return this.float32[b+0]=l,this.float32[b+1]=d,this.float32[b+2]=g,a}}gt.prototype.bytesPerElement=12,f1("StructArrayLayout3f12",gt);class C extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const l=this.length;return this.resize(l+1),this.emplace(l,a)}emplace(a,l){return this.uint32[1*a+0]=l,a}}C.prototype.bytesPerElement=4,f1("StructArrayLayout1ul4",C);class s extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,b,M,S,V,P){const I=this.length;return this.resize(I+1),this.emplace(I,a,l,d,g,b,M,S,V,P)}emplace(a,l,d,g,b,M,S,V,P,I){const R=10*a,U=5*a;return this.int16[R+0]=l,this.int16[R+1]=d,this.int16[R+2]=g,this.int16[R+3]=b,this.int16[R+4]=M,this.int16[R+5]=S,this.uint32[U+3]=V,this.uint16[R+8]=P,this.uint16[R+9]=I,a}}s.prototype.bytesPerElement=20,f1("StructArrayLayout6i1ul2ui20",s);class f extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,b,M){const S=this.length;return this.resize(S+1),this.emplace(S,a,l,d,g,b,M)}emplace(a,l,d,g,b,M,S){const V=6*a;return this.int16[V+0]=l,this.int16[V+1]=d,this.int16[V+2]=g,this.int16[V+3]=b,this.int16[V+4]=M,this.int16[V+5]=S,a}}f.prototype.bytesPerElement=12,f1("StructArrayLayout2i2i2i12",f);class m extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,b){const M=this.length;return this.resize(M+1),this.emplace(M,a,l,d,g,b)}emplace(a,l,d,g,b,M){const S=4*a,V=8*a;return this.float32[S+0]=l,this.float32[S+1]=d,this.float32[S+2]=g,this.int16[V+6]=b,this.int16[V+7]=M,a}}m.prototype.bytesPerElement=16,f1("StructArrayLayout2f1f2i16",m);class v extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d,g){const b=this.length;return this.resize(b+1),this.emplace(b,a,l,d,g)}emplace(a,l,d,g,b){const M=12*a,S=3*a;return this.uint8[M+0]=l,this.uint8[M+1]=d,this.float32[S+1]=g,this.float32[S+2]=b,a}}v.prototype.bytesPerElement=12,f1("StructArrayLayout2ub2f12",v);class x extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const b=3*a;return this.uint16[b+0]=l,this.uint16[b+1]=d,this.uint16[b+2]=g,a}}x.prototype.bytesPerElement=6,f1("StructArrayLayout3ui6",x);class L extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d,g,b,M,S,V,P,I,R,U,Y,X,J,oe,ue){const be=this.length;return this.resize(be+1),this.emplace(be,a,l,d,g,b,M,S,V,P,I,R,U,Y,X,J,oe,ue)}emplace(a,l,d,g,b,M,S,V,P,I,R,U,Y,X,J,oe,ue,be){const de=24*a,ze=12*a,Ae=48*a;return this.int16[de+0]=l,this.int16[de+1]=d,this.uint16[de+2]=g,this.uint16[de+3]=b,this.uint32[ze+2]=M,this.uint32[ze+3]=S,this.uint32[ze+4]=V,this.uint16[de+10]=P,this.uint16[de+11]=I,this.uint16[de+12]=R,this.float32[ze+7]=U,this.float32[ze+8]=Y,this.uint8[Ae+36]=X,this.uint8[Ae+37]=J,this.uint8[Ae+38]=oe,this.uint32[ze+10]=ue,this.int16[de+22]=be,a}}L.prototype.bytesPerElement=48,f1("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",L);class H extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d,g,b,M,S,V,P,I,R,U,Y,X,J,oe,ue,be,de,ze,Ae,Ue,h1,y1,l1,c1,i1,d1){const a1=this.length;return this.resize(a1+1),this.emplace(a1,a,l,d,g,b,M,S,V,P,I,R,U,Y,X,J,oe,ue,be,de,ze,Ae,Ue,h1,y1,l1,c1,i1,d1)}emplace(a,l,d,g,b,M,S,V,P,I,R,U,Y,X,J,oe,ue,be,de,ze,Ae,Ue,h1,y1,l1,c1,i1,d1,a1){const Ke=32*a,L1=16*a;return this.int16[Ke+0]=l,this.int16[Ke+1]=d,this.int16[Ke+2]=g,this.int16[Ke+3]=b,this.int16[Ke+4]=M,this.int16[Ke+5]=S,this.int16[Ke+6]=V,this.int16[Ke+7]=P,this.uint16[Ke+8]=I,this.uint16[Ke+9]=R,this.uint16[Ke+10]=U,this.uint16[Ke+11]=Y,this.uint16[Ke+12]=X,this.uint16[Ke+13]=J,this.uint16[Ke+14]=oe,this.uint16[Ke+15]=ue,this.uint16[Ke+16]=be,this.uint16[Ke+17]=de,this.uint16[Ke+18]=ze,this.uint16[Ke+19]=Ae,this.uint16[Ke+20]=Ue,this.uint16[Ke+21]=h1,this.uint16[Ke+22]=y1,this.uint32[L1+12]=l1,this.float32[L1+13]=c1,this.float32[L1+14]=i1,this.uint16[Ke+30]=d1,this.uint16[Ke+31]=a1,a}}H.prototype.bytesPerElement=64,f1("StructArrayLayout8i15ui1ul2f2ui64",H);class T extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const l=this.length;return this.resize(l+1),this.emplace(l,a)}emplace(a,l){return this.float32[1*a+0]=l,a}}T.prototype.bytesPerElement=4,f1("StructArrayLayout1f4",T);class A extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const b=3*a;return this.uint16[6*a+0]=l,this.float32[b+1]=d,this.float32[b+2]=g,a}}A.prototype.bytesPerElement=12,f1("StructArrayLayout1ui2f12",A);class N extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const b=4*a;return this.uint32[2*a+0]=l,this.uint16[b+2]=d,this.uint16[b+3]=g,a}}N.prototype.bytesPerElement=8,f1("StructArrayLayout1ul2ui8",N);class O extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l){const d=this.length;return this.resize(d+1),this.emplace(d,a,l)}emplace(a,l,d){const g=2*a;return this.uint16[g+0]=l,this.uint16[g+1]=d,a}}O.prototype.bytesPerElement=4,f1("StructArrayLayout2ui4",O);class W extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const l=this.length;return this.resize(l+1),this.emplace(l,a)}emplace(a,l){return this.uint16[1*a+0]=l,a}}W.prototype.bytesPerElement=2,f1("StructArrayLayout1ui2",W);class ne extends Ut{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d,g){const b=this.length;return this.resize(b+1),this.emplace(b,a,l,d,g)}emplace(a,l,d,g,b){const M=4*a;return this.float32[M+0]=l,this.float32[M+1]=d,this.float32[M+2]=g,this.float32[M+3]=b,a}}ne.prototype.bytesPerElement=16,f1("StructArrayLayout4f16",ne);class te extends vn{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new T1(this.anchorPointX,this.anchorPointY)}}te.prototype.size=20;class ae extends s{get(a){return new te(this,a)}}f1("CollisionBoxArray",ae);class Q extends vn{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(a){this._structArray.uint8[this._pos1+37]=a}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(a){this._structArray.uint8[this._pos1+38]=a}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(a){this._structArray.uint32[this._pos4+10]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Q.prototype.size=48;class ye extends L{get(a){return new Q(this,a)}}f1("PlacedSymbolArray",ye);class Pe extends vn{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(a){this._structArray.uint32[this._pos4+12]=a}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Pe.prototype.size=64;class le extends H{get(a){return new Pe(this,a)}}f1("SymbolInstanceArray",le);class Ce extends T{getoffsetX(a){return this.float32[1*a+0]}}f1("GlyphOffsetArray",Ce);class ke extends ms{getx(a){return this.int16[3*a+0]}gety(a){return this.int16[3*a+1]}gettileUnitDistanceFromAnchor(a){return this.int16[3*a+2]}}f1("SymbolLineVertexArray",ke);class Ie extends vn{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ie.prototype.size=12;class Be extends A{get(a){return new Ie(this,a)}}f1("TextAnchorOffsetArray",Be);class Je extends vn{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Je.prototype.size=8;class We extends N{get(a){return new Je(this,a)}}f1("FeatureIndexArray",We);class Xe extends x2{}class v1 extends x2{}class $1 extends x2{}class s1 extends cn{}class I1 extends m4{}class b1 extends Li{}class zt extends Ta{}class rt extends ci{}class Q1 extends gt{}class at extends C{}class Zt extends f{}class At extends v{}class G2 extends x{}class E2 extends O{}const n2=Pt([{name:"a_pos",components:2,type:"Int16"}],4),{members:ln}=n2;class St{constructor(a=[]){this.segments=a}prepareSegment(a,l,d,g){let b=this.segments[this.segments.length-1];return a>St.MAX_VERTEX_ARRAY_LENGTH&&tn(`Max vertices per segment is ${St.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!b||b.vertexLength+a>St.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==g)&&(b={vertexOffset:l.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},void 0!==g&&(b.sortKey=g),this.segments.push(b)),b}get(){return this.segments}destroy(){for(const a of this.segments)for(const l in a.vaos)a.vaos[l].destroy()}static simpleSegment(a,l,d,g){return new St([{vertexOffset:a,primitiveOffset:l,vertexLength:d,primitiveLength:g,vaos:{},sortKey:0}])}}function Gi(c,a){return 256*(c=nr(Math.floor(c),0,255))+nr(Math.floor(a),0,255)}St.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,f1("SegmentVector",St);const Dr=Pt([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var dr={exports:{}},_n=function(c,a){var l,d,g,b,M,S,V,P;for(d=c.length-(l=3&c.length),g=a,M=3432918353,S=461845907,P=0;P<d;)V=255&c.charCodeAt(P)|(255&c.charCodeAt(++P))<<8|(255&c.charCodeAt(++P))<<16|(255&c.charCodeAt(++P))<<24,++P,g=27492+(65535&(b=5*(65535&(g=(g^=V=(65535&(V=(V=(65535&V)*M+(((V>>>16)*M&65535)<<16)&4294967295)<<15|V>>>17))*S+(((V>>>16)*S&65535)<<16)&4294967295)<<13|g>>>19))+((5*(g>>>16)&65535)<<16)&4294967295))+((58964+(b>>>16)&65535)<<16);switch(V=0,l){case 3:V^=(255&c.charCodeAt(P+2))<<16;case 2:V^=(255&c.charCodeAt(P+1))<<8;case 1:g^=V=(65535&(V=(V=(65535&(V^=255&c.charCodeAt(P)))*M+(((V>>>16)*M&65535)<<16)&4294967295)<<15|V>>>17))*S+(((V>>>16)*S&65535)<<16)&4294967295}return g^=c.length,g=2246822507*(65535&(g^=g>>>16))+((2246822507*(g>>>16)&65535)<<16)&4294967295,g=3266489909*(65535&(g^=g>>>13))+((3266489909*(g>>>16)&65535)<<16)&4294967295,(g^=g>>>16)>>>0},Cn=function(c,a){for(var l,d=c.length,g=a^d,b=0;d>=4;)l=1540483477*(65535&(l=255&c.charCodeAt(b)|(255&c.charCodeAt(++b))<<8|(255&c.charCodeAt(++b))<<16|(255&c.charCodeAt(++b))<<24))+((1540483477*(l>>>16)&65535)<<16),g=1540483477*(65535&g)+((1540483477*(g>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),d-=4,++b;switch(d){case 3:g^=(255&c.charCodeAt(b+2))<<16;case 2:g^=(255&c.charCodeAt(b+1))<<8;case 1:g=1540483477*(65535&(g^=255&c.charCodeAt(b)))+((1540483477*(g>>>16)&65535)<<16)}return g=1540483477*(65535&(g^=g>>>13))+((1540483477*(g>>>16)&65535)<<16),(g^=g>>>15)>>>0};dr.exports=_n,dr.exports.murmur3=_n,dr.exports.murmur2=Cn;var Ir=Re(dr.exports);class m2{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(a,l,d,g){this.ids.push(M2(a)),this.positions.push(l,d,g)}getPositions(a){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const l=M2(a);let d=0,g=this.ids.length-1;for(;d<g;){const M=d+g>>1;this.ids[M]>=l?g=M:d=M+1}const b=[];for(;this.ids[d]===l;)b.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return b}static serialize(a,l){const d=new Float64Array(a.ids),g=new Uint32Array(a.positions);return li(d,g,0,d.length-1),l&&l.push(d.buffer,g.buffer),{ids:d,positions:g}}static deserialize(a){const l=new m2;return l.ids=a.ids,l.positions=a.positions,l.indexed=!0,l}}function M2(c){const a=+c;return!isNaN(a)&&a<=Number.MAX_SAFE_INTEGER?a:Ir(String(c))}function li(c,a,l,d){for(;l<d;){const g=c[l+d>>1];let b=l-1,M=d+1;for(;;){do{b++}while(c[b]<g);do{M--}while(c[M]>g);if(b>=M)break;w2(c,b,M),w2(a,3*b,3*M),w2(a,3*b+1,3*M+1),w2(a,3*b+2,3*M+2)}M-l<d-M?(li(c,a,l,M),l=M+1):(li(c,a,M+1,d),d=M)}}function w2(c,a,l){const d=c[a];c[a]=c[l],c[l]=d}f1("FeaturePositionMap",m2);class B3{constructor(a,l){this.gl=a.gl,this.location=l}}class g4 extends B3{constructor(a,l){super(a,l),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))}}class Co extends B3{constructor(a,l){super(a,l),this.current=[0,0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))}}class Nc extends B3{constructor(a,l){super(a,l),this.current=yt.transparent}set(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))}}const x0=new Float32Array(16);function bo(c){return[Gi(255*c.r,255*c.g),Gi(255*c.b,255*c.a)]}class Zi{constructor(a,l,d){this.value=a,this.uniformNames=l.map(g=>`u_${g}`),this.type=d}setUniform(a,l,d){a.set(d.constantOr(this.value))}getBinding(a,l,d){return"color"===this.type?new Nc(a,l):new g4(a,l)}}class $3{constructor(a,l){this.uniformNames=l.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(a,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=a.tlbr}setUniform(a,l,d,g){const b="u_pattern_to"===g?this.patternTo:"u_pattern_from"===g?this.patternFrom:"u_pixel_ratio_to"===g?this.pixelRatioTo:"u_pixel_ratio_from"===g?this.pixelRatioFrom:null;b&&a.set(b)}getBinding(a,l,d){return"u_pattern"===d.substr(0,9)?new Co(a,l):new g4(a,l)}}class Wi{constructor(a,l,d,g){this.expression=a,this.type=d,this.maxValue=0,this.paintVertexAttributes=l.map(b=>({name:`a_${b}`,type:"Float32",components:"color"===d?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(a,l,d,g,b){const M=this.paintVertexArray.length,S=this.expression.evaluate(new _1(0),l,{},g,[],b);this.paintVertexArray.resize(a),this._setPaintValue(M,a,S)}updatePaintArray(a,l,d,g){const b=this.expression.evaluate({zoom:0},d,g);this._setPaintValue(a,l,b)}_setPaintValue(a,l,d){if("color"===this.type){const g=bo(d);for(let b=a;b<l;b++)this.paintVertexArray.emplace(b,g[0],g[1])}else{for(let g=a;g<l;g++)this.paintVertexArray.emplace(g,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Hi{constructor(a,l,d,g,b,M){this.expression=a,this.uniformNames=l.map(S=>`u_${S}_t`),this.type=d,this.useIntegerZoom=g,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=l.map(S=>({name:`a_${S}`,type:"Float32",components:"color"===d?4:2,offset:0})),this.paintVertexArray=new M}populatePaintArray(a,l,d,g,b){const M=this.expression.evaluate(new _1(this.zoom),l,{},g,[],b),S=this.expression.evaluate(new _1(this.zoom+1),l,{},g,[],b),V=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(V,a,M,S)}updatePaintArray(a,l,d,g){const b=this.expression.evaluate({zoom:this.zoom},d,g),M=this.expression.evaluate({zoom:this.zoom+1},d,g);this._setPaintValue(a,l,b,M)}_setPaintValue(a,l,d,g){if("color"===this.type){const b=bo(d),M=bo(g);for(let S=a;S<l;S++)this.paintVertexArray.emplace(S,b[0],b[1],M[0],M[1])}else{for(let b=a;b<l;b++)this.paintVertexArray.emplace(b,d,g);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(g))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,l){const d=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,g=nr(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);a.set(g)}getBinding(a,l,d){return new g4(a,l)}}class kr{constructor(a,l,d,g,b,M){this.expression=a,this.type=l,this.useIntegerZoom=d,this.zoom=g,this.layerId=M,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b}populatePaintArray(a,l,d){const g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(g,a,l.patterns&&l.patterns[this.layerId],d)}updatePaintArray(a,l,d,g,b){this._setPaintValues(a,l,d.patterns&&d.patterns[this.layerId],b)}_setPaintValues(a,l,d,g){if(!g||!d)return;const{min:b,mid:M,max:S}=d,V=g[b],P=g[M],I=g[S];if(V&&P&&I)for(let R=a;R<l;R++)this.zoomInPaintVertexArray.emplace(R,P.tl[0],P.tl[1],P.br[0],P.br[1],V.tl[0],V.tl[1],V.br[0],V.br[1],P.pixelRatio,V.pixelRatio),this.zoomOutPaintVertexArray.emplace(R,P.tl[0],P.tl[1],P.br[0],P.br[1],I.tl[0],I.tl[1],I.br[0],I.br[1],P.pixelRatio,I.pixelRatio)}upload(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,Dr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,Dr.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class xo{constructor(a,l,d){this.binders={},this._buffers=[];const g=[];for(const b in a.paint._values){if(!d(b))continue;const M=a.paint.get(b);if(!(M instanceof t2&&A3(M.property.specification)))continue;const S=e5(b,a.type),V=M.value,P=M.property.specification.type,I=M.property.useIntegerZoom,R=M.property.specification["property-type"],U="cross-faded"===R||"cross-faded-data-driven"===R;if("constant"===V.kind)this.binders[b]=U?new $3(V.value,S):new Zi(V.value,S,P),g.push(`/u_${b}`);else if("source"===V.kind||U){const Y=t5(b,P,"source");this.binders[b]=U?new kr(V,P,I,l,Y,a.id):new Wi(V,S,P,Y),g.push(`/a_${b}`)}else{const Y=t5(b,P,"composite");this.binders[b]=new Hi(V,S,P,I,l,Y),g.push(`/z_${b}`)}}this.cacheKey=g.sort().join("")}getMaxValue(a){const l=this.binders[a];return l instanceof Wi||l instanceof Hi?l.maxValue:0}populatePaintArrays(a,l,d,g,b){for(const M in this.binders){const S=this.binders[M];(S instanceof Wi||S instanceof Hi||S instanceof kr)&&S.populatePaintArray(a,l,d,g,b)}}setConstantPatternPositions(a,l){for(const d in this.binders){const g=this.binders[d];g instanceof $3&&g.setConstantPatternPositions(a,l)}}updatePaintArrays(a,l,d,g,b){let M=!1;for(const S in a){const V=l.getPositions(S);for(const P of V){const I=d.feature(P.index);for(const R in this.binders){const U=this.binders[R];if((U instanceof Wi||U instanceof Hi||U instanceof kr)&&!0===U.expression.isStateDependent){const Y=g.paint.get(R);U.expression=Y.value,U.updatePaintArray(P.start,P.end,I,a[S],b),M=!0}}}}return M}defines(){const a=[];for(const l in this.binders){const d=this.binders[l];(d instanceof Zi||d instanceof $3)&&a.push(...d.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return a}getBinderAttributes(){const a=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof Wi||d instanceof Hi)for(let g=0;g<d.paintVertexAttributes.length;g++)a.push(d.paintVertexAttributes[g].name);else if(d instanceof kr)for(let g=0;g<Dr.members.length;g++)a.push(Dr.members[g].name)}return a}getBinderUniforms(){const a=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof Zi||d instanceof $3||d instanceof Hi)for(const g of d.uniformNames)a.push(g)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a,l){const d=[];for(const g in this.binders){const b=this.binders[g];if(b instanceof Zi||b instanceof $3||b instanceof Hi)for(const M of b.uniformNames)if(l[M]){const S=b.getBinding(a,l[M],M);d.push({name:M,property:g,binding:S})}}return d}setUniforms(a,l,d,g){for(const{name:b,property:M,binding:S}of l)this.binders[M].setUniform(S,g,d.get(M),b)}updatePaintBuffers(a){this._buffers=[];for(const l in this.binders){const d=this.binders[l];if(a&&d instanceof kr){const g=2===a.fromScale?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(d instanceof Wi||d instanceof Hi)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(a){for(const l in this.binders){const d=this.binders[l];(d instanceof Wi||d instanceof Hi||d instanceof kr)&&d.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const l=this.binders[a];(l instanceof Wi||l instanceof Hi||l instanceof kr)&&l.destroy()}}}class Z2{constructor(a,l,d=(()=>!0)){this.programConfigurations={};for(const g of a)this.programConfigurations[g.id]=new xo(g,l,d);this.needsUpload=!1,this._featureMap=new m2,this._bufferOffset=0}populatePaintArrays(a,l,d,g,b,M){for(const S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(a,l,g,b,M);void 0!==l.id&&this._featureMap.add(l.id,d,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,l,d,g){for(const b of d)this.needsUpload=this.programConfigurations[b.id].updatePaintArrays(a,this._featureMap,l,b,g)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}function e5(c,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${a}-`,"").replace(/-/g,"_")]}function t5(c,a,l){const g={"line-pattern":{source:zt,composite:zt},"fill-pattern":{source:zt,composite:zt},"fill-extrusion-pattern":{source:zt,composite:zt}}[c];return g&&g[l]||{color:{source:Li,composite:ne},number:{source:T,composite:Li}}[a][l]}f1("ConstantBinder",Zi),f1("CrossFadedConstantBinder",$3),f1("SourceExpressionBinder",Wi),f1("CrossFadedCompositeBinder",kr),f1("CompositeExpressionBinder",Hi),f1("ProgramConfiguration",xo,{omit:["_buffers"]}),f1("ProgramConfigurationSet",Z2);const T2=8192,Oc=Math.pow(2,14)-1,M0=-Oc-1;function v4(c){const a=T2/c.extent,l=c.loadGeometry();for(let d=0;d<l.length;d++){const g=l[d];for(let b=0;b<g.length;b++){const M=g[b],S=Math.round(M.x*a),V=Math.round(M.y*a);M.x=nr(S,M0,Oc),M.y=nr(V,M0,Oc),(S<M.x||S>M.x+1||V<M.y||V>M.y+1)&&tn("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function j3(c,a){return{type:c.type,id:c.id,properties:c.properties,geometry:a?v4(c):[]}}function Rc(c,a,l,d,g){c.emplaceBack(2*a+(d+1)/2,2*l+(g+1)/2)}class pr{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(l=>l.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new v1,this.indexArray=new G2,this.segments=new St,this.programConfigurations=new Z2(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(a,l,d){const g=this.layers[0],b=[];let M=null,S=!1;"circle"===g.type&&(M=g.layout.get("circle-sort-key"),S=!M.isConstant());for(const{feature:V,id:P,index:I,sourceLayerIndex:R}of a){const U=this.layers[0]._featureFilter.needGeometry,Y=j3(V,U);if(!this.layers[0]._featureFilter.filter(new _1(this.zoom),Y,d))continue;const X=S?M.evaluate(Y,{},d):void 0,J={id:P,properties:V.properties,type:V.type,sourceLayerIndex:R,index:I,geometry:U?Y.geometry:v4(V),patterns:{},sortKey:X};b.push(J)}S&&b.sort((V,P)=>V.sortKey-P.sortKey);for(const V of b){const{geometry:P,index:I,sourceLayerIndex:R}=V,U=a[I].feature;this.addFeature(V,P,I,d),l.featureIndex.insert(U,P,I,R,this.index)}}update(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,ln),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,l,d,g){for(const b of l)for(const M of b){const S=M.x,V=M.y;if(S<0||S>=T2||V<0||V>=T2)continue;const P=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),I=P.vertexLength;Rc(this.layoutVertexArray,S,V,-1,-1),Rc(this.layoutVertexArray,S,V,1,-1),Rc(this.layoutVertexArray,S,V,1,1),Rc(this.layoutVertexArray,S,V,-1,1),this.indexArray.emplaceBack(I,I+1,I+2),this.indexArray.emplaceBack(I,I+3,I+2),P.vertexLength+=4,P.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,{},g)}}function w0(c,a){for(let l=0;l<c.length;l++)if(bn(a,c[l]))return!0;for(let l=0;l<a.length;l++)if(bn(c,a[l]))return!0;return!!gs(c,a)}function n5(c,a,l){return!!bn(c,a)||!!S0(a,c,l)}function Wt(c,a){if(1===c.length)return y4(a,c[0]);for(let l=0;l<a.length;l++){const d=a[l];for(let g=0;g<d.length;g++)if(bn(c,d[g]))return!0}for(let l=0;l<c.length;l++)if(y4(a,c[l]))return!0;for(let l=0;l<a.length;l++)if(gs(c,a[l]))return!0;return!1}function z0(c,a,l){if(c.length>1){if(gs(c,a))return!0;for(let d=0;d<a.length;d++)if(S0(a[d],c,l))return!0}for(let d=0;d<c.length;d++)if(S0(c[d],a,l))return!0;return!1}function gs(c,a){if(0===c.length||0===a.length)return!1;for(let l=0;l<c.length-1;l++){const d=c[l],g=c[l+1];for(let b=0;b<a.length-1;b++)if(Vi(d,g,a[b],a[b+1]))return!0}return!1}function Vi(c,a,l,d){return ei(c,l,d)!==ei(a,l,d)&&ei(c,a,l)!==ei(c,a,d)}function S0(c,a,l){const d=l*l;if(1===a.length)return c.distSqr(a[0])<d;for(let g=1;g<a.length;g++)if(L0(c,a[g-1],a[g])<d)return!0;return!1}function L0(c,a,l){const d=a.distSqr(l);if(0===d)return c.distSqr(a);const g=((c.x-a.x)*(l.x-a.x)+(c.y-a.y)*(l.y-a.y))/d;return c.distSqr(g<0?a:g>1?l:l.sub(a)._mult(g)._add(a))}function y4(c,a){let l,d,g,b=!1;for(let M=0;M<c.length;M++){l=c[M];for(let S=0,V=l.length-1;S<l.length;V=S++)d=l[S],g=l[V],d.y>a.y!=g.y>a.y&&a.x<(g.x-d.x)*(a.y-d.y)/(g.y-d.y)+d.x&&(b=!b)}return b}function bn(c,a){let l=!1;for(let d=0,g=c.length-1;d<c.length;g=d++){const b=c[d],M=c[g];b.y>a.y!=M.y>a.y&&a.x<(M.x-b.x)*(a.y-b.y)/(M.y-b.y)+b.x&&(l=!l)}return l}function Lu(c,a,l){const d=l[0],g=l[2];if(c.x<d.x&&a.x<d.x||c.x>g.x&&a.x>g.x||c.y<d.y&&a.y<d.y||c.y>g.y&&a.y>g.y)return!1;const b=ei(c,a,l[0]);return b!==ei(c,a,l[1])||b!==ei(c,a,l[2])||b!==ei(c,a,l[3])}function Mo(c,a,l){const d=a.paint.get(c).value;return"constant"===d.kind?d.value:l.programConfigurations.get(a.id).getMaxValue(c)}function Fc(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function Nr(c,a,l,d,g){if(!a[0]&&!a[1])return c;const b=T1.convert(a)._mult(g);"viewport"===l&&b._rotate(-d);const M=[];for(let S=0;S<c.length;S++)M.push(c[S].sub(b));return M}let H0,i5;f1("CircleBucket",pr,{omit:["layers"]});var r5={get paint(){return i5=i5||new k1({"circle-radius":new H1(Fe.paint_circle["circle-radius"]),"circle-color":new H1(Fe.paint_circle["circle-color"]),"circle-blur":new H1(Fe.paint_circle["circle-blur"]),"circle-opacity":new H1(Fe.paint_circle["circle-opacity"]),"circle-translate":new S1(Fe.paint_circle["circle-translate"]),"circle-translate-anchor":new S1(Fe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new S1(Fe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new S1(Fe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new H1(Fe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new H1(Fe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new H1(Fe.paint_circle["circle-stroke-opacity"])})},get layout(){return H0=H0||new k1({"circle-sort-key":new H1(Fe.layout_circle["circle-sort-key"])})}},An=1e-6,_4=typeof Float32Array<"u"?Float32Array:Array;function V0(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function X1(c,a,l){var d=a[0],g=a[1],b=a[2],M=a[3],S=a[4],V=a[5],P=a[6],I=a[7],R=a[8],U=a[9],Y=a[10],X=a[11],J=a[12],oe=a[13],ue=a[14],be=a[15],de=l[0],ze=l[1],Ae=l[2],Ue=l[3];return c[0]=de*d+ze*S+Ae*R+Ue*J,c[1]=de*g+ze*V+Ae*U+Ue*oe,c[2]=de*b+ze*P+Ae*Y+Ue*ue,c[3]=de*M+ze*I+Ae*X+Ue*be,c[4]=(de=l[4])*d+(ze=l[5])*S+(Ae=l[6])*R+(Ue=l[7])*J,c[5]=de*g+ze*V+Ae*U+Ue*oe,c[6]=de*b+ze*P+Ae*Y+Ue*ue,c[7]=de*M+ze*I+Ae*X+Ue*be,c[8]=(de=l[8])*d+(ze=l[9])*S+(Ae=l[10])*R+(Ue=l[11])*J,c[9]=de*g+ze*V+Ae*U+Ue*oe,c[10]=de*b+ze*P+Ae*Y+Ue*ue,c[11]=de*M+ze*I+Ae*X+Ue*be,c[12]=(de=l[12])*d+(ze=l[13])*S+(Ae=l[14])*R+(Ue=l[15])*J,c[13]=de*g+ze*V+Ae*U+Ue*oe,c[14]=de*b+ze*P+Ae*Y+Ue*ue,c[15]=de*M+ze*I+Ae*X+Ue*be,c}Math.hypot||(Math.hypot=function(){for(var c=0,a=arguments.length;a--;)c+=arguments[a]*arguments[a];return Math.sqrt(c)});var vs,mg=X1;function Bc(c,a,l){var d=a[0],g=a[1],b=a[2],M=a[3];return c[0]=l[0]*d+l[4]*g+l[8]*b+l[12]*M,c[1]=l[1]*d+l[5]*g+l[9]*b+l[13]*M,c[2]=l[2]*d+l[6]*g+l[10]*b+l[14]*M,c[3]=l[3]*d+l[7]*g+l[11]*b+l[15]*M,c}vs=new _4(4),_4!=Float32Array&&(vs[0]=0,vs[1]=0,vs[2]=0,vs[3]=0);class Hu extends Gn{constructor(a){super(a,r5)}createBucket(a){return new pr(a)}queryRadius(a){const l=a;return Mo("circle-radius",this,l)+Mo("circle-stroke-width",this,l)+Fc(this.paint.get("circle-translate"))}queryIntersectsFeature(a,l,d,g,b,M,S,V){const P=Nr(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),M.angle,S),I=this.paint.get("circle-radius").evaluate(l,d)+this.paint.get("circle-stroke-width").evaluate(l,d),R="map"===this.paint.get("circle-pitch-alignment"),U=R?P:(J=V,P.map(oe=>a5(oe,J))),Y=R?I*S:I;var J;for(const X of g)for(const J of X){const oe=R?J:a5(J,V);let ue=Y;const be=Bc([],[J.x,J.y,0,1],V);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?ue*=be[3]/M.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(ue*=M.cameraToCenterDistance/be[3]),n5(U,oe,ue))return!0}return!1}}function a5(c,a){const l=Bc([],[c.x,c.y,0,1],a);return new T1(l[0]/l[3],l[1]/l[3])}class E0 extends pr{}let C4;f1("HeatmapBucket",E0,{omit:["layers"]});var Vu={get paint(){return C4=C4||new k1({"heatmap-radius":new H1(Fe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new H1(Fe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new S1(Fe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new F3(Fe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new S1(Fe.paint_heatmap["heatmap-opacity"])})}};function T0(c,{width:a,height:l},d,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==a*l*d)throw new RangeError(`mismatched image size. expected: ${g.length} but got: ${a*l*d}`)}else g=new Uint8Array(a*l*d);return c.width=a,c.height=l,c.data=g,c}function s5(c,{width:a,height:l},d){if(a===c.width&&l===c.height)return;const g=T0({},{width:a,height:l},d);D0(c,g,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,a),height:Math.min(c.height,l)},d),c.width=a,c.height=l,c.data=g.data}function D0(c,a,l,d,g,b){if(0===g.width||0===g.height)return a;if(g.width>c.width||g.height>c.height||l.x>c.width-g.width||l.y>c.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>a.width||g.height>a.height||d.x>a.width-g.width||d.y>a.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const M=c.data,S=a.data;if(M===S)throw new Error("srcData equals dstData, so image is already copied");for(let V=0;V<g.height;V++){const P=((l.y+V)*c.width+l.x)*b,I=((d.y+V)*a.width+d.x)*b;for(let R=0;R<g.width*b;R++)S[I+R]=M[P+R]}return a}class wo{constructor(a,l){T0(this,a,1,l)}resize(a){s5(this,a,1)}clone(){return new wo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,l,d,g,b){D0(a,l,d,g,b,1)}}class Ze{constructor(a,l){T0(this,a,4,l)}resize(a){s5(this,a,4)}replace(a,l){l?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new Ze({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,l,d,g,b){D0(a,l,d,g,b,4)}}function bt(c){const a={},l=c.resolution||256,d=c.clips?c.clips.length:1,g=c.image||new Ze({width:l,height:d});if(Math.log(l)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${l}`);const b=(M,S,V)=>{a[c.evaluationKey]=V;const P=c.expression.evaluate(a);g.data[M+S+0]=Math.floor(255*P.r/P.a),g.data[M+S+1]=Math.floor(255*P.g/P.a),g.data[M+S+2]=Math.floor(255*P.b/P.a),g.data[M+S+3]=Math.floor(255*P.a)};if(c.clips)for(let M=0,S=0;M<d;++M,S+=4*l)for(let V=0,P=0;V<l;V++,P+=4){const I=V/(l-1),{start:R,end:U}=c.clips[M];b(S,P,R*(1-I)+U*I)}else for(let M=0,S=0;M<l;M++,S+=4)b(0,S,M/(l-1));return g}f1("AlphaImage",wo),f1("RGBAImage",Ze);class P0 extends Gn{createBucket(a){return new E0(a)}constructor(a){super(a,Vu),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){"heatmap-color"===a&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=bt({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let $c;var In={get paint(){return $c=$c||new k1({"hillshade-illumination-direction":new S1(Fe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new S1(Fe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new S1(Fe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new S1(Fe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new S1(Fe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new S1(Fe.paint_hillshade["hillshade-accent-color"])})}};class o5 extends Gn{constructor(a){super(a,In)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const zo=Pt([{name:"a_pos",components:2,type:"Int16"}],4),{members:s3}=zo;var So={exports:{}};function ys(c,a,l){l=l||2;var d,g,b,M,S,V,P,I=a&&a.length,R=I?a[0]*l:c.length,U=c5(c,0,R,l,!0),Y=[];if(!U||U.next===U.prev)return Y;if(I&&(U=function(J,oe,ue,be){var de,ze,Ae,Ue=[];for(de=0,ze=oe.length;de<ze;de++)(Ae=c5(J,oe[de]*be,de<ze-1?oe[de+1]*be:J.length,be,!1))===Ae.next&&(Ae.steiner=!0),Ue.push(Tu(Ae));for(Ue.sort(q3),de=0;de<Ue.length;de++)ue=Eu(Ue[de],ue);return ue}(c,a,U,l)),c.length>80*l){d=b=c[0],g=M=c[1];for(var X=l;X<R;X+=l)(S=c[X])<d&&(d=S),(V=c[X+1])<g&&(g=V),S>b&&(b=S),V>M&&(M=V);P=0!==(P=Math.max(b-d,M-g))?32767/P:0}return Cs(U,Y,l,d,g,P,0),Y}function c5(c,a,l,d,g){var b,M;if(g===O0(c,a,l,d)>0)for(b=a;b<l;b+=d)M=N0(b,c[b],c[b+1],M);else for(b=l-d;b>=a;b-=d)M=N0(b,c[b],c[b+1],M);return M&&xs(M,M.next)&&(zs(M),M=M.next),M}function _s(c,a){if(!c)return c;a||(a=c);var l,d=c;do{if(l=!1,d.steiner||!xs(d,d.next)&&0!==g2(d.prev,d,d.next))d=d.next;else{if(zs(d),(d=a=d.prev)===d.next)break;l=!0}}while(l||d!==a);return a}function Cs(c,a,l,d,g,b,M){if(c){!M&&b&&function(I,R,U,Y){var X=I;do{0===X.z&&(X.z=A0(X.x,X.y,R,U,Y)),X.prevZ=X.prev,X.nextZ=X.next,X=X.next}while(X!==I);X.prevZ.nextZ=null,X.prevZ=null,function(J){var oe,ue,be,de,ze,Ae,Ue,h1,y1=1;do{for(ue=J,J=null,ze=null,Ae=0;ue;){for(Ae++,be=ue,Ue=0,oe=0;oe<y1&&(Ue++,be=be.nextZ);oe++);for(h1=y1;Ue>0||h1>0&&be;)0!==Ue&&(0===h1||!be||ue.z<=be.z)?(de=ue,ue=ue.nextZ,Ue--):(de=be,be=be.nextZ,h1--),ze?ze.nextZ=de:J=de,de.prevZ=ze,ze=de;ue=be}ze.nextZ=null,y1*=2}while(Ae>1)}(X)}(c,d,g,b);for(var S,V,P=c;c.prev!==c.next;)if(S=c.prev,V=c.next,b?U3(c,d,g,b):ui(c))a.push(S.i/l|0),a.push(c.i/l|0),a.push(V.i/l|0),zs(c),c=V.next,P=V.next;else if((c=V)===P){M?1===M?Cs(c=l5(_s(c),a,l),a,l,d,g,b,2):2===M&&bs(c,a,l,d,g,b):Cs(_s(c),a,l,d,g,b,1);break}}}function ui(c){var a=c.prev,l=c,d=c.next;if(g2(a,l,d)>=0)return!1;for(var g=a.x,b=l.x,M=d.x,S=a.y,V=l.y,P=d.y,I=g<b?g<M?g:M:b<M?b:M,R=S<V?S<P?S:P:V<P?V:P,U=g>b?g>M?g:M:b>M?b:M,Y=S>V?S>P?S:P:V>P?V:P,X=d.next;X!==a;){if(X.x>=I&&X.x<=U&&X.y>=R&&X.y<=Y&&Da(g,S,b,V,M,P,X.x,X.y)&&g2(X.prev,X,X.next)>=0)return!1;X=X.next}return!0}function U3(c,a,l,d){var g=c.prev,b=c,M=c.next;if(g2(g,b,M)>=0)return!1;for(var S=g.x,V=b.x,P=M.x,I=g.y,R=b.y,U=M.y,Y=S<V?S<P?S:P:V<P?V:P,X=I<R?I<U?I:U:R<U?R:U,J=S>V?S>P?S:P:V>P?V:P,oe=I>R?I>U?I:U:R>U?R:U,ue=A0(Y,X,a,l,d),be=A0(J,oe,a,l,d),de=c.prevZ,ze=c.nextZ;de&&de.z>=ue&&ze&&ze.z<=be;){if(de.x>=Y&&de.x<=J&&de.y>=X&&de.y<=oe&&de!==g&&de!==M&&Da(S,I,V,R,P,U,de.x,de.y)&&g2(de.prev,de,de.next)>=0||(de=de.prevZ,ze.x>=Y&&ze.x<=J&&ze.y>=X&&ze.y<=oe&&ze!==g&&ze!==M&&Da(S,I,V,R,P,U,ze.x,ze.y)&&g2(ze.prev,ze,ze.next)>=0))return!1;ze=ze.nextZ}for(;de&&de.z>=ue;){if(de.x>=Y&&de.x<=J&&de.y>=X&&de.y<=oe&&de!==g&&de!==M&&Da(S,I,V,R,P,U,de.x,de.y)&&g2(de.prev,de,de.next)>=0)return!1;de=de.prevZ}for(;ze&&ze.z<=be;){if(ze.x>=Y&&ze.x<=J&&ze.y>=X&&ze.y<=oe&&ze!==g&&ze!==M&&Da(S,I,V,R,P,U,ze.x,ze.y)&&g2(ze.prev,ze,ze.next)>=0)return!1;ze=ze.nextZ}return!0}function l5(c,a,l){var d=c;do{var g=d.prev,b=d.next.next;!xs(g,b)&&f5(g,d,d.next,b)&&ws(g,b)&&ws(b,g)&&(a.push(g.i/l|0),a.push(d.i/l|0),a.push(b.i/l|0),zs(d),zs(d.next),d=c=b),d=d.next}while(d!==c);return _s(d)}function bs(c,a,l,d,g,b){var M=c;do{for(var S=M.next.next;S!==M.prev;){if(M.i!==S.i&&I0(M,S)){var V=k0(M,S);return M=_s(M,M.next),V=_s(V,V.next),Cs(M,a,l,d,g,b,0),void Cs(V,a,l,d,g,b,0)}S=S.next}M=M.next}while(M!==c)}function q3(c,a){return c.x-a.x}function Eu(c,a){var l=function(g,b){var M,S=b,V=g.x,P=g.y,I=-1/0;do{if(P<=S.y&&P>=S.next.y&&S.next.y!==S.y){var R=S.x+(P-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(R<=V&&R>I&&(I=R,M=S.x<S.next.x?S:S.next,R===V))return M}S=S.next}while(S!==b);if(!M)return null;var U,Y=M,X=M.x,J=M.y,oe=1/0;S=M;do{V>=S.x&&S.x>=X&&V!==S.x&&Da(P<J?V:I,P,X,J,P<J?I:V,P,S.x,S.y)&&(U=Math.abs(P-S.y)/(V-S.x),ws(S,g)&&(U<oe||U===oe&&(S.x>M.x||S.x===M.x&&u5(M,S)))&&(M=S,oe=U)),S=S.next}while(S!==Y);return M}(c,a);if(!l)return a;var d=k0(l,c);return _s(d,d.next),_s(l,l.next)}function u5(c,a){return g2(c.prev,c,a.prev)<0&&g2(a.next,c,c.next)<0}function A0(c,a,l,d,g){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-l)*g|0)|c<<8))|c<<4))|c<<2))|c<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-d)*g|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function Tu(c){var a=c,l=c;do{(a.x<l.x||a.x===l.x&&a.y<l.y)&&(l=a),a=a.next}while(a!==c);return l}function Da(c,a,l,d,g,b,M,S){return(g-M)*(a-S)>=(c-M)*(b-S)&&(c-M)*(d-S)>=(l-M)*(a-S)&&(l-M)*(b-S)>=(g-M)*(d-S)}function I0(c,a){return c.next.i!==a.i&&c.prev.i!==a.i&&!function(l,d){var g=l;do{if(g.i!==l.i&&g.next.i!==l.i&&g.i!==d.i&&g.next.i!==d.i&&f5(g,g.next,l,d))return!0;g=g.next}while(g!==l);return!1}(c,a)&&(ws(c,a)&&ws(a,c)&&function(l,d){var g=l,b=!1,M=(l.x+d.x)/2,S=(l.y+d.y)/2;do{g.y>S!=g.next.y>S&&g.next.y!==g.y&&M<(g.next.x-g.x)*(S-g.y)/(g.next.y-g.y)+g.x&&(b=!b),g=g.next}while(g!==l);return b}(c,a)&&(g2(c.prev,c,a.prev)||g2(c,a.prev,a))||xs(c,a)&&g2(c.prev,c,c.next)>0&&g2(a.prev,a,a.next)>0)}function g2(c,a,l){return(a.y-c.y)*(l.x-a.x)-(a.x-c.x)*(l.y-a.y)}function xs(c,a){return c.x===a.x&&c.y===a.y}function f5(c,a,l,d){var g=Ms(g2(c,a,l)),b=Ms(g2(c,a,d)),M=Ms(g2(l,d,c)),S=Ms(g2(l,d,a));return g!==b&&M!==S||!(0!==g||!Lo(c,l,a))||!(0!==b||!Lo(c,d,a))||!(0!==M||!Lo(l,c,d))||!(0!==S||!Lo(l,a,d))}function Lo(c,a,l){return a.x<=Math.max(c.x,l.x)&&a.x>=Math.min(c.x,l.x)&&a.y<=Math.max(c.y,l.y)&&a.y>=Math.min(c.y,l.y)}function Ms(c){return c>0?1:c<0?-1:0}function ws(c,a){return g2(c.prev,c,c.next)<0?g2(c,a,c.next)>=0&&g2(c,c.prev,a)>=0:g2(c,a,c.prev)<0||g2(c,c.next,a)<0}function k0(c,a){var l=new Ho(c.i,c.x,c.y),d=new Ho(a.i,a.x,a.y),g=c.next,b=a.prev;return c.next=a,a.prev=c,l.next=g,g.prev=l,d.next=l,l.prev=d,b.next=d,d.prev=b,d}function N0(c,a,l,d){var g=new Ho(c,a,l);return d?(g.next=d.next,g.prev=d,d.next.prev=g,d.next=g):(g.prev=g,g.next=g),g}function zs(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Ho(c,a,l){this.i=c,this.x=a,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O0(c,a,l,d){for(var g=0,b=a,M=l-d;b<l;b+=d)g+=(c[M]-c[b])*(c[b+1]+c[M+1]),M=b;return g}So.exports=ys,So.exports.default=ys,ys.deviation=function(c,a,l,d){var g=a&&a.length,b=Math.abs(O0(c,0,g?a[0]*l:c.length,l));if(g)for(var M=0,S=a.length;M<S;M++)b-=Math.abs(O0(c,a[M]*l,M<S-1?a[M+1]*l:c.length,l));var V=0;for(M=0;M<d.length;M+=3){var P=d[M]*l,I=d[M+1]*l,R=d[M+2]*l;V+=Math.abs((c[P]-c[R])*(c[I+1]-c[P+1])-(c[P]-c[I])*(c[R+1]-c[P+1]))}return 0===b&&0===V?0:Math.abs((V-b)/b)},ys.flatten=function(c){for(var a=c[0][0].length,l={vertices:[],holes:[],dimensions:a},d=0,g=0;g<c.length;g++){for(var b=0;b<c[g].length;b++)for(var M=0;M<a;M++)l.vertices.push(c[g][b][M]);g>0&&l.holes.push(d+=c[g-1].length)}return l};var h5=Re(So.exports);function fi(c,a,l,d,g){Pa(c,a,l||0,d||c.length-1,g||Du)}function Pa(c,a,l,d,g){for(;d>l;){if(d-l>600){var b=d-l+1,M=a-l+1,S=Math.log(b),V=.5*Math.exp(2*S/3),P=.5*Math.sqrt(S*V*(b-V)/b)*(M-b/2<0?-1:1);Pa(c,a,Math.max(l,Math.floor(a-M*V/b+P)),Math.min(d,Math.floor(a+(b-M)*V/b+P)),g)}var I=c[a],R=l,U=d;for(Yt(c,l,a),g(c[d],I)>0&&Yt(c,l,d);R<U;){for(Yt(c,R,U),R++,U--;g(c[R],I)<0;)R++;for(;g(c[U],I)>0;)U--}0===g(c[l],I)?Yt(c,l,U):Yt(c,++U,d),U<=a&&(l=U+1),a<=U&&(d=U-1)}}function Yt(c,a,l){var d=c[a];c[a]=c[l],c[l]=d}function Du(c,a){return c<a?-1:c>a?1:0}function R0(c,a){const l=c.length;if(l<=1)return[c];const d=[];let g,b;for(let M=0;M<l;M++){const S=ki(c[M]);0!==S&&(c[M].area=Math.abs(S),void 0===b&&(b=S<0),b===S<0?(g&&d.push(g),g=[c[M]]):g.push(c[M]))}if(g&&d.push(g),a>1)for(let M=0;M<d.length;M++)d[M].length<=a||(fi(d[M],a,1,d[M].length-1,Pu),d[M]=d[M].slice(0,a));return d}function Pu(c,a){return a.area-c.area}function F0(c,a,l){const d=l.patternDependencies;let g=!1;for(const b of a){const M=b.paint.get(`${c}-pattern`);M.isConstant()||(g=!0);const S=M.constantOr(null);S&&(g=!0,d[S.to]=!0,d[S.from]=!0)}return g}function jc(c,a,l,d,g){const b=g.patternDependencies;for(const M of a){const S=M.paint.get(`${c}-pattern`).value;if("constant"!==S.kind){let V=S.evaluate({zoom:d-1},l,{},g.availableImages),P=S.evaluate({zoom:d},l,{},g.availableImages),I=S.evaluate({zoom:d+1},l,{},g.availableImages);V=V&&V.name?V.name:V,P=P&&P.name?P.name:P,I=I&&I.name?I.name:I,b[V]=!0,b[P]=!0,b[I]=!0,l.patterns[M.id]={min:V,mid:P,max:I}}}return l}class Uc{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(l=>l.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new $1,this.indexArray=new G2,this.indexArray2=new E2,this.programConfigurations=new Z2(a.layers,a.zoom),this.segments=new St,this.segments2=new St,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(a,l,d){this.hasPattern=F0("fill",this.layers,l);const g=this.layers[0].layout.get("fill-sort-key"),b=!g.isConstant(),M=[];for(const{feature:S,id:V,index:P,sourceLayerIndex:I}of a){const R=this.layers[0]._featureFilter.needGeometry,U=j3(S,R);if(!this.layers[0]._featureFilter.filter(new _1(this.zoom),U,d))continue;const Y=b?g.evaluate(U,{},d,l.availableImages):void 0,X={id:V,properties:S.properties,type:S.type,sourceLayerIndex:I,index:P,geometry:R?U.geometry:v4(S),patterns:{},sortKey:Y};M.push(X)}b&&M.sort((S,V)=>S.sortKey-V.sortKey);for(const S of M){const{geometry:V,index:P,sourceLayerIndex:I}=S;if(this.hasPattern){const R=jc("fill",this.layers,S,this.zoom,l);this.patternFeatures.push(R)}else this.addFeature(S,V,P,d,{});l.featureIndex.insert(a[P].feature,V,P,I,this.index)}}update(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)}addFeatures(a,l,d){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,l,d)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,s3),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,l,d,g,b){for(const M of R0(l,500)){let S=0;for(const Y of M)S+=Y.length;const V=this.segments.prepareSegment(S,this.layoutVertexArray,this.indexArray),P=V.vertexLength,I=[],R=[];for(const Y of M){if(0===Y.length)continue;Y!==M[0]&&R.push(I.length/2);const X=this.segments2.prepareSegment(Y.length,this.layoutVertexArray,this.indexArray2),J=X.vertexLength;this.layoutVertexArray.emplaceBack(Y[0].x,Y[0].y),this.indexArray2.emplaceBack(J+Y.length-1,J),I.push(Y[0].x),I.push(Y[0].y);for(let oe=1;oe<Y.length;oe++)this.layoutVertexArray.emplaceBack(Y[oe].x,Y[oe].y),this.indexArray2.emplaceBack(J+oe-1,J+oe),I.push(Y[oe].x),I.push(Y[oe].y);X.vertexLength+=Y.length,X.primitiveLength+=Y.length}const U=h5(I,R);for(let Y=0;Y<U.length;Y+=3)this.indexArray.emplaceBack(P+U[Y],P+U[Y+1],P+U[Y+2]);V.vertexLength+=S,V.primitiveLength+=U.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,b,g)}}let Vo,G3;f1("FillBucket",Uc,{omit:["layers","patternFeatures"]});var Au={get paint(){return G3=G3||new k1({"fill-antialias":new S1(Fe.paint_fill["fill-antialias"]),"fill-opacity":new H1(Fe.paint_fill["fill-opacity"]),"fill-color":new H1(Fe.paint_fill["fill-color"]),"fill-outline-color":new H1(Fe.paint_fill["fill-outline-color"]),"fill-translate":new S1(Fe.paint_fill["fill-translate"]),"fill-translate-anchor":new S1(Fe.paint_fill["fill-translate-anchor"]),"fill-pattern":new oi(Fe.paint_fill["fill-pattern"])})},get layout(){return Vo=Vo||new k1({"fill-sort-key":new H1(Fe.layout_fill["fill-sort-key"])})}};class qc extends Gn{constructor(a){super(a,Au)}recalculate(a,l){super.recalculate(a,l);const d=this.paint._values["fill-outline-color"];"constant"===d.value.kind&&void 0===d.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Uc(a)}queryRadius(){return Fc(this.paint.get("fill-translate"))}queryIntersectsFeature(a,l,d,g,b,M,S){return Wt(Nr(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),M.angle,S),g)}isTileClipped(){return!0}}const Gc=Pt([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Zc=Pt([{name:"a_centroid",components:2,type:"Int16"}],4),{members:B0}=Gc;var Z3={},d5=Ai,p5=Or;function Or(c,a,l,d,g){this.properties={},this.extent=l,this.type=0,this._pbf=c,this._geometry=-1,this._keys=d,this._values=g,c.readFields(Eo,this,a)}function Eo(c,a,l){1==c?a.id=l.readVarint():2==c?function(d,g){for(var b=d.readVarint()+d.pos;d.pos<b;){var M=g._keys[d.readVarint()],S=g._values[d.readVarint()];g.properties[M]=S}}(l,a):3==c?a.type=l.readVarint():4==c&&(a._geometry=l.pos)}function Iu(c){for(var a,l,d=0,g=0,b=c.length,M=b-1;g<b;M=g++)d+=((l=c[M]).x-(a=c[g]).x)*(a.y+l.y);return d}Or.types=["Unknown","Point","LineString","Polygon"],Or.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var a,l=c.readVarint()+c.pos,d=1,g=0,b=0,M=0,S=[];c.pos<l;){if(g<=0){var V=c.readVarint();d=7&V,g=V>>3}if(g--,1===d||2===d)b+=c.readSVarint(),M+=c.readSVarint(),1===d&&(a&&S.push(a),a=[]),a.push(new d5(b,M));else{if(7!==d)throw new Error("unknown command "+d);a&&a.push(a[0].clone())}}return a&&S.push(a),S},Or.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var a=c.readVarint()+c.pos,l=1,d=0,g=0,b=0,M=1/0,S=-1/0,V=1/0,P=-1/0;c.pos<a;){if(d<=0){var I=c.readVarint();l=7&I,d=I>>3}if(d--,1===l||2===l)(g+=c.readSVarint())<M&&(M=g),g>S&&(S=g),(b+=c.readSVarint())<V&&(V=b),b>P&&(P=b);else if(7!==l)throw new Error("unknown command "+l)}return[M,V,S,P]},Or.prototype.toGeoJSON=function(c,a,l){var d,g,b=this.extent*Math.pow(2,l),M=this.extent*c,S=this.extent*a,V=this.loadGeometry(),P=Or.types[this.type];function I(Y){for(var X=0;X<Y.length;X++){var J=Y[X];Y[X]=[360*(J.x+M)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(J.y+S)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var R=[];for(d=0;d<V.length;d++)R[d]=V[d][0];I(V=R);break;case 2:for(d=0;d<V.length;d++)I(V[d]);break;case 3:for(V=function(Y){var X=Y.length;if(X<=1)return[Y];for(var J,oe,ue=[],be=0;be<X;be++){var de=Iu(Y[be]);0!==de&&(void 0===oe&&(oe=de<0),oe===de<0?(J&&ue.push(J),J=[Y[be]]):J.push(Y[be]))}return J&&ue.push(J),ue}(V),d=0;d<V.length;d++)for(g=0;g<V[d].length;g++)I(V[d][g])}1===V.length?V=V[0]:P="Multi"+P;var U={type:"Feature",geometry:{type:P,coordinates:V},properties:this.properties};return"id"in this&&(U.id=this.id),U};var gg=p5,Wc=ku;function ku(c,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(Nu,this,a),this.length=this._features.length}function Nu(c,a,l){15===c?a.version=l.readVarint():1===c?a.name=l.readString():5===c?a.extent=l.readVarint():2===c?a._features.push(l.pos):3===c?a._keys.push(l.readString()):4===c&&a._values.push(function(d){for(var g=null,b=d.readVarint()+d.pos;d.pos<b;){var M=d.readVarint()>>3;g=1===M?d.readString():2===M?d.readFloat():3===M?d.readDouble():4===M?d.readVarint64():5===M?d.readVarint():6===M?d.readSVarint():7===M?d.readBoolean():null}return g}(l))}ku.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var a=this._pbf.readVarint()+this._pbf.pos;return new gg(this._pbf,a,this.extent,this._keys,this._values)};var Ou=Wc;function vg(c,a,l){if(3===c){var d=new Ou(l,l.readVarint()+l.pos);d.length&&(a[d.name]=d)}}Z3.VectorTile=function(c,a){this.layers=c.readFields(vg,{},a)},Z3.VectorTileFeature=p5,Z3.VectorTileLayer=Wc;const yg=Z3.VectorTileFeature.types,To=Math.pow(2,13);function W3(c,a,l,d,g,b,M,S){c.emplaceBack(a,l,2*Math.floor(d*To)+M,g*To*2,b*To*2,Math.round(S))}class $0{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(l=>l.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new s1,this.centroidVertexArray=new Xe,this.indexArray=new G2,this.programConfigurations=new Z2(a.layers,a.zoom),this.segments=new St,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(a,l,d){this.features=[],this.hasPattern=F0("fill-extrusion",this.layers,l);for(const{feature:g,id:b,index:M,sourceLayerIndex:S}of a){const V=this.layers[0]._featureFilter.needGeometry,P=j3(g,V);if(!this.layers[0]._featureFilter.filter(new _1(this.zoom),P,d))continue;const I={id:b,sourceLayerIndex:S,index:M,geometry:V?P.geometry:v4(g),properties:g.properties,type:g.type,patterns:{}};this.hasPattern?this.features.push(jc("fill-extrusion",this.layers,I,this.zoom,l)):this.addFeature(I,I.geometry,M,d,{}),l.featureIndex.insert(g,I.geometry,M,S,this.index,!0)}}addFeatures(a,l,d){for(const g of this.features){const{geometry:b}=g;this.addFeature(g,b,g.index,l,d)}}update(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,B0),this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,Zc.members,!0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(a,l,d,g,b){const M={x:0,y:0,vertexCount:0};for(const S of R0(l,500)){let V=0;for(const X of S)V+=X.length;let P=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const X of S){if(0===X.length||((c=X).every(a=>a.x<0)||c.every(a=>a.x>T2)||c.every(a=>a.y<0)||c.every(a=>a.y>T2)))continue;let J=0;for(let oe=0;oe<X.length;oe++){const ue=X[oe];if(oe>=1){const be=X[oe-1];if(!Do(ue,be)){P.vertexLength+4>St.MAX_VERTEX_ARRAY_LENGTH&&(P=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const de=ue.sub(be)._perp()._unit(),ze=be.dist(ue);J+ze>32768&&(J=0),W3(this.layoutVertexArray,ue.x,ue.y,de.x,de.y,0,0,J),W3(this.layoutVertexArray,ue.x,ue.y,de.x,de.y,0,1,J),M.x+=2*ue.x,M.y+=2*ue.y,M.vertexCount+=2,J+=ze,W3(this.layoutVertexArray,be.x,be.y,de.x,de.y,0,0,J),W3(this.layoutVertexArray,be.x,be.y,de.x,de.y,0,1,J),M.x+=2*be.x,M.y+=2*be.y,M.vertexCount+=2;const Ae=P.vertexLength;this.indexArray.emplaceBack(Ae,Ae+2,Ae+1),this.indexArray.emplaceBack(Ae+1,Ae+2,Ae+3),P.vertexLength+=4,P.primitiveLength+=2}}}}if(P.vertexLength+V>St.MAX_VERTEX_ARRAY_LENGTH&&(P=this.segments.prepareSegment(V,this.layoutVertexArray,this.indexArray)),"Polygon"!==yg[a.type])continue;const I=[],R=[],U=P.vertexLength;for(const X of S)if(0!==X.length){X!==S[0]&&R.push(I.length/2);for(let J=0;J<X.length;J++){const oe=X[J];W3(this.layoutVertexArray,oe.x,oe.y,0,0,1,1,0),M.x+=oe.x,M.y+=oe.y,M.vertexCount+=1,I.push(oe.x),I.push(oe.y)}}const Y=h5(I,R);for(let X=0;X<Y.length;X+=3)this.indexArray.emplaceBack(U+Y[X],U+Y[X+2],U+Y[X+1]);P.primitiveLength+=Y.length/3,P.vertexLength+=V}var c;for(let S=0;S<M.vertexCount;S++)this.centroidVertexArray.emplaceBack(Math.floor(M.x/M.vertexCount),Math.floor(M.y/M.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,b,g)}}function Do(c,a){return c.x===a.x&&(c.x<0||c.x>T2)||c.y===a.y&&(c.y<0||c.y>T2)}let Po;f1("FillExtrusionBucket",$0,{omit:["layers","features"]});var _g={get paint(){return Po=Po||new k1({"fill-extrusion-opacity":new S1(Fe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new H1(Fe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new S1(Fe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new S1(Fe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new oi(Fe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new H1(Fe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new H1(Fe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new S1(Fe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class m5 extends Gn{constructor(a){super(a,_g)}createBucket(a){return new $0(a)}queryRadius(){return Fc(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(a,l,d,g,b,M,S,V){const P=Nr(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),M.angle,S),I=this.paint.get("fill-extrusion-height").evaluate(l,d),R=this.paint.get("fill-extrusion-base").evaluate(l,d),U=function(X,J,oe,ue){const be=[];for(const de of X){const ze=[de.x,de.y,0,1];Bc(ze,ze,J),be.push(new T1(ze[0]/ze[3],ze[1]/ze[3]))}return be}(P,V),Y=function(X,J,oe,ue){const be=[],de=[],ze=ue[8]*J,Ae=ue[9]*J,Ue=ue[10]*J,h1=ue[11]*J,y1=ue[8]*oe,l1=ue[9]*oe,c1=ue[10]*oe,i1=ue[11]*oe;for(const d1 of X){const a1=[],Ke=[];for(const L1 of d1){const x1=L1.x,st=L1.y,qt=ue[0]*x1+ue[4]*st+ue[12],Xt=ue[1]*x1+ue[5]*st+ue[13],R2=ue[2]*x1+ue[6]*st+ue[14],pi=ue[3]*x1+ue[7]*st+ue[15],On=R2+Ue,u2=pi+h1,F2=qt+y1,z2=Xt+l1,Yn=R2+c1,Xn=pi+i1,Y2=new T1((qt+ze)/u2,(Xt+Ae)/u2);Y2.z=On/u2,a1.push(Y2);const B2=new T1(F2/Xn,z2/Xn);B2.z=Yn/Xn,Ke.push(B2)}be.push(a1),de.push(Ke)}return[be,de]}(g,R,I,V);return function(X,J,oe){let ue=1/0;Wt(oe,J)&&(ue=g5(oe,J[0]));for(let be=0;be<J.length;be++){const de=J[be],ze=X[be];for(let Ae=0;Ae<de.length-1;Ae++){const Ue=de[Ae],h1=[Ue,de[Ae+1],ze[Ae+1],ze[Ae],Ue];w0(oe,h1)&&(ue=Math.min(ue,g5(oe,h1)))}}return ue!==1/0&&ue}(Y[0],Y[1],U)}}function Ss(c,a){return c.x*a.x+c.y*a.y}function g5(c,a){if(1===c.length){let l=0;const d=a[l++];let g;for(;!g||d.equals(g);)if(g=a[l++],!g)return 1/0;for(;l<a.length;l++){const b=a[l],M=c[0],S=g.sub(d),V=b.sub(d),P=M.sub(d),I=Ss(S,S),R=Ss(S,V),U=Ss(V,V),Y=Ss(P,S),X=Ss(P,V),J=I*U-R*R,oe=(U*Y-R*X)/J,ue=(I*X-R*Y)/J,be=d.z*(1-oe-ue)+g.z*oe+b.z*ue;if(isFinite(be))return be}return 1/0}{let l=1/0;for(const d of a)l=Math.min(l,d.z);return l}}const o3=Pt([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Ru}=o3,Yc=Pt([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:U0}=Yc,v5=Z3.VectorTileFeature.types,Xc=Math.cos(Math.PI/180*37.5),Kc=Math.pow(2,14)/.5;class q0{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(l=>l.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new I1,this.layoutVertexArray2=new b1,this.indexArray=new G2,this.programConfigurations=new Z2(a.layers,a.zoom),this.segments=new St,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(a,l,d){this.hasPattern=F0("line",this.layers,l);const g=this.layers[0].layout.get("line-sort-key"),b=!g.isConstant(),M=[];for(const{feature:S,id:V,index:P,sourceLayerIndex:I}of a){const R=this.layers[0]._featureFilter.needGeometry,U=j3(S,R);if(!this.layers[0]._featureFilter.filter(new _1(this.zoom),U,d))continue;const Y=b?g.evaluate(U,{},d):void 0,X={id:V,properties:S.properties,type:S.type,sourceLayerIndex:I,index:P,geometry:R?U.geometry:v4(S),patterns:{},sortKey:Y};M.push(X)}b&&M.sort((S,V)=>S.sortKey-V.sortKey);for(const S of M){const{geometry:V,index:P,sourceLayerIndex:I}=S;if(this.hasPattern){const R=jc("line",this.layers,S,this.zoom,l);this.patternFeatures.push(R)}else this.addFeature(S,V,P,d,{});l.featureIndex.insert(a[P].feature,V,P,I,this.index)}}update(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)}addFeatures(a,l,d){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,l,d)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,U0)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Ru),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,l,d,g,b){const M=this.layers[0].layout,S=M.get("line-join").evaluate(a,{}),V=M.get("line-cap"),P=M.get("line-miter-limit"),I=M.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const R of l)this.addLine(R,a,S,V,P,I);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,b,g)}addLine(a,l,d,g,b,M){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ue=0;ue<a.length-1;ue++)this.totalDistance+=a[ue].dist(a[ue+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const S="Polygon"===v5[l.type];let V=a.length;for(;V>=2&&a[V-1].equals(a[V-2]);)V--;let P=0;for(;P<V-1&&a[P].equals(a[P+1]);)P++;if(V<(S?3:2))return;"bevel"===d&&(b=1.05);const I=this.overscaling<=16?15*T2/(512*this.overscaling):0,R=this.segments.prepareSegment(10*V,this.layoutVertexArray,this.indexArray);let U,Y,X,J,oe;this.e1=this.e2=-1,S&&(U=a[V-2],oe=a[P].sub(U)._unit()._perp());for(let ue=P;ue<V;ue++){if(X=ue===V-1?S?a[P+1]:void 0:a[ue+1],X&&a[ue].equals(X))continue;oe&&(J=oe),U&&(Y=U),U=a[ue],oe=X?X.sub(U)._unit()._perp():J,J=J||oe;let be=J.add(oe);0===be.x&&0===be.y||be._unit();const de=J.x*oe.x+J.y*oe.y,ze=be.x*oe.x+be.y*oe.y,Ae=0!==ze?1/ze:1/0,Ue=2*Math.sqrt(2-2*ze),h1=ze<Xc&&Y&&X,y1=J.x*oe.y-J.y*oe.x>0;if(h1&&ue>P){const i1=U.dist(Y);if(i1>2*I){const d1=U.sub(U.sub(Y)._mult(I/i1)._round());this.updateDistance(Y,d1),this.addCurrentVertex(d1,J,0,0,R),Y=d1}}const l1=Y&&X;let c1=l1?d:S?"butt":g;if(l1&&"round"===c1&&(Ae<M?c1="miter":Ae<=2&&(c1="fakeround")),"miter"===c1&&Ae>b&&(c1="bevel"),"bevel"===c1&&(Ae>2&&(c1="flipbevel"),Ae<b&&(c1="miter")),Y&&this.updateDistance(Y,U),"miter"===c1)be._mult(Ae),this.addCurrentVertex(U,be,0,0,R);else if("flipbevel"===c1){if(Ae>100)be=oe.mult(-1);else{const i1=Ae*J.add(oe).mag()/J.sub(oe).mag();be._perp()._mult(i1*(y1?-1:1))}this.addCurrentVertex(U,be,0,0,R),this.addCurrentVertex(U,be.mult(-1),0,0,R)}else if("bevel"===c1||"fakeround"===c1){const i1=-Math.sqrt(Ae*Ae-1),d1=y1?i1:0,a1=y1?0:i1;if(Y&&this.addCurrentVertex(U,J,d1,a1,R),"fakeround"===c1){const Ke=Math.round(180*Ue/Math.PI/20);for(let L1=1;L1<Ke;L1++){let x1=L1/Ke;if(.5!==x1){const qt=x1-.5;x1+=x1*qt*(x1-1)*((1.0904+de*(de*(3.55645-1.43519*de)-3.2452))*qt*qt+(.848013+de*(.215638*de-1.06021)))}const st=oe.sub(J)._mult(x1)._add(J)._unit()._mult(y1?-1:1);this.addHalfVertex(U,st.x,st.y,!1,y1,0,R)}}X&&this.addCurrentVertex(U,oe,-d1,-a1,R)}else if("butt"===c1)this.addCurrentVertex(U,be,0,0,R);else if("square"===c1){const i1=Y?1:-1;this.addCurrentVertex(U,be,i1,i1,R)}else"round"===c1&&(Y&&(this.addCurrentVertex(U,J,0,0,R),this.addCurrentVertex(U,J,1,1,R,!0)),X&&(this.addCurrentVertex(U,oe,-1,-1,R,!0),this.addCurrentVertex(U,oe,0,0,R)));if(h1&&ue<V-1){const i1=U.dist(X);if(i1>2*I){const d1=U.add(X.sub(U)._mult(I/i1)._round());this.updateDistance(U,d1),this.addCurrentVertex(d1,oe,0,0,R),U=d1}}}}addCurrentVertex(a,l,d,g,b,M=!1){const S=l.y*g-l.x,V=-l.y-l.x*g;this.addHalfVertex(a,l.x+l.y*d,l.y-l.x*d,M,!1,d,b),this.addHalfVertex(a,S,V,M,!0,-g,b),this.distance>Kc/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(a,l,d,g,b,M))}addHalfVertex({x:a,y:l},d,g,b,M,S,V){const P=.5*(this.lineClips?this.scaledDistance*(Kc-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a<<1)+(b?1:0),(l<<1)+(M?1:0),Math.round(63*d)+128,Math.round(63*g)+128,1+(0===S?0:S<0?-1:1)|(63&P)<<2,P>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const I=V.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,I),V.primitiveLength++),M?this.e2=I:this.e1=I}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(a,l){this.distance+=a.dist(l),this.updateScaledDistance()}}let G0,Z0;f1("LineBucket",q0,{omit:["layers","patternFeatures"]});var W0={get paint(){return Z0=Z0||new k1({"line-opacity":new H1(Fe.paint_line["line-opacity"]),"line-color":new H1(Fe.paint_line["line-color"]),"line-translate":new S1(Fe.paint_line["line-translate"]),"line-translate-anchor":new S1(Fe.paint_line["line-translate-anchor"]),"line-width":new H1(Fe.paint_line["line-width"]),"line-gap-width":new H1(Fe.paint_line["line-gap-width"]),"line-offset":new H1(Fe.paint_line["line-offset"]),"line-blur":new H1(Fe.paint_line["line-blur"]),"line-dasharray":new R3(Fe.paint_line["line-dasharray"]),"line-pattern":new oi(Fe.paint_line["line-pattern"]),"line-gradient":new F3(Fe.paint_line["line-gradient"])})},get layout(){return G0=G0||new k1({"line-cap":new S1(Fe.layout_line["line-cap"]),"line-join":new H1(Fe.layout_line["line-join"]),"line-miter-limit":new S1(Fe.layout_line["line-miter-limit"]),"line-round-limit":new S1(Fe.layout_line["line-round-limit"]),"line-sort-key":new H1(Fe.layout_line["line-sort-key"])})}};class y5 extends H1{possiblyEvaluate(a,l){return l=new _1(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(a,l)}evaluate(a,l,d,g){return l=en({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(a,l,d,g)}}let Qc;class Jc extends Gn{constructor(a){super(a,W0),this.gradientVersion=0,Qc||(Qc=new y5(W0.paint.properties["line-width"].specification),Qc.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(a){if("line-gradient"===a){const l=this.gradientExpression();this.stepInterpolant=!(void 0===l._styleExpression)&&l._styleExpression.expression instanceof T3,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,l){super.recalculate(a,l),this.paint._values["line-floorwidth"]=Qc.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new q0(a)}queryRadius(a){const l=a,d=Aa(Mo("line-width",this,l),Mo("line-gap-width",this,l)),g=Mo("line-offset",this,l);return d/2+Math.abs(g)+Fc(this.paint.get("line-translate"))}queryIntersectsFeature(a,l,d,g,b,M,S){const V=Nr(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),M.angle,S),P=S/2*Aa(this.paint.get("line-width").evaluate(l,d),this.paint.get("line-gap-width").evaluate(l,d)),I=this.paint.get("line-offset").evaluate(l,d);return I&&(g=function(R,U){const Y=[];for(let X=0;X<R.length;X++){const J=R[X],oe=[];for(let ue=0;ue<J.length;ue++){const be=J[ue-1],de=J[ue],ze=J[ue+1],Ae=0===ue?new T1(0,0):de.sub(be)._unit()._perp(),Ue=ue===J.length-1?new T1(0,0):ze.sub(de)._unit()._perp(),h1=Ae._add(Ue)._unit(),y1=h1.x*Ue.x+h1.y*Ue.y;0!==y1&&h1._mult(1/y1),oe.push(h1._mult(U)._add(de))}Y.push(oe)}return Y}(g,I*S)),function(R,U,Y){for(let X=0;X<U.length;X++){const J=U[X];if(R.length>=3)for(let oe=0;oe<J.length;oe++)if(bn(R,J[oe]))return!0;if(z0(R,J,Y))return!0}return!1}(V,g,P)}isTileClipped(){return!0}}function Aa(c,a){return a>0?a+2*c:c}const Fu=Pt([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),_5=Pt([{name:"a_projected_pos",components:3,type:"Float32"}],4);Pt([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const C5=Pt([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Pt([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Ls=Pt([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Bu=Pt([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function hi(c,a,l){return c.sections.forEach(d=>{d.text=function(g,b,M){const S=b.layout.get("text-transform").evaluate(M,{});return"uppercase"===S?g=g.toLocaleUpperCase():"lowercase"===S&&(g=g.toLocaleLowerCase()),q2.applyArabicShaping&&(g=q2.applyArabicShaping(g)),g}(d.text,a,l)}),c}Pt([{name:"triangle",components:3,type:"Uint16"}]),Pt([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Pt([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Pt([{type:"Float32",name:"offsetX"}]),Pt([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Pt([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Ao={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var D2=24,e6=Mt,b5=function(c,a,l,d,g){var b,M,S=8*g-d-1,V=(1<<S)-1,P=V>>1,I=-7,R=l?g-1:0,U=l?-1:1,Y=c[a+R];for(R+=U,b=Y&(1<<-I)-1,Y>>=-I,I+=S;I>0;b=256*b+c[a+R],R+=U,I-=8);for(M=b&(1<<-I)-1,b>>=-I,I+=d;I>0;M=256*M+c[a+R],R+=U,I-=8);if(0===b)b=1-P;else{if(b===V)return M?NaN:1/0*(Y?-1:1);M+=Math.pow(2,d),b-=P}return(Y?-1:1)*M*Math.pow(2,b-d)},Y0=function(c,a,l,d,g,b){var M,S,V,P=8*b-g-1,I=(1<<P)-1,R=I>>1,U=23===g?Math.pow(2,-24)-Math.pow(2,-77):0,Y=d?0:b-1,X=d?1:-1,J=a<0||0===a&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(S=isNaN(a)?1:0,M=I):(M=Math.floor(Math.log(a)/Math.LN2),a*(V=Math.pow(2,-M))<1&&(M--,V*=2),(a+=M+R>=1?U/V:U*Math.pow(2,1-R))*V>=2&&(M++,V/=2),M+R>=I?(S=0,M=I):M+R>=1?(S=(a*V-1)*Math.pow(2,g),M+=R):(S=a*Math.pow(2,R-1)*Math.pow(2,g),M=0));g>=8;c[l+Y]=255&S,Y+=X,S/=256,g-=8);for(M=M<<g|S,P+=g;P>0;c[l+Y]=255&M,Y+=X,M/=256,P-=8);c[l+Y-X]|=128*J};function Mt(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}Mt.Varint=0,Mt.Fixed64=1,Mt.Bytes=2,Mt.Fixed32=5;var Ia=4294967296,b4=1/Ia,x4=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function c3(c){return c.type===Mt.Bytes?c.readVarint()+c.pos:c.pos+1}function M4(c,a,l){var d=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));l.realloc(d);for(var g=l.pos-1;g>=c;g--)l.buf[g+d]=l.buf[g]}function Cg(c,a){for(var l=0;l<c.length;l++)a.writeVarint(c[l])}function $u(c,a){for(var l=0;l<c.length;l++)a.writeSVarint(c[l])}function bg(c,a){for(var l=0;l<c.length;l++)a.writeFloat(c[l])}function xg(c,a){for(var l=0;l<c.length;l++)a.writeDouble(c[l])}function Mg(c,a){for(var l=0;l<c.length;l++)a.writeBoolean(c[l])}function wg(c,a){for(var l=0;l<c.length;l++)a.writeFixed32(c[l])}function zg(c,a){for(var l=0;l<c.length;l++)a.writeSFixed32(c[l])}function Sg(c,a){for(var l=0;l<c.length;l++)a.writeFixed64(c[l])}function Hs(c,a){for(var l=0;l<c.length;l++)a.writeSFixed64(c[l])}function t6(c,a){return(c[a]|c[a+1]<<8|c[a+2]<<16)+16777216*c[a+3]}function Vs(c,a,l){c[l]=a,c[l+1]=a>>>8,c[l+2]=a>>>16,c[l+3]=a>>>24}function W2(c,a){return(c[a]|c[a+1]<<8|c[a+2]<<16)+(c[a+3]<<24)}Mt.prototype={destroy:function(){this.buf=null},readFields:function(c,a,l){for(l=l||this.length;this.pos<l;){var d=this.readVarint(),g=d>>3,b=this.pos;this.type=7&d,c(g,a,this),this.pos===b&&this.skip(d)}return a},readMessage:function(c,a){return this.readFields(c,a,this.readVarint()+this.pos)},readFixed32:function(){var c=t6(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=W2(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=t6(this.buf,this.pos)+t6(this.buf,this.pos+4)*Ia;return this.pos+=8,c},readSFixed64:function(){var c=t6(this.buf,this.pos)+W2(this.buf,this.pos+4)*Ia;return this.pos+=8,c},readFloat:function(){var c=b5(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=b5(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var a,l,d=this.buf;return a=127&(l=d[this.pos++]),l<128?a:(a|=(127&(l=d[this.pos++]))<<7,l<128?a:(a|=(127&(l=d[this.pos++]))<<14,l<128?a:(a|=(127&(l=d[this.pos++]))<<21,l<128?a:function(g,b,M){var S,V,P=M.buf;if(S=(112&(V=P[M.pos++]))>>4,V<128||(S|=(127&(V=P[M.pos++]))<<3,V<128)||(S|=(127&(V=P[M.pos++]))<<10,V<128)||(S|=(127&(V=P[M.pos++]))<<17,V<128)||(S|=(127&(V=P[M.pos++]))<<24,V<128)||(S|=(1&(V=P[M.pos++]))<<31,V<128))return function ka(c,a,l){return l?4294967296*a+(c>>>0):4294967296*(a>>>0)+(c>>>0)}(g,S,b);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(l=d[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,a=this.pos;return this.pos=c,c-a>=12&&x4?x4.decode(this.buf.subarray(a,c)):function(l,d,g){for(var b="",M=d;M<g;){var S,V,P,I=l[M],R=null,U=I>239?4:I>223?3:I>191?2:1;if(M+U>g)break;1===U?I<128&&(R=I):2===U?128==(192&(S=l[M+1]))&&(R=(31&I)<<6|63&S)<=127&&(R=null):3===U?(V=l[M+2],128==(192&(S=l[M+1]))&&128==(192&V)&&((R=(15&I)<<12|(63&S)<<6|63&V)<=2047||R>=55296&&R<=57343)&&(R=null)):4===U&&(V=l[M+2],P=l[M+3],128==(192&(S=l[M+1]))&&128==(192&V)&&128==(192&P)&&((R=(15&I)<<18|(63&S)<<12|(63&V)<<6|63&P)<=65535||R>=1114112)&&(R=null)),null===R?(R=65533,U=1):R>65535&&(R-=65536,b+=String.fromCharCode(R>>>10&1023|55296),R=56320|1023&R),b+=String.fromCharCode(R),M+=U}return b}(this.buf,a,c)},readBytes:function(){var c=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,c);return this.pos=c,a},readPackedVarint:function(c,a){if(this.type!==Mt.Bytes)return c.push(this.readVarint(a));var l=c3(this);for(c=c||[];this.pos<l;)c.push(this.readVarint(a));return c},readPackedSVarint:function(c){if(this.type!==Mt.Bytes)return c.push(this.readSVarint());var a=c3(this);for(c=c||[];this.pos<a;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==Mt.Bytes)return c.push(this.readBoolean());var a=c3(this);for(c=c||[];this.pos<a;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==Mt.Bytes)return c.push(this.readFloat());var a=c3(this);for(c=c||[];this.pos<a;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==Mt.Bytes)return c.push(this.readDouble());var a=c3(this);for(c=c||[];this.pos<a;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==Mt.Bytes)return c.push(this.readFixed32());var a=c3(this);for(c=c||[];this.pos<a;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==Mt.Bytes)return c.push(this.readSFixed32());var a=c3(this);for(c=c||[];this.pos<a;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==Mt.Bytes)return c.push(this.readFixed64());var a=c3(this);for(c=c||[];this.pos<a;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==Mt.Bytes)return c.push(this.readSFixed64());var a=c3(this);for(c=c||[];this.pos<a;)c.push(this.readSFixed64());return c},skip:function(c){var a=7&c;if(a===Mt.Varint)for(;this.buf[this.pos++]>127;);else if(a===Mt.Bytes)this.pos=this.readVarint()+this.pos;else if(a===Mt.Fixed32)this.pos+=4;else{if(a!==Mt.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(c,a){this.writeVarint(c<<3|a)},realloc:function(c){for(var a=this.length||16;a<this.pos+c;)a*=2;if(a!==this.length){var l=new Uint8Array(a);l.set(this.buf),this.buf=l,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),Vs(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),Vs(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),Vs(this.buf,-1&c,this.pos),Vs(this.buf,Math.floor(c*b4),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),Vs(this.buf,-1&c,this.pos),Vs(this.buf,Math.floor(c*b4),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(a,l){var d,g,b,S;if(a>=0?(d=a%4294967296|0,g=a/4294967296|0):(g=~(-a/4294967296),4294967295^(d=~(-a%4294967296))?d=d+1|0:(d=0,g=g+1|0)),a>=0x10000000000000000||a<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),b=d,(S=l).buf[S.pos++]=127&b|128,b>>>=7,S.buf[S.pos++]=127&b|128,b>>>=7,S.buf[S.pos++]=127&b|128,b>>>=7,S.buf[S.pos++]=127&b|128,S.buf[S.pos]=127&(b>>>=7),function(b,M){var S=(7&b)<<4;M.buf[M.pos++]|=S|((b>>>=3)?128:0),b&&(M.buf[M.pos++]=127&b|((b>>>=7)?128:0),b&&(M.buf[M.pos++]=127&b|((b>>>=7)?128:0),b&&(M.buf[M.pos++]=127&b|((b>>>=7)?128:0),b&&(M.buf[M.pos++]=127&b|((b>>>=7)?128:0),b&&(M.buf[M.pos++]=127&b)))))}(g,l)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var a=this.pos;this.pos=function(d,g,b){for(var M,S,V=0;V<g.length;V++){if((M=g.charCodeAt(V))>55295&&M<57344){if(!S){M>56319||V+1===g.length?(d[b++]=239,d[b++]=191,d[b++]=189):S=M;continue}if(M<56320){d[b++]=239,d[b++]=191,d[b++]=189,S=M;continue}M=S-55296<<10|M-56320|65536,S=null}else S&&(d[b++]=239,d[b++]=191,d[b++]=189,S=null);M<128?d[b++]=M:(M<2048?d[b++]=M>>6|192:(M<65536?d[b++]=M>>12|224:(d[b++]=M>>18|240,d[b++]=M>>12&63|128),d[b++]=M>>6&63|128),d[b++]=63&M|128)}return b}(this.buf,c,this.pos);var l=this.pos-a;l>=128&&M4(a,l,this),this.pos=a-1,this.writeVarint(l),this.pos+=l},writeFloat:function(c){this.realloc(4),Y0(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),Y0(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var a=c.length;this.writeVarint(a),this.realloc(a);for(var l=0;l<a;l++)this.buf[this.pos++]=c[l]},writeRawMessage:function(c,a){this.pos++;var l=this.pos;c(a,this);var d=this.pos-l;d>=128&&M4(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeMessage:function(c,a,l){this.writeTag(c,Mt.Bytes),this.writeRawMessage(a,l)},writePackedVarint:function(c,a){a.length&&this.writeMessage(c,Cg,a)},writePackedSVarint:function(c,a){a.length&&this.writeMessage(c,$u,a)},writePackedBoolean:function(c,a){a.length&&this.writeMessage(c,Mg,a)},writePackedFloat:function(c,a){a.length&&this.writeMessage(c,bg,a)},writePackedDouble:function(c,a){a.length&&this.writeMessage(c,xg,a)},writePackedFixed32:function(c,a){a.length&&this.writeMessage(c,wg,a)},writePackedSFixed32:function(c,a){a.length&&this.writeMessage(c,zg,a)},writePackedFixed64:function(c,a){a.length&&this.writeMessage(c,Sg,a)},writePackedSFixed64:function(c,a){a.length&&this.writeMessage(c,Hs,a)},writeBytesField:function(c,a){this.writeTag(c,Mt.Bytes),this.writeBytes(a)},writeFixed32Field:function(c,a){this.writeTag(c,Mt.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(c,a){this.writeTag(c,Mt.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(c,a){this.writeTag(c,Mt.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(c,a){this.writeTag(c,Mt.Fixed64),this.writeSFixed64(a)},writeVarintField:function(c,a){this.writeTag(c,Mt.Varint),this.writeVarint(a)},writeSVarintField:function(c,a){this.writeTag(c,Mt.Varint),this.writeSVarint(a)},writeStringField:function(c,a){this.writeTag(c,Mt.Bytes),this.writeString(a)},writeFloatField:function(c,a){this.writeTag(c,Mt.Fixed32),this.writeFloat(a)},writeDoubleField:function(c,a){this.writeTag(c,Mt.Fixed64),this.writeDouble(a)},writeBooleanField:function(c,a){this.writeVarintField(c,!!a)}};var X0=Re(e6);const w4=3;function ju(c,a,l){1===c&&l.readMessage(mr,a)}function mr(c,a,l){if(3===c){const{id:d,bitmap:g,width:b,height:M,left:S,top:V,advance:P}=l.readMessage(Es,{});a.push({id:d,bitmap:new wo({width:b+2*w4,height:M+2*w4},g),metrics:{width:b,height:M,left:S,top:V,advance:P}})}}function Es(c,a,l){1===c?a.id=l.readVarint():2===c?a.bitmap=l.readBytes():3===c?a.width=l.readVarint():4===c?a.height=l.readVarint():5===c?a.left=l.readSVarint():6===c?a.top=l.readSVarint():7===c&&(a.advance=l.readVarint())}const K0=w4;function Io(c){let a=0,l=0;for(const M of c)a+=M.w*M.h,l=Math.max(l,M.w);c.sort((M,S)=>S.h-M.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),l),h:1/0}];let g=0,b=0;for(const M of c)for(let S=d.length-1;S>=0;S--){const V=d[S];if(!(M.w>V.w||M.h>V.h)){if(M.x=V.x,M.y=V.y,b=Math.max(b,M.y+M.h),g=Math.max(g,M.x+M.w),M.w===V.w&&M.h===V.h){const P=d.pop();S<d.length&&(d[S]=P)}else M.h===V.h?(V.x+=M.w,V.w-=M.w):M.w===V.w?(V.y+=M.h,V.h-=M.h):(d.push({x:V.x+M.w,y:V.y,w:V.w-M.w,h:M.h}),V.y+=M.h,V.h-=M.h);break}}return{w:g,h:b,fill:a/(g*b)||0}}const un=1;class Q0{constructor(a,{pixelRatio:l,version:d,stretchX:g,stretchY:b,content:M}){this.paddedRect=a,this.pixelRatio=l,this.stretchX=g,this.stretchY=b,this.content=M,this.version=d}get tl(){return[this.paddedRect.x+un,this.paddedRect.y+un]}get br(){return[this.paddedRect.x+this.paddedRect.w-un,this.paddedRect.y+this.paddedRect.h-un]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*un)/this.pixelRatio,(this.paddedRect.h-2*un)/this.pixelRatio]}}class Uu{constructor(a,l){const d={},g={};this.haveRenderCallbacks=[];const b=[];this.addImages(a,d,b),this.addImages(l,g,b);const{w:M,h:S}=Io(b),V=new Ze({width:M||1,height:S||1});for(const P in a){const I=a[P],R=d[P].paddedRect;Ze.copy(I.data,V,{x:0,y:0},{x:R.x+un,y:R.y+un},I.data)}for(const P in l){const I=l[P],R=g[P].paddedRect,U=R.x+un,Y=R.y+un,X=I.data.width,J=I.data.height;Ze.copy(I.data,V,{x:0,y:0},{x:U,y:Y},I.data),Ze.copy(I.data,V,{x:0,y:J-1},{x:U,y:Y-1},{width:X,height:1}),Ze.copy(I.data,V,{x:0,y:0},{x:U,y:Y+J},{width:X,height:1}),Ze.copy(I.data,V,{x:X-1,y:0},{x:U-1,y:Y},{width:1,height:J}),Ze.copy(I.data,V,{x:0,y:0},{x:U+X,y:Y},{width:1,height:J})}this.image=V,this.iconPositions=d,this.patternPositions=g}addImages(a,l,d){for(const g in a){const b=a[g],M={x:0,y:0,w:b.data.width+2*un,h:b.data.height+2*un};d.push(M),l[g]=new Q0(M,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(a,l){a.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in a.updatedImages)this.patchUpdatedImage(this.iconPositions[d],a.getImage(d),l),this.patchUpdatedImage(this.patternPositions[d],a.getImage(d),l)}patchUpdatedImage(a,l,d){if(!a||!l||a.version===l.version)return;a.version=l.version;const[g,b]=a.tl;d.update(l.data,void 0,{x:g,y:b})}}var Na;f1("ImagePosition",Q0),f1("ImageAtlas",Uu),_.ai=void 0,(Na=_.ai||(_.ai={}))[Na.none=0]="none",Na[Na.horizontal=1]="horizontal",Na[Na.vertical=2]="vertical",Na[Na.horizontalOnly=3]="horizontalOnly";const n6=-17;class kn{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,l){const d=new kn;return d.scale=a||1,d.fontStack=l,d}static forImage(a){const l=new kn;return l.imageName=a,l}}class Oa{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,l){const d=new Oa;for(let g=0;g<a.sections.length;g++){const b=a.sections[g];b.image?d.addImageSection(b):d.addTextSection(b,l)}return d}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSectionIndex(a){return this.sectionIndex[a]}getCharCode(a){return this.text.charCodeAt(a)}verticalizePunctuation(){this.text=function(a){let l="";for(let d=0;d<a.length;d++){const g=a.charCodeAt(d+1)||null,b=a.charCodeAt(d-1)||null;l+=g&&go(g)&&!Ao[a[d+1]]||b&&go(b)&&!Ao[a[d-1]]||!Ao[a[d]]?a[d]:Ao[a[d]]}return l}(this.text)}trim(){let a=0;for(let d=0;d<this.text.length&&J0[this.text.charCodeAt(d)];d++)a++;let l=this.text.length;for(let d=this.text.length-1;d>=0&&d>=a&&J0[this.text.charCodeAt(d)];d--)l--;this.text=this.text.substring(a,l),this.sectionIndex=this.sectionIndex.slice(a,l)}substring(a,l){const d=new Oa;return d.text=this.text.substring(a,l),d.sectionIndex=this.sectionIndex.slice(a,l),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((a,l)=>Math.max(a,this.sections[l].scale),0)}addTextSection(a,l){this.text+=a.text,this.sections.push(kn.forText(a.scale,a.fontStack||l));const d=this.sections.length-1;for(let g=0;g<a.text.length;++g)this.sectionIndex.push(d)}addImageSection(a){const l=a.image?a.image.name:"";if(0===l.length)return void tn("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(kn.forImage(l)),this.sectionIndex.push(this.sections.length-1)):tn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Y3(c,a,l,d,g,b,M,S,V,P,I,R,U,Y,X,J){const oe=Oa.fromFeature(c,g);let ue;R===_.ai.vertical&&oe.verticalizePunctuation();const{processBidirectionalText:be,processStyledBidirectionalText:de}=q2;if(be&&1===oe.sections.length){ue=[];const Ue=be(oe.toString(),e8(oe,P,b,a,d,Y,X));for(const h1 of Ue){const y1=new Oa;y1.text=h1,y1.sections=oe.sections;for(let l1=0;l1<h1.length;l1++)y1.sectionIndex.push(0);ue.push(y1)}}else if(de){ue=[];const Ue=de(oe.text,oe.sectionIndex,e8(oe,P,b,a,d,Y,X));for(const h1 of Ue){const y1=new Oa;y1.text=h1[0],y1.sectionIndex=h1[1],y1.sections=oe.sections,ue.push(y1)}}else ue=function(Ue,h1){const y1=[],l1=Ue.text;let c1=0;for(const i1 of h1)y1.push(Ue.substring(c1,i1)),c1=i1;return c1<l1.length&&y1.push(Ue.substring(c1,l1.length)),y1}(oe,e8(oe,P,b,a,d,Y,X));const ze=[],Ae={positionedLines:ze,text:oe.toString(),top:I[1],bottom:I[1],left:I[0],right:I[0],writingMode:R,iconsInText:!1,verticalizable:!1};return function(Ue,h1,y1,l1,c1,i1,d1,a1,Ke,L1,x1,st){let qt=0,Xt=n6,R2=0,pi=0;const On="right"===a1?1:"left"===a1?0:.5;let u2=0;for(const Y2 of c1){Y2.trim();const B2=Y2.getMaxScale(),fn=(B2-1)*D2,Kn={positionedGlyphs:[],lineOffset:0};Ue.positionedLines[u2]=Kn;const P2=Kn.positionedGlyphs;let Mn=0;if(!Y2.length()){Xt+=i1,++u2;continue}for(let A2=0;A2<Y2.length();A2++){const ct=Y2.getSection(A2),wn=Y2.getSectionIndex(A2),v2=Y2.getCharCode(A2);let $2=0,gr=null,Rr=null,Fr=null,K3=D2;const y2=!(Ke===_.ai.horizontal||!x1&&!Pn(v2)||x1&&(J0[v2]||(F2=v2,Ye.Arabic(F2)||Ye["Arabic Supplement"](F2)||Ye["Arabic Extended-A"](F2)||Ye["Arabic Presentation Forms-A"](F2)||Ye["Arabic Presentation Forms-B"](F2))));if(ct.imageName){const I2=l1[ct.imageName];if(!I2)continue;Fr=ct.imageName,Ue.iconsInText=Ue.iconsInText||!0,Rr=I2.paddedRect;const mi=I2.displaySize;ct.scale=ct.scale*D2/st,gr={width:mi[0],height:mi[1],left:un,top:-K0,advance:y2?mi[1]:mi[0]},$2=fn+(D2-mi[1]*ct.scale),K3=gr.advance;const Q3=y2?mi[0]*ct.scale-D2*B2:mi[1]*ct.scale-D2*B2;Q3>0&&Q3>Mn&&(Mn=Q3)}else{const I2=y1[ct.fontStack],mi=I2&&I2[v2];if(mi&&mi.rect)Rr=mi.rect,gr=mi.metrics;else{const Q3=h1[ct.fontStack],qo=Q3&&Q3[v2];if(!qo)continue;gr=qo.metrics}$2=(B2-ct.scale)*D2}y2?(Ue.verticalizable=!0,P2.push({glyph:v2,imageName:Fr,x:qt,y:Xt+$2,vertical:y2,scale:ct.scale,fontStack:ct.fontStack,sectionIndex:wn,metrics:gr,rect:Rr}),qt+=K3*ct.scale+L1):(P2.push({glyph:v2,imageName:Fr,x:qt,y:Xt+$2,vertical:y2,scale:ct.scale,fontStack:ct.fontStack,sectionIndex:wn,metrics:gr,rect:Rr}),qt+=gr.advance*ct.scale+L1)}0!==P2.length&&(R2=Math.max(qt-L1,R2),i6(P2,0,P2.length-1,On,Mn)),qt=0;const Rn=i1*B2+Mn;Kn.lineOffset=Math.max(Mn,fn),Xt+=Rn,pi=Math.max(Rn,pi),++u2}var F2;const z2=Xt-n6,{horizontalAlign:Yn,verticalAlign:Xn}=ko(d1);(function(Y2,B2,fn,Kn,P2,Mn,Rn,A2,ct){const wn=(B2-fn)*P2;let v2=0;v2=Mn!==Rn?-A2*Kn-n6:(-Kn*ct+.5)*Rn;for(const $2 of Y2)for(const gr of $2.positionedGlyphs)gr.x+=wn,gr.y+=v2})(Ue.positionedLines,On,Yn,Xn,R2,pi,i1,z2,c1.length),Ue.top+=-Xn*z2,Ue.bottom=Ue.top+z2,Ue.left+=-Yn*R2,Ue.right=Ue.left+R2}(Ae,a,l,d,ue,M,S,V,R,P,U,J),!function(Ue){for(const h1 of Ue)if(0!==h1.positionedGlyphs.length)return!1;return!0}(ze)&&Ae}const J0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},x5={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function M5(c,a,l,d,g,b){if(a.imageName){const M=d[a.imageName];return M?M.displaySize[0]*a.scale*D2/b+g:0}{const M=l[a.fontStack],S=M&&M[c];return S?S.metrics.advance*a.scale+g:0}}function w5(c,a,l,d){const g=Math.pow(c-a,2);return d?c<a?g/2:2*g:g+Math.abs(l)*l}function qu(c,a,l){let d=0;return 10===c&&(d-=1e4),l&&(d+=150),40!==c&&65288!==c||(d+=50),41!==a&&65289!==a||(d+=50),d}function z5(c,a,l,d,g,b){let M=null,S=w5(a,l,g,b);for(const V of d){const P=w5(a-V.x,l,g,b)+V.badness;P<=S&&(M=V,S=P)}return{index:c,x:a,priorBreak:M,badness:S}}function S5(c){return c?S5(c.priorBreak).concat(c.index):[]}function e8(c,a,l,d,g,b,M){if("point"!==b)return[];if(!c)return[];const S=[],V=function(U,Y,X,J,oe,ue){let be=0;for(let de=0;de<U.length();de++){const ze=U.getSection(de);be+=M5(U.getCharCode(de),ze,J,oe,Y,ue)}return be/Math.max(1,Math.ceil(be/X))}(c,a,l,d,g,M),P=c.text.indexOf("\u200b")>=0;let I=0;for(let U=0;U<c.length();U++){const Y=c.getSection(U),X=c.getCharCode(U);if(J0[X]||(I+=M5(X,Y,d,g,a,M)),U<c.length()-1){const J=!((R=X)<11904||!(Ye["Bopomofo Extended"](R)||Ye.Bopomofo(R)||Ye["CJK Compatibility Forms"](R)||Ye["CJK Compatibility Ideographs"](R)||Ye["CJK Compatibility"](R)||Ye["CJK Radicals Supplement"](R)||Ye["CJK Strokes"](R)||Ye["CJK Symbols and Punctuation"](R)||Ye["CJK Unified Ideographs Extension A"](R)||Ye["CJK Unified Ideographs"](R)||Ye["Enclosed CJK Letters and Months"](R)||Ye["Halfwidth and Fullwidth Forms"](R)||Ye.Hiragana(R)||Ye["Ideographic Description Characters"](R)||Ye["Kangxi Radicals"](R)||Ye["Katakana Phonetic Extensions"](R)||Ye.Katakana(R)||Ye["Vertical Forms"](R)||Ye["Yi Radicals"](R)||Ye["Yi Syllables"](R)));(x5[X]||J||Y.imageName)&&S.push(z5(U+1,I,V,S,qu(X,c.getCharCode(U+1),J&&P),!1))}}var R;return S5(z5(c.length(),I,V,S,0,!0))}function ko(c){let a=.5,l=.5;switch(c){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:a,verticalAlign:l}}function i6(c,a,l,d,g){if(!d&&!g)return;const b=c[l],M=(c[l].x+b.metrics.advance*b.scale)*d;for(let S=a;S<=l;S++)c[S].x-=M,c[S].y+=g}function Gu(c,a,l){const{horizontalAlign:d,verticalAlign:g}=ko(l),b=a[0]-c.displaySize[0]*d,M=a[1]-c.displaySize[1]*g;return{image:c,top:M,bottom:M+c.displaySize[1],left:b,right:b+c.displaySize[0]}}function No(c,a,l,d,g,b){const M=c.image;let S;if(M.content){const oe=M.content,ue=M.pixelRatio||1;S=[oe[0]/ue,oe[1]/ue,M.displaySize[0]-oe[2]/ue,M.displaySize[1]-oe[3]/ue]}const V=a.left*b,P=a.right*b;let I,R,U,Y;"width"===l||"both"===l?(Y=g[0]+V-d[3],R=g[0]+P+d[1]):(Y=g[0]+(V+P-M.displaySize[0])/2,R=Y+M.displaySize[0]);const X=a.top*b,J=a.bottom*b;return"height"===l||"both"===l?(I=g[1]+X-d[0],U=g[1]+J+d[2]):(I=g[1]+(X+J-M.displaySize[1])/2,U=I+M.displaySize[1]),{image:M,top:I,right:R,bottom:U,left:Y,collisionPadding:S}}const Oo=255,Yi=128,Ra=Oo*Yi;function t8(c,a){const{expression:l}=a;if("constant"===l.kind)return{kind:"constant",layoutSize:l.evaluate(new _1(c+1))};if("source"===l.kind)return{kind:"source"};{const{zoomStops:d,interpolationType:g}=l;let b=0;for(;b<d.length&&d[b]<=c;)b++;b=Math.max(0,b-1);let M=b;for(;M<d.length&&d[M]<c+1;)M++;M=Math.min(d.length-1,M);const S=d[b],V=d[M];return"composite"===l.kind?{kind:"composite",minZoom:S,maxZoom:V,interpolationType:g}:{kind:"camera",minZoom:S,maxZoom:V,minSize:l.evaluate(new _1(S)),maxSize:l.evaluate(new _1(V)),interpolationType:g}}}function Ro(c,a,l){let d="never";const g=c.get(a);return g?d=g:c.get(l)&&(d="always"),d}const r6=Z3.VectorTileFeature.types,L5=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function a6(c,a,l,d,g,b,M,S,V,P,I,R,U){const Y=S?Math.min(Ra,Math.round(S[0])):0,X=S?Math.min(Ra,Math.round(S[1])):0;c.emplaceBack(a,l,Math.round(32*d),Math.round(32*g),b,M,(Y<<1)+(V?1:0),X,16*P,16*I,256*R,256*U)}function n8(c,a,l){c.emplaceBack(a.x,a.y,l),c.emplaceBack(a.x,a.y,l),c.emplaceBack(a.x,a.y,l),c.emplaceBack(a.x,a.y,l)}function Ts(c){for(const a of c.sections)if(b0(a.text))return!0;return!1}class z4{constructor(a){this.layoutVertexArray=new rt,this.indexArray=new G2,this.programConfigurations=a,this.segments=new St,this.dynamicLayoutVertexArray=new Q1,this.opacityVertexArray=new at,this.hasVisibleVertices=!1,this.placedSymbolArray=new ye}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(a,l,d,g){this.isEmpty()||(d&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Fu.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,_5.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,L5,!0),this.opacityVertexBuffer.itemSize=1),(d||g)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}f1("SymbolBuffers",z4);class i8{constructor(a,l,d){this.layoutVertexArray=new a,this.layoutAttributes=l,this.indexArray=new d,this.segments=new St,this.collisionVertexArray=new At}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,C5.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}f1("CollisionBuffers",i8);class Fo{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(M=>M.id),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=V0([]),this.placementViewportMatrix=V0([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=t8(this.zoom,l["text-size"]),this.iconSizeData=t8(this.zoom,l["icon-size"]);const d=this.layers[0].layout,g=d.get("symbol-sort-key"),b=d.get("symbol-z-order");this.canOverlap="never"!==Ro(d,"text-overlap","text-allow-overlap")||"never"!==Ro(d,"icon-overlap","icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==b&&!g.isConstant(),this.sortFeaturesByY=("viewport-y"===b||"auto"===b&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===d.get("symbol-placement")&&(this.writingModes=d.get("text-writing-mode").map(M=>_.ai[M])),this.stateDependentLayerIds=this.layers.filter(M=>M.isStateDependent()).map(M=>M.id),this.sourceID=a.sourceID}createArrays(){this.text=new z4(new Z2(this.layers,this.zoom,a=>/^text/.test(a))),this.icon=new z4(new Z2(this.layers,this.zoom,a=>/^icon/.test(a))),this.glyphOffsetArray=new Ce,this.lineVertexArray=new ke,this.symbolInstances=new le,this.textAnchorOffsets=new Be}calculateGlyphDependencies(a,l,d,g,b){for(let M=0;M<a.length;M++)if(l[a.charCodeAt(M)]=!0,(d||g)&&b){const S=Ao[a.charAt(M)];S&&(l[S.charCodeAt(0)]=!0)}}populate(a,l,d){const g=this.layers[0],b=g.layout,M=b.get("text-font"),S=b.get("text-field"),V=b.get("icon-image"),P=("constant"!==S.value.kind||S.value.value instanceof rn&&!S.value.value.isEmpty()||S.value.value.toString().length>0)&&("constant"!==M.value.kind||M.value.value.length>0),I="constant"!==V.value.kind||!!V.value.value||Object.keys(V.parameters).length>0,R=b.get("symbol-sort-key");if(this.features=[],!P&&!I)return;const U=l.iconDependencies,Y=l.glyphDependencies,X=l.availableImages,J=new _1(this.zoom);for(const{feature:oe,id:ue,index:be,sourceLayerIndex:de}of a){const ze=g._featureFilter.needGeometry,Ae=j3(oe,ze);if(!g._featureFilter.filter(J,Ae,d))continue;let Ue,h1;if(ze||(Ae.geometry=v4(oe)),P){const l1=g.getValueAndResolveTokens("text-field",Ae,d,X),c1=rn.factory(l1);Ts(c1)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===l2()||this.hasRTLText&&q2.isParsed())&&(Ue=hi(c1,g,Ae))}if(I){const l1=g.getValueAndResolveTokens("icon-image",Ae,d,X);h1=l1 instanceof an?l1:an.fromString(l1)}if(!Ue&&!h1)continue;const y1=this.sortFeaturesByKey?R.evaluate(Ae,{},d):void 0;if(this.features.push({id:ue,text:Ue,icon:h1,index:be,sourceLayerIndex:de,geometry:Ae.geometry,properties:oe.properties,type:r6[oe.type],sortKey:y1}),h1&&(U[h1.name]=!0),Ue){const l1=M.evaluate(Ae,{},d).join(","),c1="viewport"!==b.get("text-rotation-alignment")&&"point"!==b.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(_.ai.vertical)>=0;for(const i1 of Ue.sections)if(i1.image)U[i1.image.name]=!0;else{const d1=O2(Ue.toString()),a1=i1.fontStack||l1,Ke=Y[a1]=Y[a1]||{};this.calculateGlyphDependencies(i1.text,Ke,c1,this.allowVerticalPlacement,d1)}}}"line"===b.get("symbol-placement")&&(this.features=function(oe){const ue={},be={},de=[];let ze=0;function Ae(l1){de.push(oe[l1]),ze++}function Ue(l1,c1,i1){const d1=be[l1];return delete be[l1],be[c1]=d1,de[d1].geometry[0].pop(),de[d1].geometry[0]=de[d1].geometry[0].concat(i1[0]),d1}function h1(l1,c1,i1){const d1=ue[c1];return delete ue[c1],ue[l1]=d1,de[d1].geometry[0].shift(),de[d1].geometry[0]=i1[0].concat(de[d1].geometry[0]),d1}function y1(l1,c1,i1){const d1=i1?c1[0][c1[0].length-1]:c1[0][0];return`${l1}:${d1.x}:${d1.y}`}for(let l1=0;l1<oe.length;l1++){const c1=oe[l1],i1=c1.geometry,d1=c1.text?c1.text.toString():null;if(!d1){Ae(l1);continue}const a1=y1(d1,i1),Ke=y1(d1,i1,!0);if(a1 in be&&Ke in ue&&be[a1]!==ue[Ke]){const L1=h1(a1,Ke,i1),x1=Ue(a1,Ke,de[L1].geometry);delete ue[a1],delete be[Ke],be[y1(d1,de[x1].geometry,!0)]=x1,de[L1].geometry=null}else a1 in be?Ue(a1,Ke,i1):Ke in ue?h1(a1,Ke,i1):(Ae(l1),ue[a1]=ze-1,be[Ke]=ze-1)}return de.filter(l1=>l1.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((oe,ue)=>oe.sortKey-ue.sortKey)}update(a,l,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,l,this.layers,d),this.icon.programConfigurations.updatePaintArrays(a,l,this.layers,d))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,l){const d=this.lineVertexArray.length;if(void 0!==a.segment){let g=a.dist(l[a.segment+1]),b=a.dist(l[a.segment]);const M={};for(let S=a.segment+1;S<l.length;S++)M[S]={x:l[S].x,y:l[S].y,tileUnitDistanceFromAnchor:g},S<l.length-1&&(g+=l[S+1].dist(l[S]));for(let S=a.segment||0;S>=0;S--)M[S]={x:l[S].x,y:l[S].y,tileUnitDistanceFromAnchor:b},S>0&&(b+=l[S-1].dist(l[S]));for(let S=0;S<l.length;S++){const V=M[S];this.lineVertexArray.emplaceBack(V.x,V.y,V.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(a,l,d,g,b,M,S,V,P,I,R,U){const Y=a.indexArray,X=a.layoutVertexArray,J=a.segments.prepareSegment(4*l.length,X,Y,this.canOverlap?M.sortKey:void 0),oe=this.glyphOffsetArray.length,ue=J.vertexLength,be=this.allowVerticalPlacement&&S===_.ai.vertical?Math.PI/2:0,de=M.text&&M.text.sections;for(let ze=0;ze<l.length;ze++){const{tl:Ae,tr:Ue,bl:h1,br:y1,tex:l1,pixelOffsetTL:c1,pixelOffsetBR:i1,minFontScaleX:d1,minFontScaleY:a1,glyphOffset:Ke,isSDF:L1,sectionIndex:x1}=l[ze],st=J.vertexLength,qt=Ke[1];a6(X,V.x,V.y,Ae.x,qt+Ae.y,l1.x,l1.y,d,L1,c1.x,c1.y,d1,a1),a6(X,V.x,V.y,Ue.x,qt+Ue.y,l1.x+l1.w,l1.y,d,L1,i1.x,c1.y,d1,a1),a6(X,V.x,V.y,h1.x,qt+h1.y,l1.x,l1.y+l1.h,d,L1,c1.x,i1.y,d1,a1),a6(X,V.x,V.y,y1.x,qt+y1.y,l1.x+l1.w,l1.y+l1.h,d,L1,i1.x,i1.y,d1,a1),n8(a.dynamicLayoutVertexArray,V,be),Y.emplaceBack(st,st+1,st+2),Y.emplaceBack(st+1,st+2,st+3),J.vertexLength+=4,J.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ke[0]),ze!==l.length-1&&x1===l[ze+1].sectionIndex||a.programConfigurations.populatePaintArrays(X.length,M,M.index,{},U,de&&de[x1])}a.placedSymbolArray.emplaceBack(V.x,V.y,oe,this.glyphOffsetArray.length-oe,ue,P,I,V.segment,d?d[0]:0,d?d[1]:0,g[0],g[1],S,0,!1,0,R)}_addCollisionDebugVertex(a,l,d,g,b,M){return l.emplaceBack(0,0),a.emplaceBack(d.x,d.y,g,b,Math.round(M.x),Math.round(M.y))}addCollisionDebugVertices(a,l,d,g,b,M,S){const V=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),P=V.vertexLength,I=b.layoutVertexArray,R=b.collisionVertexArray,U=S.anchorX,Y=S.anchorY;this._addCollisionDebugVertex(I,R,M,U,Y,new T1(a,l)),this._addCollisionDebugVertex(I,R,M,U,Y,new T1(d,l)),this._addCollisionDebugVertex(I,R,M,U,Y,new T1(d,g)),this._addCollisionDebugVertex(I,R,M,U,Y,new T1(a,g)),V.vertexLength+=4;const X=b.indexArray;X.emplaceBack(P,P+1),X.emplaceBack(P+1,P+2),X.emplaceBack(P+2,P+3),X.emplaceBack(P+3,P),V.primitiveLength+=4}addDebugCollisionBoxes(a,l,d,g){for(let b=a;b<l;b++){const M=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(M.x1,M.y1,M.x2,M.y2,g?this.textCollisionBox:this.iconCollisionBox,M.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new i8(Zt,Ls.members,E2),this.iconCollisionBox=new i8(Zt,Ls.members,E2);for(let a=0;a<this.symbolInstances.length;a++){const l=this.symbolInstances.get(a);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(a,l,d,g,b,M,S,V,P){const I={};for(let R=l;R<d;R++){const U=a.get(R);I.textBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},I.textFeatureIndex=U.featureIndex;break}for(let R=g;R<b;R++){const U=a.get(R);I.verticalTextBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},I.verticalTextFeatureIndex=U.featureIndex;break}for(let R=M;R<S;R++){const U=a.get(R);I.iconBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},I.iconFeatureIndex=U.featureIndex;break}for(let R=V;R<P;R++){const U=a.get(R);I.verticalIconBox={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,anchorPointX:U.anchorPointX,anchorPointY:U.anchorPointY},I.verticalIconFeatureIndex=U.featureIndex;break}return I}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(a,l){const d=a.placedSymbolArray.get(l),g=d.vertexStartIndex+4*d.numGlyphs;for(let b=d.vertexStartIndex;b<g;b+=4)a.indexArray.emplaceBack(b,b+1,b+2),a.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const l=Math.sin(a),d=Math.cos(a),g=[],b=[],M=[];for(let S=0;S<this.symbolInstances.length;++S){M.push(S);const V=this.symbolInstances.get(S);g.push(0|Math.round(l*V.anchorX+d*V.anchorY)),b.push(V.featureIndex)}return M.sort((S,V)=>g[S]-g[V]||b[V]-b[S]),M}addToSortKeyRanges(a,l){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===l?d.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const d=this.symbolInstances.get(l);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((g,b,M)=>{g>=0&&M.indexOf(g)===b&&this.addIndicesForPlacedSymbol(this.text,g)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let r8,H5;f1("SymbolBucket",Fo,{omit:["layers","collisionBoxArray","features","compareText"]}),Fo.MAX_GLYPHS=65535,Fo.addDynamicAttributes=n8;var V5={get paint(){return H5=H5||new k1({"icon-opacity":new H1(Fe.paint_symbol["icon-opacity"]),"icon-color":new H1(Fe.paint_symbol["icon-color"]),"icon-halo-color":new H1(Fe.paint_symbol["icon-halo-color"]),"icon-halo-width":new H1(Fe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new H1(Fe.paint_symbol["icon-halo-blur"]),"icon-translate":new S1(Fe.paint_symbol["icon-translate"]),"icon-translate-anchor":new S1(Fe.paint_symbol["icon-translate-anchor"]),"text-opacity":new H1(Fe.paint_symbol["text-opacity"]),"text-color":new H1(Fe.paint_symbol["text-color"],{runtimeType:Vn,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new H1(Fe.paint_symbol["text-halo-color"]),"text-halo-width":new H1(Fe.paint_symbol["text-halo-width"]),"text-halo-blur":new H1(Fe.paint_symbol["text-halo-blur"]),"text-translate":new S1(Fe.paint_symbol["text-translate"]),"text-translate-anchor":new S1(Fe.paint_symbol["text-translate-anchor"])})},get layout(){return r8=r8||new k1({"symbol-placement":new S1(Fe.layout_symbol["symbol-placement"]),"symbol-spacing":new S1(Fe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new S1(Fe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new H1(Fe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new S1(Fe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new S1(Fe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new S1(Fe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new S1(Fe.layout_symbol["icon-ignore-placement"]),"icon-optional":new S1(Fe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new S1(Fe.layout_symbol["icon-rotation-alignment"]),"icon-size":new H1(Fe.layout_symbol["icon-size"]),"icon-text-fit":new S1(Fe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new S1(Fe.layout_symbol["icon-text-fit-padding"]),"icon-image":new H1(Fe.layout_symbol["icon-image"]),"icon-rotate":new H1(Fe.layout_symbol["icon-rotate"]),"icon-padding":new H1(Fe.layout_symbol["icon-padding"]),"icon-keep-upright":new S1(Fe.layout_symbol["icon-keep-upright"]),"icon-offset":new H1(Fe.layout_symbol["icon-offset"]),"icon-anchor":new H1(Fe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new S1(Fe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new S1(Fe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new S1(Fe.layout_symbol["text-rotation-alignment"]),"text-field":new H1(Fe.layout_symbol["text-field"]),"text-font":new H1(Fe.layout_symbol["text-font"]),"text-size":new H1(Fe.layout_symbol["text-size"]),"text-max-width":new H1(Fe.layout_symbol["text-max-width"]),"text-line-height":new S1(Fe.layout_symbol["text-line-height"]),"text-letter-spacing":new H1(Fe.layout_symbol["text-letter-spacing"]),"text-justify":new H1(Fe.layout_symbol["text-justify"]),"text-radial-offset":new H1(Fe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new S1(Fe.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new H1(Fe.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new H1(Fe.layout_symbol["text-anchor"]),"text-max-angle":new S1(Fe.layout_symbol["text-max-angle"]),"text-writing-mode":new S1(Fe.layout_symbol["text-writing-mode"]),"text-rotate":new H1(Fe.layout_symbol["text-rotate"]),"text-padding":new S1(Fe.layout_symbol["text-padding"]),"text-keep-upright":new S1(Fe.layout_symbol["text-keep-upright"]),"text-transform":new H1(Fe.layout_symbol["text-transform"]),"text-offset":new H1(Fe.layout_symbol["text-offset"]),"text-allow-overlap":new S1(Fe.layout_symbol["text-allow-overlap"]),"text-overlap":new S1(Fe.layout_symbol["text-overlap"]),"text-ignore-placement":new S1(Fe.layout_symbol["text-ignore-placement"]),"text-optional":new S1(Fe.layout_symbol["text-optional"])})}};class E5{constructor(a){if(void 0===a.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=a.property.overrides?a.property.overrides.runtimeType:xr,this.defaultValue=a}evaluate(a){if(a.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(a.formattedSection))return l.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}f1("FormatSectionOverride",E5,{omit:["defaultValue"]});class s6 extends Gn{constructor(a){super(a,V5)}recalculate(a,l){if(super.recalculate(a,l),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const d=this.layout.get("text-writing-mode");if(d){const g=[];for(const b of d)g.indexOf(b)<0&&g.push(b);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(a,l,d,g){const b=this.layout.get(a).evaluate(l,{},d,g),M=this._unevaluatedLayout._values[a];return M.isDataDriven()||as(M.value)||!b?b:(S=l.properties,b.replace(/{([^{}]+)}/g,(P,I)=>S&&I in S?String(S[I]):""));var S}createBucket(a){return new Fo(a)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const a of V5.paint.overridableProperties){if(!s6.hasPaintOverride(this.layout,a))continue;const l=this.paint.get(a),d=new E5(l),g=new co(d,l.property.specification);let b=null;b="constant"===l.value.kind||"source"===l.value.kind?new os("source",g):new zr("composite",g,l.value.zoomStops),this.paint._values[a]=new t2(l.property,b,l.parameters)}}_handleOverridablePaintPropertyUpdate(a,l,d){return!(!this.layout||l.isDataDriven()||d.isDataDriven())&&s6.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,l){const d=a.get("text-field"),g=V5.paint.properties[l];let b=!1;const M=S=>{for(const V of S)if(g.overrides&&g.overrides.hasOverride(V))return void(b=!0)};if("constant"===d.value.kind&&d.value.value instanceof rn)M(d.value.value.sections);else if("source"===d.value.kind){const S=P=>{b||(P instanceof V3&&Jt(P.value)===re?M(P.value.sections):P instanceof ba?M(P.sections):P.eachChild(S))},V=d.value;V._styleExpression&&S(V._styleExpression.expression)}return b}}let T5;var o6={get paint(){return T5=T5||new k1({"background-color":new S1(Fe.paint_background["background-color"]),"background-pattern":new R3(Fe.paint_background["background-pattern"]),"background-opacity":new S1(Fe.paint_background["background-opacity"])})}};class D5 extends Gn{constructor(a){super(a,o6)}}let P5;var A5={get paint(){return P5=P5||new k1({"raster-opacity":new S1(Fe.paint_raster["raster-opacity"]),"raster-hue-rotate":new S1(Fe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new S1(Fe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new S1(Fe.paint_raster["raster-brightness-max"]),"raster-saturation":new S1(Fe.paint_raster["raster-saturation"]),"raster-contrast":new S1(Fe.paint_raster["raster-contrast"]),"raster-resampling":new S1(Fe.paint_raster["raster-resampling"]),"raster-fade-duration":new S1(Fe.paint_raster["raster-fade-duration"])})}};class Lg extends Gn{constructor(a){super(a,A5)}}class I5 extends Gn{constructor(a){super(a,{}),this.onAdd=l=>{this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},this.onRemove=l=>{this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},this.implementation=a}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Hg{constructor(a){this._callback=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const a8=6371008.8;class Fa{constructor(a,l){if(isNaN(a)||isNaN(l))throw new Error(`Invalid LngLat object: (${a}, ${l})`);if(this.lng=+a,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Fa(x3(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const l=Math.PI/180,d=this.lat*l,g=a.lat*l,b=Math.sin(d)*Math.sin(g)+Math.cos(d)*Math.cos(g)*Math.cos((a.lng-this.lng)*l);return a8*Math.acos(Math.min(b,1))}static convert(a){if(a instanceof Fa)return a;if(Array.isArray(a)&&(2===a.length||3===a.length))return new Fa(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&"object"==typeof a&&null!==a)return new Fa(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const c6=2*Math.PI*a8;function Zu(c){return c6*Math.cos(c*Math.PI/180)}function Wu(c){return(180+c)/360}function l6(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function Yu(c,a){return c/Zu(a)}function k5(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class s8{constructor(a,l,d=0){this.x=+a,this.y=+l,this.z=+d}static fromLngLat(a,l=0){const d=Fa.convert(a);return new s8(Wu(d.lng),l6(d.lat),Yu(l,d.lat))}toLngLat(){return new Fa(360*this.x-180,k5(this.y))}toAltitude(){return this.z*Zu(k5(this.y))}meterInMercatorCoordinateUnits(){return 1/c6*(a=k5(this.y),1/Math.cos(a*Math.PI/180));var a}}function Xu(c,a,l){var d=2*Math.PI*6378137/256/Math.pow(2,l);return[c*d-2*Math.PI*6378137/2,a*d-2*Math.PI*6378137/2]}class N5{constructor(a,l,d){if(a<0||a>25||d<0||d>=Math.pow(2,a)||l<0||l>=Math.pow(2,a))throw new Error(`x=${l}, y=${d}, z=${a} outside of bounds. 0<=x<${Math.pow(2,a)}, 0<=y<${Math.pow(2,a)} 0<=z<=25 `);this.z=a,this.x=l,this.y=d,this.key=Ba(0,a,a,l,d)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,l,d){const g=(M=this.y,S=this.z,V=Xu(256*(b=this.x),256*(M=Math.pow(2,S)-M-1),S),P=Xu(256*(b+1),256*(M+1),S),V[0]+","+V[1]+","+P[0]+","+P[1]);var b,M,S,V,P;const I=function(R,U,Y){let X,J="";for(let oe=R;oe>0;oe--)X=1<<oe-1,J+=(U&X?1:0)+(Y&X?2:0);return J}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===d?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,I).replace(/{bbox-epsg-3857}/g,g)}isChildOf(a){const l=this.z-a.z;return l>0&&a.x===this.x>>l&&a.y===this.y>>l}getTilePoint(a){const l=Math.pow(2,this.z);return new T1((a.x*l-this.x)*T2,(a.y*l-this.y)*T2)}toString(){return`${this.z}/${this.x}/${this.y}`}}class O5{constructor(a,l){this.wrap=a,this.canonical=l,this.key=Ba(a,l.z,l.z,l.x,l.y)}}class Zn{constructor(a,l,d,g,b){if(a<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${a}; z = ${d}`);this.overscaledZ=a,this.wrap=l,this.canonical=new N5(d,+g,+b),this.key=Ba(l,a,d,g,b)}clone(){return new Zn(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const l=this.canonical.z-a;return a>this.canonical.z?new Zn(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Zn(a,this.wrap,a,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(a,l){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-a;return a>this.canonical.z?Ba(this.wrap*+l,a,this.canonical.z,this.canonical.x,this.canonical.y):Ba(this.wrap*+l,a,a,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(a){if(a.wrap!==this.wrap)return!1;const l=this.canonical.z-a.canonical.z;return 0===a.overscaledZ||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>l&&a.canonical.y===this.canonical.y>>l}children(a){if(this.overscaledZ>=a)return[new Zn(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,d=2*this.canonical.x,g=2*this.canonical.y;return[new Zn(l,this.wrap,l,d,g),new Zn(l,this.wrap,l,d+1,g),new Zn(l,this.wrap,l,d,g+1),new Zn(l,this.wrap,l,d+1,g+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new Zn(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new Zn(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new O5(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(a){return this.canonical.getTilePoint(new s8(a.x-this.wrap,a.y))}}function Ba(c,a,l,d,g){(c*=2)<0&&(c=-1*c-1);const b=1<<l;return(b*b*c+b*g+d).toString(36)+l.toString(36)+a.toString(36)}f1("CanonicalTileID",N5),f1("OverscaledTileID",Zn,{omit:["posMatrix"]});class o8{constructor(a,l,d,g=1,b=1,M=1,S=0){if(this.uid=a,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(d&&!["mapbox","terrarium","custom"].includes(d))return void tn(`"${d}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=l.height;const V=this.dim=l.height-2;switch(this.data=new Uint32Array(l.data.buffer),d){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=g,this.greenFactor=b,this.blueFactor=M,this.baseShift=S;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let P=0;P<V;P++)this.data[this._idx(-1,P)]=this.data[this._idx(0,P)],this.data[this._idx(V,P)]=this.data[this._idx(V-1,P)],this.data[this._idx(P,-1)]=this.data[this._idx(P,0)],this.data[this._idx(P,V)]=this.data[this._idx(P,V-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(V,-1)]=this.data[this._idx(V-1,0)],this.data[this._idx(-1,V)]=this.data[this._idx(0,V-1)],this.data[this._idx(V,V)]=this.data[this._idx(V-1,V-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let P=0;P<V;P++)for(let I=0;I<V;I++){const R=this.get(P,I);R>this.max&&(this.max=R),R<this.min&&(this.min=R)}}get(a,l){const d=new Uint8Array(this.data.buffer),g=4*this._idx(a,l);return this.unpack(d[g],d[g+1],d[g+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(a,l){if(a<-1||a>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(a+1)}unpack(a,l,d){return a*this.redFactor+l*this.greenFactor+d*this.blueFactor-this.baseShift}getPixels(){return new Ze({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(a,l,d){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let g=l*this.dim,b=l*this.dim+this.dim,M=d*this.dim,S=d*this.dim+this.dim;switch(l){case-1:g=b-1;break;case 1:b=g+1}switch(d){case-1:M=S-1;break;case 1:S=M+1}const V=-l*this.dim,P=-d*this.dim;for(let I=M;I<S;I++)for(let R=g;R<b;R++)this.data[this._idx(R,I)]=a.data[this._idx(R+V,I+P)]}}f1("DEMData",o8);class c8{constructor(a){this._stringToNumber={},this._numberToString=[];for(let l=0;l<a.length;l++){const d=a[l];this._stringToNumber[d]=l,this._numberToString[l]=d}}encode(a){return this._stringToNumber[a]}decode(a){if(a>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${a} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[a]}}class l8{constructor(a,l,d,g,b){this.type="Feature",this._vectorTileFeature=a,a._z=l,a._x=d,a._y=g,this.properties=a.properties,this.id=b}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={geometry:this.geometry};for(const l in this)"_geometry"!==l&&"_vectorTileFeature"!==l&&(a[l]=this[l]);return a}}class S4{constructor(a,l){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new La(T2,16,0),this.grid3D=new La(T2,16,0),this.featureIndexArray=new We,this.promoteId=l}insert(a,l,d,g,b,M){const S=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,g,b);const V=M?this.grid3D:this.grid;for(let P=0;P<l.length;P++){const I=l[P],R=[1/0,1/0,-1/0,-1/0];for(let U=0;U<I.length;U++){const Y=I[U];R[0]=Math.min(R[0],Y.x),R[1]=Math.min(R[1],Y.y),R[2]=Math.max(R[2],Y.x),R[3]=Math.max(R[3],Y.y)}R[0]<T2&&R[1]<T2&&R[2]>=0&&R[3]>=0&&V.insert(S,R[0],R[1],R[2],R[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Z3.VectorTile(new X0(this.rawTileData)).layers,this.sourceLayerCoder=new c8(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(a,l,d,g){this.loadVTLayers();const b=a.params||{},M=T2/a.tileSize/a.scale,S=z1(b.filter),V=a.queryGeometry,P=a.queryPadding*M,I=f8(V),R=this.grid.query(I.minX-P,I.minY-P,I.maxX+P,I.maxY+P),U=f8(a.cameraQueryGeometry),Y=this.grid3D.query(U.minX-P,U.minY-P,U.maxX+P,U.maxY+P,(oe,ue,be,de)=>function(ze,Ae,Ue,h1,y1){for(const c1 of ze)if(Ae<=c1.x&&Ue<=c1.y&&h1>=c1.x&&y1>=c1.y)return!0;const l1=[new T1(Ae,Ue),new T1(Ae,y1),new T1(h1,y1),new T1(h1,Ue)];if(ze.length>2)for(const c1 of l1)if(bn(ze,c1))return!0;for(let c1=0;c1<ze.length-1;c1++)if(Lu(ze[c1],ze[c1+1],l1))return!0;return!1}(a.cameraQueryGeometry,oe-P,ue-P,be+P,de+P));for(const oe of Y)R.push(oe);R.sort(u6);const X={};let J;for(let oe=0;oe<R.length;oe++){const ue=R[oe];if(ue===J)continue;J=ue;const be=this.featureIndexArray.get(ue);let de=null;this.loadMatchingFeature(X,be.bucketIndex,be.sourceLayerIndex,be.featureIndex,S,b.layers,b.availableImages,l,d,g,(ze,Ae,Ue)=>(de||(de=v4(ze)),Ae.queryIntersectsFeature(V,ze,Ue,de,this.z,a.transform,M,a.pixelPosMatrix)))}return X}loadMatchingFeature(a,l,d,g,b,M,S,V,P,I,R){const U=this.bucketLayerIDs[l];if(M&&!function(oe,ue){for(let be=0;be<oe.length;be++)if(ue.indexOf(oe[be])>=0)return!0;return!1}(M,U))return;const Y=this.sourceLayerCoder.decode(d),X=this.vtLayers[Y].feature(g);if(b.needGeometry){const oe=j3(X,!0);if(!b.filter(new _1(this.tileID.overscaledZ),oe,this.tileID.canonical))return}else if(!b.filter(new _1(this.tileID.overscaledZ),X))return;const J=this.getId(X,Y);for(let oe=0;oe<U.length;oe++){const ue=U[oe];if(M&&M.indexOf(ue)<0)continue;const be=V[ue];if(!be)continue;let de={};J&&I&&(de=I.getState(be.sourceLayer||"_geojsonTileLayer",J));const ze=en({},P[ue]);ze.paint=u8(ze.paint,be.paint,X,de,S),ze.layout=u8(ze.layout,be.layout,X,de,S);const Ae=!R||R(X,be,de);if(!Ae)continue;const Ue=new l8(X,this.z,this.x,this.y,J);Ue.layer=ze;let h1=a[ue];void 0===h1&&(h1=a[ue]=[]),h1.push({featureIndex:g,feature:Ue,intersectionZ:Ae})}}lookupSymbolFeatures(a,l,d,g,b,M,S,V){const P={};this.loadVTLayers();const I=z1(b);for(const R of a)this.loadMatchingFeature(P,d,g,R,I,M,S,V,l);return P}hasLayer(a){for(const l of this.bucketLayerIDs)for(const d of l)if(a===d)return!0;return!1}getId(a,l){let d=a.id;return this.promoteId&&(d=a.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[l]],"boolean"==typeof d&&(d=Number(d))),d}}function u8(c,a,l,d,g){return Qt(c,(b,M)=>{const S=a instanceof a3?a.get(M):null;return S&&S.evaluate?S.evaluate(l,d,g):S})}function f8(c){let a=1/0,l=1/0,d=-1/0,g=-1/0;for(const b of c)a=Math.min(a,b.x),l=Math.min(l,b.y),d=Math.max(d,b.x),g=Math.max(g,b.y);return{minX:a,minY:l,maxX:d,maxY:g}}function u6(c,a){return a-c}function Bo(c,a,l,d,g){const b=[];for(let M=0;M<c.length;M++){const S=c[M];let V;for(let P=0;P<S.length-1;P++){let I=S[P],R=S[P+1];I.x<a&&R.x<a||(I.x<a?I=new T1(a,I.y+(a-I.x)/(R.x-I.x)*(R.y-I.y))._round():R.x<a&&(R=new T1(a,I.y+(a-I.x)/(R.x-I.x)*(R.y-I.y))._round()),I.y<l&&R.y<l||(I.y<l?I=new T1(I.x+(l-I.y)/(R.y-I.y)*(R.x-I.x),l)._round():R.y<l&&(R=new T1(I.x+(l-I.y)/(R.y-I.y)*(R.x-I.x),l)._round()),I.x>=d&&R.x>=d||(I.x>=d?I=new T1(d,I.y+(d-I.x)/(R.x-I.x)*(R.y-I.y))._round():R.x>=d&&(R=new T1(d,I.y+(d-I.x)/(R.x-I.x)*(R.y-I.y))._round()),I.y>=g&&R.y>=g||(I.y>=g?I=new T1(I.x+(g-I.y)/(R.y-I.y)*(R.x-I.x),g)._round():R.y>=g&&(R=new T1(I.x+(g-I.y)/(R.y-I.y)*(R.x-I.x),g)._round()),V&&I.equals(V[V.length-1])||(V=[I],b.push(V)),V.push(R)))))}}return b}f1("FeatureIndex",S4,{omit:["rawTileData","sourceLayerCoder"]});class di extends T1{constructor(a,l,d,g){super(a,l),this.angle=d,void 0!==g&&(this.segment=g)}clone(){return new di(this.x,this.y,this.angle,this.segment)}}function R5(c,a,l,d,g){if(void 0===a.segment||0===l)return!0;let b=a,M=a.segment+1,S=0;for(;S>-l/2;){if(M--,M<0)return!1;S-=c[M].dist(b),b=c[M]}S+=c[M].dist(c[M+1]),M++;const V=[];let P=0;for(;S<l/2;){const I=c[M],R=c[M+1];if(!R)return!1;let U=c[M-1].angleTo(I)-I.angleTo(R);for(U=Math.abs((U+3*Math.PI)%(2*Math.PI)-Math.PI),V.push({distance:S,angleDelta:U}),P+=U;S-V[0].distance>d;)P-=V.shift().angleDelta;if(P>g)return!1;M++,S+=I.dist(R)}return!0}function F5(c){let a=0;for(let l=0;l<c.length-1;l++)a+=c[l].dist(c[l+1]);return a}function B5(c,a,l){return c?.6*a*l:0}function h8(c,a){return Math.max(c?c.right-c.left:0,a?a.right-a.left:0)}function d8(c,a,l,d,g,b){const M=B5(l,g,b),S=h8(l,d)*b;let V=0;const P=F5(c)/2;for(let I=0;I<c.length-1;I++){const R=c[I],U=c[I+1],Y=R.dist(U);if(V+Y>P){const X=(P-V)/Y,J=xi.number(R.x,U.x,X),oe=xi.number(R.y,U.y,X),ue=new di(J,oe,U.angleTo(R),I);return ue._round(),!M||R5(c,ue,S,M,a)?ue:void 0}V+=Y}}function Ku(c,a,l,d,g,b,M,S,V){const P=B5(d,b,M),I=h8(d,g),R=I*M,U=0===c[0].x||c[0].x===V||0===c[0].y||c[0].y===V;return a-R<a/4&&(a=R+a/4),$5(c,U?a/2*S%a:(I/2+2*b)*M*S%a,a,P,l,R,U,!1,V)}function $5(c,a,l,d,g,b,M,S,V){const P=b/2,I=F5(c);let R=0,U=a-l,Y=[];for(let X=0;X<c.length-1;X++){const J=c[X],oe=c[X+1],ue=J.dist(oe),be=oe.angleTo(J);for(;U+l<R+ue;){U+=l;const de=(U-R)/ue,ze=xi.number(J.x,oe.x,de),Ae=xi.number(J.y,oe.y,de);if(ze>=0&&ze<V&&Ae>=0&&Ae<V&&U-P>=0&&U+P<=I){const Ue=new di(ze,Ae,be,X);Ue._round(),d&&!R5(c,Ue,b,d,g)||Y.push(Ue)}}R+=ue}return S||Y.length||M||(Y=$5(c,R/2,l,d,g,b,M,!0,V)),Y}f1("Anchor",di);const Ds=un;function p8(c,a,l,d){const g=[],b=c.image,M=b.pixelRatio,S=b.paddedRect.w-2*Ds,V=b.paddedRect.h-2*Ds,P=c.right-c.left,I=c.bottom-c.top,R=b.stretchX||[[0,S]],U=b.stretchY||[[0,V]],Y=(i1,d1)=>i1+d1[1]-d1[0],X=R.reduce(Y,0),J=U.reduce(Y,0),oe=S-X,ue=V-J;let be=0,de=X,ze=0,Ae=J,Ue=0,h1=oe,y1=0,l1=ue;if(b.content&&d){const i1=b.content;be=f6(R,0,i1[0]),ze=f6(U,0,i1[1]),de=f6(R,i1[0],i1[2]),Ae=f6(U,i1[1],i1[3]),Ue=i1[0]-be,y1=i1[1]-ze,h1=i1[2]-i1[0]-de,l1=i1[3]-i1[1]-Ae}const c1=(i1,d1,a1,Ke)=>{const L1=Nn(i1.stretch-be,de,P,c.left),x1=Ps(i1.fixed-Ue,h1,i1.stretch,X),st=Nn(d1.stretch-ze,Ae,I,c.top),qt=Ps(d1.fixed-y1,l1,d1.stretch,J),Xt=Nn(a1.stretch-be,de,P,c.left),R2=Ps(a1.fixed-Ue,h1,a1.stretch,X),pi=Nn(Ke.stretch-ze,Ae,I,c.top),On=Ps(Ke.fixed-y1,l1,Ke.stretch,J),u2=new T1(L1,st),F2=new T1(Xt,st),z2=new T1(Xt,pi),Yn=new T1(L1,pi),Xn=new T1(x1/M,qt/M),Y2=new T1(R2/M,On/M),B2=a*Math.PI/180;if(B2){const P2=Math.sin(B2),Mn=Math.cos(B2),Rn=[Mn,-P2,P2,Mn];u2._matMult(Rn),F2._matMult(Rn),Yn._matMult(Rn),z2._matMult(Rn)}const fn=i1.stretch+i1.fixed,Kn=d1.stretch+d1.fixed;return{tl:u2,tr:F2,bl:Yn,br:z2,tex:{x:b.paddedRect.x+Ds+fn,y:b.paddedRect.y+Ds+Kn,w:a1.stretch+a1.fixed-fn,h:Ke.stretch+Ke.fixed-Kn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Xn,pixelOffsetBR:Y2,minFontScaleX:h1/M/P,minFontScaleY:l1/M/I,isSDF:l}};if(d&&(b.stretchX||b.stretchY)){const i1=j5(R,oe,X),d1=j5(U,ue,J);for(let a1=0;a1<i1.length-1;a1++){const Ke=i1[a1],L1=i1[a1+1];for(let x1=0;x1<d1.length-1;x1++)g.push(c1(Ke,d1[x1],L1,d1[x1+1]))}}else g.push(c1({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:V+1}));return g}function f6(c,a,l){let d=0;for(const g of c)d+=Math.max(a,Math.min(l,g[1]))-Math.max(a,Math.min(l,g[0]));return d}function j5(c,a,l){const d=[{fixed:-Ds,stretch:0}];for(const[g,b]of c){const M=d[d.length-1];d.push({fixed:g-M.stretch,stretch:M.stretch}),d.push({fixed:g-M.stretch,stretch:M.stretch+(b-g)})}return d.push({fixed:a+Ds,stretch:l}),d}function Nn(c,a,l,d){return c/a*l+d}function Ps(c,a,l,d){return c-a*l/d}class $o{constructor(a,l,d,g,b,M,S,V,P,I){if(this.boxStartIndex=a.length,P){let R=M.top,U=M.bottom;const Y=M.collisionPadding;Y&&(R-=Y[1],U+=Y[3]);let X=U-R;X>0&&(X=Math.max(10,X),this.circleDiameter=X)}else{let R=M.top*S-V[0],U=M.bottom*S+V[2],Y=M.left*S-V[3],X=M.right*S+V[1];const J=M.collisionPadding;if(J&&(Y-=J[0]*S,R-=J[1]*S,X+=J[2]*S,U+=J[3]*S),I){const oe=new T1(Y,R),ue=new T1(X,R),be=new T1(Y,U),de=new T1(X,U),ze=I*Math.PI/180;oe._rotate(ze),ue._rotate(ze),be._rotate(ze),de._rotate(ze),Y=Math.min(oe.x,ue.x,be.x,de.x),X=Math.max(oe.x,ue.x,be.x,de.x),R=Math.min(oe.y,ue.y,be.y,de.y),U=Math.max(oe.y,ue.y,be.y,de.y)}a.emplaceBack(l.x,l.y,Y,R,X,U,d,g,b)}this.boxEndIndex=a.length}}class m8{constructor(a=[],l=Wn){if(this.data=a,this.length=this.data.length,this.compare=l,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(a){this.data.push(a),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const a=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:l,compare:d}=this,g=l[a];for(;a>0;){const b=a-1>>1,M=l[b];if(d(g,M)>=0)break;l[a]=M,a=b}l[a]=g}_down(a){const{data:l,compare:d}=this,g=this.length>>1,b=l[a];for(;a<g;){let M=1+(a<<1),S=l[M];const V=M+1;if(V<this.length&&d(l[V],S)<0&&(M=V,S=l[V]),d(S,b)>=0)break;l[a]=S,a=M}l[a]=b}}function Wn(c,a){return c<a?-1:c>a?1:0}function jo(c,a=1,l=!1){let d=1/0,g=1/0,b=-1/0,M=-1/0;const S=c[0];for(let Y=0;Y<S.length;Y++){const X=S[Y];(!Y||X.x<d)&&(d=X.x),(!Y||X.y<g)&&(g=X.y),(!Y||X.x>b)&&(b=X.x),(!Y||X.y>M)&&(M=X.y)}const V=Math.min(b-d,M-g);let P=V/2;const I=new m8([],U5);if(0===V)return new T1(d,g);for(let Y=d;Y<b;Y+=V)for(let X=g;X<M;X+=V)I.push(new L4(Y+P,X+P,P,c));let R=function(Y){let X=0,J=0,oe=0;const ue=Y[0];for(let be=0,de=ue.length,ze=de-1;be<de;ze=be++){const Ae=ue[be],Ue=ue[ze],h1=Ae.x*Ue.y-Ue.x*Ae.y;J+=(Ae.x+Ue.x)*h1,oe+=(Ae.y+Ue.y)*h1,X+=3*h1}return new L4(J/X,oe/X,0,Y)}(c),U=I.length;for(;I.length;){const Y=I.pop();(Y.d>R.d||!R.d)&&(R=Y,l&&console.log("found best %d after %d probes",Math.round(1e4*Y.d)/1e4,U)),Y.max-R.d<=a||(P=Y.h/2,I.push(new L4(Y.p.x-P,Y.p.y-P,P,c)),I.push(new L4(Y.p.x+P,Y.p.y-P,P,c)),I.push(new L4(Y.p.x-P,Y.p.y+P,P,c)),I.push(new L4(Y.p.x+P,Y.p.y+P,P,c)),U+=4)}return l&&(console.log(`num probes: ${U}`),console.log(`best distance: ${R.d}`)),R.p}function U5(c,a){return a.max-c.max}function L4(c,a,l,d){this.p=new T1(c,a),this.h=l,this.d=function(g,b){let M=!1,S=1/0;for(let V=0;V<b.length;V++){const P=b[V];for(let I=0,R=P.length,U=R-1;I<R;U=I++){const Y=P[I],X=P[U];Y.y>g.y!=X.y>g.y&&g.x<(X.x-Y.x)*(g.y-Y.y)/(X.y-Y.y)+Y.x&&(M=!M),S=Math.min(S,L0(g,Y,X))}}return(M?1:-1)*Math.sqrt(S)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var xn;_.aq=void 0,(xn=_.aq||(_.aq={}))[xn.center=1]="center",xn[xn.left=2]="left",xn[xn.right=3]="right",xn[xn.top=4]="top",xn[xn.bottom=5]="bottom",xn[xn["top-left"]=6]="top-left",xn[xn["top-right"]=7]="top-right",xn[xn["bottom-left"]=8]="bottom-left",xn[xn["bottom-right"]=9]="bottom-right";const X3=7,g8=Number.POSITIVE_INFINITY;function v8(c,a){return a[1]!==g8?function(l,d,g){let b=0,M=0;switch(d=Math.abs(d),g=Math.abs(g),l){case"top-right":case"top-left":case"top":M=g-X3;break;case"bottom-right":case"bottom-left":case"bottom":M=-g+X3}switch(l){case"top-right":case"bottom-right":case"right":b=-d;break;case"top-left":case"bottom-left":case"left":b=d}return[b,M]}(c,a[0],a[1]):function(l,d){let g=0,b=0;d<0&&(d=0);const M=d/Math.SQRT2;switch(l){case"top-right":case"top-left":b=M-X3;break;case"bottom-right":case"bottom-left":b=-M+X3;break;case"bottom":b=-d+X3;break;case"top":b=d-X3}switch(l){case"top-right":case"bottom-right":g=-M;break;case"top-left":case"bottom-left":g=M;break;case"left":g=d;break;case"right":g=-d}return[g,b]}(c,a[0])}function q5(c,a,l){var d;const g=c.layout,b=null===(d=g.get("text-variable-anchor-offset"))||void 0===d?void 0:d.evaluate(a,{},l);if(b){const S=b.values,V=[];for(let P=0;P<S.length;P+=2){const I=V[P]=S[P],R=S[P+1].map(U=>U*D2);I.startsWith("top")?R[1]-=X3:I.startsWith("bottom")&&(R[1]+=X3),V[P+1]=R}return new bi(V)}const M=g.get("text-variable-anchor");if(M){let S;S=void 0!==c._unevaluatedLayout.getValue("text-radial-offset")?[g.get("text-radial-offset").evaluate(a,{},l)*D2,g8]:g.get("text-offset").evaluate(a,{},l).map(P=>P*D2);const V=[];for(const P of M)V.push(P,v8(P,S));return new bi(V)}return null}function h6(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Qu(c,a,l,d,g,b,M,S,V,P,I){let R=b.textMaxSize.evaluate(a,{});void 0===R&&(R=M);const U=c.layers[0].layout,Y=U.get("icon-offset").evaluate(a,{},I),X=d6(l.horizontal),J=M/24,oe=c.tilePixelRatio*J,ue=c.tilePixelRatio*R/24,be=c.tilePixelRatio*S,de=c.tilePixelRatio*U.get("symbol-spacing"),ze=U.get("text-padding")*c.tilePixelRatio,Ae=function(Ke,L1,x1,st=1){const qt=Ke.get("icon-padding").evaluate(L1,{},x1),Xt=qt&&qt.values;return[Xt[0]*st,Xt[1]*st,Xt[2]*st,Xt[3]*st]}(U,a,I,c.tilePixelRatio),Ue=U.get("text-max-angle")/180*Math.PI,h1="viewport"!==U.get("text-rotation-alignment")&&"point"!==U.get("symbol-placement"),y1="map"===U.get("icon-rotation-alignment")&&"point"!==U.get("symbol-placement"),l1=U.get("symbol-placement"),c1=de/2,i1=U.get("icon-text-fit");let d1;d&&"none"!==i1&&(c.allowVerticalPlacement&&l.vertical&&(d1=No(d,l.vertical,i1,U.get("icon-text-fit-padding"),Y,J)),X&&(d=No(d,X,i1,U.get("icon-text-fit-padding"),Y,J)));const a1=(Ke,L1)=>{L1.x<0||L1.x>=T2||L1.y<0||L1.y>=T2||function(x1,st,qt,Xt,R2,pi,On,u2,F2,z2,Yn,Xn,Y2,B2,fn,Kn,P2,Mn,Rn,A2,ct,wn,v2,$2,gr){const Rr=x1.addToLineVertexArray(st,qt);let Fr,K3,y2,I2,mi=0,Q3=0,qo=0,Y5=0,x8=-1,M8=-1;const l3={};let X5=Ir("");if(x1.allowVerticalPlacement&&Xt.vertical){const Qn=u2.layout.get("text-rotate").evaluate(ct,{},$2)+90;y2=new $o(F2,st,z2,Yn,Xn,Xt.vertical,Y2,B2,fn,Qn),On&&(I2=new $o(F2,st,z2,Yn,Xn,On,P2,Mn,fn,Qn))}if(R2){const Qn=u2.layout.get("icon-rotate").evaluate(ct,{}),Ei="none"!==u2.layout.get("icon-text-fit"),E4=p8(R2,Qn,v2,Ei),Br=On?p8(On,Qn,v2,Ei):void 0;K3=new $o(F2,st,z2,Yn,Xn,R2,P2,Mn,!1,Qn),mi=4*E4.length;const T4=x1.iconSizeData;let f3=null;"source"===T4.kind?(f3=[Yi*u2.layout.get("icon-size").evaluate(ct,{})],f3[0]>Ra&&tn(`${x1.layerIds[0]}: Value for "icon-size" is >= ${Oo}. Reduce your "icon-size".`)):"composite"===T4.kind&&(f3=[Yi*wn.compositeIconSizes[0].evaluate(ct,{},$2),Yi*wn.compositeIconSizes[1].evaluate(ct,{},$2)],(f3[0]>Ra||f3[1]>Ra)&&tn(`${x1.layerIds[0]}: Value for "icon-size" is >= ${Oo}. Reduce your "icon-size".`)),x1.addSymbols(x1.icon,E4,f3,A2,Rn,ct,_.ai.none,st,Rr.lineStartIndex,Rr.lineLength,-1,$2),x8=x1.icon.placedSymbolArray.length-1,Br&&(Q3=4*Br.length,x1.addSymbols(x1.icon,Br,f3,A2,Rn,ct,_.ai.vertical,st,Rr.lineStartIndex,Rr.lineLength,-1,$2),M8=x1.icon.placedSymbolArray.length-1)}const K5=Object.keys(Xt.horizontal);for(const Qn of K5){const Ei=Xt.horizontal[Qn];if(!Fr){X5=Ir(Ei.text);const Br=u2.layout.get("text-rotate").evaluate(ct,{},$2);Fr=new $o(F2,st,z2,Yn,Xn,Ei,Y2,B2,fn,Br)}const E4=1===Ei.positionedLines.length;if(qo+=G5(x1,st,Ei,pi,u2,fn,ct,Kn,Rr,Xt.vertical?_.ai.horizontal:_.ai.horizontalOnly,E4?K5:[Qn],l3,x8,wn,$2),E4)break}Xt.vertical&&(Y5+=G5(x1,st,Xt.vertical,pi,u2,fn,ct,Kn,Rr,_.ai.vertical,["vertical"],l3,M8,wn,$2));const ef=Fr?Fr.boxStartIndex:x1.collisionBoxArray.length,tf=Fr?Fr.boxEndIndex:x1.collisionBoxArray.length,m6=y2?y2.boxStartIndex:x1.collisionBoxArray.length,J3=y2?y2.boxEndIndex:x1.collisionBoxArray.length,Go=K3?K3.boxStartIndex:x1.collisionBoxArray.length,Q5=K3?K3.boxEndIndex:x1.collisionBoxArray.length,J5=I2?I2.boxStartIndex:x1.collisionBoxArray.length,e7=I2?I2.boxEndIndex:x1.collisionBoxArray.length;let u3=-1;const w8=(Qn,Ei)=>Qn&&Qn.circleDiameter?Math.max(Qn.circleDiameter,Ei):Ei;u3=w8(Fr,u3),u3=w8(y2,u3),u3=w8(K3,u3),u3=w8(I2,u3);const nf=u3>-1?1:0;nf&&(u3*=gr/D2),x1.glyphOffsetArray.length>=Fo.MAX_GLYPHS&&tn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==ct.sortKey&&x1.addToSortKeyRanges(x1.symbolInstances.length,ct.sortKey);const z8=q5(u2,ct,$2),[S8,Vg]=function(Qn,Ei){const E4=Qn.length,Br=Ei?.values;if(Br?.length>0)for(let T4=0;T4<Br.length;T4+=2){const f3=Br[T4+1];Qn.emplaceBack(_.aq[Br[T4]],f3[0],f3[1])}return[E4,Qn.length]}(x1.textAnchorOffsets,z8);x1.symbolInstances.emplaceBack(st.x,st.y,l3.right>=0?l3.right:-1,l3.center>=0?l3.center:-1,l3.left>=0?l3.left:-1,l3.vertical||-1,x8,M8,X5,ef,tf,m6,J3,Go,Q5,J5,e7,z2,qo,Y5,mi,Q3,nf,0,Y2,u3,S8,Vg)}(c,L1,Ke,l,d,g,d1,c.layers[0],c.collisionBoxArray,a.index,a.sourceLayerIndex,c.index,oe,[ze,ze,ze,ze],h1,V,be,Ae,y1,Y,a,b,P,I,M)};if("line"===l1)for(const Ke of Bo(a.geometry,0,0,T2,T2)){const L1=Ku(Ke,de,Ue,l.vertical||X,d,24,ue,c.overscaling,T2);for(const x1 of L1)X&&y8(c,X.text,c1,x1)||a1(Ke,x1)}else if("line-center"===l1){for(const Ke of a.geometry)if(Ke.length>1){const L1=d8(Ke,Ue,l.vertical||X,d,24,ue);L1&&a1(Ke,L1)}}else if("Polygon"===a.type)for(const Ke of R0(a.geometry,0)){const L1=jo(Ke,16);a1(Ke[0],new di(L1.x,L1.y,0))}else if("LineString"===a.type)for(const Ke of a.geometry)a1(Ke,new di(Ke[0].x,Ke[0].y,0));else if("Point"===a.type)for(const Ke of a.geometry)for(const L1 of Ke)a1([L1],new di(L1.x,L1.y,0))}function G5(c,a,l,d,g,b,M,S,V,P,I,R,U,Y,X){const J=function(be,de,ze,Ae,Ue,h1,y1,l1){const c1=Ae.layout.get("text-rotate").evaluate(h1,{})*Math.PI/180,i1=[];for(const d1 of de.positionedLines)for(const a1 of d1.positionedGlyphs){if(!a1.rect)continue;const Ke=a1.rect||{};let L1=K0+1,x1=!0,st=1,qt=0;const Xt=(Ue||l1)&&a1.vertical,R2=a1.metrics.advance*a1.scale/2;if(l1&&de.verticalizable&&(qt=d1.lineOffset/2-(a1.imageName?-(D2-a1.metrics.width*a1.scale)/2:(a1.scale-1)*D2)),a1.imageName){const A2=y1[a1.imageName];x1=A2.sdf,st=A2.pixelRatio,L1=un/st}const pi=Ue?[a1.x+R2,a1.y]:[0,0];let On=Ue?[0,0]:[a1.x+R2+ze[0],a1.y+ze[1]-qt],u2=[0,0];Xt&&(u2=On,On=[0,0]);const F2=a1.metrics.isDoubleResolution?2:1,z2=(a1.metrics.left-L1)*a1.scale-R2+On[0],Yn=(-a1.metrics.top-L1)*a1.scale+On[1],Xn=z2+Ke.w/F2*a1.scale/st,Y2=Yn+Ke.h/F2*a1.scale/st,B2=new T1(z2,Yn),fn=new T1(Xn,Yn),Kn=new T1(z2,Y2),P2=new T1(Xn,Y2);if(Xt){const A2=new T1(-R2,R2-n6),ct=-Math.PI/2,wn=D2/2-R2,v2=new T1(5-n6-wn,-(a1.imageName?wn:0)),$2=new T1(...u2);B2._rotateAround(ct,A2)._add(v2)._add($2),fn._rotateAround(ct,A2)._add(v2)._add($2),Kn._rotateAround(ct,A2)._add(v2)._add($2),P2._rotateAround(ct,A2)._add(v2)._add($2)}if(c1){const A2=Math.sin(c1),ct=Math.cos(c1),wn=[ct,-A2,A2,ct];B2._matMult(wn),fn._matMult(wn),Kn._matMult(wn),P2._matMult(wn)}const Mn=new T1(0,0),Rn=new T1(0,0);i1.push({tl:B2,tr:fn,bl:Kn,br:P2,tex:Ke,writingMode:de.writingMode,glyphOffset:pi,sectionIndex:a1.sectionIndex,isSDF:x1,pixelOffsetTL:Mn,pixelOffsetBR:Rn,minFontScaleX:0,minFontScaleY:0})}return i1}(0,l,S,g,b,M,d,c.allowVerticalPlacement),oe=c.textSizeData;let ue=null;"source"===oe.kind?(ue=[Yi*g.layout.get("text-size").evaluate(M,{})],ue[0]>Ra&&tn(`${c.layerIds[0]}: Value for "text-size" is >= ${Oo}. Reduce your "text-size".`)):"composite"===oe.kind&&(ue=[Yi*Y.compositeTextSizes[0].evaluate(M,{},X),Yi*Y.compositeTextSizes[1].evaluate(M,{},X)],(ue[0]>Ra||ue[1]>Ra)&&tn(`${c.layerIds[0]}: Value for "text-size" is >= ${Oo}. Reduce your "text-size".`)),c.addSymbols(c.text,J,ue,S,b,M,P,a,V.lineStartIndex,V.lineLength,U,X);for(const be of I)R[be]=c.text.placedSymbolArray.length-1;return 4*J.length}function d6(c){for(const a in c)return c[a];return null}function y8(c,a,l,d){const g=c.compareText;if(a in g){const b=g[a];for(let M=b.length-1;M>=0;M--)if(d.dist(b[M])<l)return!0}else g[a]=[];return g[a].push(d),!1}const Z5=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class H4{static from(a){if(!(a instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[l,d]=new Uint8Array(a,0,2);if(219!==l)throw new Error("Data does not appear to be in a KDBush format.");const g=d>>4;if(1!==g)throw new Error(`Got v${g} data when expected v1.`);const b=Z5[15&d];if(!b)throw new Error("Unrecognized array type.");const[M]=new Uint16Array(a,2,1),[S]=new Uint32Array(a,4,1);return new H4(S,M,b,a)}constructor(a,l=64,d=Float64Array,g){if(isNaN(a)||a<0)throw new Error(`Unpexpected numItems value: ${a}.`);this.numItems=+a,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=d,this.IndexArrayType=a<65536?Uint16Array:Uint32Array;const b=Z5.indexOf(this.ArrayType),M=2*a*this.ArrayType.BYTES_PER_ELEMENT,S=a*this.IndexArrayType.BYTES_PER_ELEMENT,V=(8-S%8)%8;if(b<0)throw new Error(`Unexpected typed array class: ${d}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+S+V,2*a),this._pos=2*a,this._finished=!0):(this.data=new ArrayBuffer(8+M+S+V),this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+S+V,2*a),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+b]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=a)}add(a,l){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=a,this.coords[this._pos++]=l,d}finish(){const a=this._pos>>1;if(a!==this.numItems)throw new Error(`Added ${a} items when expected ${this.numItems}.`);return _8(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(a,l,d,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:M,nodeSize:S}=this,V=[0,b.length-1,0],P=[];for(;V.length;){const I=V.pop()||0,R=V.pop()||0,U=V.pop()||0;if(R-U<=S){for(let oe=U;oe<=R;oe++){const ue=M[2*oe],be=M[2*oe+1];ue>=a&&ue<=d&&be>=l&&be<=g&&P.push(b[oe])}continue}const Y=U+R>>1,X=M[2*Y],J=M[2*Y+1];X>=a&&X<=d&&J>=l&&J<=g&&P.push(b[Y]),(0===I?a<=X:l<=J)&&(V.push(U),V.push(Y-1),V.push(1-I)),(0===I?d>=X:g>=J)&&(V.push(Y+1),V.push(R),V.push(1-I))}return P}within(a,l,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:b,nodeSize:M}=this,S=[0,g.length-1,0],V=[],P=d*d;for(;S.length;){const I=S.pop()||0,R=S.pop()||0,U=S.pop()||0;if(R-U<=M){for(let oe=U;oe<=R;oe++)C8(b[2*oe],b[2*oe+1],a,l)<=P&&V.push(g[oe]);continue}const Y=U+R>>1,X=b[2*Y],J=b[2*Y+1];C8(X,J,a,l)<=P&&V.push(g[Y]),(0===I?a-d<=X:l-d<=J)&&(S.push(U),S.push(Y-1),S.push(1-I)),(0===I?a+d>=X:l+d>=J)&&(S.push(Y+1),S.push(R),S.push(1-I))}return V}}function _8(c,a,l,d,g,b){if(g-d<=l)return;const M=d+g>>1;W5(c,a,M,d,g,b),_8(c,a,l,d,M-1,1-b),_8(c,a,l,M+1,g,1-b)}function W5(c,a,l,d,g,b){for(;g>d;){if(g-d>600){const P=g-d+1,I=l-d+1,R=Math.log(P),U=.5*Math.exp(2*R/3),Y=.5*Math.sqrt(R*U*(P-U)/P)*(I-P/2<0?-1:1);W5(c,a,l,Math.max(d,Math.floor(l-I*U/P+Y)),Math.min(g,Math.floor(l+(P-I)*U/P+Y)),b)}const M=a[2*l+b];let S=d,V=g;for(As(c,a,d,l),a[2*g+b]>M&&As(c,a,d,g);S<V;){for(As(c,a,S,V),S++,V--;a[2*S+b]<M;)S++;for(;a[2*V+b]>M;)V--}a[2*d+b]===M?As(c,a,d,V):(V++,As(c,a,V,g)),V<=l&&(d=V+1),l<=V&&(g=V-1)}}function As(c,a,l,d){p6(c,l,d),p6(a,2*l,2*d),p6(a,2*l+1,2*d+1)}function p6(c,a,l){const d=c[a];c[a]=c[l],c[l]=d}function C8(c,a,l,d){const g=c-l,b=a-d;return g*g+b*b}var $a;_.bg=void 0,($a=_.bg||(_.bg={})).create="create",$a.load="load",$a.fullLoad="fullLoad";let V4=null,Is=[];const Uo=1e3/60,ks="loadTime",b8="fullLoadTime",Ju={mark(c){performance.mark(c)},frame(c){const a=c;null!=V4&&Is.push(a-V4),V4=a},clearMetrics(){V4=null,Is=[],performance.clearMeasures(ks),performance.clearMeasures(b8);for(const c in _.bg)performance.clearMarks(_.bg[c])},getPerformanceMetrics(){performance.measure(ks,_.bg.create,_.bg.load),performance.measure(b8,_.bg.create,_.bg.fullLoad);const c=performance.getEntriesByName(ks)[0].duration,a=performance.getEntriesByName(b8)[0].duration,l=Is.length,d=1/(Is.reduce((b,M)=>b+M,0)/l/1e3),g=Is.filter(b=>b>Uo).reduce((b,M)=>b+(M-Uo)/Uo,0);return{loadTime:c,fullLoadTime:a,fps:d,percentDroppedFrames:g/(l+g)*100,totalFrames:l}}};_.$=function(c,a,l){var d,g,b,M,S,V,P,I,R,U,Y,X,J=l[0],oe=l[1],ue=l[2];return a===c?(c[12]=a[0]*J+a[4]*oe+a[8]*ue+a[12],c[13]=a[1]*J+a[5]*oe+a[9]*ue+a[13],c[14]=a[2]*J+a[6]*oe+a[10]*ue+a[14],c[15]=a[3]*J+a[7]*oe+a[11]*ue+a[15]):(g=a[1],b=a[2],M=a[3],S=a[4],V=a[5],P=a[6],I=a[7],R=a[8],U=a[9],Y=a[10],X=a[11],c[0]=d=a[0],c[1]=g,c[2]=b,c[3]=M,c[4]=S,c[5]=V,c[6]=P,c[7]=I,c[8]=R,c[9]=U,c[10]=Y,c[11]=X,c[12]=d*J+S*oe+R*ue+a[12],c[13]=g*J+V*oe+U*ue+a[13],c[14]=b*J+P*oe+Y*ue+a[14],c[15]=M*J+I*oe+X*ue+a[15]),c},_.A=_4,_.B=xi,_.C=class{constructor(c,a,l){this.receive=d=>{const g=d.data,b=g.id;if(b&&(!g.targetMapId||this.mapId===g.targetMapId))if("<cancel>"===g.type){delete this.tasks[b];const M=this.cancelCallbacks[b];delete this.cancelCallbacks[b],M&&M()}else k2()||g.mustQueue?(this.tasks[b]=g,this.taskQueue.push(b),this.invoker.trigger()):this.processTask(b,g)},this.process=()=>{if(!this.taskQueue.length)return;const d=this.taskQueue.shift(),g=this.tasks[d];delete this.tasks[d],this.taskQueue.length&&this.invoker.trigger(),g&&this.processTask(d,g)},this.target=c,this.parent=a,this.mapId=l,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new Hg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=k2()?c:window}send(c,a,l,d,g=!1){const b=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(this.callbacks[b]=l);const M=[],S={id:b,type:c,hasCallback:!!l,targetMapId:d,mustQueue:g,sourceMapId:this.mapId,data:Vr(a,M)};return this.target.postMessage(S,{transfer:M}),{cancel:()=>{l&&delete this.callbacks[b],this.target.postMessage({id:b,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}processTask(c,a){if("<response>"===a.type){const l=this.callbacks[c];delete this.callbacks[c],l&&(a.error?l(jt(a.error)):l(null,jt(a.data)))}else{let l=!1;const d=[],g=a.hasCallback?(S,V)=>{l=!0,delete this.cancelCallbacks[c];const P={id:c,type:"<response>",sourceMapId:this.mapId,error:S?Vr(S):null,data:Vr(V,d)};this.target.postMessage(P,{transfer:d})}:S=>{l=!0};let b=null;const M=jt(a.data);if(this.parent[a.type])b=this.parent[a.type](a.sourceMapId,M,g);else if("getWorkerSource"in this.parent){const S=a.type.split(".");b=this.parent.getWorkerSource(a.sourceMapId,S[0],M.source)[S[1]](M,g)}else g(new Error(`Could not find function ${a.type}`));!l&&b&&b.cancel&&(this.cancelCallbacks[c]=b.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},_.D=S1,_.E=ga,_.F=function(c,a){const l={};for(let d=0;d<a.length;d++){const g=a[d];g in c&&(l[g]=c[g])}return l},_.G=Wu,_.H=l6,_.I=Q0,_.J=X4,_.K=tr,_.L=Fa,_.M=pa,_.N=T2,_.O=Zn,_.P=T1,_.Q=Pt,_.R=Ze,_.S=St,_.T=O3,_.U=s8,_.V=class extends V2{},_.W=N5,_.X=function(c,a){const l=window.document.createElement("video");l.muted=!0,l.onloadstart=function(){a(null,l)};for(let d=0;d<c.length;d++){const g=window.document.createElement("source");Ni(c[d])||(l.crossOrigin="Anonymous"),g.src=c[d],l.appendChild(g)}return{cancel:()=>{}}},_.Y=t1,_.Z=function(){var c=new _4(16);return _4!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},_._=h2,_.a=da,_.a$=class extends W{},_.a0=function(c,a,l){var d=l[0],g=l[1],b=l[2];return c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d,c[3]=a[3]*d,c[4]=a[4]*g,c[5]=a[5]*g,c[6]=a[6]*g,c[7]=a[7]*g,c[8]=a[8]*b,c[9]=a[9]*b,c[10]=a[10]*b,c[11]=a[11]*b,c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c},_.a1=X1,_.a2=function(){return ha++},_.a3=ae,_.a4=Fo,_.a5=function(){q2.isLoading()||q2.isLoaded()||"deferred"!==l2()||Tr()},_.a6=z1,_.a7=j3,_.a8=_1,_.a9=l8,_.aA=Er,_.aB=function(c){c=c.slice();const a=Object.create(null);for(let l=0;l<c.length;l++)a[c[l].id]=c[l];for(let l=0;l<c.length;l++)"ref"in c[l]&&(c[l]=_i(c[l],a[c[l].ref]));return c},_.aC=function(c){if("custom"===c.type)return new I5(c);switch(c.type){case"background":return new D5(c);case"circle":return new Hu(c);case"fill":return new qc(c);case"fill-extrusion":return new m5(c);case"heatmap":return new P0(c);case"hillshade":return new o5(c);case"line":return new Jc(c);case"raster":return new Lg(c);case"symbol":return new s6(c)}},_.aD=jn,_.aE=function(c,a){if(!c)return[{command:vt.setStyle,args:[a]}];let l=[];try{if(!Et(c.version,a.version))return[{command:vt.setStyle,args:[a]}];Et(c.center,a.center)||l.push({command:vt.setCenter,args:[a.center]}),Et(c.zoom,a.zoom)||l.push({command:vt.setZoom,args:[a.zoom]}),Et(c.bearing,a.bearing)||l.push({command:vt.setBearing,args:[a.bearing]}),Et(c.pitch,a.pitch)||l.push({command:vt.setPitch,args:[a.pitch]}),Et(c.sprite,a.sprite)||l.push({command:vt.setSprite,args:[a.sprite]}),Et(c.glyphs,a.glyphs)||l.push({command:vt.setGlyphs,args:[a.glyphs]}),Et(c.transition,a.transition)||l.push({command:vt.setTransition,args:[a.transition]}),Et(c.light,a.light)||l.push({command:vt.setLight,args:[a.light]});const d={},g=[];!function(M,S,V,P){let I;for(I in S=S||{},M=M||{})Object.prototype.hasOwnProperty.call(M,I)&&(Object.prototype.hasOwnProperty.call(S,I)||va(I,V,P));for(I in S)Object.prototype.hasOwnProperty.call(S,I)&&(Object.prototype.hasOwnProperty.call(M,I)?Et(M[I],S[I])||("geojson"===M[I].type&&"geojson"===S[I].type&&Ja(M,S,I)?V.push({command:vt.setGeoJSONSourceData,args:[I,S[I].data]}):Oi(I,S,V,P)):Ci(I,S,V))}(c.sources,a.sources,g,d);const b=[];c.layers&&c.layers.forEach(M=>{d[M.source]?l.push({command:vt.removeLayer,args:[M.id]}):b.push(M)}),l=l.concat(g),function(M,S,V){S=S||[];const P=(M=M||[]).map(Jr),I=S.map(Jr),R=M.reduce(H3,{}),U=S.reduce(H3,{}),Y=P.slice(),X=Object.create(null);let J,oe,ue,be,de,ze,Ae;for(J=0,oe=0;J<P.length;J++)ue=P[J],Object.prototype.hasOwnProperty.call(U,ue)?oe++:(V.push({command:vt.removeLayer,args:[ue]}),Y.splice(Y.indexOf(ue,oe),1));for(J=0,oe=0;J<I.length;J++)ue=I[I.length-1-J],Y[Y.length-1-J]!==ue&&(Object.prototype.hasOwnProperty.call(R,ue)?(V.push({command:vt.removeLayer,args:[ue]}),Y.splice(Y.lastIndexOf(ue,Y.length-oe),1)):oe++,ze=Y[Y.length-J],V.push({command:vt.addLayer,args:[U[ue],ze]}),Y.splice(Y.length-J,0,ue),X[ue]=!0);for(J=0;J<I.length;J++)if(ue=I[J],be=R[ue],de=U[ue],!X[ue]&&!Et(be,de))if(Et(be.source,de.source)&&Et(be["source-layer"],de["source-layer"])&&Et(be.type,de.type)){for(Ae in ya(be.layout,de.layout,V,ue,null,vt.setLayoutProperty),ya(be.paint,de.paint,V,ue,null,vt.setPaintProperty),Et(be.filter,de.filter)||V.push({command:vt.setFilter,args:[ue,de.filter]}),Et(be.minzoom,de.minzoom)&&Et(be.maxzoom,de.maxzoom)||V.push({command:vt.setLayerZoomRange,args:[ue,de.minzoom,de.maxzoom]}),be)Object.prototype.hasOwnProperty.call(be,Ae)&&"layout"!==Ae&&"paint"!==Ae&&"filter"!==Ae&&"metadata"!==Ae&&"minzoom"!==Ae&&"maxzoom"!==Ae&&(0===Ae.indexOf("paint.")?ya(be[Ae],de[Ae],V,ue,Ae.slice(6),vt.setPaintProperty):Et(be[Ae],de[Ae])||V.push({command:vt.setLayerProperty,args:[ue,Ae,de[Ae]]}));for(Ae in de)Object.prototype.hasOwnProperty.call(de,Ae)&&!Object.prototype.hasOwnProperty.call(be,Ae)&&"layout"!==Ae&&"paint"!==Ae&&"filter"!==Ae&&"metadata"!==Ae&&"minzoom"!==Ae&&"maxzoom"!==Ae&&(0===Ae.indexOf("paint.")?ya(be[Ae],de[Ae],V,ue,Ae.slice(6),vt.setPaintProperty):Et(be[Ae],de[Ae])||V.push({command:vt.setLayerProperty,args:[ue,Ae,de[Ae]]}))}else V.push({command:vt.removeLayer,args:[ue]}),ze=Y[Y.lastIndexOf(ue)+1],V.push({command:vt.addLayer,args:[de,ze]})}(b,a.layers,l)}catch(d){console.warn("Unable to compute style diff:",d),l=[{command:vt.setStyle,args:[a]}]}return l},_.aF=function(c){const a=[],l=c.id;return void 0===l&&a.push({message:`layers.${l}: missing required property "id"`}),void 0===c.render&&a.push({message:`layers.${l}: missing required method "render"`}),c.renderingMode&&"2d"!==c.renderingMode&&"3d"!==c.renderingMode&&a.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),a},_.aG=function c(a,l){if(Array.isArray(a)){if(!Array.isArray(l)||a.length!==l.length)return!1;for(let d=0;d<a.length;d++)if(!c(a[d],l[d]))return!1;return!0}if("object"==typeof a&&null!==a&&null!==l){if("object"!=typeof l||Object.keys(a).length!==Object.keys(l).length)return!1;for(const d in a)if(!c(a[d],l[d]))return!1;return!0}return a===l},_.aH=Qt,_.aI=ir,_.aJ=fr,_.aK=function(c){return c({pluginStatus:dt,pluginURL:j2}),fr.on("pluginStateChange",c),c},_.aL=class extends B3{constructor(c,a){super(c,a),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},_.aM=g4,_.aN=class extends B3{constructor(c,a){super(c,a),this.current=x0}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let a=1;a<16;a++)if(c[a]!==this.current[a]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},_.aO=Co,_.aP=class extends B3{constructor(c,a){super(c,a),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},_.aQ=class extends B3{constructor(c,a){super(c,a),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},_.aR=Nc,_.aS=function(c,a,l,d,g,b,M){var S=1/(a-l),V=1/(d-g),P=1/(b-M);return c[0]=-2*S,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*V,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*P,c[11]=0,c[12]=(a+l)*S,c[13]=(g+d)*V,c[14]=(M+b)*P,c[15]=1,c},_.aT=yt,_.aU=mg,_.aV=class extends m{},_.aW=Bu,_.aX=class extends x{},_.aY=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},_.aZ=bt,_.a_=Xe,_.aa=function(c){const a={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,d,g,b)=>{const M=g||b;return a[d]=!M||M.toLowerCase(),""}),a["max-age"]){const l=parseInt(a["max-age"],10);isNaN(l)?delete a["max-age"]:a["max-age"]=l}return a},_.ab=function(c,a){const l=[];for(const d in c)d in a||l.push(d);return l},_.ac=function(c){if(null==M3){const a=c.navigator?c.navigator.userAgent:null;M3=!!c.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return M3},_.ad=nr,_.ae=function(c,a,l){var d=Math.sin(l),g=Math.cos(l),b=a[0],M=a[1],S=a[2],V=a[3],P=a[4],I=a[5],R=a[6],U=a[7];return a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]),c[0]=b*g+P*d,c[1]=M*g+I*d,c[2]=S*g+R*d,c[3]=V*g+U*d,c[4]=P*g-b*d,c[5]=I*g-M*d,c[6]=R*g-S*d,c[7]=U*g-V*d,c},_.af=function(c){var a=new _4(16);return a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15],a},_.ag=Bc,_.ah=function(c,a){let l=0,d=0;if("constant"===c.kind)d=c.layoutSize;else if("source"!==c.kind){const{interpolationType:g,minZoom:b,maxZoom:M}=c,S=g?nr(ri.interpolationFactor(g,a,b,M),0,1):0;"camera"===c.kind?d=xi.number(c.minSize,c.maxSize,S):l=S}return{uSizeT:l,uSize:d}},_.aj=function(c,{uSize:a,uSizeT:l},{lowerSize:d,upperSize:g}){return"source"===c.kind?d/Yi:"composite"===c.kind?xi.number(d/Yi,g/Yi,l):a},_.ak=n8,_.al=function(c,a,l,d){const g=a.y-c.y,b=a.x-c.x,M=d.y-l.y,S=d.x-l.x,V=M*b-S*g;if(0===V)return null;const P=(S*(c.y-l.y)-M*(c.x-l.x))/V;return new T1(c.x+P*b,c.y+P*g)},_.am=Bo,_.an=w0,_.ao=V0,_.ap=D2,_.ar=Ro,_.as=function(c,a){var l=a[0],d=a[1],g=a[2],b=a[3],M=a[4],S=a[5],V=a[6],P=a[7],I=a[8],R=a[9],U=a[10],Y=a[11],X=a[12],J=a[13],oe=a[14],ue=a[15],be=l*S-d*M,de=l*V-g*M,ze=l*P-b*M,Ae=d*V-g*S,Ue=d*P-b*S,h1=g*P-b*V,y1=I*J-R*X,l1=I*oe-U*X,c1=I*ue-Y*X,i1=R*oe-U*J,d1=R*ue-Y*J,a1=U*ue-Y*oe,Ke=be*a1-de*d1+ze*i1+Ae*c1-Ue*l1+h1*y1;return Ke?(c[0]=(S*a1-V*d1+P*i1)*(Ke=1/Ke),c[1]=(g*d1-d*a1-b*i1)*Ke,c[2]=(J*h1-oe*Ue+ue*Ae)*Ke,c[3]=(U*Ue-R*h1-Y*Ae)*Ke,c[4]=(V*c1-M*a1-P*l1)*Ke,c[5]=(l*a1-g*c1+b*l1)*Ke,c[6]=(oe*ze-X*h1-ue*de)*Ke,c[7]=(I*h1-U*ze+Y*de)*Ke,c[8]=(M*d1-S*c1+P*y1)*Ke,c[9]=(d*c1-l*d1-b*y1)*Ke,c[10]=(X*Ue-J*ze+ue*be)*Ke,c[11]=(R*ze-I*Ue-Y*be)*Ke,c[12]=(S*l1-M*i1-V*y1)*Ke,c[13]=(l*i1-d*l1+g*y1)*Ke,c[14]=(J*de-X*Ae-oe*be)*Ke,c[15]=(I*Ae-R*de+U*be)*Ke,c):null},_.at=h6,_.au=ko,_.av=H4,_.aw=function(){const c={},a=Fe.$version;for(const l in Fe.$root){const d=Fe.$root[l];if(d.required){let g=null;g="version"===l?a:"array"===d.type?[]:{},null!=g&&(c[l]=g)}}return c},_.ax=vt,_.ay=Dn,_.az=Vt,_.b=function(c,a){const l=new Blob([new Uint8Array(c)],{type:"image/png"});createImageBitmap(l).then(d=>{a(null,d)}).catch(d=>{a(new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},_.b0=G2,_.b1=function(c,a){var l=c[0],d=c[1],g=c[2],b=c[3],M=c[4],S=c[5],V=c[6],P=c[7],I=c[8],R=c[9],U=c[10],Y=c[11],X=c[12],J=c[13],oe=c[14],ue=c[15],be=a[0],de=a[1],ze=a[2],Ae=a[3],Ue=a[4],h1=a[5],y1=a[6],l1=a[7],c1=a[8],i1=a[9],d1=a[10],a1=a[11],Ke=a[12],L1=a[13],x1=a[14],st=a[15];return Math.abs(l-be)<=An*Math.max(1,Math.abs(l),Math.abs(be))&&Math.abs(d-de)<=An*Math.max(1,Math.abs(d),Math.abs(de))&&Math.abs(g-ze)<=An*Math.max(1,Math.abs(g),Math.abs(ze))&&Math.abs(b-Ae)<=An*Math.max(1,Math.abs(b),Math.abs(Ae))&&Math.abs(M-Ue)<=An*Math.max(1,Math.abs(M),Math.abs(Ue))&&Math.abs(S-h1)<=An*Math.max(1,Math.abs(S),Math.abs(h1))&&Math.abs(V-y1)<=An*Math.max(1,Math.abs(V),Math.abs(y1))&&Math.abs(P-l1)<=An*Math.max(1,Math.abs(P),Math.abs(l1))&&Math.abs(I-c1)<=An*Math.max(1,Math.abs(I),Math.abs(c1))&&Math.abs(R-i1)<=An*Math.max(1,Math.abs(R),Math.abs(i1))&&Math.abs(U-d1)<=An*Math.max(1,Math.abs(U),Math.abs(d1))&&Math.abs(Y-a1)<=An*Math.max(1,Math.abs(Y),Math.abs(a1))&&Math.abs(X-Ke)<=An*Math.max(1,Math.abs(X),Math.abs(Ke))&&Math.abs(J-L1)<=An*Math.max(1,Math.abs(J),Math.abs(L1))&&Math.abs(oe-x1)<=An*Math.max(1,Math.abs(oe),Math.abs(x1))&&Math.abs(ue-st)<=An*Math.max(1,Math.abs(ue),Math.abs(st))},_.b2=function(c,a){return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c},_.b3=function(c,a,l){return c[0]=a[0]*l[0],c[1]=a[1]*l[1],c[2]=a[2]*l[2],c[3]=a[3]*l[3],c},_.b4=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]},_.b5=x3,_.b6=O5,_.b7=Yu,_.b8=function(c,a,l,d,g){var b,M=1/Math.tan(a/2);return c[0]=M/l,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=M,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,null!=g&&g!==1/0?(c[10]=(g+d)*(b=1/(d-g)),c[14]=2*g*d*b):(c[10]=-1,c[14]=-2*d),c},_.b9=function(c,a,l){var d=Math.sin(l),g=Math.cos(l),b=a[4],M=a[5],S=a[6],V=a[7],P=a[8],I=a[9],R=a[10],U=a[11];return a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]),c[4]=b*g+P*d,c[5]=M*g+I*d,c[6]=S*g+R*d,c[7]=V*g+U*d,c[8]=P*g-b*d,c[9]=I*g-M*d,c[10]=R*g-S*d,c[11]=U*g-V*d,c},_.bA=e6,_.bB=ss,_.bC=q2,_.ba=Ii,_.bb=br,_.bc=function(c,a){return c[0]=a[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=a[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=a[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},_.bd=class extends ms{},_.be=a8,_.bf=Ju,_.bh=Ft,_.bi=function(c,a,l=!1){if(dt===yo||dt===e2||dt===m1)throw new Error("setRTLTextPlugin cannot be called multiple times.");j2=w3.resolveURL(c),dt=yo,et=a,U2(),l||Tr()},_.bj=l2,_.bk=function(c,a){const l={};for(let g=0;g<c.length;g++){const b=a&&a[c[g].id]||Tn(c[g]);a&&(a[c[g].id]=b);let M=l[b];M||(M=l[b]=[]),M.push(c[g])}const d=[];for(const g in l)d.push(l[g]);return d},_.bl=f1,_.bm=c8,_.bn=S4,_.bo=Uu,_.bp=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=T2/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const a=c.bucket.layers[0],l=a.layout,d=a._unevaluatedLayout._values,g={layoutIconSize:d["icon-size"].possiblyEvaluate(new _1(c.bucket.zoom+1),c.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new _1(c.bucket.zoom+1),c.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new _1(18))};if("composite"===c.bucket.textSizeData.kind){const{minZoom:P,maxZoom:I}=c.bucket.textSizeData;g.compositeTextSizes=[d["text-size"].possiblyEvaluate(new _1(P),c.canonical),d["text-size"].possiblyEvaluate(new _1(I),c.canonical)]}if("composite"===c.bucket.iconSizeData.kind){const{minZoom:P,maxZoom:I}=c.bucket.iconSizeData;g.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new _1(P),c.canonical),d["icon-size"].possiblyEvaluate(new _1(I),c.canonical)]}const b=l.get("text-line-height")*D2,M="viewport"!==l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),S=l.get("text-keep-upright"),V=l.get("text-size");for(const P of c.bucket.features){const I=l.get("text-font").evaluate(P,{},c.canonical).join(","),R=V.evaluate(P,{},c.canonical),U=g.layoutTextSize.evaluate(P,{},c.canonical),Y=g.layoutIconSize.evaluate(P,{},c.canonical),X={horizontal:{},vertical:void 0},J=P.text;let oe,ue=[0,0];if(J){const ze=J.toString(),Ae=l.get("text-letter-spacing").evaluate(P,{},c.canonical)*D2,Ue=on(ze)?Ae:0,h1=l.get("text-anchor").evaluate(P,{},c.canonical),y1=q5(a,P,c.canonical);if(!y1){const a1=l.get("text-radial-offset").evaluate(P,{},c.canonical);ue=a1?v8(h1,[a1*D2,g8]):l.get("text-offset").evaluate(P,{},c.canonical).map(Ke=>Ke*D2)}let l1=M?"center":l.get("text-justify").evaluate(P,{},c.canonical);const c1=l.get("symbol-placement"),i1="point"===c1?l.get("text-max-width").evaluate(P,{},c.canonical)*D2:0,d1=()=>{c.bucket.allowVerticalPlacement&&O2(ze)&&(X.vertical=Y3(J,c.glyphMap,c.glyphPositions,c.imagePositions,I,i1,b,h1,"left",Ue,ue,_.ai.vertical,!0,c1,U,R))};if(!M&&y1){const a1=new Set;if("auto"===l1)for(let L1=0;L1<y1.values.length;L1+=2)a1.add(h6(y1.values[L1]));else a1.add(l1);let Ke=!1;for(const L1 of a1)if(!X.horizontal[L1])if(Ke)X.horizontal[L1]=X.horizontal[0];else{const x1=Y3(J,c.glyphMap,c.glyphPositions,c.imagePositions,I,i1,b,"center",L1,Ue,ue,_.ai.horizontal,!1,c1,U,R);x1&&(X.horizontal[L1]=x1,Ke=1===x1.positionedLines.length)}d1()}else{"auto"===l1&&(l1=h6(h1));const a1=Y3(J,c.glyphMap,c.glyphPositions,c.imagePositions,I,i1,b,h1,l1,Ue,ue,_.ai.horizontal,!1,c1,U,R);a1&&(X.horizontal[l1]=a1),d1(),O2(ze)&&M&&S&&(X.vertical=Y3(J,c.glyphMap,c.glyphPositions,c.imagePositions,I,i1,b,h1,l1,Ue,ue,_.ai.vertical,!1,c1,U,R))}}let be=!1;if(P.icon&&P.icon.name){const ze=c.imageMap[P.icon.name];ze&&(oe=Gu(c.imagePositions[P.icon.name],l.get("icon-offset").evaluate(P,{},c.canonical),l.get("icon-anchor").evaluate(P,{},c.canonical)),be=!!ze.sdf,void 0===c.bucket.sdfIcons?c.bucket.sdfIcons=be:c.bucket.sdfIcons!==be&&tn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ze.pixelRatio!==c.bucket.pixelRatio||0!==l.get("icon-rotate").constantOr(1))&&(c.bucket.iconsNeedLinear=!0))}const de=d6(X.horizontal)||X.vertical;c.bucket.iconsInText=!!de&&de.iconsInText,(de||oe)&&Qu(c.bucket,P,X,oe,c.imageMap,g,U,Y,ue,be,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},_.bq=q0,_.br=Uc,_.bs=$0,_.bt=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return 0===c.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},_.bu=X0,_.bv=Z3,_.bw=function(c,a,l,d,g){return h2(this,void 0,void 0,function*(){if(tr())try{return yield pa(c,a,l,d,g)}catch{}return function(b,M,S,V,P){const I=b.width,R=b.height;rr&&Rt||(rr=new OffscreenCanvas(I,R),Rt=rr.getContext("2d",{willReadFrequently:!0})),rr.width=I,rr.height=R,Rt.drawImage(b,0,0,I,R);const U=Rt.getImageData(M,S,V,P);return Rt.clearRect(0,0,I,R),U.data}(c,a,l,d,g)})},_.bx=o8,_.by=Re,_.bz=Ai,_.c=z3,_.d=function(c,a){const l=new Image;l.onload=()=>{a(null,l),URL.revokeObjectURL(l.src),l.onload=null,window.requestAnimationFrame(()=>{l.src=d2})},l.onerror=()=>a(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const d=new Blob([new Uint8Array(c)],{type:"image/png"});l.src=c.byteLength?URL.createObjectURL(d):d2},_.e=en,_.f=function(c,a){return ar(en(c,{type:"json"}),a)},_.g=yi,_.h=w3,_.i=k2,_.j=L3,_.k=Qr,_.l=Qa,_.m=ar,_.n=function(c){return new X0(c).readFields(ju,[])},_.o=function(c,a,l){if(!c.length)return l(null,[]);let d=c.length;const g=new Array(c.length);let b=null;c.forEach((M,S)=>{a(M,(V,P)=>{V&&(b=V),g[S]=P,0==--d&&l(b,g)})})},_.p=Io,_.q=wo,_.r=k1,_.s=Ni,_.t=C0,_.u=Ye,_.v=Fe,_.w=tn,_.x=hs,_.y=Lr,_.z=function([c,a,l]){return a+=90,a*=Math.PI/180,l*=Math.PI/180,{x:c*Math.cos(a)*Math.sin(l),y:c*Math.sin(a)*Math.sin(l),z:c*Math.cos(l)}}}),Js(0,function(_){class h2{constructor($){this.keyCache={},$&&this.replace($)}replace($){this._layerConfigs={},this._layers={},this.update($,[])}update($,G){for(const se of $){this._layerConfigs[se.id]=se;const ce=this._layers[se.id]=_.aC(se);ce._featureFilter=_.a6(ce.filter),this.keyCache[se.id]&&delete this.keyCache[se.id]}for(const se of G)delete this.keyCache[se],delete this._layerConfigs[se],delete this._layers[se];this.familiesBySource={};const K=_.bk(Object.values(this._layerConfigs),this.keyCache);for(const se of K){const ce=se.map(je=>this._layers[je.id]),we=ce[0];if("none"===we.visibility)continue;const ge=we.source||"";let fe=this.familiesBySource[ge];fe||(fe=this.familiesBySource[ge]={});const _e=we.sourceLayer||"_geojsonTileLayer";let $e=fe[_e];$e||($e=fe[_e]=[]),$e.push(ce)}}}class Re{constructor($){const G={},K=[];for(const ge in $){const fe=$[ge],_e=G[ge]={};for(const $e in fe){const je=fe[+$e];if(!je||0===je.bitmap.width||0===je.bitmap.height)continue;const Ge={x:0,y:0,w:je.bitmap.width+2,h:je.bitmap.height+2};K.push(Ge),_e[$e]={rect:Ge,metrics:je.metrics}}}const{w:se,h:ce}=_.p(K),we=new _.q({width:se||1,height:ce||1});for(const ge in $){const fe=$[ge];for(const _e in fe){const $e=fe[+_e];if(!$e||0===$e.bitmap.width||0===$e.bitmap.height)continue;const je=G[ge][_e].rect;_.q.copy($e.bitmap,we,{x:0,y:0},{x:je.x+1,y:je.y+1},$e.bitmap)}}this.image=we,this.positions=G}}_.bl("GlyphAtlas",Re);class Ai{constructor($){this.tileID=new _.O($.tileID.overscaledZ,$.tileID.wrap,$.tileID.canonical.z,$.tileID.canonical.x,$.tileID.canonical.y),this.uid=$.uid,this.zoom=$.zoom,this.pixelRatio=$.pixelRatio,this.tileSize=$.tileSize,this.source=$.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=$.showCollisionBoxes,this.collectResourceTiming=!!$.collectResourceTiming,this.returnDependencies=!!$.returnDependencies,this.promoteId=$.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse($,G,K,se,ce){this.status="parsing",this.data=$,this.collisionBoxArray=new _.a3;const we=new _.bm(Object.keys($.layers).sort()),ge=new _.bn(this.tileID,this.promoteId);ge.bucketLayerIDs=[];const fe={},_e={featureIndex:ge,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:K},$e=G.familiesBySource[this.source];for(const pt in $e){const J1=$.layers[pt];if(!J1)continue;1===J1.version&&_.w(`Vector tile source "${this.source}" layer "${pt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const dn=we.encode(pt),it=[];for(let Gt=0;Gt<J1.length;Gt++){const Bt=J1.feature(Gt),Fi=ge.getId(Bt,pt);it.push({feature:Bt,id:Fi,index:Gt,sourceLayerIndex:dn})}for(const Gt of $e[pt]){const Bt=Gt[0];Bt.source!==this.source&&_.w(`layer.source = ${Bt.source} does not equal this.source = ${this.source}`),Bt.minzoom&&this.zoom<Math.floor(Bt.minzoom)||Bt.maxzoom&&this.zoom>=Bt.maxzoom||"none"!==Bt.visibility&&(Ln(Gt,this.zoom,K),(fe[Bt.id]=Bt.createBucket({index:ge.bucketLayerIDs.length,layers:Gt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:dn,sourceID:this.source})).populate(it,_e,this.tileID.canonical),ge.bucketLayerIDs.push(Gt.map(Fi=>Fi.id)))}}let je,Ge,g1,R1;const C1=_.aH(_e.glyphDependencies,pt=>Object.keys(pt).map(Number));this.inFlightDependencies.forEach(pt=>pt?.cancel()),this.inFlightDependencies=[];const P1=++this.dependencySentinel;Object.keys(C1).length?this.inFlightDependencies.push(se.send("getGlyphs",{uid:this.uid,stacks:C1,source:this.source,tileID:this.tileID,type:"glyphs"},(pt,J1)=>{P1===this.dependencySentinel&&(je||(je=pt,Ge=J1,Tt.call(this)))})):Ge={};const q1=Object.keys(_e.iconDependencies);q1.length?this.inFlightDependencies.push(se.send("getImages",{icons:q1,source:this.source,tileID:this.tileID,type:"icons"},(pt,J1)=>{P1===this.dependencySentinel&&(je||(je=pt,g1=J1,Tt.call(this)))})):g1={};const Ct=Object.keys(_e.patternDependencies);function Tt(){if(je)return ce(je);if(Ge&&g1&&R1){const pt=new Re(Ge),J1=new _.bo(g1,R1);for(const dn in fe){const it=fe[dn];it instanceof _.a4?(Ln(it.layers,this.zoom,K),_.bp({bucket:it,glyphMap:Ge,glyphPositions:pt.positions,imageMap:g1,imagePositions:J1.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):it.hasPattern&&(it instanceof _.bq||it instanceof _.br||it instanceof _.bs)&&(Ln(it.layers,this.zoom,K),it.addFeatures(_e,this.tileID.canonical,J1.patternPositions))}this.status="done",ce(null,{buckets:Object.values(fe).filter(dn=>!dn.isEmpty()),featureIndex:ge,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:pt.image,imageAtlas:J1,glyphMap:this.returnDependencies?Ge:null,iconMap:this.returnDependencies?g1:null,glyphPositions:this.returnDependencies?pt.positions:null})}}Ct.length?this.inFlightDependencies.push(se.send("getImages",{icons:Ct,source:this.source,tileID:this.tileID,type:"patterns"},(pt,J1)=>{P1===this.dependencySentinel&&(je||(je=pt,R1=J1,Tt.call(this)))})):R1={},Tt.call(this)}}function Ln(re,$,G){const K=new _.a8($);for(const se of re)se.recalculate(K,G)}function T1(re,$){const G=_.l(re.request,(K,se,ce,we)=>{if(K)$(K);else if(se)try{const ge=new _.bv.VectorTile(new _.bu(se));$(null,{vectorTile:ge,rawData:se,cacheControl:ce,expires:we})}catch(ge){const fe=new Uint8Array(se);let _e=`Unable to parse the tile at ${re.request.url}, `;_e+=31===fe[0]&&139===fe[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ge.messge}`,$(new Error(_e))}});return()=>{G.cancel(),$()}}class Cr{constructor($,G,K,se){this.actor=$,this.layerIndex=G,this.availableImages=K,this.loadVectorData=se||T1,this.fetching={},this.loading={},this.loaded={}}loadTile($,G){const K=$.uid;this.loading||(this.loading={});const se=!!($&&$.request&&$.request.collectResourceTiming)&&new _.bt($.request),ce=this.loading[K]=new Ai($);ce.abort=this.loadVectorData($,(we,ge)=>{if(delete this.loading[K],we||!ge)return ce.status="done",this.loaded[K]=ce,G(we);const fe=ge.rawData,_e={};ge.expires&&(_e.expires=ge.expires),ge.cacheControl&&(_e.cacheControl=ge.cacheControl);const $e={};if(se){const je=se.finish();je&&($e.resourceTiming=JSON.parse(JSON.stringify(je)))}ce.vectorTile=ge.vectorTile,ce.parse(ge.vectorTile,this.layerIndex,this.availableImages,this.actor,(je,Ge)=>{if(delete this.fetching[K],je||!Ge)return G(je);G(null,_.e({rawTileData:fe.slice(0)},Ge,_e,$e))}),this.loaded=this.loaded||{},this.loaded[K]=ce,this.fetching[K]={rawTileData:fe,cacheControl:_e,resourceTiming:$e}})}reloadTile($,G){const K=this.loaded,se=$.uid;if(K&&K[se]){const ce=K[se];ce.showCollisionBoxes=$.showCollisionBoxes,"parsing"===ce.status?ce.parse(ce.vectorTile,this.layerIndex,this.availableImages,this.actor,(we,ge)=>{if(we||!ge)return G(we,ge);let fe;if(this.fetching[se]){const{rawTileData:_e,cacheControl:$e,resourceTiming:je}=this.fetching[se];delete this.fetching[se],fe=_.e({rawTileData:_e.slice(0)},ge,$e,je)}else fe=ge;G(null,fe)}):"done"===ce.status&&(ce.vectorTile?ce.parse(ce.vectorTile,this.layerIndex,this.availableImages,this.actor,G):G())}}abortTile($,G){const K=this.loading,se=$.uid;K&&K[se]&&K[se].abort&&(K[se].abort(),delete K[se]),G()}removeTile($,G){const K=this.loaded,se=$.uid;K&&K[se]&&delete K[se],G()}}class fa{constructor(){this.loaded={}}loadTile($,G){return _._(this,void 0,void 0,function*(){const{uid:K,encoding:se,rawImageData:ce,redFactor:we,greenFactor:ge,blueFactor:fe,baseShift:_e}=$,$e=ce.width+2,je=ce.height+2,Ge=_.a(ce)?new _.R({width:$e,height:je},yield _.bw(ce,-1,-1,$e,je)):ce,g1=new _.bx(K,Ge,se,we,ge,fe,_e);this.loaded=this.loaded||{},this.loaded[K]=g1,G(null,g1)})}removeTile($){const G=this.loaded,K=$.uid;G&&G[K]&&delete G[K]}}function Xr(re,$){if(0!==re.length){Hn(re[0],$);for(var G=1;G<re.length;G++)Hn(re[G],!$)}}function Hn(re,$){for(var G=0,K=0,se=0,ce=re.length,we=ce-1;se<ce;we=se++){var ge=(re[se][0]-re[we][0])*(re[we][1]+re[se][1]),fe=G+ge;K+=Math.abs(G)>=Math.abs(ge)?G-fe+ge:ge-fe+G,G=fe}G+K>=0!=!!$&&re.reverse()}var H2=_.by(function re($,G){var K,se=$&&$.type;if("FeatureCollection"===se)for(K=0;K<$.features.length;K++)re($.features[K],G);else if("GeometryCollection"===se)for(K=0;K<$.geometries.length;K++)re($.geometries[K],G);else if("Feature"===se)re($.geometry,G);else if("Polygon"===se)Xr($.coordinates,G);else if("MultiPolygon"===se)for(K=0;K<$.coordinates.length;K++)Xr($.coordinates[K],G);return $});const X4=_.bv.VectorTileFeature.prototype.toGeoJSON;var tr={exports:{}},Ii=_.bz,br=_.bv.VectorTileFeature,nr=x3;function x3(re,$){this.options=$||{},this.features=re,this.length=re.length}function en(re,$){this.id="number"==typeof re.id?re.id:void 0,this.type=re.type,this.rawGeometry=1===re.type?[re.geometry]:re.geometry,this.properties=re.tags,this.extent=$||4096}x3.prototype.feature=function(re){return new en(this.features[re],this.options.extent)},en.prototype.loadGeometry=function(){var re=this.rawGeometry;this.geometry=[];for(var $=0;$<re.length;$++){for(var G=re[$],K=[],se=0;se<G.length;se++)K.push(new Ii(G[se][0],G[se][1]));this.geometry.push(K)}return this.geometry},en.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var re=this.geometry,$=1/0,G=-1/0,K=1/0,se=-1/0,ce=0;ce<re.length;ce++)for(var we=re[ce],ge=0;ge<we.length;ge++){var fe=we[ge];$=Math.min($,fe.x),G=Math.max(G,fe.x),K=Math.min(K,fe.y),se=Math.max(se,fe.y)}return[$,K,G,se]},en.prototype.toGeoJSON=br.prototype.toGeoJSON;var ha=_.bA,Qt=nr;function ir(re){var $=new ha;return function(G,K){for(var se in G.layers)K.writeMessage(3,jn,G.layers[se])}(re,$),$.finish()}function jn(re,$){var G;$.writeVarintField(15,re.version||1),$.writeStringField(1,re.name||""),$.writeVarintField(5,re.extent||4096);var K={keys:[],values:[],keycache:{},valuecache:{}};for(G=0;G<re.length;G++)K.feature=re.feature(G),$.writeMessage(2,Kr,K);var se=K.keys;for(G=0;G<se.length;G++)$.writeStringField(3,se[G]);var ce=K.values;for(G=0;G<ce.length;G++)$.writeMessage(4,M3,ce[G])}function Kr(re,$){var G=re.feature;void 0!==G.id&&$.writeVarintField(1,G.id),$.writeMessage(2,tn,re),$.writeVarintField(3,G.type),$.writeMessage(4,k2,G)}function tn(re,$){var G=re.feature,K=re.keys,se=re.values,ce=re.keycache,we=re.valuecache;for(var ge in G.properties){var fe=G.properties[ge],_e=ce[ge];if(null!==fe){void 0===_e&&(K.push(ge),ce[ge]=_e=K.length-1),$.writeVarint(_e);var $e=typeof fe;"string"!==$e&&"boolean"!==$e&&"number"!==$e&&(fe=JSON.stringify(fe));var je=$e+":"+fe,Ge=we[je];void 0===Ge&&(se.push(fe),we[je]=Ge=se.length-1),$.writeVarint(Ge)}}}function ei(re,$){return($<<3)+(7&re)}function ki(re){return re<<1^re>>31}function k2(re,$){for(var G=re.loadGeometry(),K=re.type,se=0,ce=0,we=G.length,ge=0;ge<we;ge++){var fe=G[ge],_e=1;1===K&&(_e=fe.length),$.writeVarint(ei(1,_e));for(var $e=3===K?fe.length-1:fe.length,je=0;je<$e;je++){1===je&&1!==K&&$.writeVarint(ei(2,$e-1));var Ge=fe[je].x-se,g1=fe[je].y-ce;$.writeVarint(ki(Ge)),$.writeVarint(ki(g1)),se+=Ge,ce+=g1}3===K&&$.writeVarint(ei(7,1))}}function M3(re,$){var G=typeof re;"string"===G?$.writeStringField(1,re):"boolean"===G?$.writeBooleanField(7,re):"number"===G&&(re%1!=0?$.writeDoubleField(3,re):re<0?$.writeSVarintField(6,re):$.writeVarintField(5,re))}tr.exports=ir,tr.exports.fromVectorTileJs=ir,tr.exports.fromGeojsonVt=function(re,$){$=$||{};var G={};for(var K in re)G[K]=new Qt(re[K].features,$),G[K].name=K,G[K].version=$.version,G[K].extent=$.extent;return ir({layers:G})},tr.exports.GeoJSONWrapper=Qt;var da=_.by(tr.exports);const d2={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:re=>re},pa=Math.fround||(rr=new Float32Array(1),re=>(rr[0]=+re,rr[0]));var rr;const Rt=3,Un=5,nn=6;class w3{constructor($){this.options=Object.assign(Object.create(d2),$),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load($){const{log:G,minZoom:K,maxZoom:se}=this.options;G&&console.time("total time");const ce=`prepare ${$.length} points`;G&&console.time(ce),this.points=$;const we=[];for(let fe=0;fe<$.length;fe++){const _e=$[fe];if(!_e.geometry)continue;const[$e,je]=_e.geometry.coordinates,Ge=pa(Vt($e)),g1=pa(yi(je));we.push(Ge,g1,1/0,fe,-1,1),this.options.reduce&&we.push(0)}let ge=this.trees[se+1]=this._createTree(we);G&&console.timeEnd(ce);for(let fe=se;fe>=K;fe--){const _e=+Date.now();ge=this.trees[fe]=this._createTree(this._cluster(ge,fe)),G&&console.log("z%d: %d clusters in %dms",fe,ge.numItems,+Date.now()-_e)}return G&&console.timeEnd("total time"),this}getClusters($,G){let K=(($[0]+180)%360+360)%360-180;const se=Math.max(-90,Math.min(90,$[1]));let ce=180===$[2]?180:(($[2]+180)%360+360)%360-180;const we=Math.max(-90,Math.min(90,$[3]));if($[2]-$[0]>=360)K=-180,ce=180;else if(K>ce){const je=this.getClusters([K,se,180,we],G),Ge=this.getClusters([-180,se,ce,we],G);return je.concat(Ge)}const ge=this.trees[this._limitZoom(G)],fe=ge.range(Vt(K),yi(we),Vt(ce),yi(se)),_e=ge.data,$e=[];for(const je of fe){const Ge=this.stride*je;$e.push(_e[Ge+Un]>1?z3(_e,Ge,this.clusterProps):this.points[_e[Ge+Rt]])}return $e}getChildren($){const G=this._getOriginId($),K=this._getOriginZoom($),se="No cluster with the specified id.",ce=this.trees[K];if(!ce)throw new Error(se);const we=ce.data;if(G*this.stride>=we.length)throw new Error(se);const ge=this.options.radius/(this.options.extent*Math.pow(2,K-1)),fe=ce.within(we[G*this.stride],we[G*this.stride+1],ge),_e=[];for(const $e of fe){const je=$e*this.stride;we[je+4]===$&&_e.push(we[je+Un]>1?z3(we,je,this.clusterProps):this.points[we[je+Rt]])}if(0===_e.length)throw new Error(se);return _e}getLeaves($,G,K){const se=[];return this._appendLeaves(se,$,G=G||10,K=K||0,0),se}getTile($,G,K){const se=this.trees[this._limitZoom($)],ce=Math.pow(2,$),{extent:we,radius:ge}=this.options,fe=ge/we,_e=(K-fe)/ce,$e=(K+1+fe)/ce,je={features:[]};return this._addTileFeatures(se.range((G-fe)/ce,_e,(G+1+fe)/ce,$e),se.data,G,K,ce,je),0===G&&this._addTileFeatures(se.range(1-fe/ce,_e,1,$e),se.data,ce,K,ce,je),G===ce-1&&this._addTileFeatures(se.range(0,_e,fe/ce,$e),se.data,-1,K,ce,je),je.features.length?je:null}getClusterExpansionZoom($){let G=this._getOriginZoom($)-1;for(;G<=this.options.maxZoom;){const K=this.getChildren($);if(G++,1!==K.length)break;$=K[0].properties.cluster_id}return G}_appendLeaves($,G,K,se,ce){const we=this.getChildren(G);for(const ge of we){const fe=ge.properties;if(fe&&fe.cluster?ce+fe.point_count<=se?ce+=fe.point_count:ce=this._appendLeaves($,fe.cluster_id,K,se,ce):ce<se?ce++:$.push(ge),$.length===K)break}return ce}_createTree($){const G=new _.av($.length/this.stride|0,this.options.nodeSize,Float32Array);for(let K=0;K<$.length;K+=this.stride)G.add($[K],$[K+1]);return G.finish(),G.data=$,G}_addTileFeatures($,G,K,se,ce,we){for(const ge of $){const fe=ge*this.stride,_e=G[fe+Un]>1;let $e,je,Ge;if(_e)$e=Ft(G,fe,this.clusterProps),je=G[fe],Ge=G[fe+1];else{const C1=this.points[G[fe+Rt]];$e=C1.properties;const[P1,q1]=C1.geometry.coordinates;je=Vt(P1),Ge=yi(q1)}const g1={type:1,geometry:[[Math.round(this.options.extent*(je*ce-K)),Math.round(this.options.extent*(Ge*ce-se))]],tags:$e};let R1;R1=_e||this.options.generateId?G[fe+Rt]:this.points[G[fe+Rt]].id,void 0!==R1&&(g1.id=R1),we.features.push(g1)}}_limitZoom($){return Math.max(this.options.minZoom,Math.min(Math.floor(+$),this.options.maxZoom+1))}_cluster($,G){const{radius:K,extent:se,reduce:ce,minPoints:we}=this.options,ge=K/(se*Math.pow(2,G)),fe=$.data,_e=[],$e=this.stride;for(let je=0;je<fe.length;je+=$e){if(fe[je+2]<=G)continue;fe[je+2]=G;const Ge=fe[je],g1=fe[je+1],R1=$.within(fe[je],fe[je+1],ge),C1=fe[je+Un];let P1=C1;for(const q1 of R1){const Ct=q1*$e;fe[Ct+2]>G&&(P1+=fe[Ct+Un])}if(P1>C1&&P1>=we){let q1,Ct=Ge*C1,Tt=g1*C1,pt=-1;const J1=((je/$e|0)<<5)+(G+1)+this.points.length;for(const dn of R1){const it=dn*$e;if(fe[it+2]<=G)continue;fe[it+2]=G;const Gt=fe[it+Un];Ct+=fe[it]*Gt,Tt+=fe[it+1]*Gt,fe[it+4]=J1,ce&&(q1||(q1=this._map(fe,je,!0),pt=this.clusterProps.length,this.clusterProps.push(q1)),ce(q1,this._map(fe,it)))}fe[je+4]=J1,_e.push(Ct/P1,Tt/P1,1/0,J1,-1,P1),ce&&_e.push(pt)}else{for(let q1=0;q1<$e;q1++)_e.push(fe[je+q1]);if(P1>1)for(const q1 of R1){const Ct=q1*$e;if(!(fe[Ct+2]<=G)){fe[Ct+2]=G;for(let Tt=0;Tt<$e;Tt++)_e.push(fe[Ct+Tt])}}}}return _e}_getOriginId($){return $-this.points.length>>5}_getOriginZoom($){return($-this.points.length)%32}_map($,G,K){if($[G+Un]>1){const we=this.clusterProps[$[G+nn]];return K?Object.assign({},we):we}const se=this.points[$[G+Rt]].properties,ce=this.options.map(se);return K&&ce===se?Object.assign({},ce):ce}}function z3(re,$,G){return{type:"Feature",id:re[$+Rt],properties:Ft(re,$,G),geometry:{type:"Point",coordinates:[(K=re[$],360*(K-.5)),Lt(re[$+1])]}};var K}function Ft(re,$,G){const K=re[$+Un],se=K>=1e4?`${Math.round(K/1e3)}k`:K>=1e3?Math.round(K/100)/10+"k":K,ce=re[$+nn],we=-1===ce?{}:Object.assign({},G[ce]);return Object.assign(we,{cluster:!0,cluster_id:re[$+Rt],point_count:K,point_count_abbreviated:se})}function Vt(re){return re/360+.5}function yi(re){const $=Math.sin(re*Math.PI/180),G=.5-.25*Math.log((1+$)/(1-$))/Math.PI;return G<0?0:G>1?1:G}function Lt(re){const $=(180-360*re)*Math.PI/180;return 360*Math.atan(Math.exp($))/Math.PI-90}function ar(re,$,G,K){for(var se,ce=K,we=G-$>>1,ge=G-$,fe=re[$],_e=re[$+1],$e=re[G],je=re[G+1],Ge=$+3;Ge<G;Ge+=3){var g1=Qa(re[Ge],re[Ge+1],fe,_e,$e,je);if(g1>ce)se=Ge,ce=g1;else if(g1===ce){var R1=Math.abs(Ge-we);R1<ge&&(se=Ge,ge=R1)}}ce>K&&(se-$>3&&ar(re,$,se,K),re[se+2]=ce,G-se>3&&ar(re,se,G,K))}function Qa(re,$,G,K,se,ce){var we=se-G,ge=ce-K;if(0!==we||0!==ge){var fe=((re-G)*we+($-K)*ge)/(we*we+ge*ge);fe>1?(G=se,K=ce):fe>0&&(G+=we*fe,K+=ge*fe)}return(we=re-G)*we+(ge=$-K)*ge}function Ni(re,$,G,K){var se={id:void 0===re?null:re,type:$,geometry:G,tags:K,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ce){var we=ce.geometry,ge=ce.type;if("Point"===ge||"MultiPoint"===ge||"LineString"===ge)ma(ce,we);else if("Polygon"===ge||"MultiLineString"===ge)for(var fe=0;fe<we.length;fe++)ma(ce,we[fe]);else if("MultiPolygon"===ge)for(fe=0;fe<we.length;fe++)for(var _e=0;_e<we[fe].length;_e++)ma(ce,we[fe][_e])}(se),se}function ma(re,$){for(var G=0;G<$.length;G+=3)re.minX=Math.min(re.minX,$[G]),re.minY=Math.min(re.minY,$[G+1]),re.maxX=Math.max(re.maxX,$[G]),re.maxY=Math.max(re.maxY,$[G+1])}function S3(re,$,G,K){if($.geometry){var se=$.geometry.coordinates,ce=$.geometry.type,we=Math.pow(G.tolerance/((1<<G.maxZoom)*G.extent),2),ge=[],fe=$.id;if(G.promoteId?fe=$.properties[G.promoteId]:G.generateId&&(fe=K||0),"Point"===ce)Qr(se,ge);else if("MultiPoint"===ce)for(var _e=0;_e<se.length;_e++)Qr(se[_e],ge);else if("LineString"===ce)L3(se,ge,we,!1);else if("MultiLineString"===ce){if(G.lineMetrics){for(_e=0;_e<se.length;_e++)L3(se[_e],ge=[],we,!1),re.push(Ni(fe,"LineString",ge,$.properties));return}ga(se,ge,we,!1)}else if("Polygon"===ce)ga(se,ge,we,!0);else{if("MultiPolygon"!==ce){if("GeometryCollection"===ce){for(_e=0;_e<$.geometry.geometries.length;_e++)S3(re,{id:fe,geometry:$.geometry.geometries[_e],properties:$.properties},G,K);return}throw new Error("Input data is not a valid GeoJSON object.")}for(_e=0;_e<se.length;_e++){var $e=[];ga(se[_e],$e,we,!0),ge.push($e)}}re.push(Ni(fe,ce,ge,$.properties))}}function Qr(re,$){$.push(Fe(re[0])),$.push(ti(re[1])),$.push(0)}function L3(re,$,G,K){for(var se,ce,we=0,ge=0;ge<re.length;ge++){var fe=Fe(re[ge][0]),_e=ti(re[ge][1]);$.push(fe),$.push(_e),$.push(0),ge>0&&(we+=K?(se*_e-fe*ce)/2:Math.sqrt(Math.pow(fe-se,2)+Math.pow(_e-ce,2))),se=fe,ce=_e}var $e=$.length-3;$[2]=1,ar($,0,$e,G),$[$e+2]=1,$.size=Math.abs(we),$.start=0,$.end=$.size}function ga(re,$,G,K){for(var se=0;se<re.length;se++){var ce=[];L3(re[se],ce,G,K),$.push(ce)}}function Fe(re){return re/360+.5}function ti(re){var $=Math.sin(re*Math.PI/180),G=.5-.25*Math.log((1+$)/(1-$))/Math.PI;return G<0?0:G>1?1:G}function _i(re,$,G,K,se,ce,we,ge){if(K/=$,ce>=(G/=$)&&we<K)return re;if(we<G||ce>=K)return null;for(var fe=[],_e=0;_e<re.length;_e++){var $e=re[_e],je=$e.geometry,Ge=$e.type,g1=0===se?$e.minX:$e.minY,R1=0===se?$e.maxX:$e.maxY;if(g1>=G&&R1<K)fe.push($e);else if(!(R1<G||g1>=K)){var C1=[];if("Point"===Ge||"MultiPoint"===Ge)Et(je,C1,G,K,se);else if("LineString"===Ge)vt(je,C1,G,K,se,!1,ge.lineMetrics);else if("MultiLineString"===Ge)va(je,C1,G,K,se,!1);else if("Polygon"===Ge)va(je,C1,G,K,se,!0);else if("MultiPolygon"===Ge)for(var P1=0;P1<je.length;P1++){var q1=[];va(je[P1],q1,G,K,se,!0),q1.length&&C1.push(q1)}if(C1.length){if(ge.lineMetrics&&"LineString"===Ge){for(P1=0;P1<C1.length;P1++)fe.push(Ni($e.id,Ge,C1[P1],$e.tags));continue}"LineString"!==Ge&&"MultiLineString"!==Ge||(1===C1.length?(Ge="LineString",C1=C1[0]):Ge="MultiLineString"),"Point"!==Ge&&"MultiPoint"!==Ge||(Ge=3===C1.length?"Point":"MultiPoint"),fe.push(Ni($e.id,Ge,C1,$e.tags))}}}return fe.length?fe:null}function Et(re,$,G,K,se){for(var ce=0;ce<re.length;ce+=3){var we=re[ce+se];we>=G&&we<=K&&($.push(re[ce]),$.push(re[ce+1]),$.push(re[ce+2]))}}function vt(re,$,G,K,se,ce,we){for(var ge,fe,_e=Ci(re),$e=0===se?Ja:ya,je=re.start,Ge=0;Ge<re.length-3;Ge+=3){var g1=re[Ge],R1=re[Ge+1],C1=re[Ge+2],P1=re[Ge+3],q1=re[Ge+4],Ct=0===se?g1:R1,Tt=0===se?P1:q1,pt=!1;we&&(ge=Math.sqrt(Math.pow(g1-P1,2)+Math.pow(R1-q1,2))),Ct<G?Tt>G&&(fe=$e(_e,g1,R1,P1,q1,G),we&&(_e.start=je+ge*fe)):Ct>K?Tt<K&&(fe=$e(_e,g1,R1,P1,q1,K),we&&(_e.start=je+ge*fe)):Oi(_e,g1,R1,C1),Tt<G&&Ct>=G&&(fe=$e(_e,g1,R1,P1,q1,G),pt=!0),Tt>K&&Ct<=K&&(fe=$e(_e,g1,R1,P1,q1,K),pt=!0),!ce&&pt&&(we&&(_e.end=je+ge*fe),$.push(_e),_e=Ci(re)),we&&(je+=ge)}var J1=re.length-3;g1=re[J1],R1=re[J1+1],C1=re[J1+2],(Ct=0===se?g1:R1)>=G&&Ct<=K&&Oi(_e,g1,R1,C1),J1=_e.length-3,ce&&J1>=3&&(_e[J1]!==_e[0]||_e[J1+1]!==_e[1])&&Oi(_e,_e[0],_e[1],_e[2]),_e.length&&$.push(_e)}function Ci(re){var $=[];return $.size=re.size,$.start=re.start,$.end=re.end,$}function va(re,$,G,K,se,ce){for(var we=0;we<re.length;we++)vt(re[we],$,G,K,se,ce,!1)}function Oi(re,$,G,K){re.push($),re.push(G),re.push(K)}function Ja(re,$,G,K,se,ce){var we=(ce-$)/(K-$);return re.push(ce),re.push(G+(se-G)*we),re.push(1),we}function ya(re,$,G,K,se,ce){var we=(ce-G)/(se-G);return re.push($+(K-$)*we),re.push(ce),re.push(1),we}function Jr(re,$){for(var G=[],K=0;K<re.length;K++){var se,ce=re[K],we=ce.type;if("Point"===we||"MultiPoint"===we||"LineString"===we)se=H3(ce.geometry,$);else if("MultiLineString"===we||"Polygon"===we){se=[];for(var ge=0;ge<ce.geometry.length;ge++)se.push(H3(ce.geometry[ge],$))}else if("MultiPolygon"===we)for(se=[],ge=0;ge<ce.geometry.length;ge++){for(var fe=[],_e=0;_e<ce.geometry[ge].length;_e++)fe.push(H3(ce.geometry[ge][_e],$));se.push(fe)}G.push(Ni(ce.id,we,se,ce.tags))}return G}function H3(re,$){var G=[];G.size=re.size,void 0!==re.start&&(G.start=re.start,G.end=re.end);for(var K=0;K<re.length;K+=3)G.push(re[K]+$,re[K+1],re[K+2]);return G}function t1(re,$){if(re.transformed)return re;var G,K,se,ce=1<<re.z,we=re.x,ge=re.y;for(G=0;G<re.features.length;G++){var fe=re.features[G],_e=fe.geometry,$e=fe.type;if(fe.geometry=[],1===$e)for(K=0;K<_e.length;K+=2)fe.geometry.push(Ri(_e[K],_e[K+1],$,ce,we,ge));else for(K=0;K<_e.length;K++){var je=[];for(se=0;se<_e[K].length;se+=2)je.push(Ri(_e[K][se],_e[K][se+1],$,ce,we,ge));fe.geometry.push(je)}}return re.transformed=!0,re}function Ri(re,$,G,K,se,ce){return[Math.round(G*(re*K-se)),Math.round(G*($*K-ce))]}function s2(re,$,G,K,se){for(var ce=$===se.maxZoom?0:se.tolerance/((1<<$)*se.extent),we={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:G,y:K,z:$,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ge=0;ge<re.length;ge++){we.numFeatures++,e3(we,re[ge],ce,se);var fe=re[ge].minX,_e=re[ge].minY,$e=re[ge].maxX,je=re[ge].maxY;fe<we.minX&&(we.minX=fe),_e<we.minY&&(we.minY=_e),$e>we.maxX&&(we.maxX=$e),je>we.maxY&&(we.maxY=je)}return we}function e3(re,$,G,K){var se=$.geometry,ce=$.type,we=[];if("Point"===ce||"MultiPoint"===ce)for(var ge=0;ge<se.length;ge+=3)we.push(se[ge]),we.push(se[ge+1]),re.numPoints++,re.numSimplified++;else if("LineString"===ce)xr(we,se,re,G,!1,!1);else if("MultiLineString"===ce||"Polygon"===ce)for(ge=0;ge<se.length;ge++)xr(we,se[ge],re,G,"Polygon"===ce,0===ge);else if("MultiPolygon"===ce)for(var fe=0;fe<se.length;fe++){var _e=se[fe];for(ge=0;ge<_e.length;ge++)xr(we,_e[ge],re,G,!0,0===ge)}if(we.length){var $e=$.tags||null;if("LineString"===ce&&K.lineMetrics){for(var je in $e={},$.tags)$e[je]=$.tags[je];$e.mapbox_clip_start=se.start/se.size,$e.mapbox_clip_end=se.end/se.size}var Ge={geometry:we,type:"Polygon"===ce||"MultiPolygon"===ce?3:"LineString"===ce||"MultiLineString"===ce?2:1,tags:$e};null!==$.id&&(Ge.id=$.id),re.features.push(Ge)}}function xr(re,$,G,K,se,ce){var we=K*K;if(K>0&&$.size<(se?we:K))G.numPoints+=$.length/3;else{for(var ge=[],fe=0;fe<$.length;fe+=3)(0===K||$[fe+2]>we)&&(G.numSimplified++,ge.push($[fe]),ge.push($[fe+1])),G.numPoints++;se&&function(_e,$e){for(var je=0,Ge=0,g1=_e.length,R1=g1-2;Ge<g1;R1=Ge,Ge+=2)je+=(_e[Ge]-_e[R1])*(_e[Ge+1]+_e[R1+1]);if(je>0===$e)for(Ge=0,g1=_e.length;Ge<g1/2;Ge+=2){var C1=_e[Ge],P1=_e[Ge+1];_e[Ge]=_e[g1-2-Ge],_e[Ge+1]=_e[g1-1-Ge],_e[g1-2-Ge]=C1,_e[g1-1-Ge]=P1}}(ge,ce),re.push(ge)}}function o1(re,$){var G=($=this.options=function(se,ce){for(var we in ce)se[we]=ce[we];return se}(Object.create(this.options),$)).debug;if(G&&console.time("preprocess data"),$.maxZoom<0||$.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if($.promoteId&&$.generateId)throw new Error("promoteId and generateId cannot be used together.");var se,ce,we,ge,fe,_e,K=function(se,ce){var we=[];if("FeatureCollection"===se.type)for(var ge=0;ge<se.features.length;ge++)S3(we,se.features[ge],ce,ge);else S3(we,"Feature"===se.type?se:{geometry:se},ce);return we}(re,$);this.tiles={},this.tileCoords=[],G&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",$.indexMaxZoom,$.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ge=se=K,fe=_i(se,1,-1-(we=(ce=$).buffer/ce.extent),we,0,-1,2,ce),_e=_i(se,1,1-we,2+we,0,-1,2,ce),(fe||_e)&&(ge=_i(se,1,-we,1+we,0,-1,2,ce)||[],fe&&(ge=Jr(fe,1).concat(ge)),_e&&(ge=ge.concat(Jr(_e,-1)))),(K=ge).length&&this.splitTile(K,0,0,0),G&&(K.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function nt(re,$,G){return 32*((1<<re)*G+$)+re}function U1(re,$){return $?re.properties[$]:re.id}function Vn(re,$){if(null==re)return!0;if("Feature"===re.type)return null!=U1(re,$);if("FeatureCollection"===re.type){const G=new Set;for(const K of re.features){const se=U1(K,$);if(null==se||G.has(se))return!1;G.add(se)}return!0}return!1}function sr(re,$){const G=new Map;if(null!=re)if("Feature"===re.type)G.set(U1(re,$),re);else for(const K of re.features)G.set(U1(K,$),K);return G}o1.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},o1.prototype.splitTile=function(re,$,G,K,se,ce,we){for(var ge=[re,$,G,K],fe=this.options,_e=fe.debug;ge.length;){K=ge.pop(),G=ge.pop(),$=ge.pop(),re=ge.pop();var $e=1<<$,je=nt($,G,K),Ge=this.tiles[je];if(!Ge&&(_e>1&&console.time("creation"),Ge=this.tiles[je]=s2(re,$,G,K,fe),this.tileCoords.push({z:$,x:G,y:K}),_e)){_e>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",$,G,K,Ge.numFeatures,Ge.numPoints,Ge.numSimplified),console.timeEnd("creation"));var g1="z"+$;this.stats[g1]=(this.stats[g1]||0)+1,this.total++}if(Ge.source=re,se){if($===fe.maxZoom||$===se)continue;var R1=1<<se-$;if(G!==Math.floor(ce/R1)||K!==Math.floor(we/R1))continue}else if($===fe.indexMaxZoom||Ge.numPoints<=fe.indexMaxPoints)continue;if(Ge.source=null,0!==re.length){_e>1&&console.time("clipping");var C1,P1,q1,Ct,Tt,pt,J1=.5*fe.buffer/fe.extent,dn=.5-J1,it=.5+J1,Gt=1+J1;C1=P1=q1=Ct=null,Tt=_i(re,$e,G-J1,G+it,0,Ge.minX,Ge.maxX,fe),pt=_i(re,$e,G+dn,G+Gt,0,Ge.minX,Ge.maxX,fe),re=null,Tt&&(C1=_i(Tt,$e,K-J1,K+it,1,Ge.minY,Ge.maxY,fe),P1=_i(Tt,$e,K+dn,K+Gt,1,Ge.minY,Ge.maxY,fe),Tt=null),pt&&(q1=_i(pt,$e,K-J1,K+it,1,Ge.minY,Ge.maxY,fe),Ct=_i(pt,$e,K+dn,K+Gt,1,Ge.minY,Ge.maxY,fe),pt=null),_e>1&&console.timeEnd("clipping"),ge.push(C1||[],$+1,2*G,2*K),ge.push(P1||[],$+1,2*G,2*K+1),ge.push(q1||[],$+1,2*G+1,2*K),ge.push(Ct||[],$+1,2*G+1,2*K+1)}}},o1.prototype.getTile=function(re,$,G){var K=this.options,se=K.extent,ce=K.debug;if(re<0||re>24)return null;var we=1<<re,ge=nt(re,$=($%we+we)%we,G);if(this.tiles[ge])return t1(this.tiles[ge],se);ce>1&&console.log("drilling down to z%d-%d-%d",re,$,G);for(var fe,_e=re,$e=$,je=G;!fe&&_e>0;)_e--,$e=Math.floor($e/2),je=Math.floor(je/2),fe=this.tiles[nt(_e,$e,je)];return fe&&fe.source?(ce>1&&console.log("found parent tile z%d-%d-%d",_e,$e,je),ce>1&&console.time("drilling down"),this.splitTile(fe.source,_e,$e,je,re,$,G),ce>1&&console.timeEnd("drilling down"),this.tiles[ge]?t1(this.tiles[ge],se):null):null};class K1 extends Cr{constructor($,G,K,se){super($,G,K),this._dataUpdateable=new Map,this.loadGeoJSON=(ce,we)=>{const{promoteId:ge}=ce;if(ce.request)return _.f(ce.request,(fe,_e,$e,je)=>{this._dataUpdateable=Vn(_e,ge)?sr(_e,ge):void 0,we(fe,_e,$e,je)});if("string"==typeof ce.data)try{const fe=JSON.parse(ce.data);this._dataUpdateable=Vn(fe,ge)?sr(fe,ge):void 0,we(null,fe)}catch{we(new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`))}else ce.dataDiff?this._dataUpdateable?(function(fe,_e,$e){var je,Ge,g1,R1;if(_e.removeAll&&fe.clear(),_e.remove)for(const C1 of _e.remove)fe.delete(C1);if(_e.add)for(const C1 of _e.add){const P1=U1(C1,$e);null!=P1&&fe.set(P1,C1)}if(_e.update)for(const C1 of _e.update){let P1=fe.get(C1.id);if(null==P1)continue;const q1=!C1.removeAllProperties&&((null===(je=C1.removeProperties)||void 0===je?void 0:je.length)>0||(null===(Ge=C1.addOrUpdateProperties)||void 0===Ge?void 0:Ge.length)>0);if((C1.newGeometry||C1.removeAllProperties||q1)&&(P1=Object.assign({},P1),fe.set(C1.id,P1),q1&&(P1.properties=Object.assign({},P1.properties))),C1.newGeometry&&(P1.geometry=C1.newGeometry),C1.removeAllProperties)P1.properties={};else if((null===(g1=C1.removeProperties)||void 0===g1?void 0:g1.length)>0)for(const Ct of C1.removeProperties)Object.prototype.hasOwnProperty.call(P1.properties,Ct)&&delete P1.properties[Ct];if((null===(R1=C1.addOrUpdateProperties)||void 0===R1?void 0:R1.length)>0)for(const{key:Ct,value:Tt}of C1.addOrUpdateProperties)P1.properties[Ct]=Tt}}(this._dataUpdateable,ce.dataDiff,ge),we(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):we(new Error(`Cannot update existing geojson data in ${ce.source}`)):we(new Error(`Input data given to '${ce.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,se&&(this.loadGeoJSON=se)}loadGeoJSONTile($,G){const K=$.tileID.canonical;if(!this._geoJSONIndex)return G(null,null);const se=this._geoJSONIndex.getTile(K.z,K.x,K.y);if(!se)return G(null,null);const ce=new class{constructor(ge){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=_.N,this.length=ge.length,this._features=ge}feature(ge){return new class{constructor(fe){this._feature=fe,this.extent=_.N,this.type=fe.type,this.properties=fe.tags,"id"in fe&&!isNaN(fe.id)&&(this.id=parseInt(fe.id,10))}loadGeometry(){if(1===this._feature.type){const fe=[];for(const _e of this._feature.geometry)fe.push([new _.P(_e[0],_e[1])]);return fe}{const fe=[];for(const _e of this._feature.geometry){const $e=[];for(const je of _e)$e.push(new _.P(je[0],je[1]));fe.push($e)}return fe}}toGeoJSON(fe,_e,$e){return X4.call(this,fe,_e,$e)}}(this._features[ge])}}(se.features);let we=da(ce);0===we.byteOffset&&we.byteLength===we.buffer.byteLength||(we=new Uint8Array(we)),G(null,{vectorTile:ce,rawData:we.buffer})}loadData($,G){var K;null===(K=this._pendingRequest)||void 0===K||K.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const se=!!($&&$.request&&$.request.collectResourceTiming)&&new _.bt($.request);this._pendingCallback=G,this._pendingRequest=this.loadGeoJSON($,(ce,we)=>{if(delete this._pendingCallback,delete this._pendingRequest,ce||!we)return G(ce);if("object"!=typeof we)return G(new Error(`Input data given to '${$.source}' is not a valid GeoJSON object.`));{H2(we,!0);try{if($.filter){const fe=_.bB($.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===fe.result)throw new Error(fe.value.map($e=>`${$e.key}: ${$e.message}`).join(", "));we={type:"FeatureCollection",features:we.features.filter($e=>fe.value.evaluate({zoom:0},$e))}}this._geoJSONIndex=$.cluster?new w3(function({superclusterOptions:fe,clusterProperties:_e}){if(!_e||!fe)return fe;const $e={},je={},Ge={accumulated:null,zoom:0},g1={properties:null},R1=Object.keys(_e);for(const C1 of R1){const[P1,q1]=_e[C1],Ct=_.bB(q1),Tt=_.bB("string"==typeof P1?[P1,["accumulated"],["get",C1]]:P1);$e[C1]=Ct.value,je[C1]=Tt.value}return fe.map=C1=>{g1.properties=C1;const P1={};for(const q1 of R1)P1[q1]=$e[q1].evaluate(Ge,g1);return P1},fe.reduce=(C1,P1)=>{g1.properties=P1;for(const q1 of R1)Ge.accumulated=C1[q1],C1[q1]=je[q1].evaluate(Ge,g1)},fe}($)).load(we.features):new o1(fe=we,$.geojsonVtOptions)}catch(fe){return G(fe)}this.loaded={};const ge={};if(se){const fe=se.finish();fe&&(ge.resourceTiming={},ge.resourceTiming[$.source]=JSON.parse(JSON.stringify(fe)))}G(null,ge)}var fe})}reloadTile($,G){const K=this.loaded;return K&&K[$.uid]?super.reloadTile($,G):this.loadTile($,G)}removeSource($,G){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),G()}getClusterExpansionZoom($,G){try{G(null,this._geoJSONIndex.getClusterExpansionZoom($.clusterId))}catch(K){G(K)}}getClusterChildren($,G){try{G(null,this._geoJSONIndex.getChildren($.clusterId))}catch(K){G(K)}}getClusterLeaves($,G){try{G(null,this._geoJSONIndex.getLeaves($.clusterId,$.limit,$.offset))}catch(K){G(K)}}}class Mr{constructor($){this.self=$,this.actor=new _.C($,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:Cr,geojson:K1},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(G,K)=>{if(this.workerSourceTypes[G])throw new Error(`Worker source with name "${G}" already registered.`);this.workerSourceTypes[G]=K},this.self.registerRTLTextPlugin=G=>{if(_.bC.isParsed())throw new Error("RTL text plugin already registered.");_.bC.applyArabicShaping=G.applyArabicShaping,_.bC.processBidirectionalText=G.processBidirectionalText,_.bC.processStyledBidirectionalText=G.processStyledBidirectionalText}}setReferrer($,G){this.referrer=G}setImages($,G,K){this.availableImages[$]=G;for(const se in this.workerSources[$]){const ce=this.workerSources[$][se];for(const we in ce)ce[we].availableImages=G}K()}setLayers($,G,K){this.getLayerIndex($).replace(G),K()}updateLayers($,G,K){this.getLayerIndex($).update(G.layers,G.removedIds),K()}loadTile($,G,K){this.getWorkerSource($,G.type,G.source).loadTile(G,K)}loadDEMTile($,G,K){this.getDEMWorkerSource($,G.source).loadTile(G,K)}reloadTile($,G,K){this.getWorkerSource($,G.type,G.source).reloadTile(G,K)}abortTile($,G,K){this.getWorkerSource($,G.type,G.source).abortTile(G,K)}removeTile($,G,K){this.getWorkerSource($,G.type,G.source).removeTile(G,K)}removeDEMTile($,G){this.getDEMWorkerSource($,G.source).removeTile(G)}removeSource($,G,K){if(!this.workerSources[$]||!this.workerSources[$][G.type]||!this.workerSources[$][G.type][G.source])return;const se=this.workerSources[$][G.type][G.source];delete this.workerSources[$][G.type][G.source],void 0!==se.removeSource?se.removeSource(G,K):K()}loadWorkerSource($,G,K){try{this.self.importScripts(G.url),K()}catch(se){K(se.toString())}}syncRTLPluginState($,G,K){try{_.bC.setState(G);const se=_.bC.getPluginURL();if(_.bC.isLoaded()&&!_.bC.isParsed()&&null!=se){this.self.importScripts(se);const ce=_.bC.isParsed();K(ce?void 0:new Error(`RTL Text Plugin failed to import scripts from ${se}`),ce)}}catch(se){K(se.toString())}}getAvailableImages($){let G=this.availableImages[$];return G||(G=[]),G}getLayerIndex($){let G=this.layerIndexes[$];return G||(G=this.layerIndexes[$]=new h2),G}getWorkerSource($,G,K){return this.workerSources[$]||(this.workerSources[$]={}),this.workerSources[$][G]||(this.workerSources[$][G]={}),this.workerSources[$][G][K]||(this.workerSources[$][G][K]=new this.workerSourceTypes[G]({send:(se,ce,we)=>{this.actor.send(se,ce,we,$)}},this.getLayerIndex($),this.getAvailableImages($))),this.workerSources[$][G][K]}getDEMWorkerSource($,G){return this.demWorkerSources[$]||(this.demWorkerSources[$]={}),this.demWorkerSources[$][G]||(this.demWorkerSources[$][G]=new fa),this.demWorkerSources[$][G]}}return _.i()&&(self.worker=new Mr(self)),Mr}),Js(0,function(_){class Re{static testProp(s){if(!Re.docStyle)return s[0];for(let f=0;f<s.length;f++)if(s[f]in Re.docStyle)return s[f];return s[0]}static create(s,f,m){const v=window.document.createElement(s);return void 0!==f&&(v.className=f),m&&m.appendChild(v),v}static createNS(s,f){return window.document.createElementNS(s,f)}static disableDrag(){Re.docStyle&&Re.selectProp&&(Re.userSelect=Re.docStyle[Re.selectProp],Re.docStyle[Re.selectProp]="none")}static enableDrag(){Re.docStyle&&Re.selectProp&&(Re.docStyle[Re.selectProp]=Re.userSelect)}static setTransform(s,f){s.style[Re.transformProp]=f}static addEventListener(s,f,m,v={}){s.addEventListener(f,m,"passive"in v?v:v.capture)}static removeEventListener(s,f,m,v={}){s.removeEventListener(f,m,"passive"in v?v:v.capture)}static suppressClickInternal(s){s.preventDefault(),s.stopPropagation(),window.removeEventListener("click",Re.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",Re.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",Re.suppressClickInternal,!0)},0)}static mousePos(s,f){const m=s.getBoundingClientRect();return new _.P(f.clientX-m.left-s.clientLeft,f.clientY-m.top-s.clientTop)}static touchPos(s,f){const m=s.getBoundingClientRect(),v=[];for(let x=0;x<f.length;x++)v.push(new _.P(f[x].clientX-m.left-s.clientLeft,f[x].clientY-m.top-s.clientTop));return v}static mouseButton(s){return s.button}static remove(s){s.parentNode&&s.parentNode.removeChild(s)}}Re.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,Re.selectProp=Re.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),Re.transformProp=Re.testProp(["transform","WebkitTransform"]);const Ai={supported:!1,testSupport:function(C){!Cr&&T1&&(fa?Xr(C):Ln=C)}};let Ln,T1,Cr=!1,fa=!1;function Xr(C){const s=C.createTexture();C.bindTexture(C.TEXTURE_2D,s);try{if(C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,T1),C.isContextLost())return;Ai.supported=!0}catch{}C.deleteTexture(s),Cr=!0}var Hn,H2,C;typeof document<"u"&&(T1=document.createElement("img"),T1.onload=function(){Ln&&Xr(Ln),Ln=null,fa=!0},T1.onerror=function(){Cr=!0,Ln=null},T1.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(C){let s,f,m,v;C.resetRequestQueue=()=>{s=[],f=0,m=0,v={}},C.addThrottleControl=A=>{const N=m++;return v[N]=A,N},C.removeThrottleControl=A=>{delete v[A],H()},C.getImage=(A,N,O=!0)=>{Ai.supported&&(A.headers||(A.headers={}),A.headers.accept="image/webp,*/*");const W={requestParameters:A,supportImageRefresh:O,callback:N,cancelled:!1,completed:!1,cancel:()=>{W.completed||W.cancelled||(W.cancelled=!0,W.innerRequest&&(W.innerRequest.cancel(),f--),H())}};return s.push(W),H(),W};const x=A=>{const{requestParameters:N,supportImageRefresh:O,callback:W}=A;return _.e(N,{type:"image"}),(!1!==O||_.i()||_.g(N.url)||N.headers&&!Object.keys(N.headers).reduce((ne,te)=>ne&&"accept"===te,!0)?_.m:T)(N,(ne,te,ae,Q)=>{L(A,W,ne,te,ae,Q)})},L=(A,N,O,W,ne,te)=>{var ae,Q;O?N(O):W instanceof HTMLImageElement||_.a(W)?N(null,W):W&&(ae=W,Q=(ae,Q)=>{null!=ae?N(ae):null!=Q&&N(null,Q,{cacheControl:ne,expires:te})},"function"==typeof createImageBitmap?_.b(ae,Q):_.d(ae,Q)),A.cancelled||(A.completed=!0,f--,H())},H=()=>{const A=(()=>{const N=Object.keys(v);let O=!1;if(N.length>0)for(const W of N)if(O=v[W](),O)break;return O})()?_.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:_.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let N=f;N<A&&s.length>0;N++){const O=s.shift();if(O.cancelled){N--;continue}const W=x(O);f++,O.innerRequest=W}},T=(A,N)=>{const O=new Image,W=A.url;let ne=!1;const te=A.credentials;return te&&"include"===te?O.crossOrigin="use-credentials":(te&&"same-origin"===te||!_.s(W))&&(O.crossOrigin="anonymous"),O.fetchPriority="high",O.onload=()=>{N(null,O),O.onerror=O.onload=null},O.onerror=()=>{ne||N(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),O.onerror=O.onload=null},O.src=W,{cancel:()=>{ne=!0,O.src=""}}}}(Hn||(Hn={})),Hn.resetRequestQueue(),(C=H2||(H2={})).Glyphs="Glyphs",C.Image="Image",C.Source="Source",C.SpriteImage="SpriteImage",C.SpriteJSON="SpriteJSON",C.Style="Style",C.Tile="Tile",C.Unknown="Unknown";class X4{constructor(s){this._transformRequestFn=s}transformRequest(s,f){return this._transformRequestFn&&this._transformRequestFn(s,f)||{url:s}}normalizeSpriteURL(s,f,m){const v=function(x){const L=x.match(tr);if(!L)throw new Error(`Unable to parse URL "${x}"`);return{protocol:L[1],authority:L[2],path:L[3]||"/",params:L[4]?L[4].split("&"):[]}}(s);return v.path+=`${f}${m}`,function(x){const L=x.params.length?`?${x.params.join("&")}`:"";return`${x.protocol}://${x.authority}${x.path}${L}`}(v)}setTransformRequest(s){this._transformRequestFn=s}}const tr=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ii(C){var s=new _.A(3);return s[0]=C[0],s[1]=C[1],s[2]=C[2],s}var br,nr=function(C,s,f){return C[0]=s[0]-f[0],C[1]=s[1]-f[1],C[2]=s[2]-f[2],C};br=new _.A(3),_.A!=Float32Array&&(br[0]=0,br[1]=0,br[2]=0);var x3=function(C){var s=C[0],f=C[1];return s*s+f*f};function en(C){const s=[];if("string"==typeof C)s.push({id:"default",url:C});else if(C&&C.length>0){const f=[];for(const{id:m,url:v}of C){const x=`${m}${v}`;-1===f.indexOf(x)&&(f.push(x),s.push({id:m,url:v}))}}return s}function ha(C,s,f,m,v){if(m)return void C(m);if(v!==Object.values(s).length||v!==Object.values(f).length)return;const x={};for(const L in s){x[L]={};const H=_.h.getImageCanvasContext(f[L]),T=s[L];for(const A in T){const{width:N,height:O,x:W,y:ne,sdf:te,pixelRatio:ae,stretchX:Q,stretchY:ye,content:Pe}=T[A];x[L][A]={data:null,pixelRatio:ae,sdf:te,stretchX:Q,stretchY:ye,content:Pe,spriteData:{width:N,height:O,x:W,y:ne,context:H}}}}C(null,x)}!function(){var C=new _.A(2);_.A!=Float32Array&&(C[0]=0,C[1]=0)}();class Qt{constructor(s,f,m,v){this.context=s,this.format=m,this.texture=s.gl.createTexture(),this.update(f,v)}update(s,f,m){const{width:v,height:x}=s,L=!(this.size&&this.size[0]===v&&this.size[1]===x||m),{context:H}=this,{gl:T}=H;if(this.useMipmap=!(!f||!f.useMipmap),T.bindTexture(T.TEXTURE_2D,this.texture),H.pixelStoreUnpackFlipY.set(!1),H.pixelStoreUnpack.set(1),H.pixelStoreUnpackPremultiplyAlpha.set(this.format===T.RGBA&&(!f||!1!==f.premultiply)),L)this.size=[v,x],s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||_.a(s)?T.texImage2D(T.TEXTURE_2D,0,this.format,this.format,T.UNSIGNED_BYTE,s):T.texImage2D(T.TEXTURE_2D,0,this.format,v,x,0,this.format,T.UNSIGNED_BYTE,s.data);else{const{x:A,y:N}=m||{x:0,y:0};s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||_.a(s)?T.texSubImage2D(T.TEXTURE_2D,0,A,N,T.RGBA,T.UNSIGNED_BYTE,s):T.texSubImage2D(T.TEXTURE_2D,0,A,N,v,x,T.RGBA,T.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&T.generateMipmap(T.TEXTURE_2D)}bind(s,f,m){const{context:v}=this,{gl:x}=v;x.bindTexture(x.TEXTURE_2D,this.texture),m!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=x.LINEAR),s!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,s),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,m||s),this.filter=s),f!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,f),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,f),this.wrap=f)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}function ir(C){const{userImage:s}=C;return!!(s&&s.render&&s.render())&&(C.data.replace(new Uint8Array(s.data.buffer)),!0)}class jn extends _.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new _.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(const{ids:f,callback:m}of this.requestors)this._notify(f,m);this.requestors=[]}}getImage(s){const f=this.images[s];if(f&&!f.data&&f.spriteData){const m=f.spriteData;f.data=new _.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),f.spriteData=null}return f}addImage(s,f){if(this.images[s])throw new Error(`Image id ${s} already exist, use updateImage instead`);this._validate(s,f)&&(this.images[s]=f)}_validate(s,f){let m=!0;const v=f.data||f.spriteData;return this._validateStretch(f.stretchX,v&&v.width)||(this.fire(new _.j(new Error(`Image "${s}" has invalid "stretchX" value`))),m=!1),this._validateStretch(f.stretchY,v&&v.height)||(this.fire(new _.j(new Error(`Image "${s}" has invalid "stretchY" value`))),m=!1),this._validateContent(f.content,f)||(this.fire(new _.j(new Error(`Image "${s}" has invalid "content" value`))),m=!1),m}_validateStretch(s,f){if(!s)return!0;let m=0;for(const v of s){if(v[0]<m||v[1]<v[0]||f<v[1])return!1;m=v[1]}return!0}_validateContent(s,f){if(!s)return!0;if(4!==s.length)return!1;const m=f.spriteData,v=m&&m.width||f.data.width,x=m&&m.height||f.data.height;return!(s[0]<0||v<s[0]||s[1]<0||x<s[1]||s[2]<0||v<s[2]||s[3]<0||x<s[3]||s[2]<s[0]||s[3]<s[1])}updateImage(s,f,m=!0){const v=this.getImage(s);if(m&&(v.data.width!==f.data.width||v.data.height!==f.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=v.version+1,this.images[s]=f,this.updatedImages[s]=!0}removeImage(s){const f=this.images[s];delete this.images[s],delete this.patterns[s],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s,f){let m=!0;if(!this.isLoaded())for(const v of s)this.images[v]||(m=!1);this.isLoaded()||m?this._notify(s,f):this.requestors.push({ids:s,callback:f})}_notify(s,f){const m={};for(const v of s){let x=this.getImage(v);x||(this.fire(new _.k("styleimagemissing",{id:v})),x=this.getImage(v)),x?m[v]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,hasRenderCallback:!(!x.userImage||!x.userImage.render)}:_.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}f(null,m)}getPixelSize(){const{width:s,height:f}=this.atlasImage;return{width:s,height:f}}getPattern(s){const f=this.patterns[s],m=this.getImage(s);if(!m)return null;if(f&&f.position.version===m.version)return f.position;if(f)f.position.version=m.version;else{const v={w:m.data.width+2,h:m.data.height+2,x:0,y:0},x=new _.I(v,m);this.patterns[s]={bin:v,position:x}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){const f=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Qt(s,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const s=[];for(const x in this.patterns)s.push(this.patterns[x].bin);const{w:f,h:m}=_.p(s),v=this.atlasImage;v.resize({width:f||1,height:m||1});for(const x in this.patterns){const{bin:L}=this.patterns[x],H=L.x+1,T=L.y+1,A=this.getImage(x).data,N=A.width,O=A.height;_.R.copy(A,v,{x:0,y:0},{x:H,y:T},{width:N,height:O}),_.R.copy(A,v,{x:0,y:O-1},{x:H,y:T-1},{width:N,height:1}),_.R.copy(A,v,{x:0,y:0},{x:H,y:T+O},{width:N,height:1}),_.R.copy(A,v,{x:N-1,y:0},{x:H-1,y:T},{width:1,height:O}),_.R.copy(A,v,{x:0,y:0},{x:H+N,y:T},{width:1,height:O})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(const f of s){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const m=this.getImage(f);m||_.w(`Image with ID: "${f}" was not found`),ir(m)&&this.updateImage(f,m)}}}const Kr=1e20;function tn(C,s,f,m,v,x,L,H,T){for(let A=s;A<s+m;A++)ei(C,f*x+A,x,v,L,H,T);for(let A=f;A<f+v;A++)ei(C,A*x+s,1,m,L,H,T)}function ei(C,s,f,m,v,x,L){x[0]=0,L[0]=-Kr,L[1]=Kr,v[0]=C[s];for(let H=1,T=0,A=0;H<m;H++){v[H]=C[s+H*f];const N=H*H;do{const O=x[T];A=(v[H]-v[O]+N-O*O)/(H-O)/2}while(A<=L[T]&&--T>-1);T++,x[T]=H,L[T]=A,L[T+1]=Kr}for(let H=0,T=0;H<m;H++){for(;L[T+1]<H;)T++;const A=x[T],N=H-A;C[s+H*f]=v[A]+N*N}}class ki{constructor(s,f){this.requestManager=s,this.localIdeographFontFamily=f,this.entries={}}setURL(s){this.url=s}getGlyphs(s,f){const m=[];for(const v in s)for(const x of s[v])m.push({stack:v,id:x});_.o(m,({stack:v,id:x},L)=>{let H=this.entries[v];H||(H=this.entries[v]={glyphs:{},requests:{},ranges:{}});let T=H.glyphs[x];if(void 0!==T)return void L(null,{stack:v,id:x,glyph:T});if(T=this._tinySDF(H,v,x),T)return H.glyphs[x]=T,void L(null,{stack:v,id:x,glyph:T});const A=Math.floor(x/256);if(256*A>65535)return void L(new Error("glyphs > 65535 not supported"));if(H.ranges[A])return void L(null,{stack:v,id:x,glyph:T});if(!this.url)return void L(new Error("glyphsUrl is not set"));let N=H.requests[A];N||(N=H.requests[A]=[],ki.loadGlyphRange(v,A,this.url,this.requestManager,(O,W)=>{if(W){for(const ne in W)this._doesCharSupportLocalGlyph(+ne)||(H.glyphs[+ne]=W[+ne]);H.ranges[A]=!0}for(const ne of N)ne(O,W);delete H.requests[A]})),N.push((O,W)=>{O?L(O):W&&L(null,{stack:v,id:x,glyph:W[x]||null})})},(v,x)=>{if(v)f(v);else if(x){const L={};for(const{stack:H,id:T,glyph:A}of x)(L[H]||(L[H]={}))[T]=A&&{id:A.id,bitmap:A.bitmap.clone(),metrics:A.metrics};f(null,L)}})}_doesCharSupportLocalGlyph(s){return!!this.localIdeographFontFamily&&(_.u["CJK Unified Ideographs"](s)||_.u["Hangul Syllables"](s)||_.u.Hiragana(s)||_.u.Katakana(s))}_tinySDF(s,f,m){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(m))return;let x=s.tinySDF;if(!x){let H="400";/bold/i.test(f)?H="900":/medium/i.test(f)?H="500":/light/i.test(f)&&(H="200"),x=s.tinySDF=new ki.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:H})}const L=x.draw(String.fromCharCode(m));return{id:m,bitmap:new _.q({width:L.width||60,height:L.height||60},L.data),metrics:{width:L.glyphWidth/2||24,height:L.glyphHeight/2||24,left:L.glyphLeft/2+.5||0,top:L.glyphTop/2-27.5||-8,advance:L.glyphAdvance/2||24,isDoubleResolution:!0}}}}ki.loadGlyphRange=function(C,s,f,m,v){const x=256*s,L=x+255,H=m.transformRequest(f.replace("{fontstack}",C).replace("{range}",`${x}-${L}`),H2.Glyphs);_.l(H,(T,A)=>{if(T)v(T);else if(A){const N={};for(const O of _.n(A))N[O.id]=O;v(null,N)}})},ki.TinySDF=class{constructor({fontSize:C=24,buffer:s=3,radius:f=8,cutoff:m=.25,fontFamily:v="sans-serif",fontWeight:x="normal",fontStyle:L="normal"}={}){this.buffer=s,this.cutoff=m,this.radius=f;const H=this.size=C+4*s,T=this._createCanvas(H),A=this.ctx=T.getContext("2d",{willReadFrequently:!0});A.font=`${L} ${x} ${C}px ${v}`,A.textBaseline="alphabetic",A.textAlign="left",A.fillStyle="black",this.gridOuter=new Float64Array(H*H),this.gridInner=new Float64Array(H*H),this.f=new Float64Array(H),this.z=new Float64Array(H+1),this.v=new Uint16Array(H)}_createCanvas(C){const s=document.createElement("canvas");return s.width=s.height=C,s}draw(C){const{width:s,actualBoundingBoxAscent:f,actualBoundingBoxDescent:m,actualBoundingBoxLeft:v,actualBoundingBoxRight:x}=this.ctx.measureText(C),L=Math.ceil(f),H=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(x-v))),T=Math.min(this.size-this.buffer,L+Math.ceil(m)),A=H+2*this.buffer,N=T+2*this.buffer,O=Math.max(A*N,0),W=new Uint8ClampedArray(O),ne={data:W,width:A,height:N,glyphWidth:H,glyphHeight:T,glyphTop:L,glyphLeft:0,glyphAdvance:s};if(0===H||0===T)return ne;const{ctx:te,buffer:ae,gridInner:Q,gridOuter:ye}=this;te.clearRect(ae,ae,H,T),te.fillText(C,ae,ae+L);const Pe=te.getImageData(ae,ae,H,T);ye.fill(Kr,0,O),Q.fill(0,0,O);for(let le=0;le<T;le++)for(let Ce=0;Ce<H;Ce++){const ke=Pe.data[4*(le*H+Ce)+3]/255;if(0===ke)continue;const Ie=(le+ae)*A+Ce+ae;if(1===ke)ye[Ie]=0,Q[Ie]=Kr;else{const Be=.5-ke;ye[Ie]=Be>0?Be*Be:0,Q[Ie]=Be<0?Be*Be:0}}tn(ye,0,0,A,N,A,this.f,this.v,this.z),tn(Q,ae,ae,H,T,A,this.f,this.v,this.z);for(let le=0;le<O;le++){const Ce=Math.sqrt(ye[le])-Math.sqrt(Q[le]);W[le]=Math.round(255-255*(Ce/this.radius+this.cutoff))}return ne}};class k2{constructor(){this.specification=_.v.light.position}possiblyEvaluate(s,f){return _.z(s.expression.evaluate(f))}interpolate(s,f,m){return{x:_.B.number(s.x,f.x,m),y:_.B.number(s.y,f.y,m),z:_.B.number(s.z,f.z,m)}}}let M3;class da extends _.E{constructor(s){super(),M3=M3||new _.r({anchor:new _.D(_.v.light.anchor),position:new k2,color:new _.D(_.v.light.color),intensity:new _.D(_.v.light.intensity)}),this._transitionable=new _.T(M3),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,f={}){if(!this._validate(_.t,s,f))for(const m in s){const v=s[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,f,m){return(!m||!1!==m.validate)&&_.x(this,s.call(_.y,_.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:_.v})))}}class d2{constructor(s,f){this.width=s,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(s,f){const m=s.join(",")+String(f);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(s,f)),this.dashEntry[m]}getDashRanges(s,f,m){const v=[];let x=s.length%2==1?-s[s.length-1]*m:0,L=s[0]*m,H=!0;v.push({left:x,right:L,isDash:H,zeroLength:0===s[0]});let T=s[0];for(let A=1;A<s.length;A++){H=!H;const N=s[A];x=T*m,T+=N,L=T*m,v.push({left:x,right:L,isDash:H,zeroLength:0===N})}return v}addRoundDash(s,f,m){const v=f/2;for(let x=-m;x<=m;x++){const L=this.width*(this.nextRow+m+x);let H=0,T=s[H];for(let A=0;A<this.width;A++){A/T.right>1&&(T=s[++H]);const N=Math.abs(A-T.left),O=Math.abs(A-T.right),W=Math.min(N,O);let ne;const te=x/m*(v+1);if(T.isDash){const ae=v-Math.abs(te);ne=Math.sqrt(W*W+ae*ae)}else ne=v-Math.sqrt(W*W+te*te);this.data[L+A]=Math.max(0,Math.min(255,ne+128))}}}addRegularDash(s){for(let H=s.length-1;H>=0;--H){const T=s[H],A=s[H+1];T.zeroLength?s.splice(H,1):A&&A.isDash===T.isDash&&(A.left=T.left,s.splice(H,1))}const f=s[0],m=s[s.length-1];f.isDash===m.isDash&&(f.left=m.left-this.width,m.right=f.right+this.width);const v=this.width*this.nextRow;let x=0,L=s[x];for(let H=0;H<this.width;H++){H/L.right>1&&(L=s[++x]);const T=Math.abs(H-L.left),A=Math.abs(H-L.right),N=Math.min(T,A);this.data[v+H]=Math.max(0,Math.min(255,(L.isDash?N:-N)+128))}}addDash(s,f){const m=f?7:0,v=2*m+1;if(this.nextRow+v>this.height)return _.w("LineAtlas out of space"),null;let x=0;for(let H=0;H<s.length;H++)x+=s[H];if(0!==x){const H=this.width/x,T=this.getDashRanges(s,this.width,H);f?this.addRoundDash(T,H,m):this.addRegularDash(T)}const L={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:x};return this.nextRow+=v,this.dirty=!0,L}bind(s){const f=s.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}class pa{constructor(s,f,m){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=m;const v=this.workerPool.acquire(m);for(let x=0;x<v.length;x++){const L=new _.C(v[x],f,m);L.name=`Worker ${x}`,this.actors.push(L)}if(!this.actors.length)throw new Error("No actors found")}broadcast(s,f,m){_.o(this.actors,(v,x)=>{v.send(s,f,x)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(s=!0){this.actors.forEach(f=>{f.remove()}),this.actors=[],s&&this.workerPool.release(this.id)}}function rr(C,s,f){const m=function(v,x){if(v)return f(v);if(x){const L=_.F(_.e(x,C),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(L.vectorLayers=x.vector_layers,L.vectorLayerIds=L.vectorLayers.map(H=>H.id)),f(null,L)}};return C.url?_.f(s.transformRequest(C.url,H2.Source),m):_.h.frame(()=>m(null,C))}class Rt{constructor(s,f){s&&(f?this.setSouthWest(s).setNorthEast(f):Array.isArray(s)&&(4===s.length?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1])))}setNorthEast(s){return this._ne=s instanceof _.L?new _.L(s.lng,s.lat):_.L.convert(s),this}setSouthWest(s){return this._sw=s instanceof _.L?new _.L(s.lng,s.lat):_.L.convert(s),this}extend(s){const f=this._sw,m=this._ne;let v,x;if(s instanceof _.L)v=s,x=s;else{if(!(s instanceof Rt))return Array.isArray(s)?4===s.length||s.every(Array.isArray)?this.extend(Rt.convert(s)):this.extend(_.L.convert(s)):s&&("lng"in s||"lon"in s)&&"lat"in s?this.extend(_.L.convert(s)):this;if(v=s._sw,x=s._ne,!v||!x)return this}return f||m?(f.lng=Math.min(v.lng,f.lng),f.lat=Math.min(v.lat,f.lat),m.lng=Math.max(x.lng,m.lng),m.lat=Math.max(x.lat,m.lat)):(this._sw=new _.L(v.lng,v.lat),this._ne=new _.L(x.lng,x.lat)),this}getCenter(){return new _.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new _.L(this.getWest(),this.getNorth())}getSouthEast(){return new _.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){const{lng:f,lat:m}=_.L.convert(s);let v=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&v}static convert(s){return s instanceof Rt?s:s&&new Rt(s)}static fromLngLat(s,f=0){const m=360*f/40075017,v=m/Math.cos(Math.PI/180*s.lat);return new Rt(new _.L(s.lng-v,s.lat-m),new _.L(s.lng+v,s.lat+m))}}class Un{constructor(s,f,m){this.bounds=Rt.convert(this.validateBounds(s)),this.minzoom=f||0,this.maxzoom=m||24}validateBounds(s){return Array.isArray(s)&&4===s.length?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){const f=Math.pow(2,s.z),m=Math.floor(_.G(this.bounds.getWest())*f),v=Math.floor(_.H(this.bounds.getNorth())*f),x=Math.ceil(_.G(this.bounds.getEast())*f),L=Math.ceil(_.H(this.bounds.getSouth())*f);return s.x>=m&&s.x<x&&s.y>=v&&s.y<L}}class nn extends _.E{constructor(s,f,m,v){if(super(),this.load=()=>{this._loaded=!1,this.fire(new _.k("dataloading",{dataType:"source"})),this._tileJSONRequest=rr(this._options,this.map._requestManager,(x,L)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),x?this.fire(new _.j(x)):L&&(_.e(this,L),L.bounds&&(this.tileBounds=new Un(L.bounds,this.minzoom,this.maxzoom)),this.fire(new _.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new _.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>_.e({},this._options),this.id=s,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,_.e(this,_.F(f,["url","scheme","tileSize","promoteId"])),this._options=_.e({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.cancel(),s(),this.load()}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}setUrl(s){return this.setSourceProperty(()=>{this.url=s,this._options.url=s}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(s,f){const m=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(m,H2.Tile),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function x(L,H){return delete s.request,s.aborted?f(null):L&&404!==L.status?f(L):(H&&H.resourceTiming&&(s.resourceTiming=H.resourceTiming),this.map._refreshExpiredTiles&&H&&s.setExpiryData(H),s.loadVectorData(H,this.map.painter),f(null),void(s.reloadCallback&&(this.loadTile(s,s.reloadCallback),s.reloadCallback=null)))}v.request.collectResourceTiming=this._collectResourceTiming,s.actor&&"expired"!==s.state?"loading"===s.state?s.reloadCallback=f:s.request=s.actor.send("reloadTile",v,x.bind(this)):(s.actor=this.dispatcher.getActor(),s.request=s.actor.send("loadTile",v,x.bind(this)))}abortTile(s){s.request&&(s.request.cancel(),delete s.request),s.actor&&s.actor.send("abortTile",{uid:s.uid,type:this.type,source:this.id},void 0)}unloadTile(s){s.unloadVectorData(),s.actor&&s.actor.send("removeTile",{uid:s.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class w3 extends _.E{constructor(s,f,m,v){super(),this.id=s,this.dispatcher=m,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=_.e({type:"raster"},f),_.e(this,_.F(f,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new _.k("dataloading",{dataType:"source"})),this._tileJSONRequest=rr(this._options,this.map._requestManager,(s,f)=>{this._tileJSONRequest=null,this._loaded=!0,s?this.fire(new _.j(s)):f&&(_.e(this,f),f.bounds&&(this.tileBounds=new Un(f.bounds,this.minzoom,this.maxzoom)),this.fire(new _.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new _.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.cancel(),s(),this.load()}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}serialize(){return _.e({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s,f){const m=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);s.request=Hn.getImage(this.map._requestManager.transformRequest(m,H2.Tile),(v,x,L)=>{if(delete s.request,s.aborted)s.state="unloaded",f(null);else if(v)s.state="errored",f(v);else if(x){this.map._refreshExpiredTiles&&L&&s.setExpiryData(L);const H=this.map.painter.context,T=H.gl;s.texture=this.map.painter.getTileTexture(x.width),s.texture?s.texture.update(x,{useMipmap:!0}):(s.texture=new Qt(H,x,T.RGBA,{useMipmap:!0}),s.texture.bind(T.LINEAR,T.CLAMP_TO_EDGE,T.LINEAR_MIPMAP_NEAREST),H.extTextureFilterAnisotropic&&T.texParameterf(T.TEXTURE_2D,H.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,H.extTextureFilterAnisotropicMax)),s.state="loaded",f(null)}},this.map._refreshExpiredTiles)}abortTile(s,f){s.request&&(s.request.cancel(),delete s.request),f()}unloadTile(s,f){s.texture&&this.map.painter.saveTileTexture(s.texture),f()}hasTransition(){return!1}}class z3 extends w3{constructor(s,f,m,v){super(s,f,m,v),this.type="raster-dem",this.maxzoom=22,this._options=_.e({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox",this.redFactor=f.redFactor,this.greenFactor=f.greenFactor,this.blueFactor=f.blueFactor,this.baseShift=f.baseShift}loadTile(s,f){const m=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(m,H2.Tile);function x(L,H){L&&(s.state="errored",f(L)),H&&(s.dem=H,s.needsHillshadePrepare=!0,s.needsTerrainPrepare=!0,s.state="loaded",f(null))}s.neighboringTiles=this._getNeighboringTiles(s.tileID),s.request=Hn.getImage(v,(L,H,T)=>_._(this,void 0,void 0,function*(){if(delete s.request,s.aborted)s.state="unloaded",f(null);else if(L)s.state="errored",f(L);else if(H){this.map._refreshExpiredTiles&&s.setExpiryData(T);const A=_.a(H)&&_.J()?H:yield function(O){return _._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&_.K()){const W=O.width+2,ne=O.height+2;try{return new _.R({width:W,height:ne},yield _.M(O,-1,-1,W,ne))}catch{}}return _.h.getImageData(O,1)})}(H),N={uid:s.uid,coord:s.tileID,source:this.id,rawImageData:A,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};s.actor&&"expired"!==s.state||(s.actor=this.dispatcher.getActor(),s.actor.send("loadDEMTile",N,x))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(s){const f=s.canonical,m=Math.pow(2,f.z),v=(f.x-1+m)%m,x=0===f.x?s.wrap-1:s.wrap,L=(f.x+1+m)%m,H=f.x+1===m?s.wrap+1:s.wrap,T={};return T[new _.O(s.overscaledZ,x,f.z,v,f.y).key]={backfilled:!1},T[new _.O(s.overscaledZ,H,f.z,L,f.y).key]={backfilled:!1},f.y>0&&(T[new _.O(s.overscaledZ,x,f.z,v,f.y-1).key]={backfilled:!1},T[new _.O(s.overscaledZ,s.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},T[new _.O(s.overscaledZ,H,f.z,L,f.y-1).key]={backfilled:!1}),f.y+1<m&&(T[new _.O(s.overscaledZ,x,f.z,v,f.y+1).key]={backfilled:!1},T[new _.O(s.overscaledZ,s.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},T[new _.O(s.overscaledZ,H,f.z,L,f.y+1).key]={backfilled:!1}),T}unloadTile(s){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&s.actor.send("removeDEMTile",{uid:s.uid,source:this.id})}}class Ft extends _.E{constructor(s,f,m,v){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>_.e({},this._options,{type:this.type,data:this._data}),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(v),this._data=f.data,this._options=_.e({},f),this._collectResourceTiming=f.collectResourceTiming,void 0!==f.maxzoom&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId;const x=_.N/this.tileSize;this.workerOptions=_.e({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:(void 0!==f.buffer?f.buffer:128)*x,tolerance:(void 0!==f.tolerance?f.tolerance:.375)*x,extent:_.N,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:void 0!==f.clusterMaxZoom?f.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:_.N,radius:(f.clusterRadius||50)*x,log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(s){this.map=s,this.load()}setData(s){return this._data=s,this._updateWorkerData(),this}updateData(s){return this._updateWorkerData(s),this}setClusterOptions(s){return this.workerOptions.cluster=s.cluster,s&&(void 0!==s.clusterRadius&&(this.workerOptions.superclusterOptions.radius=s.clusterRadius),void 0!==s.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=s.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(s,f){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:s,source:this.id},f),this}getClusterChildren(s,f){return this.actor.send("geojson.getClusterChildren",{clusterId:s,source:this.id},f),this}getClusterLeaves(s,f,m,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:s,limit:f,offset:m},v),this}_updateWorkerData(s){const f=_.e({},this.workerOptions);s?f.dataDiff=s:"string"==typeof this._data?(f.request=this.map._requestManager.transformRequest(_.h.resolveURL(this._data),H2.Source),f.request.collectResourceTiming=this._collectResourceTiming):f.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new _.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,f,(m,v)=>{if(this._pendingLoads--,this._removed||v&&v.abandoned)return void this.fire(new _.k("dataabort",{dataType:"source"}));let x=null;if(v&&v.resourceTiming&&v.resourceTiming[this.id]&&(x=v.resourceTiming[this.id].slice(0)),m)return void this.fire(new _.j(m));const L={dataType:"source"};this._collectResourceTiming&&x&&x.length>0&&_.e(L,{resourceTiming:x}),this.fire(new _.k("data",Object.assign(Object.assign({},L),{sourceDataType:"metadata"}))),this.fire(new _.k("data",Object.assign(Object.assign({},L),{sourceDataType:"content"})))})}loaded(){return 0===this._pendingLoads}loadTile(s,f){const m=s.actor?"reloadTile":"loadTile";s.actor=this.actor;const v={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};s.request=this.actor.send(m,v,(x,L)=>(delete s.request,s.unloadVectorData(),s.aborted?f(null):x?f(x):(s.loadVectorData(L,this.map.painter,"reloadTile"===m),f(null))))}abortTile(s){s.request&&(s.request.cancel(),delete s.request),s.aborted=!0}unloadTile(s){s.unloadVectorData(),this.actor.send("removeTile",{uid:s.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var Vt=_.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class yi extends _.E{constructor(s,f,m,v){super(),this.load=(x,L)=>{this._loaded=!1,this.fire(new _.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=Hn.getImage(this.map._requestManager.transformRequest(this.url,H2.Image),(H,T)=>{this._request=null,this._loaded=!0,H?this.fire(new _.j(H)):T&&(this.image=T,x&&(this.coordinates=x),L&&L(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||!this.image)return;const x=this.map.painter.context,L=x.gl;this.boundsBuffer||(this.boundsBuffer=x.createVertexBuffer(this._boundsArray,Vt.members)),this.boundsSegments||(this.boundsSegments=_.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Qt(x,this.image,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE));let H=!1;for(const T in this.tiles){const A=this.tiles[T];"loaded"!==A.state&&(A.state="loaded",A.texture=this.texture,H=!0)}H&&this.fire(new _.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=s,this.dispatcher=m,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=f}loaded(){return this._loaded}updateImage(s){return s.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=s.url,this.load(s.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new _.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(s){this.coordinates=s;const f=s.map(_.U.fromLngLat);this.tileID=function(v){let x=1/0,L=1/0,H=-1/0,T=-1/0;for(const W of v)x=Math.min(x,W.x),L=Math.min(L,W.y),H=Math.max(H,W.x),T=Math.max(T,W.y);const A=Math.max(H-x,T-L),N=Math.max(0,Math.floor(-Math.log(A)/Math.LN2)),O=Math.pow(2,N);return new _.W(N,Math.floor((x+H)/2*O),Math.floor((L+T)/2*O))}(f),this.minzoom=this.maxzoom=this.tileID.z;const m=f.map(v=>this.tileID.getTilePoint(v)._round());return this._boundsArray=new _.V,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,_.N,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,_.N),this._boundsArray.emplaceBack(m[2].x,m[2].y,_.N,_.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new _.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(s,f){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={},f(null)):(s.state="errored",f(null))}hasTransition(){return!1}}class Lt extends yi{constructor(s,f,m,v){super(s,f,m,v),this.load=()=>{this._loaded=!1;const x=this.options;this.urls=[];for(const L of x.urls)this.urls.push(this.map._requestManager.transformRequest(L,H2.Source).url);_.X(this.urls,(L,H)=>{this._loaded=!0,L?this.fire(new _.j(L)):H&&(this.video=H,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const x=this.map.painter.context,L=x.gl;this.boundsBuffer||(this.boundsBuffer=x.createVertexBuffer(this._boundsArray,Vt.members)),this.boundsSegments||(this.boundsSegments=_.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.texSubImage2D(L.TEXTURE_2D,0,0,0,L.RGBA,L.UNSIGNED_BYTE,this.video)):(this.texture=new Qt(x,this.video,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE));let H=!1;for(const T in this.tiles){const A=this.tiles[T];"loaded"!==A.state&&(A.state="loaded",A.texture=this.texture,H=!0)}H&&this.fire(new _.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=f}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(s){if(this.video){const f=this.video.seekable;s<f.start(0)||s>f.end(0)?this.fire(new _.j(new _.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=s}}getVideo(){return this.video}onAdd(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class ar extends yi{constructor(s,f,m,v){super(s,f,m,v),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new _.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let x=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,x=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,x=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const L=this.map.painter.context,H=L.gl;this.boundsBuffer||(this.boundsBuffer=L.createVertexBuffer(this._boundsArray,Vt.members)),this.boundsSegments||(this.boundsSegments=_.S.simpleSegment(0,0,4,2)),this.texture?(x||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Qt(L,this.canvas,H.RGBA,{premultiply:!0});let T=!1;for(const A in this.tiles){const N=this.tiles[A];"loaded"!==N.state&&(N.state="loaded",N.texture=this.texture,T=!0)}T&&this.fire(new _.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),f.coordinates?Array.isArray(f.coordinates)&&4===f.coordinates.length&&!f.coordinates.some(x=>!Array.isArray(x)||2!==x.length||x.some(L=>"number"!=typeof L))||this.fire(new _.j(new _.Y(`sources.${s}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new _.j(new _.Y(`sources.${s}`,null,'missing required property "coordinates"'))),f.animate&&"boolean"!=typeof f.animate&&this.fire(new _.j(new _.Y(`sources.${s}`,null,'optional "animate" property must be a boolean value'))),f.canvas?"string"==typeof f.canvas||f.canvas instanceof HTMLCanvasElement||this.fire(new _.j(new _.Y(`sources.${s}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new _.j(new _.Y(`sources.${s}`,null,'missing required property "canvas"'))),this.options=f,this.animate=void 0===f.animate||f.animate}getCanvas(){return this.canvas}onAdd(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const s of[this.canvas.width,this.canvas.height])if(isNaN(s)||s<=0)return!0;return!1}}const Qa={},Ni=C=>{switch(C){case"geojson":return Ft;case"image":return yi;case"raster":return w3;case"raster-dem":return z3;case"vector":return nn;case"video":return Lt;case"canvas":return ar}return Qa[C]};function ma(C,s){const f=_.Z();return _.$(f,f,[1,1,0]),_.a0(f,f,[.5*C.width,.5*C.height,1]),_.a1(f,f,C.calculatePosMatrix(s.toUnwrapped()))}function S3(C,s,f,m,v,x){const L=function(O,W,ne){if(O)for(const te of O){const ae=W[te];if(ae&&ae.source===ne&&"fill-extrusion"===ae.type)return!0}else for(const te in W){const ae=W[te];if(ae.source===ne&&"fill-extrusion"===ae.type)return!0}return!1}(v&&v.layers,s,C.id),H=x.maxPitchScaleFactor(),T=C.tilesIn(m,H,L);T.sort(Qr);const A=[];for(const O of T)A.push({wrappedTileID:O.tileID.wrapped().key,queryResults:O.tile.queryRenderedFeatures(s,f,C._state,O.queryGeometry,O.cameraQueryGeometry,O.scale,v,x,H,ma(C.transform,O.tileID))});const N=function(O){const W={},ne={};for(const te of O){const ae=te.queryResults,Q=te.wrappedTileID,ye=ne[Q]=ne[Q]||{};for(const Pe in ae){const le=ae[Pe],Ce=ye[Pe]=ye[Pe]||{},ke=W[Pe]=W[Pe]||[];for(const Ie of le)Ce[Ie.featureIndex]||(Ce[Ie.featureIndex]=!0,ke.push(Ie))}}return W}(A);for(const O in N)N[O].forEach(W=>{const ne=W.feature,te=C.getFeatureState(ne.layer["source-layer"],ne.id);ne.source=ne.layer.source,ne.layer["source-layer"]&&(ne.sourceLayer=ne.layer["source-layer"]),ne.state=te});return N}function Qr(C,s){const f=C.tileID,m=s.tileID;return f.overscaledZ-m.overscaledZ||f.canonical.y-m.canonical.y||f.wrap-m.wrap||f.canonical.x-m.canonical.x}class L3{constructor(s,f){this.timeAdded=0,this.fadeEndTime=0,this.tileID=s,this.uid=_.a2(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(s){const f=s+this.timeAdded;f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(s){this.demTexture&&s.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(s,f,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(v,x){const L={};if(!x)return L;for(const H of v){const T=H.layerIds.map(A=>x.getLayer(A)).filter(Boolean);if(0!==T.length){H.layers=T,H.stateDependentLayerIds&&(H.stateDependentLayers=H.stateDependentLayerIds.map(A=>T.filter(N=>N.id===A)[0]));for(const A of T)L[A.id]=H}}return L}(s.buckets,f.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const x=this.buckets[v];if(x instanceof _.a4){if(this.hasSymbolBuckets=!0,!m)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const x=this.buckets[v];if(x instanceof _.a4&&x.hasRTLText){this.hasRTLText=!0,_.a5();break}}this.queryPadding=0;for(const v in this.buckets){const x=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(v).queryRadius(x))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new _.a3}unloadVectorData(){for(const s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(s){return this.buckets[s.id]}upload(s){for(const m in this.buckets){const v=this.buckets[m];v.uploadPending()&&v.upload(s)}const f=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Qt(s,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Qt(s,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,f,m,v,x,L,H,T,A,N){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:x,scale:L,tileSize:this.tileSize,pixelPosMatrix:N,transform:T,params:H,queryPadding:this.queryPadding*A},s,f,m):{}}querySourceFeatures(s,f){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const v=m.loadVTLayers(),x=f&&f.sourceLayer?f.sourceLayer:"",L=v._geojsonTileLayer||v[x];if(!L)return;const H=_.a6(f&&f.filter),{z:T,x:A,y:N}=this.tileID.canonical,O={z:T,x:A,y:N};for(let W=0;W<L.length;W++){const ne=L.feature(W);if(H.needGeometry){const Q=_.a7(ne,!0);if(!H.filter(new _.a8(this.tileID.overscaledZ),Q,this.tileID.canonical))continue}else if(!H.filter(new _.a8(this.tileID.overscaledZ),ne))continue;const te=m.getId(ne,x),ae=new _.a9(ne,T,A,N,te);ae.tile=O,s.push(ae)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){const f=this.expirationTime;if(s.cacheControl){const m=_.aa(s.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){const m=Date.now();let v=!1;if(this.expirationTime>m)v=!1;else if(f)if(this.expirationTime<f)v=!0;else{const x=this.expirationTime-f;x?this.expirationTime=m+Math.max(x,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(s,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(s).length)return;const m=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!f.style.hasLayer(v))continue;const x=this.buckets[v],L=x.layers[0].sourceLayer||"_geojsonTileLayer",H=m[L],T=s[L];if(!H||!T||0===Object.keys(T).length)continue;x.update(T,H,this.imageAtlas&&this.imageAtlas.patternPositions||{});const A=f&&f.style&&f.style.getLayer(v);A&&(this.queryPadding=Math.max(this.queryPadding,A.queryRadius(x)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<_.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=_.h.now()+s}setDependencies(s,f){const m={};for(const v of f)m[v]=!0;this.dependencies[s]=m}hasDependency(s,f){for(const m of s){const v=this.dependencies[m];if(v)for(const x of f)if(v[x])return!0}return!1}}class ga{constructor(s,f){this.max=s,this.onRemove=f,this.reset()}reset(){for(const s in this.data)for(const f of this.data[s])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(s,f,m){const v=s.wrapped().key;void 0===this.data[v]&&(this.data[v]=[]);const x={value:f,timeout:void 0};if(void 0!==m&&(x.timeout=setTimeout(()=>{this.remove(s,x)},m)),this.data[v].push(x),this.order.push(v),this.order.length>this.max){const L=this._getAndRemoveByKey(this.order[0]);L&&this.onRemove(L)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){const f=this.data[s].shift();return f.timeout&&clearTimeout(f.timeout),0===this.data[s].length&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),f.value}getByKey(s){const f=this.data[s];return f?f[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,f){if(!this.has(s))return this;const m=s.wrapped().key,v=void 0===f?0:this.data[m].indexOf(f),x=this.data[m][v];return this.data[m].splice(v,1),x.timeout&&clearTimeout(x.timeout),0===this.data[m].length&&delete this.data[m],this.onRemove(x.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(s){const f=[];for(const m in this.data)for(const v of this.data[m])s(v.value)||f.push(v);for(const m of f)this.remove(m.value.tileID,m)}}class Fe{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,f,m){const v=String(f);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][v]=this.stateChanges[s][v]||{},_.e(this.stateChanges[s][v],m),null===this.deletedStates[s]){this.deletedStates[s]={};for(const x in this.state[s])x!==v&&(this.deletedStates[s][x]=null)}else if(this.deletedStates[s]&&null===this.deletedStates[s][v]){this.deletedStates[s][v]={};for(const x in this.state[s][v])m[x]||(this.deletedStates[s][v][x]=null)}else for(const x in m)this.deletedStates[s]&&this.deletedStates[s][v]&&null===this.deletedStates[s][v][x]&&delete this.deletedStates[s][v][x]}removeFeatureState(s,f,m){if(null===this.deletedStates[s])return;const v=String(f);if(this.deletedStates[s]=this.deletedStates[s]||{},m&&void 0!==f)null!==this.deletedStates[s][v]&&(this.deletedStates[s][v]=this.deletedStates[s][v]||{},this.deletedStates[s][v][m]=null);else if(void 0!==f)if(this.stateChanges[s]&&this.stateChanges[s][v])for(m in this.deletedStates[s][v]={},this.stateChanges[s][v])this.deletedStates[s][v][m]=null;else this.deletedStates[s][v]=null;else this.deletedStates[s]=null}getState(s,f){const m=String(f),v=_.e({},(this.state[s]||{})[m],(this.stateChanges[s]||{})[m]);if(null===this.deletedStates[s])return{};if(this.deletedStates[s]){const x=this.deletedStates[s][f];if(null===x)return{};for(const L in x)delete v[L]}return v}initializeTileState(s,f){s.setFeatureState(this.state,f)}coalesceChanges(s,f){const m={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const x={};for(const L in this.stateChanges[v])this.state[v][L]||(this.state[v][L]={}),_.e(this.state[v][L],this.stateChanges[v][L]),x[L]=this.state[v][L];m[v]=x}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const x={};if(null===this.deletedStates[v])for(const L in this.state[v])x[L]={},this.state[v][L]={};else for(const L in this.deletedStates[v]){if(null===this.deletedStates[v][L])this.state[v][L]={};else for(const H of Object.keys(this.deletedStates[v][L]))delete this.state[v][L][H];x[L]=this.state[v][L]}m[v]=m[v]||{},_.e(m[v],x)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(m).length)for(const v in s)s[v].setFeatureState(m,f)}}class ti extends _.E{constructor(s,f,m){super(),this.id=s,this.dispatcher=m,this.on("data",v=>{"source"===v.dataType&&"metadata"===v.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===v.dataType&&"content"===v.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,x,L,H)=>{const T=new(Ni(x.type))(v,x,L,H);if(T.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${T.id}`);return T})(s,f,m,this),this._tiles={},this._cache=new ga(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Fe,this._didEmitContent=!1,this._updated=!1}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._maxTileCacheZoomLevels=s?s._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(s)}onRemove(s){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(s)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const s in this._tiles){const f=this._tiles[s];if("loaded"!==f.state&&"errored"!==f.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(s,f){return this._source.loadTile(s,f)}_unloadTile(s){if(this._source.unloadTile)return this._source.unloadTile(s,()=>{})}_abortTile(s){this._source.abortTile&&this._source.abortTile(s,()=>{}),this._source.fire(new _.k("dataabort",{tile:s,coord:s.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const m=this._tiles[f];m.upload(s),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(s=>s.tileID).sort(_i).map(s=>s.key)}getRenderableIds(s){const f=[];for(const m in this._tiles)this._isIdRenderable(m,s)&&f.push(this._tiles[m]);return s?f.sort((m,v)=>{const x=m.tileID,L=v.tileID,H=new _.P(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),T=new _.P(L.canonical.x,L.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-L.overscaledZ||T.y-H.y||T.x-H.x}).map(m=>m.tileID.key):f.map(m=>m.tileID).sort(_i).map(m=>m.key)}hasRenderableParent(s){const f=this.findLoadedParent(s,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(s,f){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(f||!this._tiles[s].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const s in this._tiles)"errored"!==this._tiles[s].state&&this._reloadTile(s,"reloading")}}_reloadTile(s,f){const m=this._tiles[s];m&&("loading"!==m.state&&(m.state=f),this._loadTile(m,this._tileLoaded.bind(this,m,s,f)))}_tileLoaded(s,f,m,v){if(v)return s.state="errored",void(404!==v.status?this._source.fire(new _.j(v,{tile:s})):this.update(this.transform,this.terrain));s.timeAdded=_.h.now(),"expired"===m&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(f,s),"raster-dem"===this.getSource().type&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),s.aborted||this._source.fire(new _.k("data",{dataType:"source",tile:s,coord:s.tileID}))}_backfillDEM(s){const f=this.getRenderableIds();for(let v=0;v<f.length;v++){const x=f[v];if(s.neighboringTiles&&s.neighboringTiles[x]){const L=this.getTileByID(x);m(s,L),m(L,s)}}function m(v,x){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let L=x.tileID.canonical.x-v.tileID.canonical.x;const H=x.tileID.canonical.y-v.tileID.canonical.y,T=Math.pow(2,v.tileID.canonical.z),A=x.tileID.key;0===L&&0===H||Math.abs(H)>1||(Math.abs(L)>1&&(1===Math.abs(L+T)?L+=T:1===Math.abs(L-T)&&(L-=T)),x.dem&&v.dem&&(v.dem.backfillBorder(x.dem,L,H),v.neighboringTiles&&v.neighboringTiles[A]&&(v.neighboringTiles[A].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,f,m,v){for(const x in this._tiles){let L=this._tiles[x];if(v[x]||!L.hasData()||L.tileID.overscaledZ<=f||L.tileID.overscaledZ>m)continue;let H=L.tileID;for(;L&&L.tileID.overscaledZ>f+1;){const A=L.tileID.scaledTo(L.tileID.overscaledZ-1);L=this._tiles[A.key],L&&L.hasData()&&(H=A)}let T=H;for(;T.overscaledZ>f;)if(T=T.scaledTo(T.overscaledZ-1),s[T.key]){v[H.key]=H;break}}}findLoadedParent(s,f){if(s.key in this._loadedParentTiles){const m=this._loadedParentTiles[s.key];return m&&m.tileID.overscaledZ>=f?m:null}for(let m=s.overscaledZ-1;m>=f;m--){const v=s.scaledTo(m),x=this._getLoadedTile(v);if(x)return x}}_getLoadedTile(s){const f=this._tiles[s.key];return f&&f.hasData()?f:this._cache.getByKey(s.wrapped().key)}updateCacheSize(s){const f=Math.ceil(s.width/this._source.tileSize)+1,m=Math.ceil(s.height/this._source.tileSize)+1,v=Math.floor(f*m*(null===this._maxTileCacheZoomLevels?_.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),x="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(x)}handleWrapJump(s){const f=Math.round((s-(void 0===this._prevLng?s:this._prevLng))/360);if(this._prevLng=s,f){const m={};for(const v in this._tiles){const x=this._tiles[v];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+f),m[x.tileID.key]=x}this._tiles=m;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}update(s,f){if(this.transform=s,this.terrain=f,!this._sourceLoaded||this._paused)return;let m;this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=s.getVisibleUnwrappedCoordinates(this._source.tileID).map(N=>new _.O(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y)):(m=s.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f}),this._source.hasTile&&(m=m.filter(N=>this._source.hasTile(N)))):m=[];const v=s.coveringZoomLevel(this._source),x=Math.max(v-ti.maxOverzooming,this._source.minzoom),L=Math.max(v+ti.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const N={};for(const O of m)if(O.canonical.z>this._source.minzoom){const W=O.scaledTo(O.canonical.z-1);N[W.key]=W;const ne=O.scaledTo(Math.max(this._source.minzoom,Math.min(O.canonical.z,5)));N[ne.key]=ne}m=m.concat(Object.values(N))}const H=0===m.length&&!this._updated&&this._didEmitContent;this._updated=!0,H&&this.fire(new _.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const T=this._updateRetainedTiles(m,v);if(Et(this._source.type)){const N={},O={},W=Object.keys(T),ne=_.h.now();for(const te of W){const ae=T[te],Q=this._tiles[te];if(!Q||0!==Q.fadeEndTime&&Q.fadeEndTime<=ne)continue;const ye=this.findLoadedParent(ae,x);ye&&(this._addTile(ye.tileID),N[ye.tileID.key]=ye.tileID),O[te]=ae}this._retainLoadedChildren(O,v,L,T);for(const te in N)T[te]||(this._coveredTiles[te]=!0,T[te]=N[te]);if(f){const te={},ae={};for(const Q of m)this._tiles[Q.key].hasData()?te[Q.key]=Q:ae[Q.key]=Q;for(const Q in ae){const ye=ae[Q].children(this._source.maxzoom);this._tiles[ye[0].key]&&this._tiles[ye[1].key]&&this._tiles[ye[2].key]&&this._tiles[ye[3].key]&&(te[ye[0].key]=T[ye[0].key]=ye[0],te[ye[1].key]=T[ye[1].key]=ye[1],te[ye[2].key]=T[ye[2].key]=ye[2],te[ye[3].key]=T[ye[3].key]=ye[3],delete ae[Q])}for(const Q in ae){const ye=this.findLoadedParent(ae[Q],this._source.minzoom);if(ye){te[ye.tileID.key]=T[ye.tileID.key]=ye.tileID;for(const Pe in te)te[Pe].isChildOf(ye.tileID)&&delete te[Pe]}}for(const Q in this._tiles)te[Q]||(this._coveredTiles[Q]=!0)}}for(const N in T)this._tiles[N].clearFadeHold();const A=_.ab(this._tiles,T);for(const N of A){const O=this._tiles[N];O.hasSymbolBuckets&&!O.holdingForFade()?O.setHoldDuration(this.map._fadeDuration):O.hasSymbolBuckets&&!O.symbolFadeFinished()||this._removeTile(N)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(s)}_updateRetainedTiles(s,f){const m={},v={},x=Math.max(f-ti.maxOverzooming,this._source.minzoom),L=Math.max(f+ti.maxUnderzooming,this._source.minzoom),H={};for(const T of s){const A=this._addTile(T);m[T.key]=T,A.hasData()||f<this._source.maxzoom&&(H[T.key]=T)}this._retainLoadedChildren(H,f,L,m);for(const T of s){let A=this._tiles[T.key];if(A.hasData())continue;if(f+1>this._source.maxzoom){const O=T.children(this._source.maxzoom)[0],W=this.getTile(O);if(W&&W.hasData()){m[O.key]=O;continue}}else{const O=T.children(this._source.maxzoom);if(m[O[0].key]&&m[O[1].key]&&m[O[2].key]&&m[O[3].key])continue}let N=A.wasRequested();for(let O=T.overscaledZ-1;O>=x;--O){const W=T.scaledTo(O);if(v[W.key])break;if(v[W.key]=!0,A=this.getTile(W),!A&&N&&(A=this._addTile(W)),A){const ne=A.hasData();if((N||ne)&&(m[W.key]=W),N=A.wasRequested(),ne)break}}}return m}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const s in this._tiles){const f=[];let m,v=this._tiles[s].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){m=this._loadedParentTiles[v.key];break}f.push(v.key);const x=v.scaledTo(v.overscaledZ-1);if(m=this._getLoadedTile(x),m)break;v=x}for(const x of f)this._loadedParentTiles[x]=m}}_addTile(s){let f=this._tiles[s.key];if(f)return f;f=this._cache.getAndRemove(s),f&&(this._setTileReloadTimer(s.key,f),f.tileID=s,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,f)));const m=f;return f||(f=new L3(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(f,this._tileLoaded.bind(this,f,s.key,f.state))),f.uses++,this._tiles[s.key]=f,m||this._source.fire(new _.k("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(s,f){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);const m=f.getExpiryTimeout();m&&(this._timers[s]=setTimeout(()=>{this._reloadTile(s,"expired"),delete this._timers[s]},m))}_removeTile(s){const f=this._tiles[s];f&&(f.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),f.uses>0||(f.hasData()&&"reloading"!==f.state?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const s in this._tiles)this._removeTile(s);this._cache.reset()}tilesIn(s,f,m){const v=[],x=this.transform;if(!x)return v;const L=m?x.getCameraQueryGeometry(s):s,H=s.map(te=>x.pointCoordinate(te,this.terrain)),T=L.map(te=>x.pointCoordinate(te,this.terrain)),A=this.getIds();let N=1/0,O=1/0,W=-1/0,ne=-1/0;for(const te of T)N=Math.min(N,te.x),O=Math.min(O,te.y),W=Math.max(W,te.x),ne=Math.max(ne,te.y);for(let te=0;te<A.length;te++){const ae=this._tiles[A[te]];if(ae.holdingForFade())continue;const Q=ae.tileID,ye=Math.pow(2,x.zoom-ae.tileID.overscaledZ),Pe=f*ae.queryPadding*_.N/ae.tileSize/ye,le=[Q.getTilePoint(new _.U(N,O)),Q.getTilePoint(new _.U(W,ne))];if(le[0].x-Pe<_.N&&le[0].y-Pe<_.N&&le[1].x+Pe>=0&&le[1].y+Pe>=0){const Ce=H.map(Ie=>Q.getTilePoint(Ie)),ke=T.map(Ie=>Q.getTilePoint(Ie));v.push({tile:ae,tileID:Q,queryGeometry:Ce,cameraQueryGeometry:ke,scale:ye})}}return v}getVisibleCoordinates(s){const f=this.getRenderableIds(s).map(m=>this._tiles[m].tileID);for(const m of f)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return f}hasTransition(){if(this._source.hasTransition())return!0;if(Et(this._source.type)){const s=_.h.now();for(const f in this._tiles)if(this._tiles[f].fadeEndTime>=s)return!0}return!1}setFeatureState(s,f,m){this._state.updateState(s=s||"_geojsonTileLayer",f,m)}removeFeatureState(s,f,m){this._state.removeFeatureState(s=s||"_geojsonTileLayer",f,m)}getFeatureState(s,f){return this._state.getState(s=s||"_geojsonTileLayer",f)}setDependencies(s,f,m){const v=this._tiles[s];v&&v.setDependencies(f,m)}reloadTilesForDependencies(s,f){for(const m in this._tiles)this._tiles[m].hasDependency(s,f)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(s,f))}}function _i(C,s){const f=Math.abs(2*C.wrap)-+(C.wrap<0),m=Math.abs(2*s.wrap)-+(s.wrap<0);return C.overscaledZ-s.overscaledZ||m-f||s.canonical.y-C.canonical.y||s.canonical.x-C.canonical.x}function Et(C){return"raster"===C||"image"===C||"video"===C}ti.maxOverzooming=10,ti.maxUnderzooming=3;const vt="mapboxgl_preloaded_worker_pool";class Ci{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<Ci.workerCount;)this.workers.push(new Worker(_.c.WORKER_URL));return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],0===this.numActive()&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[vt]}numActive(){return Object.keys(this.active).length}}const va=Math.floor(_.h.hardwareConcurrency/2);let Oi;function Ja(){return Oi||(Oi=new Ci),Oi}Ci.workerCount=_.ac(globalThis)?Math.max(Math.min(va,3),1):1;class ya{constructor(s,f){this.reset(s,f)}reset(s,f){this.points=s||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(1===this.points.length)return this.points[0];s=_.ad(s,0,1);let f=1,m=this._distances[f];const v=s*this.paddedLength+this.padding;for(;m<v&&f<this._distances.length;)m=this._distances[++f];const x=f-1,L=this._distances[x],H=m-L,T=H>0?(v-L)/H:0;return this.points[x].mult(1-T).add(this.points[f].mult(T))}}function Jr(C,s){let f=!0;return"always"===C||"never"!==C&&"never"!==s||(f=!1),f}class H3{constructor(s,f,m){const v=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(s/m),this.yCellCount=Math.ceil(f/m);for(let L=0;L<this.xCellCount*this.yCellCount;L++)v.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=f,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,f,m,v,x){this._forEachCell(f,m,v,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(x)}insertCircle(s,f,m,v){this._forEachCell(f-v,m-v,f+v,m+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(f),this.circles.push(m),this.circles.push(v)}_insertBoxCell(s,f,m,v,x,L){this.boxCells[x].push(L)}_insertCircleCell(s,f,m,v,x,L){this.circleCells[x].push(L)}_query(s,f,m,v,x,L,H){if(m<0||s>this.width||v<0||f>this.height)return[];const T=[];if(s<=0&&f<=0&&this.width<=m&&this.height<=v){if(x)return[{key:null,x1:s,y1:f,x2:m,y2:v}];for(let A=0;A<this.boxKeys.length;A++)T.push({key:this.boxKeys[A],x1:this.bboxes[4*A],y1:this.bboxes[4*A+1],x2:this.bboxes[4*A+2],y2:this.bboxes[4*A+3]});for(let A=0;A<this.circleKeys.length;A++){const N=this.circles[3*A],O=this.circles[3*A+1],W=this.circles[3*A+2];T.push({key:this.circleKeys[A],x1:N-W,y1:O-W,x2:N+W,y2:O+W})}}else this._forEachCell(s,f,m,v,this._queryCell,T,{hitTest:x,overlapMode:L,seenUids:{box:{},circle:{}}},H);return T}query(s,f,m,v){return this._query(s,f,m,v,!1,null)}hitTest(s,f,m,v,x,L){return this._query(s,f,m,v,!0,x,L).length>0}hitTestCircle(s,f,m,v,x){const L=s-m,H=s+m,T=f-m,A=f+m;if(H<0||L>this.width||A<0||T>this.height)return!1;const N=[];return this._forEachCell(L,T,H,A,this._queryCellCircle,N,{hitTest:!0,overlapMode:v,circle:{x:s,y:f,radius:m},seenUids:{box:{},circle:{}}},x),N.length>0}_queryCell(s,f,m,v,x,L,H,T){const{seenUids:A,hitTest:N,overlapMode:O}=H,W=this.boxCells[x];if(null!==W){const te=this.bboxes;for(const ae of W)if(!A.box[ae]){A.box[ae]=!0;const Q=4*ae,ye=this.boxKeys[ae];if(s<=te[Q+2]&&f<=te[Q+3]&&m>=te[Q+0]&&v>=te[Q+1]&&(!T||T(ye))&&(!N||!Jr(O,ye.overlapMode))&&(L.push({key:ye,x1:te[Q],y1:te[Q+1],x2:te[Q+2],y2:te[Q+3]}),N))return!0}}const ne=this.circleCells[x];if(null!==ne){const te=this.circles;for(const ae of ne)if(!A.circle[ae]){A.circle[ae]=!0;const Q=3*ae,ye=this.circleKeys[ae];if(this._circleAndRectCollide(te[Q],te[Q+1],te[Q+2],s,f,m,v)&&(!T||T(ye))&&(!N||!Jr(O,ye.overlapMode))){const Pe=te[Q],le=te[Q+1],Ce=te[Q+2];if(L.push({key:ye,x1:Pe-Ce,y1:le-Ce,x2:Pe+Ce,y2:le+Ce}),N)return!0}}}return!1}_queryCellCircle(s,f,m,v,x,L,H,T){const{circle:A,seenUids:N,overlapMode:O}=H,W=this.boxCells[x];if(null!==W){const te=this.bboxes;for(const ae of W)if(!N.box[ae]){N.box[ae]=!0;const Q=4*ae,ye=this.boxKeys[ae];if(this._circleAndRectCollide(A.x,A.y,A.radius,te[Q+0],te[Q+1],te[Q+2],te[Q+3])&&(!T||T(ye))&&!Jr(O,ye.overlapMode))return L.push(!0),!0}}const ne=this.circleCells[x];if(null!==ne){const te=this.circles;for(const ae of ne)if(!N.circle[ae]){N.circle[ae]=!0;const Q=3*ae,ye=this.circleKeys[ae];if(this._circlesCollide(te[Q],te[Q+1],te[Q+2],A.x,A.y,A.radius)&&(!T||T(ye))&&!Jr(O,ye.overlapMode))return L.push(!0),!0}}}_forEachCell(s,f,m,v,x,L,H,T){const A=this._convertToXCellCoord(s),N=this._convertToYCellCoord(f),O=this._convertToXCellCoord(m),W=this._convertToYCellCoord(v);for(let ne=A;ne<=O;ne++)for(let te=N;te<=W;te++)if(x.call(this,s,f,m,v,this.xCellCount*te+ne,L,H,T))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,f,m,v,x,L){const H=v-s,T=x-f,A=m+L;return A*A>H*H+T*T}_circleAndRectCollide(s,f,m,v,x,L,H){const T=(L-v)/2,A=Math.abs(s-(v+T));if(A>T+m)return!1;const N=(H-x)/2,O=Math.abs(f-(x+N));if(O>N+m)return!1;if(A<=T||O<=N)return!0;const W=A-T,ne=O-N;return W*W+ne*ne<=m*m}}function t1(C,s,f,m,v){const x=_.Z();return s?(_.a0(x,x,[1/v,1/v,1]),f||_.ae(x,x,m.angle)):_.a1(x,m.labelPlaneMatrix,C),x}function Ri(C,s,f,m,v){if(s){const x=_.af(C);return _.a0(x,x,[v,v,1]),f||_.ae(x,x,-m.angle),x}return m.glCoordMatrix}function s2(C,s,f){let m;f?(m=[C.x,C.y,f(C.x,C.y),1],_.ag(m,m,s)):(m=[C.x,C.y,0,1],se(m,m,s));const v=m[3];return{point:new _.P(m[0]/v,m[1]/v),signedDistanceFromCamera:v}}function e3(C,s){return.5+C/s*.5}function xr(C,s){const f=C[0]/C[3],m=C[1]/C[3];return f>=-s[0]&&f<=s[0]&&m>=-s[1]&&m<=s[1]}function o1(C,s,f,m,v,x,L,H,T,A){const N=m?C.textSizeData:C.iconSizeData,O=_.ah(N,f.transform.zoom),W=[256/f.width*2+1,256/f.height*2+1],ne=m?C.text.dynamicLayoutVertexArray:C.icon.dynamicLayoutVertexArray;ne.clear();const te=C.lineVertexArray,ae=m?C.text.placedSymbolArray:C.icon.placedSymbolArray,Q=f.transform.width/f.transform.height;let ye=!1;for(let Pe=0;Pe<ae.length;Pe++){const le=ae.get(Pe);if(le.hidden||le.writingMode===_.ai.vertical&&!ye){K(le.numGlyphs,ne);continue}let Ce;if(ye=!1,A?(Ce=[le.anchorX,le.anchorY,A(le.anchorX,le.anchorY),1],_.ag(Ce,Ce,s)):(Ce=[le.anchorX,le.anchorY,0,1],se(Ce,Ce,s)),!xr(Ce,W)){K(le.numGlyphs,ne);continue}const ke=e3(f.transform.cameraToCenterDistance,Ce[3]),Ie=_.aj(N,O,le),Be=L?Ie/ke:Ie*ke,Je=new _.P(le.anchorX,le.anchorY),We=s2(Je,v,A).point,Xe={projections:{},offsets:{}},v1=Vn(le,Be,!1,H,s,v,x,C.glyphOffsetArray,te,ne,We,Je,Xe,Q,T,A);ye=v1.useVertical,(v1.notEnoughRoom||ye||v1.needsFlipping&&Vn(le,Be,!0,H,s,v,x,C.glyphOffsetArray,te,ne,We,Je,Xe,Q,T,A).notEnoughRoom)&&K(le.numGlyphs,ne)}m?C.text.dynamicLayoutVertexBuffer.updateData(ne):C.icon.dynamicLayoutVertexBuffer.updateData(ne)}function nt(C,s,f,m,v,x,L,H,T,A,N,O,W){const ne=H.glyphStartIndex+H.numGlyphs,te=H.lineStartIndex,ae=H.lineStartIndex+H.lineLength,Q=s.getoffsetX(H.glyphStartIndex),ye=s.getoffsetX(ne-1),Pe=$(C*Q,f,m,v,x,L,H.segment,te,ae,T,A,N,O,W);if(!Pe)return null;const le=$(C*ye,f,m,v,x,L,H.segment,te,ae,T,A,N,O,W);return le?{first:Pe,last:le}:null}function U1(C,s,f,m){return C===_.ai.horizontal&&Math.abs(f.y-s.y)>Math.abs(f.x-s.x)*m?{useVertical:!0}:(C===_.ai.vertical?s.y<f.y:s.x>f.x)?{needsFlipping:!0}:null}function Vn(C,s,f,m,v,x,L,H,T,A,N,O,W,ne,te,ae){const Q=s/24,ye=C.lineOffsetX*Q,Pe=C.lineOffsetY*Q;let le;if(C.numGlyphs>1){const Ce=C.glyphStartIndex+C.numGlyphs,ke=C.lineStartIndex,Ie=C.lineStartIndex+C.lineLength,Be=nt(Q,H,ye,Pe,f,N,O,C,T,x,W,te,ae);if(!Be)return{notEnoughRoom:!0};const Je=s2(Be.first.point,L,ae).point,We=s2(Be.last.point,L,ae).point;if(m&&!f){const Xe=U1(C.writingMode,Je,We,ne);if(Xe)return Xe}le=[Be.first];for(let Xe=C.glyphStartIndex+1;Xe<Ce-1;Xe++)le.push($(Q*H.getoffsetX(Xe),ye,Pe,f,N,O,C.segment,ke,Ie,T,x,W,te,ae));le.push(Be.last)}else{if(m&&!f){const ke=s2(O,v,ae).point,Ie=C.lineStartIndex+C.segment+1,Be=new _.P(T.getx(Ie),T.gety(Ie)),Je=s2(Be,v,ae),We=Je.signedDistanceFromCamera>0?Je.point:sr(O,Be,ke,1,v,ae),Xe=U1(C.writingMode,ke,We,ne);if(Xe)return Xe}const Ce=$(Q*H.getoffsetX(C.glyphStartIndex),ye,Pe,f,N,O,C.segment,C.lineStartIndex,C.lineStartIndex+C.lineLength,T,x,W,te,ae);if(!Ce)return{notEnoughRoom:!0};le=[Ce]}for(const Ce of le)_.ak(A,Ce.point,Ce.angle);return{}}function sr(C,s,f,m,v,x){const L=s2(C.add(C.sub(s)._unit()),v,x).point,H=f.sub(L);return f.add(H._mult(m/H.mag()))}function K1(C,s){const{projectionCache:f,lineVertexArray:m,labelPlaneMatrix:v,tileAnchorPoint:x,distanceFromAnchor:L,getElevation:H,previousVertex:T,direction:A,absOffsetX:N}=s;if(f.projections[C])return f.projections[C];const O=new _.P(m.getx(C),m.gety(C)),W=s2(O,v,H);if(W.signedDistanceFromCamera>0)return f.projections[C]=W.point,W.point;const ne=C-A;return sr(0===L?x:new _.P(m.getx(ne),m.gety(ne)),O,T,N-L+1,v,H)}function Mr(C,s,f){return C._unit()._perp()._mult(s*f)}function re(C,s,f,m,v,x,L,H){const{projectionCache:T,direction:A}=H;if(T.offsets[C])return T.offsets[C];const N=f.add(s);if(C+A<m||C+A>=v)return T.offsets[C]=N,N;const O=K1(C+A,H),W=Mr(O.sub(f),L,A),ne=f.add(W),te=O.add(W);return T.offsets[C]=_.al(x,N,ne,te)||N,T.offsets[C]}function $(C,s,f,m,v,x,L,H,T,A,N,O,W,ne){const te=m?C-s:C+s;let ae=te>0?1:-1,Q=0;m&&(ae*=-1,Q=Math.PI),ae<0&&(Q+=Math.PI);let ye,Pe,le=ae>0?H+L:H+L+1,Ce=v,ke=v,Ie=0,Be=0;const Je=Math.abs(te),We=[];let Xe;for(;Ie+Be<=Je;){if(le+=ae,le<H||le>=T)return null;Ie+=Be,ke=Ce,Pe=ye;const s1={projectionCache:O,lineVertexArray:A,labelPlaneMatrix:N,tileAnchorPoint:x,distanceFromAnchor:Ie,getElevation:ne,previousVertex:ke,direction:ae,absOffsetX:Je};if(Ce=K1(le,s1),0===f)We.push(ke),Xe=Ce.sub(ke);else{let I1;const b1=Ce.sub(ke);I1=0===b1.mag()?Mr(K1(le+ae,s1).sub(Ce),f,ae):Mr(b1,f,ae),Pe||(Pe=ke.add(I1)),ye=re(le,I1,Ce,H,T,Pe,f,s1),We.push(Pe),Xe=ye.sub(Pe)}Be=Xe.mag()}const v1=Xe._mult((Je-Ie)/Be)._add(Pe||ke),$1=Q+Math.atan2(Ce.y-ke.y,Ce.x-ke.x);return We.push(v1),{point:v1,angle:W?$1:0,path:We}}const G=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function K(C,s){for(let f=0;f<C;f++){const m=s.length;s.resize(m+4),s.float32.set(G,3*m)}}function se(C,s,f){const m=s[0],v=s[1];return C[0]=f[0]*m+f[4]*v+f[12],C[1]=f[1]*m+f[5]*v+f[13],C[3]=f[3]*m+f[7]*v+f[15],C}const ce=100;class we{constructor(s,f=new H3(s.width+200,s.height+200,25),m=new H3(s.width+200,s.height+200,25)){this.transform=s,this.grid=f,this.ignoredGrid=m,this.pitchfactor=Math.cos(s._pitch)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+ce,this.screenBottomBoundary=s.height+ce,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(s,f,m,v,x,L){const H=this.projectAndGetPerspectiveRatio(v,s.anchorPointX,s.anchorPointY,L),T=m*H.perspectiveRatio,A=s.x1*T+H.point.x,N=s.y1*T+H.point.y,O=s.x2*T+H.point.x,W=s.y2*T+H.point.y;return!this.isInsideGrid(A,N,O,W)||"always"!==f&&this.grid.hitTest(A,N,O,W,f,x)||H.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[A,N,O,W],offscreen:this.isOffscreen(A,N,O,W)}}placeCollisionCircles(s,f,m,v,x,L,H,T,A,N,O,W,ne,te){const ae=[],Q=new _.P(f.anchorX,f.anchorY),ye=s2(Q,L,te),Pe=e3(this.transform.cameraToCenterDistance,ye.signedDistanceFromCamera),le=(N?x/Pe:x*Pe)/_.ap,Ce=s2(Q,H,te).point,ke=nt(le,v,f.lineOffsetX*le,f.lineOffsetY*le,!1,Ce,Q,f,m,H,{projections:{},offsets:{}},!1,te);let Ie=!1,Be=!1,Je=!0;if(ke){const We=.5*W*Pe+ne,Xe=new _.P(-100,-100),v1=new _.P(this.screenRightBoundary,this.screenBottomBoundary),$1=new ya,s1=ke.first,I1=ke.last;let b1=[];for(let Q1=s1.path.length-1;Q1>=1;Q1--)b1.push(s1.path[Q1]);for(let Q1=1;Q1<I1.path.length;Q1++)b1.push(I1.path[Q1]);const zt=2.5*We;if(T){const Q1=b1.map(at=>s2(at,T,te));b1=Q1.some(at=>at.signedDistanceFromCamera<=0)?[]:Q1.map(at=>at.point)}let rt=[];if(b1.length>0){const Q1=b1[0].clone(),at=b1[0].clone();for(let Zt=1;Zt<b1.length;Zt++)Q1.x=Math.min(Q1.x,b1[Zt].x),Q1.y=Math.min(Q1.y,b1[Zt].y),at.x=Math.max(at.x,b1[Zt].x),at.y=Math.max(at.y,b1[Zt].y);rt=Q1.x>=Xe.x&&at.x<=v1.x&&Q1.y>=Xe.y&&at.y<=v1.y?[b1]:at.x<Xe.x||Q1.x>v1.x||at.y<Xe.y||Q1.y>v1.y?[]:_.am([b1],Xe.x,Xe.y,v1.x,v1.y)}for(const Q1 of rt){$1.reset(Q1,.25*We);let at=0;at=$1.length<=.5*We?1:Math.ceil($1.paddedLength/zt)+1;for(let Zt=0;Zt<at;Zt++){const At=Zt/Math.max(at-1,1),G2=$1.lerp(At),E2=G2.x+ce,n2=G2.y+ce;ae.push(E2,n2,We,0);const ln=E2-We,St=n2-We,Gi=E2+We,Dr=n2+We;if(Je=Je&&this.isOffscreen(ln,St,Gi,Dr),Be=Be||this.isInsideGrid(ln,St,Gi,Dr),"always"!==s&&this.grid.hitTestCircle(E2,n2,We,s,O)&&(Ie=!0,!A))return{circles:[],offscreen:!1,collisionDetected:Ie}}}}return{circles:!A&&Ie||!Be||Pe<this.perspectiveRatioCutoff?[]:ae,offscreen:Je,collisionDetected:Ie}}queryRenderedSymbols(s){if(0===s.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const f=[];let m=1/0,v=1/0,x=-1/0,L=-1/0;for(const N of s){const O=new _.P(N.x+ce,N.y+ce);m=Math.min(m,O.x),v=Math.min(v,O.y),x=Math.max(x,O.x),L=Math.max(L,O.y),f.push(O)}const H=this.grid.query(m,v,x,L).concat(this.ignoredGrid.query(m,v,x,L)),T={},A={};for(const N of H){const O=N.key;if(void 0===T[O.bucketInstanceId]&&(T[O.bucketInstanceId]={}),T[O.bucketInstanceId][O.featureIndex])continue;const W=[new _.P(N.x1,N.y1),new _.P(N.x2,N.y1),new _.P(N.x2,N.y2),new _.P(N.x1,N.y2)];_.an(f,W)&&(T[O.bucketInstanceId][O.featureIndex]=!0,void 0===A[O.bucketInstanceId]&&(A[O.bucketInstanceId]=[]),A[O.bucketInstanceId].push(O.featureIndex))}return A}insertCollisionBox(s,f,m,v,x,L){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:x,collisionGroupID:L,overlapMode:f},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,f,m,v,x,L){const H=m?this.ignoredGrid:this.grid,T={bucketInstanceId:v,featureIndex:x,collisionGroupID:L,overlapMode:f};for(let A=0;A<s.length;A+=4)H.insertCircle(T,s[A],s[A+1],s[A+2])}projectAndGetPerspectiveRatio(s,f,m,v){let x;return v?(x=[f,m,v(f,m),1],_.ag(x,x,s)):(x=[f,m,0,1],se(x,x,s)),{point:new _.P((x[0]/x[3]+1)/2*this.transform.width+ce,(-x[1]/x[3]+1)/2*this.transform.height+ce),perspectiveRatio:.5+this.transform.cameraToCenterDistance/x[3]*.5}}isOffscreen(s,f,m,v){return m<ce||s>=this.screenRightBoundary||v<ce||f>this.screenBottomBoundary}isInsideGrid(s,f,m,v){return m>=0&&s<this.gridRightBoundary&&v>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const s=_.ao([]);return _.$(s,s,[-100,-100,0]),s}}function ge(C,s,f){return s*(_.N/(C.tileSize*Math.pow(2,f-C.tileID.overscaledZ)))}class fe{constructor(s,f,m,v){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?f:-f))):v&&m?1:0,this.placed=m}isHidden(){return 0===this.opacity&&!this.placed}}class _e{constructor(s,f,m,v,x){this.text=new fe(s?s.text:null,f,m,x),this.icon=new fe(s?s.icon:null,f,v,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class $e{constructor(s,f,m){this.text=s,this.icon=f,this.skipFade=m}}class je{constructor(){this.invProjMatrix=_.Z(),this.viewportMatrix=_.Z(),this.circles=[]}}class Ge{constructor(s,f,m,v,x){this.bucketInstanceId=s,this.featureIndex=f,this.sourceLayerIndex=m,this.bucketIndex=v,this.tileID=x}}class g1{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){const f=++this.maxGroupID;this.collisionGroups[s]={ID:f,predicate:m=>m.collisionGroupID===f}}return this.collisionGroups[s]}}function R1(C,s,f,m,v){const{horizontalAlign:x,verticalAlign:L}=_.au(C);return new _.P(-(x-.5)*s+m[0]*v,-(L-.5)*f+m[1]*v)}function C1(C,s,f,m,v,x){const{x1:L,x2:H,y1:T,y2:A,anchorPointX:N,anchorPointY:O}=C,W=new _.P(s,f);return m&&W._rotate(v?x:-x),{x1:L+W.x,y1:T+W.y,x2:H+W.x,y2:A+W.y,anchorPointX:N,anchorPointY:O}}class P1{constructor(s,f,m,v,x){this.transform=s.clone(),this.terrain=f,this.collisionIndex=new we(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new g1(v),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(s,f,m,v){const x=m.getBucket(f),L=m.latestFeatureIndex;if(!x||!L||f.id!==x.layerIds[0])return;const H=m.collisionBoxArray,T=x.layers[0].layout,A=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),N=m.tileSize/_.N,O=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),W="map"===T.get("text-pitch-alignment"),ne="map"===T.get("text-rotation-alignment"),te=ge(m,1,this.transform.zoom),ae=t1(O,W,ne,this.transform,te);let Q=null;if(W){const Pe=Ri(O,W,ne,this.transform,te);Q=_.a1([],this.transform.labelPlaneMatrix,Pe)}this.retainedQueryData[x.bucketInstanceId]=new Ge(x.bucketInstanceId,L,x.sourceLayerIndex,x.index,m.tileID);const ye={bucket:x,layout:T,posMatrix:O,textLabelPlaneMatrix:ae,labelToScreenMatrix:Q,scale:A,textPixelRatio:N,holdingForFade:m.holdingForFade(),collisionBoxArray:H,partiallyEvaluatedTextSize:_.ah(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(v)for(const Pe of x.sortKeyRanges){const{sortKey:le,symbolInstanceStart:Ce,symbolInstanceEnd:ke}=Pe;s.push({sortKey:le,symbolInstanceStart:Ce,symbolInstanceEnd:ke,parameters:ye})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:ye})}attemptAnchorPlacement(s,f,m,v,x,L,H,T,A,N,O,W,ne,te,ae,Q){const ye=_.aq[s.textAnchor],Pe=[s.textOffset0,s.textOffset1],le=R1(ye,m,v,Pe,x),Ce=this.collisionIndex.placeCollisionBox(C1(f,le.x,le.y,L,H,this.transform.angle),O,T,A,N.predicate,Q);if((!ae||0!==this.collisionIndex.placeCollisionBox(C1(ae,le.x,le.y,L,H,this.transform.angle),O,T,A,N.predicate,Q).box.length)&&Ce.box.length>0){let ke;if(this.prevPlacement&&this.prevPlacement.variableOffsets[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID]&&this.prevPlacement.placements[W.crossTileID].text&&(ke=this.prevPlacement.variableOffsets[W.crossTileID].anchor),0===W.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[W.crossTileID]={textOffset:Pe,width:m,height:v,anchor:ye,textBoxScale:x,prevAnchor:ke},this.markUsedJustification(ne,ye,W,te),ne.allowVerticalPlacement&&(this.markUsedOrientation(ne,te,W),this.placedOrientations[W.crossTileID]=te),{shift:le,placedGlyphBoxes:Ce}}}placeLayerBucketPart(s,f,m){const{bucket:v,layout:x,posMatrix:L,textLabelPlaneMatrix:H,labelToScreenMatrix:T,textPixelRatio:A,holdingForFade:N,collisionBoxArray:O,partiallyEvaluatedTextSize:W,collisionGroup:ne}=s.parameters,te=x.get("text-optional"),ae=x.get("icon-optional"),Q=_.ar(x,"text-overlap","text-allow-overlap"),ye="always"===Q,Pe=_.ar(x,"icon-overlap","icon-allow-overlap"),le="always"===Pe,Ce="map"===x.get("text-rotation-alignment"),ke="map"===x.get("text-pitch-alignment"),Ie="none"!==x.get("icon-text-fit"),Be="viewport-y"===x.get("symbol-z-order"),Je=ye&&(le||!v.hasIconData()||ae),We=le&&(ye||!v.hasTextData()||te);!v.collisionArrays&&O&&v.deserializeCollisionBoxes(O);const Xe=this.retainedQueryData[v.bucketInstanceId].tileID,v1=this.terrain?(s1,I1)=>this.terrain.getElevation(Xe,s1,I1):null,$1=(s1,I1)=>{var b1,zt;if(f[s1.crossTileID])return;if(N)return void(this.placements[s1.crossTileID]=new $e(!1,!1,!1));let rt=!1,Q1=!1,at=!0,Zt=null,At={box:null,offscreen:null},G2={box:null,offscreen:null},E2=null,n2=null,ln=null,St=0,Gi=0,Dr=0;I1.textFeatureIndex?St=I1.textFeatureIndex:s1.useRuntimeCollisionCircles&&(St=s1.featureIndex),I1.verticalTextFeatureIndex&&(Gi=I1.verticalTextFeatureIndex);const dr=I1.textBox;if(dr){const yn=m2=>{let M2=_.ai.horizontal;if(v.allowVerticalPlacement&&!m2&&this.prevPlacement){const li=this.prevPlacement.placedOrientations[s1.crossTileID];li&&(this.placedOrientations[s1.crossTileID]=li,M2=li,this.markUsedOrientation(v,M2,s1))}return M2},_n=(m2,M2)=>{if(v.allowVerticalPlacement&&s1.numVerticalGlyphVertices>0&&I1.verticalTextBox){for(const li of v.writingModes)if(li===_.ai.vertical?(At=M2(),G2=At):At=m2(),At&&At.box&&At.box.length)break}else At=m2()},Cn=s1.textAnchorOffsetStartIndex,Ir=s1.textAnchorOffsetEndIndex;if(Ir===Cn){const m2=(M2,li)=>{const w2=this.collisionIndex.placeCollisionBox(M2,Q,A,L,ne.predicate,v1);return w2&&w2.box&&w2.box.length&&(this.markUsedOrientation(v,li,s1),this.placedOrientations[s1.crossTileID]=li),w2};_n(()=>m2(dr,_.ai.horizontal),()=>{const M2=I1.verticalTextBox;return v.allowVerticalPlacement&&s1.numVerticalGlyphVertices>0&&M2?m2(M2,_.ai.vertical):{box:null,offscreen:null}}),yn(At&&At.box&&At.box.length)}else{let m2=_.aq[null===(zt=null===(b1=this.prevPlacement)||void 0===b1?void 0:b1.variableOffsets[s1.crossTileID])||void 0===zt?void 0:zt.anchor];const M2=(w2,B3,g4)=>{const Co=w2.x2-w2.x1,Nc=w2.y2-w2.y1,x0=s1.textBoxScale,bo=Ie&&"never"===Pe?B3:null;let Zi={box:[],offscreen:!1},$3="never"===Q?1:2,Wi="never";m2&&$3++;for(let Hi=0;Hi<$3;Hi++){for(let kr=Cn;kr<Ir;kr++){const xo=v.textAnchorOffsets.get(kr);if(m2&&xo.textAnchor!==m2)continue;const Z2=this.attemptAnchorPlacement(xo,w2,Co,Nc,x0,Ce,ke,A,L,ne,Wi,s1,v,g4,bo,v1);if(Z2&&(Zi=Z2.placedGlyphBoxes,Zi&&Zi.box&&Zi.box.length))return rt=!0,Zt=Z2.shift,Zi}m2?m2=null:Wi=Q}return Zi};_n(()=>M2(dr,I1.iconBox,_.ai.horizontal),()=>{const w2=I1.verticalTextBox;return v.allowVerticalPlacement&&!(At&&At.box&&At.box.length)&&s1.numVerticalGlyphVertices>0&&w2?M2(w2,I1.verticalIconBox,_.ai.vertical):{box:null,offscreen:null}}),At&&(rt=At.box,at=At.offscreen);const li=yn(At&&At.box);if(!rt&&this.prevPlacement){const w2=this.prevPlacement.variableOffsets[s1.crossTileID];w2&&(this.variableOffsets[s1.crossTileID]=w2,this.markUsedJustification(v,w2.anchor,s1,li))}}}if(E2=At,rt=E2&&E2.box&&E2.box.length>0,at=E2&&E2.offscreen,s1.useRuntimeCollisionCircles){const yn=v.text.placedSymbolArray.get(s1.centerJustifiedTextSymbolIndex),_n=_.aj(v.textSizeData,W,yn),Cn=x.get("text-padding");n2=this.collisionIndex.placeCollisionCircles(Q,yn,v.lineVertexArray,v.glyphOffsetArray,_n,L,H,T,m,ke,ne.predicate,s1.collisionCircleDiameter,Cn,v1),n2.circles.length&&n2.collisionDetected&&!m&&_.w("Collisions detected, but collision boxes are not shown"),rt=ye||n2.circles.length>0&&!n2.collisionDetected,at=at&&n2.offscreen}if(I1.iconFeatureIndex&&(Dr=I1.iconFeatureIndex),I1.iconBox){const yn=_n=>{const Cn=Ie&&Zt?C1(_n,Zt.x,Zt.y,Ce,ke,this.transform.angle):_n;return this.collisionIndex.placeCollisionBox(Cn,Pe,A,L,ne.predicate,v1)};G2&&G2.box&&G2.box.length&&I1.verticalIconBox?(ln=yn(I1.verticalIconBox),Q1=ln.box.length>0):(ln=yn(I1.iconBox),Q1=ln.box.length>0),at=at&&ln.offscreen}const Pr=te||0===s1.numHorizontalGlyphVertices&&0===s1.numVerticalGlyphVertices,Ar=ae||0===s1.numIconVertices;if(Pr||Ar?Ar?Pr||(Q1=Q1&&rt):rt=Q1&&rt:Q1=rt=Q1&&rt,rt&&E2&&E2.box&&this.collisionIndex.insertCollisionBox(E2.box,Q,x.get("text-ignore-placement"),v.bucketInstanceId,G2&&G2.box&&Gi?Gi:St,ne.ID),Q1&&ln&&this.collisionIndex.insertCollisionBox(ln.box,Pe,x.get("icon-ignore-placement"),v.bucketInstanceId,Dr,ne.ID),n2&&(rt&&this.collisionIndex.insertCollisionCircles(n2.circles,Q,x.get("text-ignore-placement"),v.bucketInstanceId,St,ne.ID),m)){const yn=v.bucketInstanceId;let _n=this.collisionCircleArrays[yn];void 0===_n&&(_n=this.collisionCircleArrays[yn]=new je);for(let Cn=0;Cn<n2.circles.length;Cn+=4)_n.circles.push(n2.circles[Cn+0]),_n.circles.push(n2.circles[Cn+1]),_n.circles.push(n2.circles[Cn+2]),_n.circles.push(n2.collisionDetected?1:0)}if(0===s1.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===v.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[s1.crossTileID]=new $e(rt||Je,Q1||We,at||v.justReloaded),f[s1.crossTileID]=!0};if(Be){if(0!==s.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const s1=v.getSortedSymbolIndexes(this.transform.angle);for(let I1=s1.length-1;I1>=0;--I1){const b1=s1[I1];$1(v.symbolInstances.get(b1),v.collisionArrays[b1])}}else for(let s1=s.symbolInstanceStart;s1<s.symbolInstanceEnd;s1++)$1(v.symbolInstances.get(s1),v.collisionArrays[s1]);if(m&&v.bucketInstanceId in this.collisionCircleArrays){const s1=this.collisionCircleArrays[v.bucketInstanceId];_.as(s1.invProjMatrix,L),s1.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}markUsedJustification(s,f,m,v){let x;x=v===_.ai.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[_.at(f)];const L=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const H of L)H>=0&&(s.text.placedSymbolArray.get(H).crossTileID=x>=0&&H!==x?0:m.crossTileID)}markUsedOrientation(s,f,m){const v=f===_.ai.horizontal||f===_.ai.horizontalOnly?f:0,x=f===_.ai.vertical?f:0,L=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const H of L)s.text.placedSymbolArray.get(H).placedOrientation=v;m.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let m=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const v=f?f.symbolFadeChange(s):1,x=f?f.opacities:{},L=f?f.variableOffsets:{},H=f?f.placedOrientations:{};for(const T in this.placements){const A=this.placements[T],N=x[T];N?(this.opacities[T]=new _e(N,v,A.text,A.icon),m=m||A.text!==N.text.placed||A.icon!==N.icon.placed):(this.opacities[T]=new _e(null,v,A.text,A.icon,A.skipFade),m=m||A.text||A.icon)}for(const T in x){const A=x[T];if(!this.opacities[T]){const N=new _e(A,v,!1,!1);N.isHidden()||(this.opacities[T]=N,m=m||A.text.placed||A.icon.placed)}}for(const T in L)this.variableOffsets[T]||!this.opacities[T]||this.opacities[T].isHidden()||(this.variableOffsets[T]=L[T]);for(const T in H)this.placedOrientations[T]||!this.opacities[T]||this.opacities[T].isHidden()||(this.placedOrientations[T]=H[T]);if(f&&void 0===f.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=s:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:s)}updateLayerOpacities(s,f){const m={};for(const v of f){const x=v.getBucket(s);x&&v.latestFeatureIndex&&s.id===x.layerIds[0]&&this.updateBucketOpacities(x,m,v.collisionBoxArray)}}updateBucketOpacities(s,f,m){s.hasTextData()&&(s.text.opacityVertexArray.clear(),s.text.hasVisibleVertices=!1),s.hasIconData()&&(s.icon.opacityVertexArray.clear(),s.icon.hasVisibleVertices=!1),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();const v=s.layers[0],x=v.layout,L=new _e(null,0,!1,!1,!0),H=x.get("text-allow-overlap"),T=x.get("icon-allow-overlap"),A=v._unevaluatedLayout.hasValue("text-variable-anchor")||v._unevaluatedLayout.hasValue("text-variable-anchor-offset"),N="map"===x.get("text-rotation-alignment"),O="map"===x.get("text-pitch-alignment"),W="none"!==x.get("icon-text-fit"),ne=new _e(null,0,H&&(T||!s.hasIconData()||x.get("icon-optional")),T&&(H||!s.hasTextData()||x.get("text-optional")),!0);!s.collisionArrays&&m&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(m);const te=(ae,Q,ye)=>{for(let Pe=0;Pe<Q/4;Pe++)ae.opacityVertexArray.emplaceBack(ye);ae.hasVisibleVertices=ae.hasVisibleVertices||ye!==Fi};for(let ae=0;ae<s.symbolInstances.length;ae++){const Q=s.symbolInstances.get(ae),{numHorizontalGlyphVertices:ye,numVerticalGlyphVertices:Pe,crossTileID:le}=Q;let Ce=this.opacities[le];f[le]?Ce=L:Ce||(Ce=ne,this.opacities[le]=Ce),f[le]=!0;const ke=Q.numIconVertices>0,Ie=this.placedOrientations[Q.crossTileID],Be=Ie===_.ai.vertical,Je=Ie===_.ai.horizontal||Ie===_.ai.horizontalOnly;if(ye>0||Pe>0){const We=Bt(Ce.text);te(s.text,ye,Be?Fi:We),te(s.text,Pe,Je?Fi:We);const Xe=Ce.text.isHidden();[Q.rightJustifiedTextSymbolIndex,Q.centerJustifiedTextSymbolIndex,Q.leftJustifiedTextSymbolIndex].forEach(s1=>{s1>=0&&(s.text.placedSymbolArray.get(s1).hidden=Xe||Be?1:0)}),Q.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(Q.verticalPlacedTextSymbolIndex).hidden=Xe||Je?1:0);const v1=this.variableOffsets[Q.crossTileID];v1&&this.markUsedJustification(s,v1.anchor,Q,Ie);const $1=this.placedOrientations[Q.crossTileID];$1&&(this.markUsedJustification(s,"left",Q,$1),this.markUsedOrientation(s,$1,Q))}if(ke){const We=Bt(Ce.icon),Xe=!(W&&Q.verticalPlacedIconSymbolIndex&&Be);Q.placedIconSymbolIndex>=0&&(te(s.icon,Q.numIconVertices,Xe?We:Fi),s.icon.placedSymbolArray.get(Q.placedIconSymbolIndex).hidden=Ce.icon.isHidden()),Q.verticalPlacedIconSymbolIndex>=0&&(te(s.icon,Q.numVerticalIconVertices,Xe?Fi:We),s.icon.placedSymbolArray.get(Q.verticalPlacedIconSymbolIndex).hidden=Ce.icon.isHidden())}if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){const We=s.collisionArrays[ae];if(We){let Xe=new _.P(0,0);if(We.textBox||We.verticalTextBox){let $1=!0;if(A){const s1=this.variableOffsets[le];s1?(Xe=R1(s1.anchor,s1.width,s1.height,s1.textOffset,s1.textBoxScale),N&&Xe._rotate(O?this.transform.angle:-this.transform.angle)):$1=!1}We.textBox&&q1(s.textCollisionBox.collisionVertexArray,Ce.text.placed,!$1||Be,Xe.x,Xe.y),We.verticalTextBox&&q1(s.textCollisionBox.collisionVertexArray,Ce.text.placed,!$1||Je,Xe.x,Xe.y)}const v1=!(Je||!We.verticalIconBox);We.iconBox&&q1(s.iconCollisionBox.collisionVertexArray,Ce.icon.placed,v1,W?Xe.x:0,W?Xe.y:0),We.verticalIconBox&&q1(s.iconCollisionBox.collisionVertexArray,Ce.icon.placed,!v1,W?Xe.x:0,W?Xe.y:0)}}}if(s.sortFeatures(this.transform.angle),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.text.opacityVertexArray.length!==s.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);if(s.icon.opacityVertexArray.length!==s.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);if(s.bucketInstanceId in this.collisionCircleArrays){const ae=this.collisionCircleArrays[s.bucketInstanceId];s.placementInvProjMatrix=ae.invProjMatrix,s.placementViewportMatrix=ae.viewportMatrix,s.collisionCircleArray=ae.circles,delete this.collisionCircleArrays[s.bucketInstanceId]}}symbolFadeChange(s){return 0===this.fadeDuration?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,f){const m=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*m>s}setStale(){this.stale=!0}}function q1(C,s,f,m,v){C.emplaceBack(s?1:0,f?1:0,m||0,v||0),C.emplaceBack(s?1:0,f?1:0,m||0,v||0),C.emplaceBack(s?1:0,f?1:0,m||0,v||0),C.emplaceBack(s?1:0,f?1:0,m||0,v||0)}const Ct=Math.pow(2,25),Tt=Math.pow(2,24),pt=Math.pow(2,17),J1=Math.pow(2,16),dn=Math.pow(2,9),it=Math.pow(2,8),Gt=Math.pow(2,1);function Bt(C){if(0===C.opacity&&!C.placed)return 0;if(1===C.opacity&&C.placed)return 4294967295;const s=C.placed?1:0,f=Math.floor(127*C.opacity);return f*Ct+s*Tt+f*pt+s*J1+f*dn+s*it+f*Gt+s}const Fi=0;class yc{constructor(s){this._sortAcrossTiles="viewport-y"!==s.layout.get("symbol-z-order")&&!s.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(s,f,m,v,x){const L=this._bucketParts;for(;this._currentTileIndex<s.length;)if(f.getBucketParts(L,v,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,L.sort((H,T)=>H.sortKey-T.sortKey));this._currentPartIndex<L.length;)if(f.placeLayerBucketPart(L[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,x())return!0;return!1}}class _a{constructor(s,f,m,v,x,L,H,T){this.placement=new P1(s,f,L,H,T),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(s,f,m){const v=_.h.now(),x=()=>!this._forceFullPlacement&&_.h.now()-v>2;for(;this._currentPlacementIndex>=0;){const L=f[s[this._currentPlacementIndex]],H=this.placement.collisionIndex.transform.zoom;if("symbol"===L.type&&(!L.minzoom||L.minzoom<=H)&&(!L.maxzoom||L.maxzoom>H)){if(this._inProgressLayer||(this._inProgressLayer=new yc(L)),this._inProgressLayer.continuePlacement(m[L.source],this.placement,this._showCollisionBoxes,L,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}const t3=512/_.N/2;class p0{constructor(s,f,m){this.tileID=s,this.bucketInstanceId=m,this._symbolsByKey={};const v=new Map;for(let x=0;x<f.length;x++){const L=f.get(x),H=L.key,T=v.get(H);T?T.push(L):v.set(H,[L])}for(const[x,L]of v){const H={positions:L.map(T=>({x:Math.floor(T.anchorX*t3),y:Math.floor(T.anchorY*t3)})),crossTileIDs:L.map(T=>T.crossTileID)};if(H.positions.length>128){const T=new _.av(H.positions.length,16,Uint16Array);for(const{x:A,y:N}of H.positions)T.add(A,N);T.finish(),delete H.positions,H.index=T}this._symbolsByKey[x]=H}}getScaledCoordinates(s,f){const{x:m,y:v,z:x}=this.tileID.canonical,{x:L,y:H,z:T}=f.canonical,A=t3/Math.pow(2,T-x),N=(H*_.N+s.anchorY)*A,O=v*_.N*t3;return{x:Math.floor((L*_.N+s.anchorX)*A-m*_.N*t3),y:Math.floor(N-O)}}findMatches(s,f,m){const v=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let x=0;x<s.length;x++){const L=s.get(x);if(L.crossTileID)continue;const H=this._symbolsByKey[L.key];if(!H)continue;const T=this.getScaledCoordinates(L,f);if(H.index){const A=H.index.range(T.x-v,T.y-v,T.x+v,T.y+v).sort();for(const N of A){const O=H.crossTileIDs[N];if(!m[O]){m[O]=!0,L.crossTileID=O;break}}}else if(H.positions)for(let A=0;A<H.positions.length;A++){const N=H.positions[A],O=H.crossTileIDs[A];if(Math.abs(N.x-T.x)<=v&&Math.abs(N.y-T.y)<=v&&!m[O]){m[O]=!0,L.crossTileID=O;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:s})=>s)}}class yt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class eo{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){const f=Math.round((s-this.lng)/360);if(0!==f)for(const m in this.indexes){const v=this.indexes[m],x={};for(const L in v){const H=v[L];H.tileID=H.tileID.unwrapTo(H.tileID.wrap+f),x[H.tileID.key]=H}this.indexes[m]=x}this.lng=s}addBucket(s,f,m){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let x=0;x<f.symbolInstances.length;x++)f.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});const v=this.usedCrossTileIDs[s.overscaledZ];for(const x in this.indexes){const L=this.indexes[x];if(Number(x)>s.overscaledZ)for(const H in L){const T=L[H];T.tileID.isChildOf(s)&&T.findMatches(f.symbolInstances,s,v)}else{const H=L[s.scaledTo(Number(x)).key];H&&H.findMatches(f.symbolInstances,s,v)}}for(let x=0;x<f.symbolInstances.length;x++){const L=f.symbolInstances.get(x);L.crossTileID||(L.crossTileID=m.generate(),v[L.crossTileID]=!0)}return void 0===this.indexes[s.overscaledZ]&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new p0(s,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(s,f){for(const m of f.getCrossTileIDsLists())for(const v of m)delete this.usedCrossTileIDs[s][v]}removeStaleBuckets(s){let f=!1;for(const m in this.indexes){const v=this.indexes[m];for(const x in v)s[v[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,v[x]),delete v[x],f=!0)}return f}}class e4{constructor(){this.layerIndexes={},this.crossTileIDs=new yt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,f,m){let v=this.layerIndexes[s.id];void 0===v&&(v=this.layerIndexes[s.id]=new eo);let x=!1;const L={};v.handleWrapJump(m);for(const H of f){const T=H.getBucket(s);T&&s.id===T.layerIds[0]&&(T.bucketInstanceId||(T.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(H.tileID,T,this.crossTileIDs)&&(x=!0),L[T.bucketInstanceId]=!0)}return v.removeStaleBuckets(L)&&(x=!0),x}pruneUnusedLayers(s){const f={};s.forEach(m=>{f[m]=!0});for(const m in this.layerIndexes)f[m]||delete this.layerIndexes[m]}}const rn=(C,s)=>_.x(C,s&&s.filter(f=>"source.canvas"!==f.identifier)),ni=_.F(_.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),m0=_.F(_.ax,["setCenter","setZoom","setBearing","setPitch"]),bi=_.aw();class an extends _.E{constructor(s,f={}){super(),this.map=s,this.dispatcher=new pa(Ja(),this,s._getMapId()),this.imageManager=new jn,this.imageManager.setEventedParent(this),this.glyphManager=new ki(s._requestManager,f.localIdeographFontFamily),this.lineAtlas=new d2(256,512),this.crossTileSymbolIndex=new e4,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new _.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",_.az());const m=this;this._rtlTextPluginCallback=an.registerForPluginStateChange(v=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(x,L)=>{if(_.aA(x),L&&L.every(H=>H))for(const H in m.sourceCaches){const T=m.sourceCaches[H].getSource().type;"vector"!==T&&"geojson"!==T||m.sourceCaches[H].reload()}})}),this.on("data",v=>{if("source"!==v.dataType||"metadata"!==v.sourceDataType)return;const x=this.sourceCaches[v.sourceId];if(!x)return;const L=x.getSource();if(L&&L.vectorLayerIds)for(const H in this._layers){const T=this._layers[H];T.source===L.id&&this._validateLayer(T)}})}loadURL(s,f={},m){this.fire(new _.k("dataloading",{dataType:"style"})),f.validate="boolean"!=typeof f.validate||f.validate;const v=this.map._requestManager.transformRequest(s,H2.Style);this._request=_.f(v,(x,L)=>{this._request=null,x?this.fire(new _.j(x)):L&&this._load(L,f,m)})}loadJSON(s,f={},m){this.fire(new _.k("dataloading",{dataType:"style"})),this._request=_.h.frame(()=>{this._request=null,f.validate=!1!==f.validate,this._load(s,f,m)})}loadEmpty(){this.fire(new _.k("dataloading",{dataType:"style"})),this._load(bi,{validate:!1})}_load(s,f,m){var v;const x=f.transformStyle?f.transformStyle(m,s):s;if(!f.validate||!rn(this,_.y(x))){this._loaded=!0,this.stylesheet=x;for(const L in x.sources)this.addSource(L,x.sources[L],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new da(this.stylesheet.light),this.map.setTerrain(null!==(v=this.stylesheet.terrain)&&void 0!==v?v:null),this.fire(new _.k("data",{dataType:"style"})),this.fire(new _.k("style.load"))}}_createLayers(){const s=_.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",s),this._order=s.map(f=>f.id),this._layers={},this._serializedLayers=null;for(const f of s){const m=_.aC(f);m.setEventedParent(this,{layer:{id:f.id}}),this._layers[f.id]=m}}_loadSprite(s,f=!1,m=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(v,x,L,H){const T=en(v),A=T.length,N=L>1?"@2x":"",O={},W={},ne={};for(const{id:te,url:ae}of T){const Q=x.transformRequest(x.normalizeSpriteURL(ae,N,".json"),H2.SpriteJSON),ye=`${te}_${Q.url}`;O[ye]=_.f(Q,(Ce,ke)=>{delete O[ye],W[te]=ke,ha(H,W,ne,Ce,A)});const Pe=x.transformRequest(x.normalizeSpriteURL(ae,N,".png"),H2.SpriteImage),le=`${te}_${Pe.url}`;O[le]=Hn.getImage(Pe,(Ce,ke)=>{delete O[le],ne[te]=ke,ha(H,W,ne,Ce,A)})}return{cancel(){for(const te of Object.values(O))te.cancel()}}}(s,this.map._requestManager,this.map.getPixelRatio(),(v,x)=>{if(this._spriteRequest=null,v)this.fire(new _.j(v));else if(x)for(const L in x){this._spritesImagesIds[L]=[];const H=this._spritesImagesIds[L]?this._spritesImagesIds[L].filter(T=>!(T in x)):[];for(const T of H)this.imageManager.removeImage(T),this._changedImages[T]=!0;for(const T in x[L]){const A="default"===L?T:`${L}:${T}`;this._spritesImagesIds[L].push(A),A in this.imageManager.images?this.imageManager.updateImage(A,x[L][T],!1):this.imageManager.addImage(A,x[L][T]),f&&(this._changedImages[A]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.k("data",{dataType:"style"})),m&&m(v)})}_unloadSprite(){for(const s of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(s),this._changedImages[s]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.k("data",{dataType:"style"}))}_validateLayer(s){const f=this.sourceCaches[s.source];if(!f)return;const m=s.sourceLayer;if(!m)return;const v=f.getSource();("geojson"===v.type||v.vectorLayerIds&&-1===v.vectorLayerIds.indexOf(m))&&this.fire(new _.j(new Error(`Source layer "${m}" does not exist on source "${v.id}" as specified by style layer "${s.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const s in this.sourceCaches)if(!this.sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(s){const f=this._serializedAllLayers();if(!s||0===s.length)return Object.values(f);const m=[];for(const v of s)f[v]&&m.push(f[v]);return m}_serializedAllLayers(){let s=this._serializedLayers;if(s)return s;s=this._serializedLayers={};const f=Object.keys(this._layers);for(const m of f){const v=this._layers[m];"custom"!==v.type&&(s[m]=v.serialize())}return s}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const s in this.sourceCaches)if(this.sourceCaches[s].hasTransition())return!0;for(const s in this._layers)if(this._layers[s].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(s){if(!this._loaded)return;const f=this._changed;if(this._changed){const v=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(v.length||x.length)&&this._updateWorkerLayers(v,x);for(const L in this._updatedSources){const H=this._updatedSources[L];if("reload"===H)this._reloadSource(L);else{if("clear"!==H)throw new Error(`Invalid action ${H}`);this._clearSource(L)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const L in this._updatedPaintProps)this._layers[L].updateTransitions(s);this.light.updateTransitions(s),this._resetUpdates()}const m={};for(const v in this.sourceCaches){const x=this.sourceCaches[v];m[v]=x.used,x.used=!1}for(const v of this._order){const x=this._layers[v];x.recalculate(s,this._availableImages),!x.isHidden(s.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const v in m){const x=this.sourceCaches[v];m[v]!==x.used&&x.fire(new _.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(s),this.z=s.zoom,f&&this.fire(new _.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const s=Object.keys(this._changedImages);if(s.length){for(const f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const s in this.sourceCaches)this.sourceCaches[s].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(s,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(s),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(s,f={}){this._checkLoaded();const m=this.serialize();if(s=f.transformStyle?f.transformStyle(m,s):s,rn(this,_.y(s)))return!1;(s=_.aD(s)).layers=_.aB(s.layers);const v=_.aE(m,s).filter(L=>!(L.command in m0));if(0===v.length)return!1;const x=v.filter(L=>!(L.command in ni));if(x.length>0)throw new Error(`Unimplemented: ${x.map(L=>L.command).join(", ")}.`);for(const L of v)"setTransition"!==L.command&&this[L.command].apply(this,L.args);return this.stylesheet=s,this._serializedLayers=null,!0}addImage(s,f){if(this.getImage(s))return this.fire(new _.j(new Error(`An image named "${s}" already exists.`)));this.imageManager.addImage(s,f),this._afterImageUpdated(s)}updateImage(s,f){this.imageManager.updateImage(s,f)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){if(!this.getImage(s))return this.fire(new _.j(new Error(`An image named "${s}" does not exist.`)));this.imageManager.removeImage(s),this._afterImageUpdated(s)}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(s,f,m={}){if(this._checkLoaded(),void 0!==this.sourceCaches[s])throw new Error(`Source "${s}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(_.y.source,`sources.${s}`,f,null,m))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const v=this.sourceCaches[s]=new ti(s,f,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:s})),v.onAdd(this.map),this._changed=!0}removeSource(s){if(this._checkLoaded(),void 0===this.sourceCaches[s])throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===s)return this.fire(new _.j(new Error(`Source "${s}" cannot be removed while layer "${m}" is using it.`)));const f=this.sourceCaches[s];delete this.sourceCaches[s],delete this._updatedSources[s],f.fire(new _.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(s,f){if(this._checkLoaded(),void 0===this.sourceCaches[s])throw new Error(`There is no source with this ID=${s}`);const m=this.sourceCaches[s].getSource();if("geojson"!==m.type)throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(f),this._changed=!0}getSource(s){return this.sourceCaches[s]&&this.sourceCaches[s].getSource()}addLayer(s,f,m={}){this._checkLoaded();const v=s.id;if(this.getLayer(v))return void this.fire(new _.j(new Error(`Layer "${v}" already exists on this map.`)));let x;if("custom"===s.type){if(rn(this,_.aF(s)))return;x=_.aC(s)}else{if("source"in s&&"object"==typeof s.source&&(this.addSource(v,s.source),s=_.aD(s),s=_.e(s,{source:v})),this._validate(_.y.layer,`layers.${v}`,s,{arrayIndex:-1},m))return;x=_.aC(s),this._validateLayer(x),x.setEventedParent(this,{layer:{id:v}})}const L=f?this._order.indexOf(f):this._order.length;if(f&&-1===L)this.fire(new _.j(new Error(`Cannot add layer "${v}" before non-existing layer "${f}".`)));else{if(this._order.splice(L,0,v),this._layerOrderChanged=!0,this._layers[v]=x,this._removedLayers[v]&&x.source&&"custom"!==x.type){const H=this._removedLayers[v];delete this._removedLayers[v],H.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(s,f){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new _.j(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===f)return;const m=this._order.indexOf(s);this._order.splice(m,1);const v=f?this._order.indexOf(f):this._order.length;f&&-1===v?this.fire(new _.j(new Error(`Cannot move layer "${s}" before non-existing layer "${f}".`))):(this._order.splice(v,0,s),this._layerOrderChanged=!0)}removeLayer(s){this._checkLoaded();const f=this._layers[s];if(!f)return void this.fire(new _.j(new Error(`Cannot remove non-existing layer "${s}".`)));f.setEventedParent(null);const m=this._order.indexOf(s);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=f,delete this._layers[s],this._serializedLayers&&delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],f.onRemove&&f.onRemove(this.map)}getLayer(s){return this._layers[s]}getLayersOrder(){return[...this._order]}hasLayer(s){return s in this._layers}setLayerZoomRange(s,f,m){this._checkLoaded();const v=this.getLayer(s);v?v.minzoom===f&&v.maxzoom===m||(null!=f&&(v.minzoom=f),null!=m&&(v.maxzoom=m),this._updateLayer(v)):this.fire(new _.j(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)))}setFilter(s,f,m={}){this._checkLoaded();const v=this.getLayer(s);if(v){if(!_.aG(v.filter,f))return null==f?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(_.y.filter,`layers.${v.id}.filter`,f,null,m)||(v.filter=_.aD(f),this._updateLayer(v)))}else this.fire(new _.j(new Error(`Cannot filter non-existing layer "${s}".`)))}getFilter(s){return _.aD(this.getLayer(s).filter)}setLayoutProperty(s,f,m,v={}){this._checkLoaded();const x=this.getLayer(s);x?_.aG(x.getLayoutProperty(f),m)||(x.setLayoutProperty(f,m,v),this._updateLayer(x)):this.fire(new _.j(new Error(`Cannot style non-existing layer "${s}".`)))}getLayoutProperty(s,f){const m=this.getLayer(s);if(m)return m.getLayoutProperty(f);this.fire(new _.j(new Error(`Cannot get style of non-existing layer "${s}".`)))}setPaintProperty(s,f,m,v={}){this._checkLoaded();const x=this.getLayer(s);x?_.aG(x.getPaintProperty(f),m)||(x.setPaintProperty(f,m,v)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[s]=!0):this.fire(new _.j(new Error(`Cannot style non-existing layer "${s}".`)))}getPaintProperty(s,f){return this.getLayer(s).getPaintProperty(f)}setFeatureState(s,f){this._checkLoaded();const m=s.source,v=s.sourceLayer,x=this.sourceCaches[m];if(void 0===x)return void this.fire(new _.j(new Error(`The source '${m}' does not exist in the map's style.`)));const L=x.getSource().type;"geojson"===L&&v?this.fire(new _.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==L||v?(void 0===s.id&&this.fire(new _.j(new Error("The feature id parameter must be provided."))),x.setFeatureState(v,s.id,f)):this.fire(new _.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(s,f){this._checkLoaded();const m=s.source,v=this.sourceCaches[m];if(void 0===v)return void this.fire(new _.j(new Error(`The source '${m}' does not exist in the map's style.`)));const x=v.getSource().type,L="vector"===x?s.sourceLayer:void 0;"vector"!==x||L?f&&"string"!=typeof s.id&&"number"!=typeof s.id?this.fire(new _.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(L,s.id,f):this.fire(new _.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(s){this._checkLoaded();const f=s.source,m=s.sourceLayer,v=this.sourceCaches[f];if(void 0!==v)return"vector"!==v.getSource().type||m?(void 0===s.id&&this.fire(new _.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(m,s.id)):void this.fire(new _.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new _.j(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return _.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const s=_.aH(this.sourceCaches,x=>x.serialize()),f=this._serializeByIds(this._order),m=this.map.getTerrain()||void 0,v=this.stylesheet;return _.aI({version:v.version,name:v.name,metadata:v.metadata,light:v.light,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:s,layers:f,terrain:m},x=>void 0!==x)}_updateLayer(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&"raster"!==this.sourceCaches[s.source].getSource().type&&(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(s){const f=L=>"fill-extrusion"===this._layers[L].type,m={},v=[];for(let L=this._order.length-1;L>=0;L--){const H=this._order[L];if(f(H)){m[H]=L;for(const T of s){const A=T[H];if(A)for(const N of A)v.push(N)}}}v.sort((L,H)=>H.intersectionZ-L.intersectionZ);const x=[];for(let L=this._order.length-1;L>=0;L--){const H=this._order[L];if(f(H))for(let T=v.length-1;T>=0;T--){const A=v[T].feature;if(m[A.layer.id]<L)break;x.push(A),v.pop()}else for(const T of s){const A=T[H];if(A)for(const N of A)x.push(N.feature)}}return x}queryRenderedFeatures(s,f,m){f&&f.filter&&this._validate(_.y.filter,"queryRenderedFeatures.filter",f.filter,null,f);const v={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new _.j(new Error("parameters.layers must be an Array."))),[];for(const H of f.layers){const T=this._layers[H];if(!T)return this.fire(new _.j(new Error(`The layer '${H}' does not exist in the map's style and cannot be queried for features.`))),[];v[T.source]=!0}}const x=[];f.availableImages=this._availableImages;const L=this._serializedAllLayers();for(const H in this.sourceCaches)f.layers&&!v[H]||x.push(S3(this.sourceCaches[H],this._layers,L,s,f,m));return this.placement&&x.push(function(H,T,A,N,O,W,ne){const te={},ae=W.queryRenderedSymbols(N),Q=[];for(const ye of Object.keys(ae).map(Number))Q.push(ne[ye]);Q.sort(Qr);for(const ye of Q){const Pe=ye.featureIndex.lookupSymbolFeatures(ae[ye.bucketInstanceId],T,ye.bucketIndex,ye.sourceLayerIndex,O.filter,O.layers,O.availableImages,H);for(const le in Pe){const Ce=te[le]=te[le]||[],ke=Pe[le];ke.sort((Ie,Be)=>{const Je=ye.featureSortOrder;if(Je){const We=Je.indexOf(Ie.featureIndex);return Je.indexOf(Be.featureIndex)-We}return Be.featureIndex-Ie.featureIndex});for(const Ie of ke)Ce.push(Ie)}}for(const ye in te)te[ye].forEach(Pe=>{const le=Pe.feature,Ce=A[H[ye].source].getFeatureState(le.layer["source-layer"],le.id);le.source=le.layer.source,le.layer["source-layer"]&&(le.sourceLayer=le.layer["source-layer"]),le.state=Ce});return te}(this._layers,L,this.sourceCaches,s,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(s,f){f&&f.filter&&this._validate(_.y.filter,"querySourceFeatures.filter",f.filter,null,f);const m=this.sourceCaches[s];return m?function(v,x){const L=v.getRenderableIds().map(A=>v.getTileByID(A)),H=[],T={};for(let A=0;A<L.length;A++){const N=L[A],O=N.tileID.canonical.key;T[O]||(T[O]=!0,N.querySourceFeatures(H,x))}return H}(m,f):[]}addSourceType(s,f,m){return Ni(s)?m(new Error(`A source type called "${s}" already exists.`)):(Qa[s]=f,f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:s,url:f.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(s,f={}){this._checkLoaded();const m=this.light.getLight();let v=!1;for(const L in s)if(!_.aG(s[L],m[L])){v=!0;break}if(!v)return;const x={now:_.h.now(),transition:_.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,f),this.light.updateTransitions(x)}_validate(s,f,m,v,x={}){return(!x||!1!==x.validate)&&rn(this,s.call(_.y,_.e({key:f,style:this.serialize(),value:m,styleSpec:_.v},v)))}_remove(s=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),_.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this.sourceCaches){const m=this.sourceCaches[f];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(s)}_clearSource(s){this.sourceCaches[s].clearTiles()}_reloadSource(s){this.sourceCaches[s].resume(),this.sourceCaches[s].reload()}_updateSources(s){for(const f in this.sourceCaches)this.sourceCaches[f].update(s,this.map.terrain)}_generateCollisionBoxes(){for(const s in this.sourceCaches)this._reloadSource(s)}_updatePlacement(s,f,m,v,x=!1){let L=!1,H=!1;const T={};for(const A of this._order){const N=this._layers[A];if("symbol"!==N.type)continue;if(!T[N.source]){const W=this.sourceCaches[N.source];T[N.source]=W.getRenderableIds(!0).map(ne=>W.getTileByID(ne)).sort((ne,te)=>te.tileID.overscaledZ-ne.tileID.overscaledZ||(ne.tileID.isLessThan(te.tileID)?-1:1))}const O=this.crossTileSymbolIndex.addLayer(N,T[N.source],s.center.lng);L=L||O}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||0===m)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(_.h.now(),s.zoom))&&(this.pauseablePlacement=new _a(s,this.map.terrain,this._order,x,f,m,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,T),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(_.h.now()),H=!0),L&&this.pauseablePlacement.placement.setStale()),H||L)for(const A of this._order){const N=this._layers[A];"symbol"===N.type&&this.placement.updateLayerOpacities(N,T[N.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(_.h.now())}_releaseSymbolFadeTiles(){for(const s in this.sourceCaches)this.sourceCaches[s].releaseSymbolFadeTiles()}getImages(s,f,m){this.imageManager.getImages(f.icons,m),this._updateTilesForChangedImages();const v=this.sourceCaches[f.source];v&&v.setDependencies(f.tileID.key,f.type,f.icons)}getGlyphs(s,f,m){this.glyphManager.getGlyphs(f.stacks,m);const v=this.sourceCaches[f.source];v&&v.setDependencies(f.tileID.key,f.type,[""])}getResource(s,f,m){return _.m(f,m)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(s,f={}){this._checkLoaded(),s&&this._validate(_.y.glyphs,"glyphs",s,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=s,this.glyphManager.entries={},this.glyphManager.setURL(s))}addSprite(s,f,m={},v){this._checkLoaded();const x=[{id:s,url:f}],L=[...en(this.stylesheet.sprite),...x];this._validate(_.y.sprite,"sprite",L,null,m)||(this.stylesheet.sprite=L,this._loadSprite(x,!0,v))}removeSprite(s){this._checkLoaded();const f=en(this.stylesheet.sprite);if(f.find(m=>m.id===s)){if(this._spritesImagesIds[s])for(const m of this._spritesImagesIds[s])this.imageManager.removeImage(m),this._changedImages[m]=!0;f.splice(f.findIndex(m=>m.id===s),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[s],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.k("data",{dataType:"style"}))}else this.fire(new _.j(new Error(`Sprite "${s}" doesn't exists on this map.`)))}getSprite(){return en(this.stylesheet.sprite)}setSprite(s,f={},m){this._checkLoaded(),s&&this._validate(_.y.sprite,"sprite",s,null,f)||(this.stylesheet.sprite=s,s?this._loadSprite(s,!0,m):(this._unloadSprite(),m&&m(null)))}}an.registerForPluginStateChange=_.aK;var t4=_.Q([{name:"a_pos",type:"Int16",components:2}]),Ca="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Jt={prelude:G1("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:G1("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:G1("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:G1("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:G1("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:G1("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:G1("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:G1("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:G1("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:G1("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:G1("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:G1("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:G1("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:G1("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:G1("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:G1("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:G1("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:G1("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:G1("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:G1("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:G1("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:G1("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:G1("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:G1("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:G1("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:G1("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:G1("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Ca),terrainDepth:G1("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Ca),terrainCoords:G1("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Ca)};function G1(C,s){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=s.match(/attribute ([\w]+) ([\w]+)/g),v=C.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=x?x.concat(v):v,H={};return{fragmentSource:C=C.replace(f,(T,A,N,O,W)=>(H[W]=!0,"define"===A?`\n#ifndef HAS_UNIFORM_u_${W}\nvarying ${N} ${O} ${W};\n#else\nuniform ${N} ${O} u_${W};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${W}\n    ${N} ${O} ${W} = u_${W};\n#endif\n`)),vertexSource:s=s.replace(f,(T,A,N,O,W)=>{const ne="float"===O?"vec2":"vec4",te=W.match(/color/)?"color":ne;return H[W]?"define"===A?`\n#ifndef HAS_UNIFORM_u_${W}\nuniform lowp float u_${W}_t;\nattribute ${N} ${ne} a_${W};\nvarying ${N} ${O} ${W};\n#else\nuniform ${N} ${O} u_${W};\n#endif\n`:"vec4"===te?`\n#ifndef HAS_UNIFORM_u_${W}\n    ${W} = a_${W};\n#else\n    ${N} ${O} ${W} = u_${W};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${W}\n    ${W} = unpack_mix_${te}(a_${W}, u_${W}_t);\n#else\n    ${N} ${O} ${W} = u_${W};\n#endif\n`:"define"===A?`\n#ifndef HAS_UNIFORM_u_${W}\nuniform lowp float u_${W}_t;\nattribute ${N} ${ne} a_${W};\n#else\nuniform ${N} ${O} u_${W};\n#endif\n`:"vec4"===te?`\n#ifndef HAS_UNIFORM_u_${W}\n    ${N} ${O} ${W} = a_${W};\n#else\n    ${N} ${O} ${W} = u_${W};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${W}\n    ${N} ${O} ${W} = unpack_mix_${te}(a_${W}, u_${W}_t);\n#else\n    ${N} ${O} ${W} = u_${W};\n#endif\n`}),staticAttributes:m,staticUniforms:L}}class V3{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(s,f,m,v,x,L,H,T,A){this.context=s;let N=this.boundPaintVertexBuffers.length!==v.length;for(let O=0;!N&&O<v.length;O++)this.boundPaintVertexBuffers[O]!==v[O]&&(N=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==m||N||this.boundIndexBuffer!==x||this.boundVertexOffset!==L||this.boundDynamicVertexBuffer!==H||this.boundDynamicVertexBuffer2!==T||this.boundDynamicVertexBuffer3!==A?this.freshBind(f,m,v,x,L,H,T,A):(s.bindVertexArray.set(this.vao),H&&H.bind(),x&&x.dynamicDraw&&x.bind(),T&&T.bind(),A&&A.bind())}freshBind(s,f,m,v,x,L,H,T){const A=s.numAttributes,N=this.context,O=N.gl;this.vao&&this.destroy(),this.vao=N.createVertexArray(),N.bindVertexArray.set(this.vao),this.boundProgram=s,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=v,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=L,this.boundDynamicVertexBuffer2=H,this.boundDynamicVertexBuffer3=T,f.enableAttributes(O,s);for(const W of m)W.enableAttributes(O,s);L&&L.enableAttributes(O,s),H&&H.enableAttributes(O,s),T&&T.enableAttributes(O,s),f.bind(),f.setVertexAttribPointers(O,s,x);for(const W of m)W.bind(),W.setVertexAttribPointers(O,s,x);L&&(L.bind(),L.setVertexAttribPointers(O,s,x)),v&&v.bind(),H&&(H.bind(),H.setVertexAttribPointers(O,s,x)),T&&(T.bind(),T.setVertexAttribPointers(O,s,x)),N.currentNumAttributes=A}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function _t(C){const s=[];for(let f=0;f<C.length;f++){if(null===C[f])continue;const m=C[f].split(" ");s.push(m.pop())}return s}class Z1{constructor(s,f,m,v,x,L){const H=s.gl;this.program=H.createProgram();const T=_t(f.staticAttributes),A=m?m.getBinderAttributes():[],N=T.concat(A),O=Jt.prelude.staticUniforms?_t(Jt.prelude.staticUniforms):[],W=f.staticUniforms?_t(f.staticUniforms):[],ne=m?m.getBinderUniforms():[],te=O.concat(W).concat(ne),ae=[];for(const Ie of te)ae.indexOf(Ie)<0&&ae.push(Ie);const Q=m?m.defines():[];x&&Q.push("#define OVERDRAW_INSPECTOR;"),L&&Q.push("#define TERRAIN3D;");const ye=Q.concat(Jt.prelude.fragmentSource,f.fragmentSource).join("\n"),Pe=Q.concat(Jt.prelude.vertexSource,f.vertexSource).join("\n"),le=H.createShader(H.FRAGMENT_SHADER);if(H.isContextLost())return void(this.failedToCreate=!0);if(H.shaderSource(le,ye),H.compileShader(le),!H.getShaderParameter(le,H.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${H.getShaderInfoLog(le)}`);H.attachShader(this.program,le);const Ce=H.createShader(H.VERTEX_SHADER);if(H.isContextLost())return void(this.failedToCreate=!0);if(H.shaderSource(Ce,Pe),H.compileShader(Ce),!H.getShaderParameter(Ce,H.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${H.getShaderInfoLog(Ce)}`);H.attachShader(this.program,Ce),this.attributes={};const ke={};this.numAttributes=N.length;for(let Ie=0;Ie<this.numAttributes;Ie++)N[Ie]&&(H.bindAttribLocation(this.program,Ie,N[Ie]),this.attributes[N[Ie]]=Ie);if(H.linkProgram(this.program),!H.getProgramParameter(this.program,H.LINK_STATUS))throw new Error(`Program failed to link: ${H.getProgramInfoLog(this.program)}`);H.deleteShader(Ce),H.deleteShader(le);for(let Ie=0;Ie<ae.length;Ie++){const Be=ae[Ie];if(Be&&!ke[Be]){const Je=H.getUniformLocation(this.program,Be);Je&&(ke[Be]=Je)}}var Ie,Be;this.fixedUniforms=v(s,ke),this.terrainUniforms={u_depth:new _.aL(Ie=s,(Be=ke).u_depth),u_terrain:new _.aL(Ie,Be.u_terrain),u_terrain_dim:new _.aM(Ie,Be.u_terrain_dim),u_terrain_matrix:new _.aN(Ie,Be.u_terrain_matrix),u_terrain_unpack:new _.aO(Ie,Be.u_terrain_unpack),u_terrain_exaggeration:new _.aM(Ie,Be.u_terrain_exaggeration)},this.binderUniforms=m?m.getUniforms(s,ke):[]}draw(s,f,m,v,x,L,H,T,A,N,O,W,ne,te,ae,Q,ye,Pe){const le=s.gl;if(this.failedToCreate)return;if(s.program.set(this.program),s.setDepthMode(m),s.setStencilMode(v),s.setColorMode(x),s.setCullFace(L),T){s.activeTexture.set(le.TEXTURE2),le.bindTexture(le.TEXTURE_2D,T.depthTexture),s.activeTexture.set(le.TEXTURE3),le.bindTexture(le.TEXTURE_2D,T.texture);for(const ke in this.terrainUniforms)this.terrainUniforms[ke].set(T[ke])}for(const ke in this.fixedUniforms)this.fixedUniforms[ke].set(H[ke]);ae&&ae.setUniforms(s,this.binderUniforms,ne,{zoom:te});let Ce=0;switch(f){case le.LINES:Ce=2;break;case le.TRIANGLES:Ce=3;break;case le.LINE_STRIP:Ce=1}for(const ke of W.get()){const Ie=ke.vaos||(ke.vaos={});(Ie[A]||(Ie[A]=new V3)).bind(s,this,N,ae?ae.getPaintVertexBuffers():[],O,ke.vertexOffset,Q,ye,Pe),le.drawElements(f,ke.primitiveLength*Ce,le.UNSIGNED_SHORT,ke.primitiveOffset*Ce*2)}}}function ii(C,s,f){const m=1/ge(f,1,s.transform.tileZoom),v=Math.pow(2,f.tileID.overscaledZ),x=f.tileSize*Math.pow(2,s.transform.tileZoom)/v,L=x*(f.tileID.canonical.x+f.tileID.wrap*v),H=x*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[m,C.fromScale,C.toScale],u_fade:C.t,u_pixel_coord_upper:[L>>16,H>>16],u_pixel_coord_lower:[65535&L,65535&H]}}const n4=(C,s,f,m)=>{const v=s.style.light,x=v.properties.get("position"),L=[x.x,x.y,x.z],H=(A=new _.A(9),_.A!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,A);var A;"viewport"===v.properties.get("anchor")&&function(A,N){var O=Math.sin(N),W=Math.cos(N);A[0]=W,A[1]=O,A[2]=0,A[3]=-O,A[4]=W,A[5]=0,A[6]=0,A[7]=0,A[8]=1}(H,-s.transform.angle),function(A,N,O){var W=N[0],ne=N[1],te=N[2];A[0]=W*O[0]+ne*O[3]+te*O[6],A[1]=W*O[1]+ne*O[4]+te*O[7],A[2]=W*O[2]+ne*O[5]+te*O[8]}(L,L,H);const T=v.properties.get("color");return{u_matrix:C,u_lightpos:L,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[T.r,T.g,T.b],u_vertical_gradient:+f,u_opacity:m}},sn=(C,s,f,m,v,x,L)=>_.e(n4(C,s,f,m),ii(x,s,L),{u_height_factor:-Math.pow(2,v.overscaledZ)/L.tileSize/8}),_c=C=>({u_matrix:C}),to=(C,s,f,m)=>_.e(_c(C),ii(f,s,m)),xt=(C,s)=>({u_matrix:C,u_world:s}),E3=(C,s,f,m,v)=>_.e(to(C,s,f,m),{u_world:v}),$t=(C,s,f,m)=>{const v=C.transform;let x,L;if("map"===m.paint.get("circle-pitch-alignment")){const H=ge(f,1,v.zoom);x=!0,L=[H,H]}else x=!1,L=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+("map"===m.paint.get("circle-pitch-scale")),u_matrix:C.translatePosMatrix(s.posMatrix,f,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:C.pixelRatio,u_extrude_scale:L}},i4=(C,s,f)=>{const m=ge(f,1,s.zoom),v=Math.pow(2,s.zoom-f.tileID.overscaledZ),x=f.tileID.overscaleFactor();return{u_matrix:C,u_camera_to_center_distance:s.cameraToCenterDistance,u_pixels_to_tile_units:m,u_extrude_scale:[s.pixelsToGLUnits[0]/(m*v),s.pixelsToGLUnits[1]/(m*v)],u_overscale_factor:x}},r4=(C,s,f=1)=>({u_matrix:C,u_color:s,u_overlay:0,u_overlay_scale:f}),K4=C=>({u_matrix:C}),Y1=(C,s,f,m)=>({u_matrix:C,u_extrude_scale:ge(s,1,f),u_intensity:m});function a4(C,s){const f=Math.pow(2,s.canonical.z),m=s.canonical.y;return[new _.U(0,m/f).toLngLat().lat,new _.U(0,(m+1)/f).toLngLat().lat]}const s4=(C,s,f,m)=>{const v=C.transform;return{u_matrix:W1(C,s,f,m),u_ratio:1/ge(s,1,v.zoom),u_device_pixel_ratio:C.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},g0=(C,s,f,m,v)=>_.e(s4(C,s,f,v),{u_image:0,u_image_height:m}),Cc=(C,s,f,m,v)=>{const x=C.transform,L=o4(s,x);return{u_matrix:W1(C,s,f,v),u_texsize:s.imageAtlasTexture.size,u_ratio:1/ge(s,1,x.zoom),u_device_pixel_ratio:C.pixelRatio,u_image:0,u_scale:[L,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},qe=(C,s,f,m,v,x)=>{const L=C.lineAtlas,H=o4(s,C.transform),T="round"===f.layout.get("line-cap"),A=L.getDash(m.from,T),N=L.getDash(m.to,T),O=A.width*v.fromScale,W=N.width*v.toScale;return _.e(s4(C,s,f,x),{u_patternscale_a:[H/O,-A.height/2],u_patternscale_b:[H/W,-N.height/2],u_sdfgamma:L.width/(256*Math.min(O,W)*C.pixelRatio)/2,u_image:0,u_tex_y_a:A.y,u_tex_y_b:N.y,u_mix:v.t})};function o4(C,s){return 1/ge(C,1,s.tileZoom)}function W1(C,s,f,m){return C.translatePosMatrix(m?m.posMatrix:s.tileID.posMatrix,s,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const wt=(C,s,f,m,v)=>{return{u_matrix:C,u_tl_parent:s,u_scale_parent:f,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(L=v.paint.get("raster-saturation"),L>0?1-1/(1.001-L):-L),u_contrast_factor:(x=v.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:bc(v.paint.get("raster-hue-rotate"))};var x,L};function bc(C){C*=Math.PI/180;const s=Math.sin(C),f=Math.cos(C);return[(2*f+1)/3,(-Math.sqrt(3)*s-f+1)/3,(Math.sqrt(3)*s-f+1)/3]}const xc=(C,s,f,m,v,x,L,H,T,A)=>{const N=v.transform;return{u_is_size_zoom_constant:+("constant"===C||"source"===C),u_is_size_feature_constant:+("constant"===C||"camera"===C),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:N.cameraToCenterDistance,u_pitch:N.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:N.width/N.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:L,u_coord_matrix:H,u_is_text:+T,u_pitch_with_map:+m,u_texsize:A,u_texture:0}},no=(C,s,f,m,v,x,L,H,T,A,N)=>{const O=v.transform;return _.e(xc(C,s,f,m,v,x,L,H,T,A),{u_gamma_scale:m?Math.cos(O._pitch)*O.cameraToCenterDistance:1,u_device_pixel_ratio:v.pixelRatio,u_is_halo:+N})},wr=(C,s,f,m,v,x,L,H,T,A)=>_.e(no(C,s,f,m,v,x,L,H,!0,T,!0),{u_texsize_icon:A,u_texture_icon:1}),pn=(C,s,f)=>({u_matrix:C,u_opacity:s,u_color:f}),Bi=(C,s,f,m,v,x)=>_.e(function(L,H,T,A){const N=T.imageManager.getPattern(L.from.toString()),O=T.imageManager.getPattern(L.to.toString()),{width:W,height:ne}=T.imageManager.getPixelSize(),te=Math.pow(2,A.tileID.overscaledZ),ae=A.tileSize*Math.pow(2,T.transform.tileZoom)/te,Q=ae*(A.tileID.canonical.x+A.tileID.wrap*te),ye=ae*A.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:N.tl,u_pattern_br_a:N.br,u_pattern_tl_b:O.tl,u_pattern_br_b:O.br,u_texsize:[W,ne],u_mix:H.t,u_pattern_size_a:N.displaySize,u_pattern_size_b:O.displaySize,u_scale_a:H.fromScale,u_scale_b:H.toScale,u_tile_units_to_pixels:1/ge(A,1,T.transform.tileZoom),u_pixel_coord_upper:[Q>>16,ye>>16],u_pixel_coord_lower:[65535&Q,65535&ye]}}(m,x,f,v),{u_matrix:C,u_opacity:s}),Q4={fillExtrusion:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_lightpos:new _.aP(C,s.u_lightpos),u_lightintensity:new _.aM(C,s.u_lightintensity),u_lightcolor:new _.aP(C,s.u_lightcolor),u_vertical_gradient:new _.aM(C,s.u_vertical_gradient),u_opacity:new _.aM(C,s.u_opacity)}),fillExtrusionPattern:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_lightpos:new _.aP(C,s.u_lightpos),u_lightintensity:new _.aM(C,s.u_lightintensity),u_lightcolor:new _.aP(C,s.u_lightcolor),u_vertical_gradient:new _.aM(C,s.u_vertical_gradient),u_height_factor:new _.aM(C,s.u_height_factor),u_image:new _.aL(C,s.u_image),u_texsize:new _.aQ(C,s.u_texsize),u_pixel_coord_upper:new _.aQ(C,s.u_pixel_coord_upper),u_pixel_coord_lower:new _.aQ(C,s.u_pixel_coord_lower),u_scale:new _.aP(C,s.u_scale),u_fade:new _.aM(C,s.u_fade),u_opacity:new _.aM(C,s.u_opacity)}),fill:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix)}),fillPattern:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_image:new _.aL(C,s.u_image),u_texsize:new _.aQ(C,s.u_texsize),u_pixel_coord_upper:new _.aQ(C,s.u_pixel_coord_upper),u_pixel_coord_lower:new _.aQ(C,s.u_pixel_coord_lower),u_scale:new _.aP(C,s.u_scale),u_fade:new _.aM(C,s.u_fade)}),fillOutline:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_world:new _.aQ(C,s.u_world)}),fillOutlinePattern:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_world:new _.aQ(C,s.u_world),u_image:new _.aL(C,s.u_image),u_texsize:new _.aQ(C,s.u_texsize),u_pixel_coord_upper:new _.aQ(C,s.u_pixel_coord_upper),u_pixel_coord_lower:new _.aQ(C,s.u_pixel_coord_lower),u_scale:new _.aP(C,s.u_scale),u_fade:new _.aM(C,s.u_fade)}),circle:(C,s)=>({u_camera_to_center_distance:new _.aM(C,s.u_camera_to_center_distance),u_scale_with_map:new _.aL(C,s.u_scale_with_map),u_pitch_with_map:new _.aL(C,s.u_pitch_with_map),u_extrude_scale:new _.aQ(C,s.u_extrude_scale),u_device_pixel_ratio:new _.aM(C,s.u_device_pixel_ratio),u_matrix:new _.aN(C,s.u_matrix)}),collisionBox:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_camera_to_center_distance:new _.aM(C,s.u_camera_to_center_distance),u_pixels_to_tile_units:new _.aM(C,s.u_pixels_to_tile_units),u_extrude_scale:new _.aQ(C,s.u_extrude_scale),u_overscale_factor:new _.aM(C,s.u_overscale_factor)}),collisionCircle:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_inv_matrix:new _.aN(C,s.u_inv_matrix),u_camera_to_center_distance:new _.aM(C,s.u_camera_to_center_distance),u_viewport_size:new _.aQ(C,s.u_viewport_size)}),debug:(C,s)=>({u_color:new _.aR(C,s.u_color),u_matrix:new _.aN(C,s.u_matrix),u_overlay:new _.aL(C,s.u_overlay),u_overlay_scale:new _.aM(C,s.u_overlay_scale)}),clippingMask:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix)}),heatmap:(C,s)=>({u_extrude_scale:new _.aM(C,s.u_extrude_scale),u_intensity:new _.aM(C,s.u_intensity),u_matrix:new _.aN(C,s.u_matrix)}),heatmapTexture:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_world:new _.aQ(C,s.u_world),u_image:new _.aL(C,s.u_image),u_color_ramp:new _.aL(C,s.u_color_ramp),u_opacity:new _.aM(C,s.u_opacity)}),hillshade:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_image:new _.aL(C,s.u_image),u_latrange:new _.aQ(C,s.u_latrange),u_light:new _.aQ(C,s.u_light),u_shadow:new _.aR(C,s.u_shadow),u_highlight:new _.aR(C,s.u_highlight),u_accent:new _.aR(C,s.u_accent)}),hillshadePrepare:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_image:new _.aL(C,s.u_image),u_dimension:new _.aQ(C,s.u_dimension),u_zoom:new _.aM(C,s.u_zoom),u_unpack:new _.aO(C,s.u_unpack)}),line:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_ratio:new _.aM(C,s.u_ratio),u_device_pixel_ratio:new _.aM(C,s.u_device_pixel_ratio),u_units_to_pixels:new _.aQ(C,s.u_units_to_pixels)}),lineGradient:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_ratio:new _.aM(C,s.u_ratio),u_device_pixel_ratio:new _.aM(C,s.u_device_pixel_ratio),u_units_to_pixels:new _.aQ(C,s.u_units_to_pixels),u_image:new _.aL(C,s.u_image),u_image_height:new _.aM(C,s.u_image_height)}),linePattern:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_texsize:new _.aQ(C,s.u_texsize),u_ratio:new _.aM(C,s.u_ratio),u_device_pixel_ratio:new _.aM(C,s.u_device_pixel_ratio),u_image:new _.aL(C,s.u_image),u_units_to_pixels:new _.aQ(C,s.u_units_to_pixels),u_scale:new _.aP(C,s.u_scale),u_fade:new _.aM(C,s.u_fade)}),lineSDF:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_ratio:new _.aM(C,s.u_ratio),u_device_pixel_ratio:new _.aM(C,s.u_device_pixel_ratio),u_units_to_pixels:new _.aQ(C,s.u_units_to_pixels),u_patternscale_a:new _.aQ(C,s.u_patternscale_a),u_patternscale_b:new _.aQ(C,s.u_patternscale_b),u_sdfgamma:new _.aM(C,s.u_sdfgamma),u_image:new _.aL(C,s.u_image),u_tex_y_a:new _.aM(C,s.u_tex_y_a),u_tex_y_b:new _.aM(C,s.u_tex_y_b),u_mix:new _.aM(C,s.u_mix)}),raster:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_tl_parent:new _.aQ(C,s.u_tl_parent),u_scale_parent:new _.aM(C,s.u_scale_parent),u_buffer_scale:new _.aM(C,s.u_buffer_scale),u_fade_t:new _.aM(C,s.u_fade_t),u_opacity:new _.aM(C,s.u_opacity),u_image0:new _.aL(C,s.u_image0),u_image1:new _.aL(C,s.u_image1),u_brightness_low:new _.aM(C,s.u_brightness_low),u_brightness_high:new _.aM(C,s.u_brightness_high),u_saturation_factor:new _.aM(C,s.u_saturation_factor),u_contrast_factor:new _.aM(C,s.u_contrast_factor),u_spin_weights:new _.aP(C,s.u_spin_weights)}),symbolIcon:(C,s)=>({u_is_size_zoom_constant:new _.aL(C,s.u_is_size_zoom_constant),u_is_size_feature_constant:new _.aL(C,s.u_is_size_feature_constant),u_size_t:new _.aM(C,s.u_size_t),u_size:new _.aM(C,s.u_size),u_camera_to_center_distance:new _.aM(C,s.u_camera_to_center_distance),u_pitch:new _.aM(C,s.u_pitch),u_rotate_symbol:new _.aL(C,s.u_rotate_symbol),u_aspect_ratio:new _.aM(C,s.u_aspect_ratio),u_fade_change:new _.aM(C,s.u_fade_change),u_matrix:new _.aN(C,s.u_matrix),u_label_plane_matrix:new _.aN(C,s.u_label_plane_matrix),u_coord_matrix:new _.aN(C,s.u_coord_matrix),u_is_text:new _.aL(C,s.u_is_text),u_pitch_with_map:new _.aL(C,s.u_pitch_with_map),u_texsize:new _.aQ(C,s.u_texsize),u_texture:new _.aL(C,s.u_texture)}),symbolSDF:(C,s)=>({u_is_size_zoom_constant:new _.aL(C,s.u_is_size_zoom_constant),u_is_size_feature_constant:new _.aL(C,s.u_is_size_feature_constant),u_size_t:new _.aM(C,s.u_size_t),u_size:new _.aM(C,s.u_size),u_camera_to_center_distance:new _.aM(C,s.u_camera_to_center_distance),u_pitch:new _.aM(C,s.u_pitch),u_rotate_symbol:new _.aL(C,s.u_rotate_symbol),u_aspect_ratio:new _.aM(C,s.u_aspect_ratio),u_fade_change:new _.aM(C,s.u_fade_change),u_matrix:new _.aN(C,s.u_matrix),u_label_plane_matrix:new _.aN(C,s.u_label_plane_matrix),u_coord_matrix:new _.aN(C,s.u_coord_matrix),u_is_text:new _.aL(C,s.u_is_text),u_pitch_with_map:new _.aL(C,s.u_pitch_with_map),u_texsize:new _.aQ(C,s.u_texsize),u_texture:new _.aL(C,s.u_texture),u_gamma_scale:new _.aM(C,s.u_gamma_scale),u_device_pixel_ratio:new _.aM(C,s.u_device_pixel_ratio),u_is_halo:new _.aL(C,s.u_is_halo)}),symbolTextAndIcon:(C,s)=>({u_is_size_zoom_constant:new _.aL(C,s.u_is_size_zoom_constant),u_is_size_feature_constant:new _.aL(C,s.u_is_size_feature_constant),u_size_t:new _.aM(C,s.u_size_t),u_size:new _.aM(C,s.u_size),u_camera_to_center_distance:new _.aM(C,s.u_camera_to_center_distance),u_pitch:new _.aM(C,s.u_pitch),u_rotate_symbol:new _.aL(C,s.u_rotate_symbol),u_aspect_ratio:new _.aM(C,s.u_aspect_ratio),u_fade_change:new _.aM(C,s.u_fade_change),u_matrix:new _.aN(C,s.u_matrix),u_label_plane_matrix:new _.aN(C,s.u_label_plane_matrix),u_coord_matrix:new _.aN(C,s.u_coord_matrix),u_is_text:new _.aL(C,s.u_is_text),u_pitch_with_map:new _.aL(C,s.u_pitch_with_map),u_texsize:new _.aQ(C,s.u_texsize),u_texsize_icon:new _.aQ(C,s.u_texsize_icon),u_texture:new _.aL(C,s.u_texture),u_texture_icon:new _.aL(C,s.u_texture_icon),u_gamma_scale:new _.aM(C,s.u_gamma_scale),u_device_pixel_ratio:new _.aM(C,s.u_device_pixel_ratio),u_is_halo:new _.aL(C,s.u_is_halo)}),background:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_opacity:new _.aM(C,s.u_opacity),u_color:new _.aR(C,s.u_color)}),backgroundPattern:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_opacity:new _.aM(C,s.u_opacity),u_image:new _.aL(C,s.u_image),u_pattern_tl_a:new _.aQ(C,s.u_pattern_tl_a),u_pattern_br_a:new _.aQ(C,s.u_pattern_br_a),u_pattern_tl_b:new _.aQ(C,s.u_pattern_tl_b),u_pattern_br_b:new _.aQ(C,s.u_pattern_br_b),u_texsize:new _.aQ(C,s.u_texsize),u_mix:new _.aM(C,s.u_mix),u_pattern_size_a:new _.aQ(C,s.u_pattern_size_a),u_pattern_size_b:new _.aQ(C,s.u_pattern_size_b),u_scale_a:new _.aM(C,s.u_scale_a),u_scale_b:new _.aM(C,s.u_scale_b),u_pixel_coord_upper:new _.aQ(C,s.u_pixel_coord_upper),u_pixel_coord_lower:new _.aQ(C,s.u_pixel_coord_lower),u_tile_units_to_pixels:new _.aM(C,s.u_tile_units_to_pixels)}),terrain:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_texture:new _.aL(C,s.u_texture),u_ele_delta:new _.aM(C,s.u_ele_delta)}),terrainDepth:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_ele_delta:new _.aM(C,s.u_ele_delta)}),terrainCoords:(C,s)=>({u_matrix:new _.aN(C,s.u_matrix),u_texture:new _.aL(C,s.u_texture),u_terrain_coords_id:new _.aM(C,s.u_terrain_coords_id),u_ele_delta:new _.aM(C,s.u_ele_delta)})};class io{constructor(s,f,m){this.context=s;const v=s.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const $i={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class ro{constructor(s,f,m,v){this.length=f.length,this.attributes=m,this.itemSize=f.bytesPerElement,this.dynamicDraw=v,this.context=s;const x=s.gl;this.buffer=x.createBuffer(),s.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){if(s.length!==this.length)throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,f){for(let m=0;m<this.attributes.length;m++){const v=f.attributes[this.attributes[m].name];void 0!==v&&s.enableVertexAttribArray(v)}}setVertexAttribPointers(s,f,m){for(let v=0;v<this.attributes.length;v++){const x=this.attributes[v],L=f.attributes[x.name];void 0!==L&&s.vertexAttribPointer(L,x.components,s[$i[x.type]],!1,this.itemSize,x.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const c4=new WeakMap;function T3(C){var s;if(c4.has(C))return c4.get(C);{const f=null===(s=C.getParameter(C.VERSION))||void 0===s?void 0:s.startsWith("WebGL 2.0");return c4.set(C,f),f}}class ft{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class J4 extends ft{getDefault(){return _.aT.transparent}set(s){const f=this.current;(s.r!==f.r||s.g!==f.g||s.b!==f.b||s.a!==f.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class xi extends ft{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class ri extends ft{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class Mc extends ft{getDefault(){return[!0,!0,!0,!0]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||s[2]!==f[2]||s[3]!==f[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class En extends ft{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class B1 extends ft{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class wc extends ft{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){const f=this.current;(s.func!==f.func||s.ref!==f.ref||s.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class zc extends ft{getDefault(){const s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||s[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class ao extends ft{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=s,this.dirty=!1}}class A1 extends ft{getDefault(){return[0,1]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class Sc extends ft{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=s,this.dirty=!1}}class ai extends ft{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class l4 extends ft{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.BLEND):f.disable(f.BLEND),this.current=s,this.dirty=!1}}class Lc extends ft{getDefault(){const s=this.gl;return[s.ONE,s.ZERO]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class D3 extends ft{getDefault(){return _.aT.transparent}set(s){const f=this.current;(s.r!==f.r||s.g!==f.g||s.b!==f.b||s.a!==f.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class v0 extends ft{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class es extends ft{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=s,this.dirty=!1}}class ts extends ft{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class so extends ft{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}class Hc extends ft{getDefault(){return null}set(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)}}class y0 extends ft{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class ot extends ft{getDefault(){const s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||s[2]!==f[2]||s[3]!==f[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class ba extends ft{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class ns extends ft{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class mn extends ft{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class P3 extends ft{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class _0 extends ft{getDefault(){return null}set(s){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class kt extends ft{getDefault(){return null}set(s){var f;if(s===this.current&&!this.dirty)return;const m=this.gl;T3(m)?m.bindVertexArray(s):null===(f=m.getExtension("OES_vertex_array_object"))||void 0===f||f.bindVertexArrayOES(s),this.current=s,this.dirty=!1}}class Vc extends ft{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class xa extends ft{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class is extends ft{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class or extends ft{constructor(s,f){super(s),this.context=s,this.parent=f}getDefault(){return null}}class A3 extends or{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class rs extends or{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class oo extends or{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class mt{constructor(s,f,m,v,x){this.context=s,this.width=f,this.height=m;const L=s.gl,H=this.framebuffer=L.createFramebuffer();if(this.colorAttachment=new A3(s,H),v)this.depthAttachment=x?new oo(s,H):new rs(s,H);else if(x)throw new Error("Stencil cannot be setted without depth");if(L.checkFramebufferStatus(L.FRAMEBUFFER)!==L.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const s=this.context.gl,f=this.colorAttachment.get();if(f&&s.deleteTexture(f),this.depthAttachment){const m=this.depthAttachment.get();m&&s.deleteRenderbuffer(m)}s.deleteFramebuffer(this.framebuffer)}}class o2{constructor(s,f,m){this.blendFunction=s,this.blendColor=f,this.mask=m}}o2.Replace=[1,0],o2.disabled=new o2(o2.Replace,_.aT.transparent,[!1,!1,!1,!1]),o2.unblended=new o2(o2.Replace,_.aT.transparent,[!0,!0,!0,!0]),o2.alphaBlended=new o2([1,771],_.aT.transparent,[!0,!0,!0,!0]);class Jl{constructor(s){var f,m;if(this.gl=s,this.clearColor=new J4(this),this.clearDepth=new xi(this),this.clearStencil=new ri(this),this.colorMask=new Mc(this),this.depthMask=new En(this),this.stencilMask=new B1(this),this.stencilFunc=new wc(this),this.stencilOp=new zc(this),this.stencilTest=new ao(this),this.depthRange=new A1(this),this.depthTest=new Sc(this),this.depthFunc=new ai(this),this.blend=new l4(this),this.blendFunc=new Lc(this),this.blendColor=new D3(this),this.blendEquation=new v0(this),this.cullFace=new es(this),this.cullFaceSide=new ts(this),this.frontFace=new so(this),this.program=new Hc(this),this.activeTexture=new y0(this),this.viewport=new ot(this),this.bindFramebuffer=new ba(this),this.bindRenderbuffer=new ns(this),this.bindTexture=new mn(this),this.bindVertexBuffer=new P3(this),this.bindElementBuffer=new _0(this),this.bindVertexArray=new kt(this),this.pixelStoreUnpack=new Vc(this),this.pixelStoreUnpackPremultiplyAlpha=new xa(this),this.pixelStoreUnpackFlipY=new is(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),T3(s)){this.HALF_FLOAT=s.HALF_FLOAT;const v=s.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(f=s.RGBA16F)&&void 0!==f?f:v?.RGBA16F_EXT,this.RGB16F=null!==(m=s.RGB16F)&&void 0!==m?m:v?.RGB16F_EXT,s.getExtension("EXT_color_buffer_float")}else{s.getExtension("EXT_color_buffer_half_float"),s.getExtension("OES_texture_half_float_linear");const v=s.getExtension("OES_texture_half_float");this.HALF_FLOAT=v?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,f){return new io(this,s,f)}createVertexBuffer(s,f,m){return new ro(this,s,f,m)}createRenderbuffer(s,f,m){const v=this.gl,x=v.createRenderbuffer();return this.bindRenderbuffer.set(x),v.renderbufferStorage(v.RENDERBUFFER,s,f,m),this.bindRenderbuffer.set(null),x}createFramebuffer(s,f,m,v){return new mt(this,s,f,m,v)}clear({color:s,depth:f,stencil:m}){const v=this.gl;let x=0;s&&(x|=v.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),void 0!==f&&(x|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),void 0!==m&&(x|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),v.clear(x)}setCullFace(s){!1===s.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){_.aG(s.blendFunction,o2.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}createVertexArray(){var s;return T3(this.gl)?this.gl.createVertexArray():null===(s=this.gl.getExtension("OES_vertex_array_object"))||void 0===s?void 0:s.createVertexArrayOES()}deleteVertexArray(s){var f;return T3(this.gl)?this.gl.deleteVertexArray(s):null===(f=this.gl.getExtension("OES_vertex_array_object"))||void 0===f?void 0:f.deleteVertexArrayOES(s)}unbindVAO(){this.bindVertexArray.set(null)}}class ht{constructor(s,f,m){this.func=s,this.mask=f,this.range=m}}ht.ReadOnly=!1,ht.ReadWrite=!0,ht.disabled=new ht(519,ht.ReadOnly,[0,1]);class c2{constructor(s,f,m,v,x,L){this.test=s,this.ref=f,this.mask=m,this.fail=v,this.depthFail=x,this.pass=L}}c2.disabled=new c2({func:519,mask:0},0,0,7680,7680,7680);class Dt{constructor(s,f,m){this.enable=s,this.mode=f,this.frontFace=m}}let I3;function u4(C,s,f,m,v,x,L){const H=C.context,T=H.gl,A=C.useProgram("collisionBox"),N=[];let O=0,W=0;for(let le=0;le<m.length;le++){const Ce=m[le],ke=s.getTile(Ce),Ie=ke.getBucket(f);if(!Ie)continue;let Be=Ce.posMatrix;0===v[0]&&0===v[1]||(Be=C.translatePosMatrix(Ce.posMatrix,ke,v,x));const Je=L?Ie.textCollisionBox:Ie.iconCollisionBox,We=Ie.collisionCircleArray;if(We.length>0){const Xe=_.Z(),v1=Be;_.aU(Xe,Ie.placementInvProjMatrix,C.transform.glCoordMatrix),_.aU(Xe,Xe,Ie.placementViewportMatrix),N.push({circleArray:We,circleOffset:W,transform:v1,invTransform:Xe,coord:Ce}),O+=We.length/4,W=O}Je&&A.draw(H,T.LINES,ht.disabled,c2.disabled,C.colorModeForRenderPass(),Dt.disabled,i4(Be,C.transform,ke),C.style.map.terrain&&C.style.map.terrain.getTerrainData(Ce),f.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,null,C.transform.zoom,null,null,Je.collisionVertexBuffer)}if(!L||!N.length)return;const ne=C.useProgram("collisionCircle"),te=new _.aV;te.resize(4*O),te._trim();let ae=0;for(const le of N)for(let Ce=0;Ce<le.circleArray.length/4;Ce++){const ke=4*Ce,Ie=le.circleArray[ke+0],Be=le.circleArray[ke+1],Je=le.circleArray[ke+2],We=le.circleArray[ke+3];te.emplace(ae++,Ie,Be,Je,We,0),te.emplace(ae++,Ie,Be,Je,We,1),te.emplace(ae++,Ie,Be,Je,We,2),te.emplace(ae++,Ie,Be,Je,We,3)}(!I3||I3.length<2*O)&&(I3=function(le){const Ce=2*le,ke=new _.aX;ke.resize(Ce),ke._trim();for(let Ie=0;Ie<Ce;Ie++){const Be=6*Ie;ke.uint16[Be+0]=4*Ie+0,ke.uint16[Be+1]=4*Ie+1,ke.uint16[Be+2]=4*Ie+2,ke.uint16[Be+3]=4*Ie+2,ke.uint16[Be+4]=4*Ie+3,ke.uint16[Be+5]=4*Ie+0}return ke}(O));const Q=H.createIndexBuffer(I3,!0),ye=H.createVertexBuffer(te,_.aW.members,!0);for(const le of N){const Ce={u_matrix:le.transform,u_inv_matrix:le.invTransform,u_camera_to_center_distance:(Pe=C.transform).cameraToCenterDistance,u_viewport_size:[Pe.width,Pe.height]};ne.draw(H,T.TRIANGLES,ht.disabled,c2.disabled,C.colorModeForRenderPass(),Dt.disabled,Ce,C.style.map.terrain&&C.style.map.terrain.getTerrainData(le.coord),f.id,ye,Q,_.S.simpleSegment(0,2*le.circleOffset,le.circleArray.length,le.circleArray.length/2),null,C.transform.zoom,null,null,null)}var Pe;ye.destroy(),Q.destroy()}Dt.disabled=new Dt(!1,1029,2305),Dt.backCCW=new Dt(!0,1029,2305);const co=_.ao(new Float32Array(16));function as(C,s,f,m,v,x){const{horizontalAlign:L,verticalAlign:H}=_.au(C);return new _.P((-(L-.5)*s/v+m[0])*x,(-(H-.5)*f/v+m[1])*x)}function ss(C,s,f,m,v,x,L,H,T,A,N){const O=C.text.placedSymbolArray,W=C.text.dynamicLayoutVertexArray,ne=C.icon.dynamicLayoutVertexArray,te={};W.clear();for(let ae=0;ae<O.length;ae++){const Q=O.get(ae),ye=Q.hidden||!Q.crossTileID||C.allowVerticalPlacement&&!Q.placedOrientation?null:m[Q.crossTileID];if(ye){const Pe=new _.P(Q.anchorX,Q.anchorY),le=s2(Pe,f?L:x,N),Ce=e3(v.cameraToCenterDistance,le.signedDistanceFromCamera);let ke=_.aj(C.textSizeData,T,Q)*Ce/_.ap;f&&(ke*=C.tilePixelRatio/H);const{width:Ie,height:Be,anchor:Je,textOffset:We,textBoxScale:Xe}=ye,v1=as(Je,Ie,Be,We,Xe,ke),$1=f?s2(Pe.add(v1),x,N).point:le.point.add(s?v1.rotate(-v.angle):v1),s1=C.allowVerticalPlacement&&Q.placedOrientation===_.ai.vertical?Math.PI/2:0;for(let I1=0;I1<Q.numGlyphs;I1++)_.ak(W,$1,s1);A&&Q.associatedIconIndex>=0&&(te[Q.associatedIconIndex]={shiftedAnchor:$1,angle:s1})}else K(Q.numGlyphs,W)}if(A){ne.clear();const ae=C.icon.placedSymbolArray;for(let Q=0;Q<ae.length;Q++){const ye=ae.get(Q);if(ye.hidden)K(ye.numGlyphs,ne);else{const Pe=te[Q];if(Pe)for(let le=0;le<ye.numGlyphs;le++)_.ak(ne,Pe.shiftedAnchor,Pe.angle);else K(ye.numGlyphs,ne)}}C.icon.dynamicLayoutVertexBuffer.updateData(ne)}C.text.dynamicLayoutVertexBuffer.updateData(W)}function os(C,s,f){return f.iconsInText&&s?"symbolTextAndIcon":C?"symbolSDF":"symbolIcon"}function zr(C,s,f,m,v,x,L,H,T,A,N,O){const W=C.context,ne=W.gl,te=C.transform,ae="map"===H,Q="map"===T,ye="viewport"!==H&&"point"!==f.layout.get("symbol-placement"),Pe=ae&&!Q&&!ye,le=!f.layout.get("symbol-sort-key").isConstant();let Ce=!1;const ke=C.depthModeForSublayer(0,ht.ReadOnly),Ie=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Be=[];for(const Je of m){const We=s.getTile(Je),Xe=We.getBucket(f);if(!Xe)continue;const v1=v?Xe.text:Xe.icon;if(!v1||!v1.segments.get().length||!v1.hasVisibleVertices)continue;const $1=v1.programConfigurations.get(f.id),s1=v||Xe.sdfIcons,I1=v?Xe.textSizeData:Xe.iconSizeData,b1=Q||0!==te.pitch,zt=C.useProgram(os(s1,v,Xe),$1),rt=_.ah(I1,te.zoom),Q1=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Je);let at,Zt,At,G2,E2=[0,0],n2=null;if(v)Zt=We.glyphAtlasTexture,At=ne.LINEAR,at=We.glyphAtlasTexture.size,Xe.iconsInText&&(E2=We.imageAtlasTexture.size,n2=We.imageAtlasTexture,G2=b1||C.options.rotating||C.options.zooming||"composite"===I1.kind||"camera"===I1.kind?ne.LINEAR:ne.NEAREST);else{const m2=1!==f.layout.get("icon-size").constantOr(0)||Xe.iconsNeedLinear;Zt=We.imageAtlasTexture,At=s1||C.options.rotating||C.options.zooming||m2||b1?ne.LINEAR:ne.NEAREST,at=We.imageAtlasTexture.size}const ln=ge(We,1,C.transform.zoom),St=t1(Je.posMatrix,Q,ae,C.transform,ln),Gi=Ri(Je.posMatrix,Q,ae,C.transform,ln),Dr=Ie&&Xe.hasTextData(),dr="none"!==f.layout.get("icon-text-fit")&&Dr&&Xe.hasIconData();if(ye){const m2=C.style.map.terrain?(li,w2)=>C.style.map.terrain.getElevation(Je,li,w2):null,M2="map"===f.layout.get("text-rotation-alignment");o1(Xe,Je.posMatrix,C,v,St,Gi,Q,A,M2,m2)}const Pr=C.translatePosMatrix(Je.posMatrix,We,x,L),Ar=ye||v&&Ie||dr?co:St,yn=C.translatePosMatrix(Gi,We,x,L,!0),_n=s1&&0!==f.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1);let Cn;Cn=s1?Xe.iconsInText?wr(I1.kind,rt,Pe,Q,C,Pr,Ar,yn,at,E2):no(I1.kind,rt,Pe,Q,C,Pr,Ar,yn,v,at,!0):xc(I1.kind,rt,Pe,Q,C,Pr,Ar,yn,v,at);const Ir={program:zt,buffers:v1,uniformValues:Cn,atlasTexture:Zt,atlasTextureIcon:n2,atlasInterpolation:At,atlasInterpolationIcon:G2,isSDF:s1,hasHalo:_n};if(le&&Xe.canOverlap){Ce=!0;const m2=v1.segments.get();for(const M2 of m2)Be.push({segments:new _.S([M2]),sortKey:M2.sortKey,state:Ir,terrainData:Q1})}else Be.push({segments:v1.segments,sortKey:0,state:Ir,terrainData:Q1})}Ce&&Be.sort((Je,We)=>Je.sortKey-We.sortKey);for(const Je of Be){const We=Je.state;if(W.activeTexture.set(ne.TEXTURE0),We.atlasTexture.bind(We.atlasInterpolation,ne.CLAMP_TO_EDGE),We.atlasTextureIcon&&(W.activeTexture.set(ne.TEXTURE1),We.atlasTextureIcon&&We.atlasTextureIcon.bind(We.atlasInterpolationIcon,ne.CLAMP_TO_EDGE)),We.isSDF){const Xe=We.uniformValues;We.hasHalo&&(Xe.u_is_halo=1,lo(We.buffers,Je.segments,f,C,We.program,ke,N,O,Xe,Je.terrainData)),Xe.u_is_halo=0}lo(We.buffers,Je.segments,f,C,We.program,ke,N,O,We.uniformValues,Je.terrainData)}}function lo(C,s,f,m,v,x,L,H,T,A){const N=m.context;v.draw(N,N.gl.TRIANGLES,x,L,H,Dt.disabled,T,A,f.id,C.layoutVertexBuffer,C.indexBuffer,s,f.paint,m.transform.zoom,C.programConfigurations.get(f.id),C.dynamicLayoutVertexBuffer,C.opacityVertexBuffer)}function Mi(C,s,f,m,v){if(!f||!m||!m.imageAtlas)return;const x=m.imageAtlas.patternPositions;let L=x[f.to.toString()],H=x[f.from.toString()];if(!L||!H){const T=v.getPaintProperty(s);L=x[T],H=x[T]}L&&H&&C.setConstantPatternPositions(L,H)}function f4(C,s,f,m,v,x,L){const H=C.context.gl,T="fill-pattern",A=f.paint.get(T),N=A&&A.constantOr(1),O=f.getCrossfadeParameters();let W,ne,te,ae,Q;L?(ne=N&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",W=H.LINES):(ne=N?"fillPattern":"fill",W=H.TRIANGLES);const ye=A.constantOr(null);for(const Pe of m){const le=s.getTile(Pe);if(N&&!le.patternsLoaded())continue;const Ce=le.getBucket(f);if(!Ce)continue;const ke=Ce.programConfigurations.get(f.id),Ie=C.useProgram(ne,ke),Be=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Pe);N&&(C.context.activeTexture.set(H.TEXTURE0),le.imageAtlasTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),ke.updatePaintBuffers(O)),Mi(ke,T,ye,le,f);const Je=Be?Pe:null,We=C.translatePosMatrix(Je?Je.posMatrix:Pe.posMatrix,le,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(L){ae=Ce.indexBuffer2,Q=Ce.segments2;const Xe=[H.drawingBufferWidth,H.drawingBufferHeight];te="fillOutlinePattern"===ne&&N?E3(We,C,O,le,Xe):xt(We,Xe)}else ae=Ce.indexBuffer,Q=Ce.segments,te=N?to(We,C,O,le):_c(We);Ie.draw(C.context,W,v,C.stencilModeForClipping(Pe),x,Dt.disabled,te,Be,f.id,Ce.layoutVertexBuffer,ae,Q,f.paint,C.transform.zoom,ke)}}function w1(C,s,f,m,v,x,L){const H=C.context,T=H.gl,A="fill-extrusion-pattern",N=f.paint.get(A),O=N.constantOr(1),W=f.getCrossfadeParameters(),ne=f.paint.get("fill-extrusion-opacity"),te=N.constantOr(null);for(const ae of m){const Q=s.getTile(ae),ye=Q.getBucket(f);if(!ye)continue;const Pe=C.style.map.terrain&&C.style.map.terrain.getTerrainData(ae),le=ye.programConfigurations.get(f.id),Ce=C.useProgram(O?"fillExtrusionPattern":"fillExtrusion",le);O&&(C.context.activeTexture.set(T.TEXTURE0),Q.imageAtlasTexture.bind(T.LINEAR,T.CLAMP_TO_EDGE),le.updatePaintBuffers(W)),Mi(le,A,te,Q,f);const ke=C.translatePosMatrix(ae.posMatrix,Q,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),Ie=f.paint.get("fill-extrusion-vertical-gradient"),Be=O?sn(ke,C,Ie,ne,ae,W,Q):n4(ke,C,Ie,ne);Ce.draw(H,H.gl.TRIANGLES,v,x,L,Dt.backCCW,Be,Pe,f.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,f.paint,C.transform.zoom,le,C.style.map.terrain&&ye.centroidVertexBuffer)}}function Ec(C,s,f,m,v,x,L){const H=C.context,T=H.gl,A=f.fbo;if(!A)return;const N=C.useProgram("hillshade"),O=C.style.map.terrain&&C.style.map.terrain.getTerrainData(s);H.activeTexture.set(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,A.colorAttachment.get()),N.draw(H,T.TRIANGLES,v,x,L,Dt.disabled,((W,ne,te,ae)=>{const Q=te.paint.get("hillshade-shadow-color"),ye=te.paint.get("hillshade-highlight-color"),Pe=te.paint.get("hillshade-accent-color");let le=te.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===te.paint.get("hillshade-illumination-anchor")&&(le-=W.transform.angle);const Ce=!W.options.moving;return{u_matrix:ae?ae.posMatrix:W.transform.calculatePosMatrix(ne.tileID.toUnwrapped(),Ce),u_image:0,u_latrange:a4(0,ne.tileID),u_light:[te.paint.get("hillshade-exaggeration"),le],u_shadow:Q,u_highlight:ye,u_accent:Pe}})(C,f,m,O?s:null),O,m.id,C.rasterBoundsBuffer,C.quadTriangleIndexBuffer,C.rasterBoundsSegments)}function z1(C,s,f,m,v,x){const L=C.context,H=L.gl,T=s.dem;if(T&&T.data){const A=T.dim,N=T.stride,O=T.getPixels();if(L.activeTexture.set(H.TEXTURE1),L.pixelStoreUnpackPremultiplyAlpha.set(!1),s.demTexture=s.demTexture||C.getTileTexture(N),s.demTexture){const ne=s.demTexture;ne.update(O,{premultiply:!1}),ne.bind(H.NEAREST,H.CLAMP_TO_EDGE)}else s.demTexture=new Qt(L,O,H.RGBA,{premultiply:!1}),s.demTexture.bind(H.NEAREST,H.CLAMP_TO_EDGE);L.activeTexture.set(H.TEXTURE0);let W=s.fbo;if(!W){const ne=new Qt(L,{width:A,height:A,data:null},H.RGBA);ne.bind(H.LINEAR,H.CLAMP_TO_EDGE),W=s.fbo=L.createFramebuffer(A,A,!0,!1),W.colorAttachment.set(ne.texture)}L.bindFramebuffer.set(W.framebuffer),L.viewport.set([0,0,A,A]),C.useProgram("hillshadePrepare").draw(L,H.TRIANGLES,m,v,x,Dt.disabled,((ne,te)=>{const ae=te.stride,Q=_.Z();return _.aS(Q,0,_.N,-_.N,0,0,1),_.$(Q,Q,[0,-_.N,0]),{u_matrix:Q,u_image:1,u_dimension:[ae,ae],u_zoom:ne.overscaledZ,u_unpack:te.getUnpackVector()}})(s.tileID,T),null,f.id,C.rasterBoundsBuffer,C.quadTriangleIndexBuffer,C.rasterBoundsSegments),s.needsHillshadePrepare=!1}}function cs(C,s,f,m,v,x){const L=m.paint.get("raster-fade-duration");if(!x&&L>0){const H=_.h.now(),T=(H-C.timeAdded)/L,A=s?(H-s.timeAdded)/L:-1,N=f.getSource(),O=v.coveringZoomLevel({tileSize:N.tileSize,roundZoom:N.roundZoom}),W=!s||Math.abs(s.tileID.overscaledZ-O)>Math.abs(C.tileID.overscaledZ-O),ne=W&&C.refreshedUponExpiration?1:_.ad(W?T:1-A,0,1);return C.refreshedUponExpiration&&T>=1&&(C.refreshedUponExpiration=!1),s?{opacity:1,mix:1-ne}:{opacity:ne,mix:0}}return{opacity:1,mix:0}}const ls=new _.aT(1,0,0,1),n3=new _.aT(0,1,0,1),uo=new _.aT(0,0,1,1),Tc=new _.aT(1,0,1,1),Dc=new _.aT(0,1,1,1);function si(C,s,f,m){Tn(C,0,s+f/2,C.transform.width,f,m)}function k3(C,s,f,m){Tn(C,s-f/2,0,f,C.transform.height,m)}function Tn(C,s,f,m,v,x){const L=C.context,H=L.gl;H.enable(H.SCISSOR_TEST),H.scissor(s*C.pixelRatio,f*C.pixelRatio,m*C.pixelRatio,v*C.pixelRatio),L.clear({color:x}),H.disable(H.SCISSOR_TEST)}function ji(C,s,f){const m=C.context,v=m.gl,x=f.posMatrix,L=C.useProgram("debug"),H=ht.disabled,T=c2.disabled,A=C.colorModeForRenderPass(),N="$debug",O=C.style.map.terrain&&C.style.map.terrain.getTerrainData(f);m.activeTexture.set(v.TEXTURE0);const W=s.getTileByID(f.key).latestRawTileData,ne=Math.floor((W&&W.byteLength||0)/1024),te=s.getTile(f).tileSize,ae=512/Math.min(te,512)*(f.overscaledZ/C.transform.zoom)*.5;let Q=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Q+=` => ${f.overscaledZ}`),function(ye,Pe){ye.initDebugOverlayCanvas();const le=ye.debugOverlayCanvas,Ce=ye.context.gl,ke=ye.debugOverlayCanvas.getContext("2d");ke.clearRect(0,0,le.width,le.height),ke.shadowColor="white",ke.shadowBlur=2,ke.lineWidth=1.5,ke.strokeStyle="white",ke.textBaseline="top",ke.font="bold 36px Open Sans, sans-serif",ke.fillText(Pe,5,5),ke.strokeText(Pe,5,5),ye.debugOverlayTexture.update(le),ye.debugOverlayTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE)}(C,`${Q} ${ne}kB`),L.draw(m,v.TRIANGLES,H,T,o2.alphaBlended,Dt.disabled,r4(x,_.aT.transparent,ae),null,N,C.debugBuffer,C.quadTriangleIndexBuffer,C.debugSegments),L.draw(m,v.LINE_STRIP,H,T,A,Dt.disabled,r4(x,_.aT.red),O,N,C.debugBuffer,C.tileBorderIndexBuffer,C.debugSegments)}function O1(C,s,f){const m=C.context,v=m.gl,x=C.colorModeForRenderPass(),L=new ht(v.LEQUAL,ht.ReadWrite,C.depthRangeFor3D),H=C.useProgram("terrain"),T=s.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,C.width,C.height]);for(const A of f){const N=C.renderToTexture.getTexture(A),O=s.getTerrainData(A.tileID);m.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,N.texture);const W={u_matrix:C.transform.calculatePosMatrix(A.tileID.toUnwrapped()),u_texture:0,u_ele_delta:s.getMeshFrameDelta(C.transform.zoom)};H.draw(m,v.TRIANGLES,L,c2.disabled,x,Dt.backCCW,W,O,"terrain",T.vertexBuffer,T.indexBuffer,T.segments)}}class cr{constructor(s,f){this.context=new Jl(s),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:_.Z(),renderTime:0},this.setup(),this.numSublayers=ti.maxUnderzooming+ti.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new e4}resize(s,f,m){if(this.width=Math.floor(s*m),this.height=Math.floor(f*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const s=this.context,f=new _.a_;f.emplaceBack(0,0),f.emplaceBack(_.N,0),f.emplaceBack(0,_.N),f.emplaceBack(_.N,_.N),this.tileExtentBuffer=s.createVertexBuffer(f,t4.members),this.tileExtentSegments=_.S.simpleSegment(0,0,4,2);const m=new _.a_;m.emplaceBack(0,0),m.emplaceBack(_.N,0),m.emplaceBack(0,_.N),m.emplaceBack(_.N,_.N),this.debugBuffer=s.createVertexBuffer(m,t4.members),this.debugSegments=_.S.simpleSegment(0,0,4,5);const v=new _.V;v.emplaceBack(0,0,0,0),v.emplaceBack(_.N,0,_.N,0),v.emplaceBack(0,_.N,0,_.N),v.emplaceBack(_.N,_.N,_.N,_.N),this.rasterBoundsBuffer=s.createVertexBuffer(v,Vt.members),this.rasterBoundsSegments=_.S.simpleSegment(0,0,4,2);const x=new _.a_;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(x,t4.members),this.viewportSegments=_.S.simpleSegment(0,0,4,2);const L=new _.a$;L.emplaceBack(0),L.emplaceBack(1),L.emplaceBack(3),L.emplaceBack(2),L.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(L);const H=new _.b0;H.emplaceBack(0,1,2),H.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(H);const T=this.context.gl;this.stencilClearMode=new c2({func:T.ALWAYS,mask:0},0,255,T.ZERO,T.ZERO,T.ZERO)}clearStencil(){const s=this.context,f=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=_.Z();_.aS(m,0,this.width,this.height,0,0,1),_.a0(m,m,[f.drawingBufferWidth,f.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(s,f.TRIANGLES,ht.disabled,this.stencilClearMode,o2.disabled,Dt.disabled,K4(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(s,f){if(this.currentStencilSource===s.source||!s.isTileClipped()||!f||!f.length)return;this.currentStencilSource=s.source;const m=this.context,v=m.gl;this.nextStencilID+f.length>256&&this.clearStencil(),m.setColorMode(o2.disabled),m.setDepthMode(ht.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const L of f){const H=this._tileClippingMaskIDs[L.key]=this.nextStencilID++,T=this.style.map.terrain&&this.style.map.terrain.getTerrainData(L);x.draw(m,v.TRIANGLES,ht.disabled,new c2({func:v.ALWAYS,mask:0},H,255,v.KEEP,v.KEEP,v.REPLACE),o2.disabled,Dt.disabled,K4(L.posMatrix),T,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const s=this.nextStencilID++,f=this.context.gl;return new c2({func:f.NOTEQUAL,mask:255},s,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(s){const f=this.context.gl;return new c2({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(s){const f=this.context.gl,m=s.sort((L,H)=>H.overscaledZ-L.overscaledZ),v=m[m.length-1].overscaledZ,x=m[0].overscaledZ-v+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const L={};for(let H=0;H<x;H++)L[H+v]=new c2({func:f.GEQUAL,mask:255},H+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=x,[L,m]}return[{[v]:c2.disabled},m]}colorModeForRenderPass(){const s=this.context.gl;return this._showOverdrawInspector?new o2([s.CONSTANT_COLOR,s.ONE],new _.aT(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?o2.unblended:o2.alphaBlended}depthModeForSublayer(s,f,m){if(!this.opaquePassEnabledForLayer())return ht.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new ht(m||this.context.gl.LEQUAL,f,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,f){this.style=s,this.options=f,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(_.h.now()),this.imageManager.beginFrame();const m=this.style._order,v=this.style.sourceCaches,x={},L={},H={};for(const T in v){const A=v[T];A.used&&A.prepare(this.context),x[T]=A.getVisibleCoordinates(),L[T]=x[T].slice().reverse(),H[T]=A.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let T=0;T<m.length;T++)if(this.style._layers[m[T]].is3D()){this.opaquePassCutoff=T;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const T=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!_.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||T.length)&&(_.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(A,N){const O=A.context,W=O.gl,ne=o2.unblended,te=new ht(W.LEQUAL,ht.ReadWrite,[0,1]),ae=N.getTerrainMesh(),Q=N.sourceCache.getRenderableTiles(),ye=A.useProgram("terrainDepth");O.bindFramebuffer.set(N.getFramebuffer("depth").framebuffer),O.viewport.set([0,0,A.width/devicePixelRatio,A.height/devicePixelRatio]),O.clear({color:_.aT.transparent,depth:1});for(const Pe of Q){const le=N.getTerrainData(Pe.tileID),Ce={u_matrix:A.transform.calculatePosMatrix(Pe.tileID.toUnwrapped()),u_ele_delta:N.getMeshFrameDelta(A.transform.zoom)};ye.draw(O,W.TRIANGLES,te,c2.disabled,ne,Dt.backCCW,Ce,le,"terrain",ae.vertexBuffer,ae.indexBuffer,ae.segments)}O.bindFramebuffer.set(null),O.viewport.set([0,0,A.width,A.height])}(this,this.style.map.terrain),function(A,N){const O=A.context,W=O.gl,ne=o2.unblended,te=new ht(W.LEQUAL,ht.ReadWrite,[0,1]),ae=N.getTerrainMesh(),Q=N.getCoordsTexture(),ye=N.sourceCache.getRenderableTiles(),Pe=A.useProgram("terrainCoords");O.bindFramebuffer.set(N.getFramebuffer("coords").framebuffer),O.viewport.set([0,0,A.width/devicePixelRatio,A.height/devicePixelRatio]),O.clear({color:_.aT.transparent,depth:1}),N.coordsIndex=[];for(const le of ye){const Ce=N.getTerrainData(le.tileID);O.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,Q.texture);const ke={u_matrix:A.transform.calculatePosMatrix(le.tileID.toUnwrapped()),u_terrain_coords_id:(255-N.coordsIndex.length)/255,u_texture:0,u_ele_delta:N.getMeshFrameDelta(A.transform.zoom)};Pe.draw(O,W.TRIANGLES,te,c2.disabled,ne,Dt.backCCW,ke,Ce,"terrain",ae.vertexBuffer,ae.indexBuffer,ae.segments),N.coordsIndex.push(le.tileID.key)}O.bindFramebuffer.set(null),O.viewport.set([0,0,A.width,A.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const T of m){const A=this.style._layers[T];if(!A.hasOffscreenPass()||A.isHidden(this.transform.zoom))continue;const N=L[A.source];("custom"===A.type||N.length)&&this.renderLayer(this,v[A.source],A,N)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?_.aT.black:_.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const T=this.style._layers[m[this.currentLayer]],A=v[T.source],N=x[T.source];this._renderTileClippingMasks(T,N),this.renderLayer(this,A,T,N)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const T=this.style._layers[m[this.currentLayer]],A=v[T.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(T))continue;const N=("symbol"===T.type?H:L)[T.source];this._renderTileClippingMasks(T,x[T.source]),this.renderLayer(this,A,T,N)}if(this.options.showTileBoundaries){const T=function(A,N){let O=null;const W=Object.values(A._layers).flatMap(Q=>Q.source&&!Q.isHidden(N)?[A.sourceCaches[Q.source]]:[]),ne=W.filter(Q=>"vector"===Q.getSource().type),te=W.filter(Q=>"vector"!==Q.getSource().type),ae=Q=>{(!O||O.getSource().maxzoom<Q.getSource().maxzoom)&&(O=Q)};return ne.forEach(Q=>ae(Q)),O||te.forEach(Q=>ae(Q)),O}(this.style,this.transform.zoom);T&&function(A,N,O){for(let W=0;W<O.length;W++)ji(A,N,O[W])}(this,T,T.getVisibleCoordinates())}this.options.showPadding&&function(T){const A=T.transform.padding;si(T,T.transform.height-(A.top||0),3,ls),si(T,A.bottom||0,3,n3),k3(T,A.left||0,3,uo),k3(T,T.transform.width-(A.right||0),3,Tc);const N=T.transform.centerPoint;var O,W,ne,te;Tn(O=T,(W=N.x)-1,(ne=T.transform.height-N.y)-10,2,20,te=Dc),Tn(O,W-10,ne-1,20,2,te)}(this),this.context.setDefault()}renderLayer(s,f,m,v){if(!m.isHidden(this.transform.zoom)&&("background"===m.type||"custom"===m.type||(v||[]).length))switch(this.id=m.id,m.type){case"symbol":!function(x,L,H,T,A){if("translucent"!==x.renderPass)return;const N=c2.disabled,O=x.colorModeForRenderPass();(H._unevaluatedLayout.hasValue("text-variable-anchor")||H._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(W,ne,te,ae,Q,ye,Pe){const le=ne.transform,Ce="map"===Q,ke="map"===ye;for(const Ie of W){const Be=ae.getTile(Ie),Je=Be.getBucket(te);if(!Je||!Je.text||!Je.text.segments.get().length)continue;const We=_.ah(Je.textSizeData,le.zoom),Xe=ge(Be,1,ne.transform.zoom),v1=t1(Ie.posMatrix,ke,Ce,ne.transform,Xe),$1="none"!==te.layout.get("icon-text-fit")&&Je.hasIconData();if(We){const s1=Math.pow(2,le.zoom-Be.tileID.overscaledZ);ss(Je,Ce,ke,Pe,le,v1,Ie.posMatrix,s1,We,$1,ne.style.map.terrain?(I1,b1)=>ne.style.map.terrain.getElevation(Ie,I1,b1):null)}}}(T,x,H,L,H.layout.get("text-rotation-alignment"),H.layout.get("text-pitch-alignment"),A),0!==H.paint.get("icon-opacity").constantOr(1)&&zr(x,L,H,T,!1,H.paint.get("icon-translate"),H.paint.get("icon-translate-anchor"),H.layout.get("icon-rotation-alignment"),H.layout.get("icon-pitch-alignment"),H.layout.get("icon-keep-upright"),N,O),0!==H.paint.get("text-opacity").constantOr(1)&&zr(x,L,H,T,!0,H.paint.get("text-translate"),H.paint.get("text-translate-anchor"),H.layout.get("text-rotation-alignment"),H.layout.get("text-pitch-alignment"),H.layout.get("text-keep-upright"),N,O),L.map.showCollisionBoxes&&(u4(x,L,H,T,H.paint.get("text-translate"),H.paint.get("text-translate-anchor"),!0),u4(x,L,H,T,H.paint.get("icon-translate"),H.paint.get("icon-translate-anchor"),!1))}(s,f,m,v,this.style.placement.variableOffsets);break;case"circle":!function(x,L,H,T){if("translucent"!==x.renderPass)return;const A=H.paint.get("circle-opacity"),N=H.paint.get("circle-stroke-width"),O=H.paint.get("circle-stroke-opacity"),W=!H.layout.get("circle-sort-key").isConstant();if(0===A.constantOr(1)&&(0===N.constantOr(1)||0===O.constantOr(1)))return;const ne=x.context,te=ne.gl,ae=x.depthModeForSublayer(0,ht.ReadOnly),Q=c2.disabled,ye=x.colorModeForRenderPass(),Pe=[];for(let le=0;le<T.length;le++){const Ce=T[le],ke=L.getTile(Ce),Ie=ke.getBucket(H);if(!Ie)continue;const Be=Ie.programConfigurations.get(H.id),Je=x.useProgram("circle",Be),We=Ie.layoutVertexBuffer,Xe=Ie.indexBuffer,v1=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ce),$1={programConfiguration:Be,program:Je,layoutVertexBuffer:We,indexBuffer:Xe,uniformValues:$t(x,Ce,ke,H),terrainData:v1};if(W){const s1=Ie.segments.get();for(const I1 of s1)Pe.push({segments:new _.S([I1]),sortKey:I1.sortKey,state:$1})}else Pe.push({segments:Ie.segments,sortKey:0,state:$1})}W&&Pe.sort((le,Ce)=>le.sortKey-Ce.sortKey);for(const le of Pe){const{programConfiguration:Ce,program:ke,layoutVertexBuffer:Ie,indexBuffer:Be,uniformValues:Je,terrainData:We}=le.state;ke.draw(ne,te.TRIANGLES,ae,Q,ye,Dt.disabled,Je,We,H.id,Ie,Be,le.segments,H.paint,x.transform.zoom,Ce)}}(s,f,m,v);break;case"heatmap":!function(x,L,H,T){if(0!==H.paint.get("heatmap-opacity"))if("offscreen"===x.renderPass){const A=x.context,N=A.gl,O=c2.disabled,W=new o2([N.ONE,N.ONE],_.aT.transparent,[!0,!0,!0,!0]);(function(ne,te,ae){const Q=ne.gl;ne.activeTexture.set(Q.TEXTURE1),ne.viewport.set([0,0,te.width/4,te.height/4]);let ye=ae.heatmapFbo;if(ye)Q.bindTexture(Q.TEXTURE_2D,ye.colorAttachment.get()),ne.bindFramebuffer.set(ye.framebuffer);else{const Pe=Q.createTexture();Q.bindTexture(Q.TEXTURE_2D,Pe),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.LINEAR),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.LINEAR),ye=ae.heatmapFbo=ne.createFramebuffer(te.width/4,te.height/4,!1,!1),function(le,Ce,ke,Ie){var Be,Je;const We=le.gl,Xe=null!==(Be=le.HALF_FLOAT)&&void 0!==Be?Be:We.UNSIGNED_BYTE,v1=null!==(Je=le.RGBA16F)&&void 0!==Je?Je:We.RGBA;We.texImage2D(We.TEXTURE_2D,0,v1,Ce.width/4,Ce.height/4,0,We.RGBA,Xe,null),Ie.colorAttachment.set(ke)}(ne,te,Pe,ye)}})(A,x,H),A.clear({color:_.aT.transparent});for(let ne=0;ne<T.length;ne++){const te=T[ne];if(L.hasRenderableParent(te))continue;const ae=L.getTile(te),Q=ae.getBucket(H);if(!Q)continue;const ye=Q.programConfigurations.get(H.id),Pe=x.useProgram("heatmap",ye),{zoom:le}=x.transform;Pe.draw(A,N.TRIANGLES,ht.disabled,O,W,Dt.disabled,Y1(te.posMatrix,ae,le,H.paint.get("heatmap-intensity")),null,H.id,Q.layoutVertexBuffer,Q.indexBuffer,Q.segments,H.paint,x.transform.zoom,ye)}A.viewport.set([0,0,x.width,x.height])}else"translucent"===x.renderPass&&(x.context.setColorMode(x.colorModeForRenderPass()),function(A,N){const O=A.context,W=O.gl,ne=N.heatmapFbo;if(!ne)return;O.activeTexture.set(W.TEXTURE0),W.bindTexture(W.TEXTURE_2D,ne.colorAttachment.get()),O.activeTexture.set(W.TEXTURE1);let te=N.colorRampTexture;te||(te=N.colorRampTexture=new Qt(O,N.colorRamp,W.RGBA)),te.bind(W.LINEAR,W.CLAMP_TO_EDGE),A.useProgram("heatmapTexture").draw(O,W.TRIANGLES,ht.disabled,c2.disabled,A.colorModeForRenderPass(),Dt.disabled,((ae,Q,ye,Pe)=>{const le=_.Z();_.aS(le,0,ae.width,ae.height,0,0,1);const Ce=ae.context.gl;return{u_matrix:le,u_world:[Ce.drawingBufferWidth,Ce.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Q.paint.get("heatmap-opacity")}})(A,N),null,N.id,A.viewportBuffer,A.quadTriangleIndexBuffer,A.viewportSegments,N.paint,A.transform.zoom)}(x,H))}(s,f,m,v);break;case"line":!function(x,L,H,T){if("translucent"!==x.renderPass)return;const A=H.paint.get("line-opacity"),N=H.paint.get("line-width");if(0===A.constantOr(1)||0===N.constantOr(1))return;const O=x.depthModeForSublayer(0,ht.ReadOnly),W=x.colorModeForRenderPass(),ne=H.paint.get("line-dasharray"),te=H.paint.get("line-pattern"),ae=te.constantOr(1),Q=H.paint.get("line-gradient"),ye=H.getCrossfadeParameters(),Pe=ae?"linePattern":ne?"lineSDF":Q?"lineGradient":"line",le=x.context,Ce=le.gl;let ke=!0;for(const Ie of T){const Be=L.getTile(Ie);if(ae&&!Be.patternsLoaded())continue;const Je=Be.getBucket(H);if(!Je)continue;const We=Je.programConfigurations.get(H.id),Xe=x.context.program.get(),v1=x.useProgram(Pe,We),$1=ke||v1.program!==Xe,s1=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ie),I1=te.constantOr(null);if(I1&&Be.imageAtlas){const rt=Be.imageAtlas,Q1=rt.patternPositions[I1.to.toString()],at=rt.patternPositions[I1.from.toString()];Q1&&at&&We.setConstantPatternPositions(Q1,at)}const b1=s1?Ie:null,zt=ae?Cc(x,Be,H,ye,b1):ne?qe(x,Be,H,ne,ye,b1):Q?g0(x,Be,H,Je.lineClipsArray.length,b1):s4(x,Be,H,b1);if(ae)le.activeTexture.set(Ce.TEXTURE0),Be.imageAtlasTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE),We.updatePaintBuffers(ye);else if(ne&&($1||x.lineAtlas.dirty))le.activeTexture.set(Ce.TEXTURE0),x.lineAtlas.bind(le);else if(Q){const rt=Je.gradients[H.id];let Q1=rt.texture;if(H.gradientVersion!==rt.version){let at=256;if(H.stepInterpolant){const Zt=L.getSource().maxzoom,At=Ie.canonical.z===Zt?Math.ceil(1<<x.transform.maxZoom-Ie.canonical.z):1;at=_.ad(_.aY(Je.maxLineLength/_.N*1024*At),256,le.maxTextureSize)}rt.gradient=_.aZ({expression:H.gradientExpression(),evaluationKey:"lineProgress",resolution:at,image:rt.gradient||void 0,clips:Je.lineClipsArray}),rt.texture?rt.texture.update(rt.gradient):rt.texture=new Qt(le,rt.gradient,Ce.RGBA),rt.version=H.gradientVersion,Q1=rt.texture}le.activeTexture.set(Ce.TEXTURE0),Q1.bind(H.stepInterpolant?Ce.NEAREST:Ce.LINEAR,Ce.CLAMP_TO_EDGE)}v1.draw(le,Ce.TRIANGLES,O,x.stencilModeForClipping(Ie),W,Dt.disabled,zt,s1,H.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,H.paint,x.transform.zoom,We,Je.layoutVertexBuffer2),ke=!1}}(s,f,m,v);break;case"fill":!function(x,L,H,T){const A=H.paint.get("fill-color"),N=H.paint.get("fill-opacity");if(0===N.constantOr(1))return;const O=x.colorModeForRenderPass(),W=H.paint.get("fill-pattern"),ne=x.opaquePassEnabledForLayer()&&!W.constantOr(1)&&1===A.constantOr(_.aT.transparent).a&&1===N.constantOr(0)?"opaque":"translucent";if(x.renderPass===ne){const te=x.depthModeForSublayer(1,"opaque"===x.renderPass?ht.ReadWrite:ht.ReadOnly);f4(x,L,H,T,te,O,!1)}if("translucent"===x.renderPass&&H.paint.get("fill-antialias")){const te=x.depthModeForSublayer(H.getPaintProperty("fill-outline-color")?2:0,ht.ReadOnly);f4(x,L,H,T,te,O,!0)}}(s,f,m,v);break;case"fill-extrusion":!function(x,L,H,T){const A=H.paint.get("fill-extrusion-opacity");if(0!==A&&"translucent"===x.renderPass){const N=new ht(x.context.gl.LEQUAL,ht.ReadWrite,x.depthRangeFor3D);if(1!==A||H.paint.get("fill-extrusion-pattern").constantOr(1))w1(x,L,H,T,N,c2.disabled,o2.disabled),w1(x,L,H,T,N,x.stencilModeFor3D(),x.colorModeForRenderPass());else{const O=x.colorModeForRenderPass();w1(x,L,H,T,N,c2.disabled,O)}}}(s,f,m,v);break;case"hillshade":!function(x,L,H,T){if("offscreen"!==x.renderPass&&"translucent"!==x.renderPass)return;const A=x.context,N=x.depthModeForSublayer(0,ht.ReadOnly),O=x.colorModeForRenderPass(),[W,ne]="translucent"===x.renderPass?x.stencilConfigForOverlap(T):[{},T];for(const te of ne){const ae=L.getTile(te);void 0!==ae.needsHillshadePrepare&&ae.needsHillshadePrepare&&"offscreen"===x.renderPass?z1(x,ae,H,N,c2.disabled,O):"translucent"===x.renderPass&&Ec(x,te,ae,H,N,W[te.overscaledZ],O)}A.viewport.set([0,0,x.width,x.height])}(s,f,m,v);break;case"raster":!function(x,L,H,T){if("translucent"!==x.renderPass||0===H.paint.get("raster-opacity")||!T.length)return;const A=x.context,N=A.gl,O=L.getSource(),W=x.useProgram("raster"),ne=x.colorModeForRenderPass(),[te,ae]=O instanceof yi?[{},T]:x.stencilConfigForOverlap(T),Q=ae[ae.length-1].overscaledZ,ye=!x.options.moving;for(const Pe of ae){const le=x.depthModeForSublayer(Pe.overscaledZ-Q,1===H.paint.get("raster-opacity")?ht.ReadWrite:ht.ReadOnly,N.LESS),Ce=L.getTile(Pe);Ce.registerFadeDuration(H.paint.get("raster-fade-duration"));const ke=L.findLoadedParent(Pe,0),Ie=cs(Ce,ke,L,H,x.transform,x.style.map.terrain);let Be,Je;const We="nearest"===H.paint.get("raster-resampling")?N.NEAREST:N.LINEAR;A.activeTexture.set(N.TEXTURE0),Ce.texture.bind(We,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST),A.activeTexture.set(N.TEXTURE1),ke?(ke.texture.bind(We,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST),Be=Math.pow(2,ke.tileID.overscaledZ-Ce.tileID.overscaledZ),Je=[Ce.tileID.canonical.x*Be%1,Ce.tileID.canonical.y*Be%1]):Ce.texture.bind(We,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST);const Xe=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Pe),v1=Xe?Pe:null,$1=v1?v1.posMatrix:x.transform.calculatePosMatrix(Pe.toUnwrapped(),ye),s1=wt($1,Je||[0,0],Be||1,Ie,H);O instanceof yi?W.draw(A,N.TRIANGLES,le,c2.disabled,ne,Dt.disabled,s1,Xe,H.id,O.boundsBuffer,x.quadTriangleIndexBuffer,O.boundsSegments):W.draw(A,N.TRIANGLES,le,te[Pe.overscaledZ],ne,Dt.disabled,s1,Xe,H.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}}(s,f,m,v);break;case"background":!function(x,L,H,T){const A=H.paint.get("background-color"),N=H.paint.get("background-opacity");if(0===N)return;const O=x.context,W=O.gl,ne=x.transform,te=ne.tileSize,ae=H.paint.get("background-pattern");if(x.isPatternMissing(ae))return;const Q=!ae&&1===A.a&&1===N&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==Q)return;const ye=c2.disabled,Pe=x.depthModeForSublayer(0,"opaque"===Q?ht.ReadWrite:ht.ReadOnly),le=x.colorModeForRenderPass(),Ce=x.useProgram(ae?"backgroundPattern":"background"),ke=T||ne.coveringTiles({tileSize:te,terrain:x.style.map.terrain});ae&&(O.activeTexture.set(W.TEXTURE0),x.imageManager.bind(x.context));const Ie=H.getCrossfadeParameters();for(const Be of ke){const Je=T?Be.posMatrix:x.transform.calculatePosMatrix(Be.toUnwrapped()),We=ae?Bi(Je,N,x,ae,{tileID:Be,tileSize:te},Ie):pn(Je,N,A),Xe=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Be);Ce.draw(O,W.TRIANGLES,Pe,ye,le,Dt.disabled,We,Xe,H.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}}(s,0,m,v);break;case"custom":!function(x,L,H){const T=x.context,A=H.implementation;if("offscreen"===x.renderPass){const N=A.prerender;N&&(x.setCustomLayerDefaults(),T.setColorMode(x.colorModeForRenderPass()),N.call(A,T.gl,x.transform.customLayerMatrix()),T.setDirty(),x.setBaseState())}else if("translucent"===x.renderPass){x.setCustomLayerDefaults(),T.setColorMode(x.colorModeForRenderPass()),T.setStencilMode(c2.disabled);const N="3d"===A.renderingMode?new ht(x.context.gl.LEQUAL,ht.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,ht.ReadOnly);T.setDepthMode(N),A.render(T.gl,x.transform.customLayerMatrix()),T.setDirty(),x.setBaseState(),T.bindFramebuffer.set(null)}}(s,0,m)}}translatePosMatrix(s,f,m,v,x){if(!m[0]&&!m[1])return s;const L=x?"map"===v?this.transform.angle:0:"viewport"===v?-this.transform.angle:0;if(L){const A=Math.sin(L),N=Math.cos(L);m=[m[0]*N-m[1]*A,m[0]*A+m[1]*N]}const H=[x?m[0]:ge(f,m[0],this.transform.zoom),x?m[1]:ge(f,m[1],this.transform.zoom),0],T=new Float32Array(16);return _.$(T,s,H),T}saveTileTexture(s){const f=this._tileTextures[s.size[0]];f?f.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){const f=this._tileTextures[s];return f&&f.length>0?f.pop():null}isPatternMissing(s){if(!s)return!1;if(!s.from||!s.to)return!0;const f=this.imageManager.getPattern(s.from.toString()),m=this.imageManager.getPattern(s.to.toString());return!f||!m}useProgram(s,f){this.cache=this.cache||{};const m=s+(f?f.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new Z1(this.context,Jt[s],f,Q4[s],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Qt(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:s,drawingBufferHeight:f}=this.context.gl;return this.width!==s||this.height!==f}}class gn{constructor(s,f){this.points=s,this.planes=f}static fromInvProjectionMatrix(s,f,m){const v=Math.pow(2,m),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(H=>{const T=1/(H=_.ag([],H,s))[3]/f*v;return _.b3(H,H,[T,T,1/H[3],T])}),L=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(H=>{const T=function(W,ne){var te=ne[0],ae=ne[1],Q=ne[2],ye=te*te+ae*ae+Q*Q;return ye>0&&(ye=1/Math.sqrt(ye)),W[0]=ne[0]*ye,W[1]=ne[1]*ye,W[2]=ne[2]*ye,W}([],(W=[],ne=nr([],x[H[0]],x[H[1]]),te=nr([],x[H[2]],x[H[1]]),ae=ne[0],Pe=te[0],W[0]=(Q=ne[1])*(Ce=te[2])-(ye=ne[2])*(le=te[1]),W[1]=ye*Pe-ae*Ce,W[2]=ae*le-Q*Pe,W)),A=-((N=T)[0]*(O=x[H[1]])[0]+N[1]*O[1]+N[2]*O[2]);var W,ne,te,ae,Q,ye,Pe,le,Ce,N,O;return T.concat(A)});return new gn(x,L)}}class i3{constructor(s,f){var m,v,x;this.min=s,this.max=f,this.center=function(m,v,x){return m[0]=.5*v[0],m[1]=.5*v[1],m[2]=.5*v[2],m}([],((m=[])[0]=(v=this.min)[0]+(x=this.max)[0],m[1]=v[1]+x[1],m[2]=v[2]+x[2],m))}quadrant(s){const f=[s%2==0,s<2],m=Ii(this.min),v=Ii(this.max);for(let x=0;x<f.length;x++)m[x]=f[x]?this.min[x]:this.center[x],v[x]=f[x]?this.center[x]:this.max[x];return v[2]=this.max[2],new i3(m,v)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}intersects(s){const f=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let m=!0;for(let v=0;v<s.planes.length;v++){const x=s.planes[v];let L=0;for(let H=0;H<f.length;H++)_.b4(x,f[H])>=0&&L++;if(0===L)return 0;L!==f.length&&(m=!1)}if(m)return 2;for(let v=0;v<3;v++){let x=Number.MAX_VALUE,L=-Number.MAX_VALUE;for(let H=0;H<s.points.length;H++){const T=s.points[H][v]-this.min[v];x=Math.min(x,T),L=Math.max(L,T)}if(L<0||x>this.max[v]-this.min[v])return 0}return 1}}class wa{constructor(s=0,f=0,m=0,v=0){if(isNaN(s)||s<0||isNaN(f)||f<0||isNaN(m)||m<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=f,this.left=m,this.right=v}interpolate(s,f,m){return null!=f.top&&null!=s.top&&(this.top=_.B.number(s.top,f.top,m)),null!=f.bottom&&null!=s.bottom&&(this.bottom=_.B.number(s.bottom,f.bottom,m)),null!=f.left&&null!=s.left&&(this.left=_.B.number(s.left,f.left,m)),null!=f.right&&null!=s.right&&(this.right=_.B.number(s.right,f.right,m)),this}getCenter(s,f){const m=_.ad((this.left+s-this.right)/2,0,s),v=_.ad((this.top+f-this.bottom)/2,0,f);return new _.P(m,v)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new wa(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class wi{constructor(s,f,m,v,x){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===x||!!x,this._minZoom=s||0,this._maxZoom=f||22,this._minPitch=m??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new _.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wa,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const s=new wi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return s.apply(this),s}apply(s){this.tileSize=s.tileSize,this.latRange=s.latRange,this.width=s.width,this.height=s.height,this._center=s._center,this._elevation=s._elevation,this._minEleveationForCurrentTile=s._minEleveationForCurrentTile,this.zoom=s.zoom,this.angle=s.angle,this._fov=s._fov,this._pitch=s._pitch,this._unmodified=s._unmodified,this._edgeInsets=s._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(s){this._minZoom!==s&&(this._minZoom=s,this.zoom=Math.max(this.zoom,s))}get maxZoom(){return this._maxZoom}set maxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.zoom=Math.min(this.zoom,s))}get minPitch(){return this._minPitch}set minPitch(s){this._minPitch!==s&&(this._minPitch=s,this.pitch=Math.max(this.pitch,s))}get maxPitch(){return this._maxPitch}set maxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.pitch=Math.min(this.pitch,s))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(s){void 0===s?s=!0:null===s&&(s=!1),this._renderWorldCopies=s}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new _.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(s){const f=-_.b5(s,-180,180)*Math.PI/180;var m;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=(m=new _.A(4),_.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m),function(m,v,x){var L=v[0],H=v[1],T=v[2],A=v[3],N=Math.sin(x),O=Math.cos(x);m[0]=L*O+T*N,m[1]=H*O+A*N,m[2]=L*-N+T*O,m[3]=H*-N+A*O}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(s){const f=_.ad(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(s){s=Math.max(.01,Math.min(60,s)),this._fov!==s&&(this._unmodified=!1,this._fov=s/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(s){const f=Math.min(Math.max(s,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this.tileZoom=Math.max(0,Math.floor(f)),this.scale=this.zoomScale(f),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(s){s!==this._elevation&&(this._elevation=s,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,f,m){this._unmodified=!1,this._edgeInsets.interpolate(s,f,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(s){const f=(s.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/s.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(s){const f=[new _.b6(0,s)];if(this._renderWorldCopies){const m=this.pointCoordinate(new _.P(0,0)),v=this.pointCoordinate(new _.P(this.width,0)),x=this.pointCoordinate(new _.P(this.width,this.height)),L=this.pointCoordinate(new _.P(0,this.height)),H=Math.floor(Math.min(m.x,v.x,x.x,L.x)),T=Math.floor(Math.max(m.x,v.x,x.x,L.x)),A=1;for(let N=H-A;N<=T+A;N++)0!==N&&f.push(new _.b6(N,s))}return f}coveringTiles(s){var f,m;let v=this.coveringZoomLevel(s);const x=v;if(void 0!==s.minzoom&&v<s.minzoom)return[];void 0!==s.maxzoom&&v>s.maxzoom&&(v=s.maxzoom);const L=this.pointCoordinate(this.getCameraPoint()),H=_.U.fromLngLat(this.center),T=Math.pow(2,v),A=[T*L.x,T*L.y,0],N=[T*H.x,T*H.y,0],O=gn.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,v);let W=s.minzoom||0;!s.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(W=v);const ne=s.terrain?2/Math.min(this.tileSize,s.tileSize)*this.tileSize:3,te=le=>({aabb:new i3([le*T,0,0],[(le+1)*T,T,0]),zoom:0,x:0,y:0,wrap:le,fullyVisible:!1}),ae=[],Q=[],ye=v,Pe=s.reparseOverscaled?x:v;if(this._renderWorldCopies)for(let le=1;le<=3;le++)ae.push(te(-le)),ae.push(te(le));for(ae.push(te(0));ae.length>0;){const le=ae.pop(),Ce=le.x,ke=le.y;let Ie=le.fullyVisible;if(!Ie){const v1=le.aabb.intersects(O);if(0===v1)continue;Ie=2===v1}const Be=s.terrain?A:N,Je=le.aabb.distanceX(Be),We=le.aabb.distanceY(Be),Xe=Math.max(Math.abs(Je),Math.abs(We));if(le.zoom===ye||Xe>ne+(1<<ye-le.zoom)-2&&le.zoom>=W){const v1=ye-le.zoom,$1=A[0]-.5-(Ce<<v1),s1=A[1]-.5-(ke<<v1);Q.push({tileID:new _.O(le.zoom===ye?Pe:le.zoom,le.wrap,le.zoom,Ce,ke),distanceSq:x3([N[0]-.5-Ce,N[1]-.5-ke]),tileDistanceToCamera:Math.sqrt($1*$1+s1*s1)})}else for(let v1=0;v1<4;v1++){const $1=(Ce<<1)+v1%2,s1=(ke<<1)+(v1>>1),I1=le.zoom+1;let b1=le.aabb.quadrant(v1);if(s.terrain){const zt=new _.O(I1,le.wrap,I1,$1,s1),rt=s.terrain.getMinMaxElevation(zt),Q1=null!==(f=rt.minElevation)&&void 0!==f?f:this.elevation,at=null!==(m=rt.maxElevation)&&void 0!==m?m:this.elevation;b1=new i3([b1.min[0],b1.min[1],Q1],[b1.max[0],b1.max[1],at])}ae.push({aabb:b1,zoom:I1,x:$1,y:s1,wrap:le.wrap,fullyVisible:Ie})}}return Q.sort((le,Ce)=>le.distanceSq-Ce.distanceSq).map(le=>le.tileID)}resize(s,f){this.width=s,this.height=f,this.pixelsToGLUnits=[2/s,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(s){return Math.pow(2,s)}scaleZoom(s){return Math.log(s)/Math.LN2}project(s){const f=_.ad(s.lat,-this.maxValidLatitude,this.maxValidLatitude);return new _.P(_.G(s.lng)*this.worldSize,_.H(f)*this.worldSize)}unproject(s){return new _.U(s.x/this.worldSize,s.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(s){const f=this.pointLocation(this.centerPoint,s),m=s.getElevationForLngLatZoom(f,this.tileZoom);if(!(this.elevation-m))return;const v=this.getCameraPosition(),x=_.U.fromLngLat(v.lngLat,v.altitude),L=_.U.fromLngLat(f,m),H=x.x-L.x,T=x.y-L.y,A=x.z-L.z,N=Math.sqrt(H*H+T*T+A*A),O=this.scaleZoom(this.cameraToCenterDistance/N/this.tileSize);this._elevation=m,this._center=f,this.zoom=O}setLocationAtPoint(s,f){const m=this.pointCoordinate(f),v=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(s),L=new _.U(x.x-(m.x-v.x),x.y-(m.y-v.y));this.center=this.coordinateLocation(L),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(s,f){return f?this.coordinatePoint(this.locationCoordinate(s),f.getElevationForLngLatZoom(s,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(s))}pointLocation(s,f){return this.coordinateLocation(this.pointCoordinate(s,f))}locationCoordinate(s){return _.U.fromLngLat(s)}coordinateLocation(s){return s&&s.toLngLat()}pointCoordinate(s,f){if(f){const W=f.pointCoordinate(s);if(null!=W)return W}const m=[s.x,s.y,0,1],v=[s.x,s.y,1,1];_.ag(m,m,this.pixelMatrixInverse),_.ag(v,v,this.pixelMatrixInverse);const x=m[3],L=v[3],H=m[1]/x,T=v[1]/L,A=m[2]/x,N=v[2]/L,O=A===N?0:(0-A)/(N-A);return new _.U(_.B.number(m[0]/x,v[0]/L,O)/this.worldSize,_.B.number(H,T,O)/this.worldSize)}coordinatePoint(s,f=0,m=this.pixelMatrix){const v=[s.x*this.worldSize,s.y*this.worldSize,f,1];return _.ag(v,v,m),new _.P(v[0]/v[3],v[1]/v[3])}getBounds(){const s=Math.max(0,this.height/2-this.getHorizon());return(new Rt).extend(this.pointLocation(new _.P(0,s))).extend(this.pointLocation(new _.P(this.width,s))).extend(this.pointLocation(new _.P(this.width,this.height))).extend(this.pointLocation(new _.P(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new Rt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(s){s?(this.lngRange=[s.getWest(),s.getEast()],this.latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(s,f=!1){const m=s.key,v=f?this._alignedPosMatrixCache:this._posMatrixCache;if(v[m])return v[m];const x=s.canonical,L=this.worldSize/this.zoomScale(x.z),H=x.x+Math.pow(2,x.z)*s.wrap,T=_.ao(new Float64Array(16));return _.$(T,T,[H*L,x.y*L,0]),_.a0(T,T,[L/_.N,L/_.N,1]),_.a1(T,f?this.alignedProjMatrix:this.projMatrix,T),v[m]=new Float32Array(T),v[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let s,f,m,v,x=-90,L=90,H=-180,T=180;const A=this.size,N=this._unmodified;if(this.latRange){const ne=this.latRange;x=_.H(ne[1])*this.worldSize,L=_.H(ne[0])*this.worldSize,s=L-x<A.y?A.y/(L-x):0}if(this.lngRange){const ne=this.lngRange;H=_.b5(_.G(ne[0])*this.worldSize,0,this.worldSize),T=_.b5(_.G(ne[1])*this.worldSize,0,this.worldSize),T<H&&(T+=this.worldSize),f=T-H<A.x?A.x/(T-H):0}const O=this.point,W=Math.max(f||0,s||0);if(W)return this.center=this.unproject(new _.P(f?(T+H)/2:O.x,s?(L+x)/2:O.y)),this.zoom+=this.scaleZoom(W),this._unmodified=N,void(this._constraining=!1);if(this.latRange){const ne=O.y,te=A.y/2;ne-te<x&&(v=x+te),ne+te>L&&(v=L-te)}if(this.lngRange){const ne=(H+T)/2,te=_.b5(O.x,ne-this.worldSize/2,ne+this.worldSize/2),ae=A.x/2;te-ae<H&&(m=H+ae),te+ae>T&&(m=T-ae)}void 0===m&&void 0===v||(this.center=this.unproject(new _.P(void 0!==m?m:O.x,void 0!==v?v:O.y)).wrap()),this._unmodified=N,this._constraining=!1}_calcMatrices(){if(!this.height)return;const s=this.centerOffset,f=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=_.b7(1,this.center.lat)*this.worldSize;let v=_.ao(new Float64Array(16));_.a0(v,v,[this.width/2,-this.height/2,1]),_.$(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=_.ao(new Float64Array(16)),_.a0(v,v,[1,-1,1]),_.$(v,v,[-1,-1,0]),_.a0(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const x=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),L=Math.min(this.elevation,this._minEleveationForCurrentTile),H=x-L*this._pixelPerMeter/Math.cos(this._pitch),T=L<0?H:x,A=Math.PI/2+this._pitch,N=this._fov*(.5+s.y/this.height),O=Math.sin(N)*T/Math.sin(_.ad(Math.PI-A-N,.01,Math.PI-.01)),W=this.getHorizon(),ne=2*Math.atan(W/this.cameraToCenterDistance)*(.5+s.y/(2*W)),te=Math.sin(ne)*T/Math.sin(_.ad(Math.PI-A-ne,.01,Math.PI-.01)),ae=Math.min(O,te),Q=1.01*(Math.cos(Math.PI/2-this._pitch)*ae+T),ye=this.height/50;v=new Float64Array(16),_.b8(v,this._fov,this.width/this.height,ye,Q),v[8]=2*-s.x/this.width,v[9]=2*s.y/this.height,_.a0(v,v,[1,-1,1]),_.$(v,v,[0,0,-this.cameraToCenterDistance]),_.b9(v,v,this._pitch),_.ae(v,v,this.angle),_.$(v,v,[-f,-m,0]),this.mercatorMatrix=_.a0([],v,[this.worldSize,this.worldSize,this.worldSize]),_.a0(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=_.a1(new Float64Array(16),this.labelPlaneMatrix,v),_.$(v,v,[0,0,-this.elevation]),this.projMatrix=v,this.invProjMatrix=_.as([],v),this.pixelMatrix3D=_.a1(new Float64Array(16),this.labelPlaneMatrix,v);const Pe=this.width%2/2,le=this.height%2/2,Ce=Math.cos(this.angle),ke=Math.sin(this.angle),Ie=f-Math.round(f)+Ce*Pe+ke*le,Be=m-Math.round(m)+Ce*le+ke*Pe,Je=new Float64Array(v);if(_.$(Je,Je,[Ie>.5?Ie-1:Ie,Be>.5?Be-1:Be,0]),this.alignedProjMatrix=Je,v=_.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const s=this.pointCoordinate(new _.P(0,0)),f=[s.x*this.worldSize,s.y*this.worldSize,0,1];return _.ag(f,f,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const s=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new _.P(0,s))}getCameraQueryGeometry(s){const f=this.getCameraPoint();if(1===s.length)return[s[0],f];{let m=f.x,v=f.y,x=f.x,L=f.y;for(const H of s)m=Math.min(m,H.x),v=Math.min(v,H.y),x=Math.max(x,H.x),L=Math.max(L,H.y);return[new _.P(m,v),new _.P(x,v),new _.P(x,L),new _.P(m,L),new _.P(m,v)]}}}function Ui(C,s){let f,m=!1,v=null,x=null;const L=()=>{v=null,m&&(C.apply(x,f),v=setTimeout(L,s),m=!1)};return(...H)=>(m=!0,x=this,f=H,v||L(),v)}class za{constructor(s){this._getCurrentHash=()=>{const f=window.location.hash.replace("#","");if(this._hashName){let m;return f.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(m=v)}),(m&&m[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{const f=this._getCurrentHash();if(f.length>=3&&!f.some(m=>isNaN(m))){const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:m,pitch:+(f[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const f=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,f)}catch{}},this._updateHash=Ui(this._updateHashUnthrottled,300),this._hashName=s&&encodeURIComponent(s)}addTo(s){return this._map=s,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(s){const f=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,v=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,v),L=Math.round(f.lng*x)/x,H=Math.round(f.lat*x)/x,T=this._map.getBearing(),A=this._map.getPitch();let N="";if(N+=s?`/${L}/${H}/${m}`:`${m}/${H}/${L}`,(T||A)&&(N+="/"+Math.round(10*T)/10),A&&(N+=`/${Math.round(A)}`),this._hashName){const O=this._hashName;let W=!1;const ne=window.location.hash.slice(1).split("&").map(te=>{const ae=te.split("=")[0];return ae===O?(W=!0,`${ae}=${N}`):te}).filter(te=>te);return W||ne.push(`${O}=${N}`),`#${ne.join("&")}`}return`#${N}`}}const N3={linearity:.3,easing:_.ba(0,0,.3,1)},us=_.e({deceleration:2500,maxSpeed:1400},N3),fo=_.e({deceleration:20,maxSpeed:1400},N3),ho=_.e({deceleration:1e3,maxSpeed:360},N3),Sa=_.e({deceleration:1e3,maxSpeed:90},N3);class po{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:_.h.now(),settings:s})}_drainInertiaBuffer(){const s=this._inertiaBuffer,f=_.h.now();for(;s.length>0&&f-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,pan:new _.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)f.zoom+=x.zoomDelta||0,f.bearing+=x.bearingDelta||0,f.pitch+=x.pitchDelta||0,x.panDelta&&f.pan._add(x.panDelta),x.around&&(f.around=x.around),x.pinchAround&&(f.pinchAround=x.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(f.pan.mag()){const x=h4(f.pan.mag(),m,_.e({},us,s||{}));v.offset=f.pan.mult(x.amount/f.pan.mag()),v.center=this._map.transform.center,qi(v,x)}if(f.zoom){const x=h4(f.zoom,m,fo);v.zoom=this._map.transform.zoom+x.amount,qi(v,x)}if(f.bearing){const x=h4(f.bearing,m,ho);v.bearing=this._map.transform.bearing+_.ad(x.amount,-179,179),qi(v,x)}if(f.pitch){const x=h4(f.pitch,m,Sa);v.pitch=this._map.transform.pitch+x.amount,qi(v,x)}if(v.zoom||v.bearing){const x=void 0===f.pinchAround?f.around:f.pinchAround;v.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),_.e(v,{noMoveStart:!0})}}function qi(C,s){(!C.duration||C.duration<s.duration)&&(C.duration=s.duration,C.easing=s.easing)}function h4(C,s,f){const{maxSpeed:m,linearity:v,deceleration:x}=f,L=_.ad(C*v/(s/1e3),-m,m),H=Math.abs(L)/(x*v);return{easing:f.easing,duration:1e3*H,amount:L*(H/2)}}class qn extends _.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,f,m,v={}){const x=Re.mousePos(f.getCanvasContainer(),m),L=f.unproject(x);super(s,_.e({point:x,lngLat:L,originalEvent:m},v)),this._defaultPrevented=!1,this.target=f}}class d4 extends _.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,f,m){const v="touchend"===s?m.changedTouches:m.touches,x=Re.touchPos(f.getCanvasContainer(),v),L=x.map(T=>f.unproject(T)),H=x.reduce((T,A,N,O)=>T.add(A.div(O.length)),new _.P(0,0));super(s,{points:x,point:H,lngLats:L,lngLat:f.unproject(H),originalEvent:m}),this._defaultPrevented=!1}}class Pc extends _.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,f,m){super(s,{originalEvent:m}),this._defaultPrevented=!1}}class zi{constructor(s,f){this._map=s,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(s){return this._firePreventable(new Pc(s.type,this._map,s))}mousedown(s,f){return this._mousedownPos=f,this._firePreventable(new qn(s.type,this._map,s))}mouseup(s){this._map.fire(new qn(s.type,this._map,s))}click(s,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new qn(s.type,this._map,s))}dblclick(s){return this._firePreventable(new qn(s.type,this._map,s))}mouseover(s){this._map.fire(new qn(s.type,this._map,s))}mouseout(s){this._map.fire(new qn(s.type,this._map,s))}touchstart(s){return this._firePreventable(new d4(s.type,this._map,s))}touchmove(s){this._map.fire(new d4(s.type,this._map,s))}touchend(s){this._map.fire(new d4(s.type,this._map,s))}touchcancel(s){this._map.fire(new d4(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ac{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(s){this._map.fire(new qn(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new qn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._ignoreContextMenu||this._map.fire(new qn(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class lr{constructor(s){this._map=s}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(s){return this.transform.pointLocation(_.P.convert(s),this._map.terrain)}}class Ic{constructor(s,f){this._map=s,this._tr=new lr(s),this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,f){this.isEnabled()&&s.shiftKey&&0===s.button&&(Re.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(s,f){if(!this._active)return;const m=f;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=m,this._box||(this._box=Re.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",s));const x=Math.min(v.x,m.x),L=Math.max(v.x,m.x),H=Math.min(v.y,m.y),T=Math.max(v.y,m.y);Re.setTransform(this._box,`translate(${x}px,${H}px)`),this._box.style.width=L-x+"px",this._box.style.height=T-H+"px"}mouseupWindow(s,f){if(!this._active||0!==s.button)return;const m=this._startPos,v=f;if(this.reset(),Re.suppressClick(),m.x!==v.x||m.y!==v.y)return this._map.fire(new _.k("boxzoomend",{originalEvent:s})),{cameraAnimation:x=>x.fitScreenCoordinates(m,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",s)}keydown(s){this._active&&27===s.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",s))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(Re.remove(this._box),this._box=null),Re.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(s,f){return this._map.fire(new _.k(s,{originalEvent:f}))}}function Si(C,s){if(C.length!==s.length)throw new Error(`The number of touches and points are not equal - touches ${C.length}, points ${s.length}`);const f={};for(let m=0;m<C.length;m++)f[C[m].identifier]=s[m];return f}class Sr{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(s,f,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=s.timeStamp),m.length===this.numTouches&&(this.centroid=function(v){const x=new _.P(0,0);for(const L of v)x._add(L);return x.div(v.length)}(f),this.touches=Si(m,f)))}touchmove(s,f,m){if(this.aborted||!this.centroid)return;const v=Si(m,f);for(const x in this.touches){const L=v[x];(!L||L.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(s,f,m){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),0===m.length){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class fs{constructor(s){this.singleTap=new Sr(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(s,f,m){this.singleTap.touchstart(s,f,m)}touchmove(s,f,m){this.singleTap.touchmove(s,f,m)}touchend(s,f,m){const v=this.singleTap.touchend(s,f,m);if(v){const x=s.timeStamp-this.lastTime<500,L=!this.lastTap||this.lastTap.dist(v)<30;if(x&&L||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class ur{constructor(s){this._tr=new lr(s),this._zoomIn=new fs({numTouches:1,numTaps:2}),this._zoomOut=new fs({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,f,m){this._zoomIn.touchstart(s,f,m),this._zoomOut.touchstart(s,f,m)}touchmove(s,f,m){this._zoomIn.touchmove(s,f,m),this._zoomOut.touchmove(s,f,m)}touchend(s,f,m){const v=this._zoomIn.touchend(s,f,m),x=this._zoomOut.touchend(s,f,m),L=this._tr;return v?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:H=>H.easeTo({duration:300,zoom:L.zoom+1,around:L.unproject(v)},{originalEvent:s})}):x?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:H=>H.easeTo({duration:300,zoom:L.zoom-1,around:L.unproject(x)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Lr{constructor(s){this._enabled=!!s.enable,this._moveStateManager=s.moveStateManager,this._clickTolerance=s.clickTolerance||1,this._moveFunction=s.move,this._activateOnStart=!!s.activateOnStart,s.assignEvents(this),this.reset()}reset(s){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(s)}_move(...s){const f=this._moveFunction(...s);if(f.bearingDelta||f.pitchDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(s,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(s)&&(this._moveStateManager.startMove(s),this._lastPoint=f.length?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(s,f){if(!this.isEnabled())return;const m=this._lastPoint;if(!m)return;if(s.preventDefault(),!this._moveStateManager.isValidMoveEvent(s))return void this.reset(s);const v=f.length?f[0]:f;return!this._moved&&v.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(m,v))}dragEnd(s){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(s)&&(this._moved&&Re.suppressClick(),this.reset(s))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const C0={0:1,2:2};class mo{constructor(s){this._correctEvent=s.checkCorrectEvent}startMove(s){const f=Re.mouseButton(s);this._eventButton=f}endMove(s){delete this._eventButton}isValidStartEvent(s){return this._correctEvent(s)}isValidMoveEvent(s){return!function(f,m){const v=C0[m];return void 0===f.buttons||(f.buttons&v)!==v}(s,this._eventButton)}isValidEndEvent(s){return Re.mouseButton(s)===this._eventButton}}class N2{constructor(){this._firstTouch=void 0}_isOneFingerTouch(s){return 1===s.targetTouches.length}_isSameTouchEvent(s){return s.targetTouches[0].identifier===this._firstTouch}startMove(s){this._firstTouch=s.targetTouches[0].identifier}endMove(s){delete this._firstTouch}isValidStartEvent(s){return this._isOneFingerTouch(s)}isValidMoveEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}isValidEndEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}}const hs=C=>{C.mousedown=C.dragStart,C.mousemoveWindow=C.dragMove,C.mouseup=C.dragEnd,C.contextmenu=function(s){s.preventDefault()}},La=({enable:C,clickTolerance:s,bearingDegreesPerPixelMoved:f=.8})=>{const m=new mo({checkCorrectEvent:v=>0===Re.mouseButton(v)&&v.ctrlKey||2===Re.mouseButton(v)});return new Lr({clickTolerance:s,move:(v,x)=>({bearingDelta:(x.x-v.x)*f}),moveStateManager:m,enable:C,assignEvents:hs})},Hr=({enable:C,clickTolerance:s,pitchDegreesPerPixelMoved:f=-.5})=>{const m=new mo({checkCorrectEvent:v=>0===Re.mouseButton(v)&&v.ctrlKey||2===Re.mouseButton(v)});return new Lr({clickTolerance:s,move:(v,x)=>({pitchDelta:(x.y-v.y)*f}),moveStateManager:m,enable:C,assignEvents:hs})};class f1{constructor(s,f){this._minTouches=s.cooperativeGestures?2:1,this._clickTolerance=s.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new _.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(s,f,m){return this._calculateTransform(s,f,m)}touchmove(s,f,m){if(this._map._cooperativeGestures&&(2===this._minTouches&&m.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(s,!1,m.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(m.length<this._minTouches))return s.preventDefault(),this._calculateTransform(s,f,m)}touchend(s,f,m){this._calculateTransform(s,f,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,f,m){m.length>0&&(this._active=!0);const v=Si(m,f),x=new _.P(0,0),L=new _.P(0,0);let H=0;for(const A in v){const N=v[A],O=this._touches[A];O&&(x._add(N),L._add(N.sub(O)),H++,v[A]=N)}if(this._touches=v,H<this._minTouches||!L.mag())return;const T=L.div(H);return this._sum._add(T),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(H),panDelta:T}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ds{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(s,f,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([f[0],f[1]]))}touchmove(s,f,m){if(!this._firstTwoTouches)return;s.preventDefault();const[v,x]=this._firstTwoTouches,L=Vr(m,f,v),H=Vr(m,f,x);if(!L||!H)return;const T=this._aroundCenter?null:L.add(H).div(2);return this._move([L,H],T,s)}touchend(s,f,m){if(!this._firstTwoTouches)return;const[v,x]=this._firstTwoTouches,L=Vr(m,f,v),H=Vr(m,f,x);L&&H||(this._active&&Re.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&"center"===s.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Vr(C,s,f){for(let m=0;m<C.length;m++)if(C[m].identifier===f)return s[m]}function jt(C,s){return Math.log(C/s)/Math.LN2}class Dn extends ds{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,f){const m=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(jt(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:jt(this._distance,m),pinchAround:f}}}function Ye(C,s){return 180*C.angleWith(s)/Math.PI}class O2 extends ds{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,f){const m=this._vector;if(this._vector=s[0].sub(s[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Ye(this._vector,m),pinchAround:f}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());const f=25/(Math.PI*this._minDiameter)*360,m=Ye(s,this._startVector);return Math.abs(m)<f}}function on(C){return Math.abs(C.y)>Math.abs(C.x)}class Ha extends ds{constructor(s){super(),this._map=s}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(s,f,m){super.touchstart(s,f,m),this._currentTouchCount=m.length}_start(s){this._lastPoints=s,on(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,f,m){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const v=s[0].sub(this._lastPoints[0]),x=s[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,x,m.timeStamp),this._valid?(this._lastPoints=s,this._active=!0,{pitchDelta:(v.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(s,f,m){if(void 0!==this._valid)return this._valid;const v=s.mag()>=2,x=f.mag()>=2;if(!v&&!x)return;if(!v||!x)return void 0===this._firstMove&&(this._firstMove=m),m-this._firstMove<100&&void 0;const L=s.y>0==f.y>0;return on(s)&&on(f)&&L}}const Pn={panStep:100,bearingStep:15,pitchStep:10};class go{constructor(s){this._tr=new lr(s);const f=Pn;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let f=0,m=0,v=0,x=0,L=0;switch(s.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:s.shiftKey?m=-1:(s.preventDefault(),x=-1);break;case 39:s.shiftKey?m=1:(s.preventDefault(),x=1);break;case 38:s.shiftKey?v=1:(s.preventDefault(),L=-1);break;case 40:s.shiftKey?v=-1:(s.preventDefault(),L=1);break;default:return}return this._rotationDisabled&&(m=0,v=0),{cameraAnimation:H=>{const T=this._tr;H.easeTo({duration:300,easeId:"keyboardHandler",easing:vo,zoom:f?Math.round(T.zoom)+f*(s.shiftKey?2:1):T.zoom,bearing:T.bearing+m*this._bearingStep,pitch:T.pitch+v*this._pitchStep,offset:[-x*this._panStep,-L*this._panStep],center:T.center},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function vo(C){return C*(2-C)}const p4=4.000244140625;class b0{constructor(s,f){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=s,this._tr=new lr(s),this._el=s.getCanvasContainer(),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&"center"===s.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(s){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!s[this._map._metaKey])return;s.preventDefault()}let f=s.deltaMode===WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY;const m=_.h.now(),v=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,0!==f&&f%p4==0?this._type="wheel":0!==f&&Math.abs(f)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(v*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),s.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=s,this._delta-=f,this._active||this._start(s)),s.preventDefault()}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=Re.mousePos(this._el,s),m=this._tr;this._around=_.L.convert(this._aroundCenter?m.center:m.unproject(f)),this._aroundPoint=m.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const s=this._tr.transform;if(0!==this._delta){const H="wheel"===this._type&&Math.abs(this._delta)>p4?this._wheelZoomRate:this._defaultZoomRate;let T=2/(1+Math.exp(-Math.abs(this._delta*H)));this._delta<0&&0!==T&&(T=1/T);const A="number"==typeof this._targetZoom?s.zoomScale(this._targetZoom):s.scale;this._targetZoom=Math.min(s.maxZoom,Math.max(s.minZoom,s.scaleZoom(A*T))),"wheel"===this._type&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f="number"==typeof this._targetZoom?this._targetZoom:s.zoom,m=this._startZoom,v=this._easing;let x,L=!1;if("wheel"===this._type&&m&&v){const H=Math.min((_.h.now()-this._lastWheelEventTime)/200,1),T=v(H);x=_.B.number(m,f,T),H<1?this._frameId||(this._frameId=!0):L=!0}else x=f,L=!0;return this._active=!0,L&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!L,zoomDelta:x-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let f=_.bb;if(this._prevEase){const m=this._prevEase,v=(_.h.now()-m.start)/m.duration,x=m.easing(v+.01)-m.easing(v),L=.27/Math.sqrt(x*x+1e-4)*.01,H=Math.sqrt(.0729-L*L);f=_.ba(L,H,.25,1)}return this._prevEase={start:_.h.now(),duration:s,easing:f},f}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class yo{constructor(s,f){this._clickZoom=s,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class e2{constructor(s){this._tr=new lr(s),this.reset()}reset(){this._active=!1}dblclick(s,f){return s.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(s.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class m1{constructor(){this._tap=new fs({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(s,f,m){if(!this._swipePoint)if(this._tapTime){const v=f[0],x=s.timeStamp-this._tapTime<500,L=this._tapPoint.dist(v)<30;x&&L?m.length>0&&(this._swipePoint=v,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(s,f,m)}touchmove(s,f,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const v=f[0],x=v.y-this._swipePoint.y;return this._swipePoint=v,s.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(s,f,m)}touchend(s,f,m){if(this._tapTime)this._swipePoint&&0===m.length&&this.reset();else{const v=this._tap.touchend(s,f,m);v&&(this._tapTime=s.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class et{constructor(s,f,m){this._el=s,this._mousePan=f,this._touchPan=m}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class dt{constructor(s,f,m){this._pitchWithRotate=s.pitchWithRotate,this._mouseRotate=f,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class j2{constructor(s,f,m,v){this._el=s,this._touchZoom=f,this._touchRotate=m,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Er=C=>C.zoom||C.drag||C.pitch||C.rotate;class U2 extends _.k{}function fr(C){return C.panDelta&&C.panDelta.mag()||C.zoomDelta||C.bearingDelta||C.pitchDelta}class l2{constructor(s,f){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,x)=>{if("blur"===v.type)return void this.stop(!0);this._updatingCamera=!0;const L="renderFrame"===v.type?void 0:v,H={needsRenderFrame:!1},T={},A={},N=v.touches,O=N?this._getMapTouches(N):void 0,W=O?Re.touchPos(this._el,O):Re.mousePos(this._el,v);for(const{handlerName:ae,handler:Q,allowed:ye}of this._handlers){if(!Q.isEnabled())continue;let Pe;this._blockedByActive(A,ye,ae)?Q.reset():Q[x||v.type]&&(Pe=Q[x||v.type](v,W,O),this.mergeHandlerResult(H,T,Pe,ae,L),Pe&&Pe.needsRenderFrame&&this._triggerRenderFrame()),(Pe||Q.isActive())&&(A[ae]=Q)}const ne={};for(const ae in this._previousActiveHandlers)A[ae]||(ne[ae]=L);this._previousActiveHandlers=A,(Object.keys(ne).length||fr(H))&&(this._changes.push([H,T,ne]),this._triggerRenderFrame()),(Object.keys(A).length||fr(H))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:te}=H;te&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],te(this._map))},this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new po(s),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,x,L]of this._listeners)Re.addEventListener(v,x,v===document?this.handleWindowEvent:this.handleEvent,L)}destroy(){for(const[s,f,m]of this._listeners)Re.removeEventListener(s,f,s===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(s){const f=this._map,m=f.getCanvasContainer();this._add("mapEvent",new zi(f,s));const v=f.boxZoom=new Ic(f,s);this._add("boxZoom",v),s.interactive&&s.boxZoom&&v.enable();const x=new ur(f),L=new e2(f);f.doubleClickZoom=new yo(L,x),this._add("tapZoom",x),this._add("clickZoom",L),s.interactive&&s.doubleClickZoom&&f.doubleClickZoom.enable();const H=new m1;this._add("tapDragZoom",H);const T=f.touchPitch=new Ha(f);this._add("touchPitch",T),s.interactive&&s.touchPitch&&f.touchPitch.enable(s.touchPitch);const A=La(s),N=Hr(s);f.dragRotate=new dt(s,A,N),this._add("mouseRotate",A,["mousePitch"]),this._add("mousePitch",N,["mouseRotate"]),s.interactive&&s.dragRotate&&f.dragRotate.enable();const O=(({enable:ye,clickTolerance:Pe})=>{const le=new mo({checkCorrectEvent:Ce=>0===Re.mouseButton(Ce)&&!Ce.ctrlKey});return new Lr({clickTolerance:Pe,move:(Ce,ke)=>({around:ke,panDelta:ke.sub(Ce)}),activateOnStart:!0,moveStateManager:le,enable:ye,assignEvents:hs})})(s),W=new f1(s,f);f.dragPan=new et(m,O,W),this._add("mousePan",O),this._add("touchPan",W,["touchZoom","touchRotate"]),s.interactive&&s.dragPan&&f.dragPan.enable(s.dragPan);const ne=new O2,te=new Dn;f.touchZoomRotate=new j2(m,te,ne,H),this._add("touchRotate",ne,["touchPan","touchZoom"]),this._add("touchZoom",te,["touchPan","touchRotate"]),s.interactive&&s.touchZoomRotate&&f.touchZoomRotate.enable(s.touchZoomRotate);const ae=f.scrollZoom=new b0(f,()=>this._triggerRenderFrame());this._add("scrollZoom",ae,["mousePan"]),s.interactive&&s.scrollZoom&&f.scrollZoom.enable(s.scrollZoom);const Q=f.keyboard=new go(f);this._add("keyboard",Q),s.interactive&&s.keyboard&&f.keyboard.enable(),this._add("blockableMapEvent",new Ac(f))}_add(s,f,m){this._handlers.push({handlerName:s,handler:f,allowed:m}),this._handlersById[s]=f}stop(s){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(const{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Er(this._eventsInProgress)||this.isZooming()}_blockedByActive(s,f,m){for(const v in s)if(v!==m&&(!f||f.indexOf(v)<0))return!0;return!1}_getMapTouches(s){const f=[];for(const m of s)this._el.contains(m.target)&&f.push(m);return f}mergeHandlerResult(s,f,m,v,x){if(!m)return;_.e(s,m);const L={handlerName:v,originalEvent:m.originalEvent||x};void 0!==m.zoomDelta&&(f.zoom=L),void 0!==m.panDelta&&(f.drag=L),void 0!==m.pitchDelta&&(f.pitch=L),void 0!==m.bearingDelta&&(f.rotate=L)}_applyChanges(){const s={},f={},m={};for(const[v,x,L]of this._changes)v.panDelta&&(s.panDelta=(s.panDelta||new _.P(0,0))._add(v.panDelta)),v.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+v.pitchDelta),void 0!==v.around&&(s.around=v.around),void 0!==v.pinchAround&&(s.pinchAround=v.pinchAround),v.noInertia&&(s.noInertia=v.noInertia),_.e(f,x),_.e(m,L);this._updateMapTransform(s,f,m),this._changes=[]}_updateMapTransform(s,f,m){const v=this._map,x=v._getTransformForUpdate(),L=v.terrain;if(!(fr(s)||L&&this._terrainMovement))return this._fireEvents(f,m,!0);let{panDelta:H,zoomDelta:T,bearingDelta:A,pitchDelta:N,around:O,pinchAround:W}=s;void 0!==W&&(O=W),v._stop(!0),O=O||v.transform.centerPoint;const ne=x.pointLocation(H?O.sub(H):O);A&&(x.bearing+=A),N&&(x.pitch+=N),T&&(x.zoom+=T),L?this._terrainMovement||!f.drag&&!f.zoom?f.drag&&this._terrainMovement?x.center=x.pointLocation(x.centerPoint.sub(H)):x.setLocationAtPoint(ne,O):(this._terrainMovement=!0,this._map._elevationFreeze=!0,x.setLocationAtPoint(ne,O),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,x.recalculateZoom(v.terrain)})):x.setLocationAtPoint(ne,O),v._applyUpdatedTransform(x),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(f,m,!0)}_fireEvents(s,f,m){const v=Er(this._eventsInProgress),x=Er(s),L={};for(const N in s){const{originalEvent:O}=s[N];this._eventsInProgress[N]||(L[`${N}start`]=O),this._eventsInProgress[N]=s[N]}!v&&x&&this._fireEvent("movestart",x.originalEvent);for(const N in L)this._fireEvent(N,L[N]);x&&this._fireEvent("move",x.originalEvent);for(const N in s){const{originalEvent:O}=s[N];this._fireEvent(N,O)}const H={};let T;for(const N in this._eventsInProgress){const{handlerName:O,originalEvent:W}=this._eventsInProgress[N];this._handlersById[O].isActive()||(delete this._eventsInProgress[N],T=f[O]||W,H[`${N}end`]=T)}for(const N in H)this._fireEvent(N,H[N]);const A=Er(this._eventsInProgress);if(m&&(v||x)&&!A){this._updatingCamera=!0;const N=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),O=W=>0!==W&&-this._bearingSnap<W&&W<this._bearingSnap;!N||!N.essential&&_.h.prefersReducedMotion?(this._map.fire(new _.k("moveend",{originalEvent:T})),O(this._map.getBearing())&&this._map.resetNorth()):(O(N.bearing||this._map.getBearing())&&(N.bearing=0),N.freezeElevation=!0,this._map.easeTo(N,{originalEvent:T})),this._updatingCamera=!1}}_fireEvent(s,f){this._map.fire(new _.k(s,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(s=>{delete this._frameId,this.handleEvent(new U2("renderFrame",{timeStamp:s})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class Tr extends _.E{constructor(s,f){super(),this._renderFrameCallback=()=>{const m=Math.min((_.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=f.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new _.L(this.transform.center.lng,this.transform.center.lat)}setCenter(s,f){return this.jumpTo({center:s},f)}panBy(s,f,m){return s=_.P.convert(s).mult(-1),this.panTo(this.transform.center,_.e({offset:s},f),m)}panTo(s,f,m){return this.easeTo(_.e({center:s},f),m)}getZoom(){return this.transform.zoom}setZoom(s,f){return this.jumpTo({zoom:s},f),this}zoomTo(s,f,m){return this.easeTo(_.e({zoom:s},f),m)}zoomIn(s,f){return this.zoomTo(this.getZoom()+1,s,f),this}zoomOut(s,f){return this.zoomTo(this.getZoom()-1,s,f),this}getBearing(){return this.transform.bearing}setBearing(s,f){return this.jumpTo({bearing:s},f),this}getPadding(){return this.transform.padding}setPadding(s,f){return this.jumpTo({padding:s},f),this}rotateTo(s,f,m){return this.easeTo(_.e({bearing:s},f),m)}resetNorth(s,f){return this.rotateTo(0,_.e({duration:1e3},s),f),this}resetNorthPitch(s,f){return this.easeTo(_.e({bearing:0,pitch:0,duration:1e3},s),f),this}snapToNorth(s,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,f):this}getPitch(){return this.transform.pitch}setPitch(s,f){return this.jumpTo({pitch:s},f),this}cameraForBounds(s,f){s=Rt.convert(s);const m=f&&f.bearing||0;return this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),m,f)}_cameraForBoxAndBearing(s,f,m,v){const x={top:0,bottom:0,right:0,left:0};if("number"==typeof(v=_.e({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding){const ke=v.padding;v.padding={top:ke,bottom:ke,right:ke,left:ke}}v.padding=_.e(x,v.padding);const L=this.transform,H=L.padding,T=L.project(_.L.convert(s)),A=L.project(_.L.convert(f)),N=T.rotate(-m*Math.PI/180),O=A.rotate(-m*Math.PI/180),W=new _.P(Math.max(N.x,O.x),Math.max(N.y,O.y)),ne=new _.P(Math.min(N.x,O.x),Math.min(N.y,O.y)),te=W.sub(ne),ae=(L.width-(H.left+H.right+v.padding.left+v.padding.right))/te.x,Q=(L.height-(H.top+H.bottom+v.padding.top+v.padding.bottom))/te.y;if(Q<0||ae<0)return void _.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const ye=Math.min(L.scaleZoom(L.scale*Math.min(ae,Q)),v.maxZoom),Pe=_.P.convert(v.offset),le=new _.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(m*Math.PI/180),Ce=Pe.add(le).mult(L.scale/L.zoomScale(ye));return{center:L.unproject(T.add(A).div(2).sub(Ce)),zoom:ye,bearing:m}}fitBounds(s,f,m){return this._fitInternal(this.cameraForBounds(s,f),f,m)}fitScreenCoordinates(s,f,m,v,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(_.P.convert(s)),this.transform.pointLocation(_.P.convert(f)),m,v),v,x)}_fitInternal(s,f,m){return s?(delete(f=_.e(s,f)).padding,f.linear?this.easeTo(f,m):this.flyTo(f,m)):this}jumpTo(s,f){this.stop();const m=this._getTransformForUpdate();let v=!1,x=!1,L=!1;return"zoom"in s&&m.zoom!==+s.zoom&&(v=!0,m.zoom=+s.zoom),void 0!==s.center&&(m.center=_.L.convert(s.center)),"bearing"in s&&m.bearing!==+s.bearing&&(x=!0,m.bearing=+s.bearing),"pitch"in s&&m.pitch!==+s.pitch&&(L=!0,m.pitch=+s.pitch),null==s.padding||m.isPaddingEqual(s.padding)||(m.padding=s.padding),this._applyUpdatedTransform(m),this.fire(new _.k("movestart",f)).fire(new _.k("move",f)),v&&this.fire(new _.k("zoomstart",f)).fire(new _.k("zoom",f)).fire(new _.k("zoomend",f)),x&&this.fire(new _.k("rotatestart",f)).fire(new _.k("rotate",f)).fire(new _.k("rotateend",f)),L&&this.fire(new _.k("pitchstart",f)).fire(new _.k("pitch",f)).fire(new _.k("pitchend",f)),this.fire(new _.k("moveend",f))}calculateCameraOptionsFromTo(s,f,m,v=0){const x=_.U.fromLngLat(s,f),L=_.U.fromLngLat(m,v),H=L.x-x.x,T=L.y-x.y,A=L.z-x.z,N=Math.hypot(H,T,A);if(0===N)throw new Error("Can't calculate camera options with same From and To");const O=Math.hypot(H,T),W=this.transform.scaleZoom(this.transform.cameraToCenterDistance/N/this.transform.tileSize),ne=180*Math.atan2(H,-T)/Math.PI;let te=180*Math.acos(O/N)/Math.PI;return te=A<0?90-te:90+te,{center:L.toLngLat(),zoom:W,pitch:te,bearing:ne}}easeTo(s,f){this._stop(!1,s.easeId),(!1===(s=_.e({offset:[0,0],duration:500,easing:_.bb},s)).animate||!s.essential&&_.h.prefersReducedMotion)&&(s.duration=0);const m=this._getTransformForUpdate(),v=this.getZoom(),x=this.getBearing(),L=this.getPitch(),H=this.getPadding(),T="zoom"in s?+s.zoom:v,A="bearing"in s?this._normalizeBearing(s.bearing,x):x,N="pitch"in s?+s.pitch:L,O="padding"in s?s.padding:m.padding,W=_.P.convert(s.offset);let ne=m.centerPoint.add(W);const te=m.pointLocation(ne),ae=_.L.convert(s.center||te);this._normalizeCenter(ae);const Q=m.project(te),ye=m.project(ae).sub(Q),Pe=m.zoomScale(T-v);let le,Ce;s.around&&(le=_.L.convert(s.around),Ce=m.locationPoint(le));const ke={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||T!==v,this._rotating=this._rotating||x!==A,this._pitching=this._pitching||N!==L,this._padding=!m.isPaddingEqual(O),this._easeId=s.easeId,this._prepareEase(f,s.noMoveStart,ke),this.terrain&&this._prepareElevation(ae),this._ease(Ie=>{if(this._zooming&&(m.zoom=_.B.number(v,T,Ie)),this._rotating&&(m.bearing=_.B.number(x,A,Ie)),this._pitching&&(m.pitch=_.B.number(L,N,Ie)),this._padding&&(m.interpolatePadding(H,O,Ie),ne=m.centerPoint.add(W)),this.terrain&&!s.freezeElevation&&this._updateElevation(Ie),le)m.setLocationAtPoint(le,Ce);else{const Be=m.zoomScale(m.zoom-v),Je=T>v?Math.min(2,Pe):Math.max(.5,Pe),We=Math.pow(Je,1-Ie),Xe=m.unproject(Q.add(ye.mult(Ie*We)).mult(Be));m.setLocationAtPoint(m.renderWorldCopies?Xe.wrap():Xe,ne)}this._applyUpdatedTransform(m),this._fireMoveEvents(f)},Ie=>{this.terrain&&this._finalizeElevation(),this._afterEase(f,Ie)},s),this}_prepareEase(s,f,m={}){this._moving=!0,f||m.moving||this.fire(new _.k("movestart",s)),this._zooming&&!m.zooming&&this.fire(new _.k("zoomstart",s)),this._rotating&&!m.rotating&&this.fire(new _.k("rotatestart",s)),this._pitching&&!m.pitching&&this.fire(new _.k("pitchstart",s))}_prepareElevation(s){this._elevationCenter=s,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(s,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(s){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(s<1&&f!==this._elevationTarget){const m=this._elevationTarget-this._elevationStart;this._elevationStart+=s*(m-(f-(m*s+this._elevationStart))/(1-s)),this._elevationTarget=f}this.transform.elevation=_.B.number(this._elevationStart,this._elevationTarget,s)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(s){if(!this.transformCameraUpdate)return;const f=s.clone(),{center:m,zoom:v,pitch:x,bearing:L,elevation:H}=this.transformCameraUpdate(f);m&&(f.center=m),void 0!==v&&(f.zoom=v),void 0!==x&&(f.pitch=x),void 0!==L&&(f.bearing=L),void 0!==H&&(f.elevation=H),this.transform.apply(f)}_fireMoveEvents(s){this.fire(new _.k("move",s)),this._zooming&&this.fire(new _.k("zoom",s)),this._rotating&&this.fire(new _.k("rotate",s)),this._pitching&&this.fire(new _.k("pitch",s))}_afterEase(s,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;const m=this._zooming,v=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new _.k("zoomend",s)),v&&this.fire(new _.k("rotateend",s)),x&&this.fire(new _.k("pitchend",s)),this.fire(new _.k("moveend",s))}flyTo(s,f){if(!s.essential&&_.h.prefersReducedMotion){const b1=_.F(s,["center","zoom","bearing","pitch","around"]);return this.jumpTo(b1,f)}this.stop(),s=_.e({offset:[0,0],speed:1.2,curve:1.42,easing:_.bb},s);const m=this._getTransformForUpdate(),v=this.getZoom(),x=this.getBearing(),L=this.getPitch(),H=this.getPadding(),T="zoom"in s?_.ad(+s.zoom,m.minZoom,m.maxZoom):v,A="bearing"in s?this._normalizeBearing(s.bearing,x):x,N="pitch"in s?+s.pitch:L,O="padding"in s?s.padding:m.padding,W=m.zoomScale(T-v),ne=_.P.convert(s.offset);let te=m.centerPoint.add(ne);const ae=m.pointLocation(te),Q=_.L.convert(s.center||ae);this._normalizeCenter(Q);const ye=m.project(ae),Pe=m.project(Q).sub(ye);let le=s.curve;const Ce=Math.max(m.width,m.height),ke=Ce/W,Ie=Pe.mag();if("minZoom"in s){const b1=_.ad(Math.min(s.minZoom,v,T),m.minZoom,m.maxZoom),zt=Ce/m.zoomScale(b1-v);le=Math.sqrt(zt/Ie*2)}const Be=le*le;function Je(b1){const zt=(ke*ke-Ce*Ce+(b1?-1:1)*Be*Be*Ie*Ie)/(2*(b1?ke:Ce)*Be*Ie);return Math.log(Math.sqrt(zt*zt+1)-zt)}function We(b1){return(Math.exp(b1)-Math.exp(-b1))/2}function Xe(b1){return(Math.exp(b1)+Math.exp(-b1))/2}const v1=Je(!1);let $1=function(b1){return Xe(v1)/Xe(v1+le*b1)},s1=function(b1){return Ce*((Xe(v1)*(We(zt=v1+le*b1)/Xe(zt))-We(v1))/Be)/Ie;var zt},I1=(Je(!0)-v1)/le;if(Math.abs(Ie)<1e-6||!isFinite(I1)){if(Math.abs(Ce-ke)<1e-6)return this.easeTo(s,f);const b1=ke<Ce?-1:1;I1=Math.abs(Math.log(ke/Ce))/le,s1=function(){return 0},$1=function(zt){return Math.exp(b1*le*zt)}}return s.duration="duration"in s?+s.duration:1e3*I1/("screenSpeed"in s?+s.screenSpeed/le:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=x!==A,this._pitching=N!==L,this._padding=!m.isPaddingEqual(O),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(Q),this._ease(b1=>{const zt=b1*I1,rt=1/$1(zt);m.zoom=1===b1?T:v+m.scaleZoom(rt),this._rotating&&(m.bearing=_.B.number(x,A,b1)),this._pitching&&(m.pitch=_.B.number(L,N,b1)),this._padding&&(m.interpolatePadding(H,O,b1),te=m.centerPoint.add(ne)),this.terrain&&!s.freezeElevation&&this._updateElevation(b1);const Q1=1===b1?Q:m.unproject(ye.add(Pe.mult(s1(zt))).mult(rt));m.setLocationAtPoint(m.renderWorldCopies?Q1.wrap():Q1,te),this._applyUpdatedTransform(m),this._fireMoveEvents(f)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(f)},s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const m=this._onEaseEnd;delete this._onEaseEnd,m.call(this,f)}if(!s){const m=this.handlers;m&&m.stop(!1)}return this}_ease(s,f,m){!1===m.animate||0===m.duration?(s(1),f()):(this._easeStart=_.h.now(),this._easeOptions=m,this._onEaseFrame=s,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(s,f){s=_.b5(s,-180,180);const m=Math.abs(s-f);return Math.abs(s-360-f)<m&&(s-=360),Math.abs(s+360-f)<m&&(s+=360),s}_normalizeCenter(s){const f=this.transform;if(!f.renderWorldCopies||f.lngRange)return;const m=s.lng-f.center.lng;s.lng+=m>180?-360:m<-180?360:0}queryTerrainElevation(s){return this.terrain?this.terrain.getElevationForLngLatZoom(_.L.convert(s),this.transform.tileZoom)-this.transform.elevation:null}}class q2{constructor(s={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||"metadata"!==f.sourceDataType&&"visibility"!==f.sourceDataType&&"style"!==f.dataType&&"terrain"!==f.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=s}getDefaultPosition(){return"bottom-right"}onAdd(s){return this._map=s,this._compact=this.options&&this.options.compact,this._container=Re.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=Re.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Re.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){Re.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(s,f){const m=this._map._getUIString(`AttributionControl.${f}`);s.title=m,s.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map(v=>"string"!=typeof v?"":v)):"string"==typeof this.options.customAttribution&&s.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const f=this._map.style.sourceCaches;for(const v in f){const x=f[v];if(x.used||x.usedForTerrain){const L=x.getSource();L.attribution&&s.indexOf(L.attribution)<0&&s.push(L.attribution)}}s=s.filter(v=>String(v).trim()),s.sort((v,x)=>v.length-x.length),s=s.filter((v,x)=>{for(let L=x+1;L<s.length;L++)if(s[L].indexOf(v)>=0)return!1;return!0});const m=s.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,s.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class _1{constructor(s={}){this._updateCompact=()=>{const f=this._container.children;if(f.length){const m=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=s}getDefaultPosition(){return"bottom-left"}onAdd(s){this._map=s,this._compact=this.options&&this.options.compact,this._container=Re.create("div","maplibregl-ctrl");const f=Re.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){Re.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class r3{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){const f=++this._id;return this._queue.push({callback:s,id:f,cancelled:!1}),f}remove(s){const f=this._currentlyRunning,m=f?this._queue.concat(f):this._queue;for(const v of m)if(v.id===s)return void(v.cancelled=!0)}run(s=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const m of f)if(!m.cancelled&&(m.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ps={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var O3=_.Q([{name:"a_pos3d",type:"Int16",components:3}]);class p2 extends _.E{constructor(s){super(),this.sourceCache=s,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,s.usedForTerrain=!0,s.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(s,f){this.sourceCache.update(s,f),this._renderableTilesKeys=[];const m={};for(const v of s.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f}))m[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),_.aS(v.posMatrix,0,_.N,0,_.N,0,1),this._tiles[v.key]=new L3(v,this.tileSize));for(const v in this._tiles)m[v]||delete this._tiles[v]}freeRtt(s){for(const f in this._tiles){const m=this._tiles[f];(!s||m.tileID.equals(s)||m.tileID.isChildOf(s)||s.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(s=>this.getTileByID(s))}getTileByID(s){return this._tiles[s]}getTerrainCoords(s){const f={};for(const m of this._renderableTilesKeys){const v=this._tiles[m].tileID;if(v.canonical.equals(s.canonical)){const x=s.clone();x.posMatrix=new Float64Array(16),_.aS(x.posMatrix,0,_.N,0,_.N,0,1),f[m]=x}else if(v.canonical.isChildOf(s.canonical)){const x=s.clone();x.posMatrix=new Float64Array(16);const L=v.canonical.z-s.canonical.z,H=v.canonical.x-(v.canonical.x>>L<<L),T=v.canonical.y-(v.canonical.y>>L<<L),A=_.N>>L;_.aS(x.posMatrix,0,A,0,A,0,1),_.$(x.posMatrix,x.posMatrix,[-H*A,-T*A,0]),f[m]=x}else if(s.canonical.isChildOf(v.canonical)){const x=s.clone();x.posMatrix=new Float64Array(16);const L=s.canonical.z-v.canonical.z,H=s.canonical.x-(s.canonical.x>>L<<L),T=s.canonical.y-(s.canonical.y>>L<<L),A=_.N>>L;_.aS(x.posMatrix,0,_.N,0,_.N,0,1),_.$(x.posMatrix,x.posMatrix,[H*A,T*A,0]),_.a0(x.posMatrix,x.posMatrix,[1/2**L,1/2**L,0]),f[m]=x}}return f}getSourceTile(s,f){const m=this.sourceCache._source;let v=s.overscaledZ-this.deltaZoom;if(v>m.maxzoom&&(v=m.maxzoom),v<m.minzoom)return null;this._sourceTileCache[s.key]||(this._sourceTileCache[s.key]=s.scaledTo(v).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[s.key]);if((!x||!x.dem)&&f)for(;v>=m.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(s.scaledTo(v--).key);return x}tilesAfterTime(s=Date.now()){return Object.values(this._tiles).filter(f=>f.timeAdded>=s)}}class Va{constructor(s,f,m){this.painter=s,this.sourceCache=new p2(f),this.options=m,this.exaggeration="number"==typeof m.exaggeration?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(s,f,m,v=_.N){var x;if(!(f>=0&&f<v&&m>=0&&m<v))return 0;const L=this.getTerrainData(s),H=null===(x=L.tile)||void 0===x?void 0:x.dem;if(!H)return 0;const T=((te=[])[0]=(Q=L.u_terrain_matrix)[0]*(ye=(ae=[f/v*_.N,m/v*_.N])[0])+Q[4]*(Pe=ae[1])+Q[12],te[1]=Q[1]*ye+Q[5]*Pe+Q[13],te),A=[T[0]*H.dim,T[1]*H.dim],N=Math.floor(A[0]),O=Math.floor(A[1]),W=A[0]-N,ne=A[1]-O;var te,ae,Q,ye,Pe;return H.get(N,O)*(1-W)*(1-ne)+H.get(N+1,O)*W*(1-ne)+H.get(N,O+1)*(1-W)*ne+H.get(N+1,O+1)*W*ne}getElevationForLngLatZoom(s,f){const{tileID:m,mercatorX:v,mercatorY:x}=this._getOverscaledTileIDFromLngLatZoom(s,f);return this.getElevation(m,v%_.N,x%_.N,_.N)}getElevation(s,f,m,v=_.N){return this.getDEMElevation(s,f,m,v)*this.exaggeration}getTerrainData(s){if(!this._emptyDemTexture){const v=this.painter.context,x=new _.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Qt(v,x,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Qt(v,new _.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=_.ao([])}const f=this.sourceCache.getSourceTile(s,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const v=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new Qt(v,f.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),f.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const m=f&&f+f.tileID.key+s.key;if(m&&!this._demMatrixCache[m]){const v=this.sourceCache.sourceCache._source.maxzoom;let x=s.canonical.z-f.tileID.canonical.z;s.overscaledZ>s.canonical.z&&(s.canonical.z>=v?x=s.canonical.z-v:_.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const L=s.canonical.x-(s.canonical.x>>x<<x),H=s.canonical.y-(s.canonical.y>>x<<x),T=_.bc(new Float64Array(16),[1/(_.N<<x),1/(_.N<<x),0]);_.$(T,T,[L*_.N,H*_.N,0]),this._demMatrixCache[s.key]={matrix:T,coord:s}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[s.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(s){const f=this.painter,m=f.width/devicePixelRatio,v=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Qt(f.context,{width:m,height:v,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Qt(f.context,{width:m,height:v,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(m,v,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,m,v))),this._fbo.colorAttachment.set("coords"===s?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const s=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,L=0;x<this._coordsTextureSize;x++)for(let H=0;H<this._coordsTextureSize;H++,L+=4)f[L+0]=255&H,f[L+1]=255&x,f[L+2]=H>>8<<4|x>>8,f[L+3]=0;const m=new _.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),v=new Qt(s,m,s.gl.RGBA,{premultiply:!1});return v.bind(s.gl.NEAREST,s.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(s){const f=new Uint8Array(4),m=this.painter.context,v=m.gl;m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(s.x,this.painter.height/devicePixelRatio-s.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,f),m.bindFramebuffer.set(null);const x=f[0]+(f[2]>>4<<8),L=f[1]+((15&f[2])<<8),H=this.coordsIndex[255-f[3]],T=H&&this.sourceCache.getTileByID(H);if(!T)return null;const A=this._coordsTextureSize,N=(1<<T.tileID.canonical.z)*A;return new _.U((T.tileID.canonical.x*A+x)/N,(T.tileID.canonical.y*A+L)/N,this.getElevation(T.tileID,x,L,A))}getTerrainMesh(){if(this._mesh)return this._mesh;const s=this.painter.context,f=new _.bd,m=new _.b0,v=this.meshSize,x=_.N/v,L=v*v;for(let O=0;O<=v;O++)for(let W=0;W<=v;W++)f.emplaceBack(W*x,O*x,0);for(let O=0;O<L;O+=v+1)for(let W=0;W<v;W++)m.emplaceBack(W+O,v+W+O+1,v+W+O+2),m.emplaceBack(W+O,v+W+O+2,W+O+1);const H=f.length,T=H+2*(v+1);for(const O of[0,1])for(let W=0;W<=v;W++)for(const ne of[0,1])f.emplaceBack(W*x,O*_.N,ne);for(let O=0;O<2*v;O+=2)m.emplaceBack(T+O,T+O+1,T+O+3),m.emplaceBack(T+O,T+O+3,T+O+2),m.emplaceBack(H+O,H+O+3,H+O+1),m.emplaceBack(H+O,H+O+2,H+O+3);const A=f.length,N=A+2*(v+1);for(const O of[0,1])for(let W=0;W<=v;W++)for(const ne of[0,1])f.emplaceBack(O*_.N,W*x,ne);for(let O=0;O<2*v;O+=2)m.emplaceBack(A+O,A+O+1,A+O+3),m.emplaceBack(A+O,A+O+3,A+O+2),m.emplaceBack(N+O,N+O+3,N+O+1),m.emplaceBack(N+O,N+O+2,N+O+3);return this._mesh={indexBuffer:s.createIndexBuffer(m),vertexBuffer:s.createVertexBuffer(f,O3.members),segments:_.S.simpleSegment(0,0,f.length,m.length)},this._mesh}getMeshFrameDelta(s){return 2*Math.PI*_.be/Math.pow(2,s)/5}getMinTileElevationForLngLatZoom(s,f){var m;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(s,f);return null!==(m=this.getMinMaxElevation(v).minElevation)&&void 0!==m?m:0}getMinMaxElevation(s){const f=this.getTerrainData(s).tile,m={minElevation:null,maxElevation:null};return f&&f.dem&&(m.minElevation=f.dem.min*this.exaggeration,m.maxElevation=f.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(s,f){const m=_.U.fromLngLat(s.wrap()),v=(1<<f)*_.N,x=m.x*v,L=m.y*v,H=Math.floor(x/_.N),T=Math.floor(L/_.N);return{tileID:new _.O(f,0,f,H,T),mercatorX:x,mercatorY:L}}}class Ea{constructor(s,f,m){this._context=s,this._size=f,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const s of this._objects)s.texture.destroy(),s.fbo.destroy()}_createObject(s){const f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new Qt(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(m.texture),{id:s,fbo:f,texture:m,stamp:-1,inUse:!1}}getObjectForId(s){return this._objects[s]}useObject(s){s.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(f=>s.id!==f),this._recentlyUsed.push(s.id)}stampObject(s){s.stamp=++this._stamp}getOrCreateFreeObject(){for(const f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const s=this._createObject(this._objects.length);return this._objects.push(s),s}freeObject(s){s.inUse=!1}freeAllObjects(){for(const s of this._objects)this.freeObject(s)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(s=>!s.inUse)}}const t2={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class a3{constructor(s,f){this.painter=s,this.terrain=f,this.pool=new Ea(s.context,30,f.sourceCache.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(s){return this.pool.getObjectForId(s.rtt[this._stacks.length-1].id).texture}prepareForRender(s,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=s._order.filter(m=>!s._layers[m].isHidden(f)),this._coordsDescendingInv={};for(const m in s.sourceCaches){this._coordsDescendingInv[m]={};const v=s.sourceCaches[m].getVisibleCoordinates();for(const x of v){const L=this.terrain.sourceCache.getTerrainCoords(x);for(const H in L)this._coordsDescendingInv[m][H]||(this._coordsDescendingInv[m][H]=[]),this._coordsDescendingInv[m][H].push(L[H])}}this._coordsDescendingInvStr={};for(const m of s._order){const v=s._layers[m],x=v.source;if(t2[v.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const L in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][L]=this._coordsDescendingInv[x][L].map(H=>H.key).sort().join()}}for(const m of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[v][m.tileID.key];x&&x!==m.rttCoords[v]&&(m.rtt=[])}}renderLayer(s){if(s.isHidden(this.painter.transform.zoom))return!1;const f=s.type,m=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===s.id;if(t2[f]&&(this._prevType&&t2[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(s.id),!v))return!0;if(t2[this._prevType]||t2[f]&&v){this._prevType=f;const x=this._stacks.length-1,L=this._stacks[x]||[];for(const H of this._renderableTiles){if(this.pool.isFull()&&(O1(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(H),H.rtt[x]){const A=this.pool.getObjectForId(H.rtt[x].id);if(A.stamp===H.rtt[x].stamp){this.pool.useObject(A);continue}}const T=this.pool.getOrCreateFreeObject();this.pool.useObject(T),this.pool.stampObject(T),H.rtt[x]={id:T.id,stamp:T.stamp},m.context.bindFramebuffer.set(T.fbo.framebuffer),m.context.clear({color:_.aT.transparent,stencil:0}),m.currentStencilSource=void 0;for(let A=0;A<L.length;A++){const N=m.style._layers[L[A]],O=N.source?this._coordsDescendingInv[N.source][H.tileID.key]:[H.tileID];m.context.viewport.set([0,0,T.fbo.width,T.fbo.height]),m._renderTileClippingMasks(N,O),m.renderLayer(m,m.style.sourceCaches[N.source],N,O),N.source&&(H.rttCoords[N.source]=this._coordsDescendingInvStr[N.source][H.tileID.key])}}return O1(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),t2[f]}return!1}}const H1={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:_.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},oi=C=>{C.touchstart=C.dragStart,C.touchmoveWindow=C.dragMove,C.touchend=C.dragEnd},R3={showCompass:!0,showZoom:!0,visualizePitch:!1};class F3{constructor(s,f,m=!1){this.mousedown=L=>{this.startMouse(_.e({},L,{ctrlKey:!0,preventDefault:()=>L.preventDefault()}),Re.mousePos(this.element,L)),Re.addEventListener(window,"mousemove",this.mousemove),Re.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=L=>{this.moveMouse(L,Re.mousePos(this.element,L))},this.mouseup=L=>{this.mouseRotate.dragEnd(L),this.mousePitch&&this.mousePitch.dragEnd(L),this.offTemp()},this.touchstart=L=>{1!==L.targetTouches.length?this.reset():(this._startPos=this._lastPos=Re.touchPos(this.element,L.targetTouches)[0],this.startTouch(L,this._startPos),Re.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),Re.addEventListener(window,"touchend",this.touchend))},this.touchmove=L=>{1!==L.targetTouches.length?this.reset():(this._lastPos=Re.touchPos(this.element,L.targetTouches)[0],this.moveTouch(L,this._lastPos))},this.touchend=L=>{0===L.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=s.dragRotate._mouseRotate.getClickTolerance(),x=s.dragRotate._mousePitch.getClickTolerance();this.element=f,this.mouseRotate=La({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:L,clickTolerance:H,bearingDegreesPerPixelMoved:T=.8})=>{const A=new N2;return new Lr({clickTolerance:H,move:(N,O)=>({bearingDelta:(O.x-N.x)*T}),moveStateManager:A,enable:L,assignEvents:oi})})({clickTolerance:v,enable:!0}),this.map=s,m&&(this.mousePitch=Hr({clickTolerance:x,enable:!0}),this.touchPitch=(({enable:L,clickTolerance:H,pitchDegreesPerPixelMoved:T=-.5})=>{const A=new N2;return new Lr({clickTolerance:H,move:(N,O)=>({pitchDelta:(O.y-N.y)*T}),moveStateManager:A,enable:L,assignEvents:oi})})({clickTolerance:x,enable:!0})),Re.addEventListener(f,"mousedown",this.mousedown),Re.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),Re.addEventListener(f,"touchcancel",this.reset)}startMouse(s,f){this.mouseRotate.dragStart(s,f),this.mousePitch&&this.mousePitch.dragStart(s,f),Re.disableDrag()}startTouch(s,f){this.touchRotate.dragStart(s,f),this.touchPitch&&this.touchPitch.dragStart(s,f),Re.disableDrag()}moveMouse(s,f){const m=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(s,f)||{};if(v&&m.setBearing(m.getBearing()+v),this.mousePitch){const{pitchDelta:x}=this.mousePitch.dragMove(s,f)||{};x&&m.setPitch(m.getPitch()+x)}}moveTouch(s,f){const m=this.map,{bearingDelta:v}=this.touchRotate.dragMove(s,f)||{};if(v&&m.setBearing(m.getBearing()+v),this.touchPitch){const{pitchDelta:x}=this.touchPitch.dragMove(s,f)||{};x&&m.setPitch(m.getPitch()+x)}}off(){const s=this.element;Re.removeEventListener(s,"mousedown",this.mousedown),Re.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),Re.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),Re.removeEventListener(window,"touchend",this.touchend),Re.removeEventListener(s,"touchcancel",this.reset),this.offTemp()}offTemp(){Re.enableDrag(),Re.removeEventListener(window,"mousemove",this.mousemove),Re.removeEventListener(window,"mouseup",this.mouseup),Re.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),Re.removeEventListener(window,"touchend",this.touchend)}}let k1;function kc(C,s,f){if(C=new _.L(C.lng,C.lat),s){const m=new _.L(C.lng-360,C.lat),v=new _.L(C.lng+360,C.lat),x=f.locationPoint(C).distSqr(s);f.locationPoint(m).distSqr(s)<x?C=m:f.locationPoint(v).distSqr(s)<x&&(C=v)}for(;Math.abs(C.lng-f.center.lng)>180;){const m=f.locationPoint(C);if(m.x>=0&&m.y>=0&&m.x<=f.width&&m.y<=f.height)break;C.lng>f.center.lng?C.lng-=360:C.lng+=360}return C}const Gn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function _o(C,s,f){const m=C.classList;for(const v in Gn)m.remove(`maplibregl-${f}-anchor-${v}`);m.add(`maplibregl-${f}-anchor-${s}`)}class vn extends _.E{constructor(s){if(super(),this._onKeyPress=f=>{const m=f.code,v=f.charCode||f.keyCode;"Space"!==m&&"Enter"!==m&&32!==v&&13!==v||this.togglePopup()},this._onMapClick=f=>{const m=f.originalEvent.target,v=this._element;this._popup&&(m===v||v.contains(m))&&this.togglePopup()},this._update=f=>{if(!this._map)return;const m=this._map.loaded()&&!this._map.isMoving();("terrain"===f?.type||"render"===f?.type&&!m)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=kc(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let v="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?v=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(v=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let x="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?x="rotateX(0deg)":"map"===this._pitchAlignment&&(x=`rotateX(${this._map.getPitch()}deg)`),f&&"moveend"!==f.type||(this._pos=this._pos.round()),Re.setTransform(this._element,`${Gn[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${x} ${v}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const L=this._map.unproject(this._pos),H=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=L.distanceTo(this._lngLat)>20*H?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=f=>{if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new _.k("dragstart"))),this.fire(new _.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new _.k("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&"auto"!==s.pitchAlignment?s.pitchAlignment:this._rotationAlignment,s&&s.element)this._element=s.element,this._offset=_.P.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=Re.create("div"),this._element.setAttribute("aria-label","Map marker");const f=Re.createNS("http://www.w3.org/2000/svg","svg"),m=41,v=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${m}px`),f.setAttributeNS(null,"width",`${v}px`),f.setAttributeNS(null,"viewBox",`0 0 ${v} ${m}`);const x=Re.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");const L=Re.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"fill-rule","nonzero");const H=Re.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"transform","translate(3.0, 29.0)"),H.setAttributeNS(null,"fill","#000000");const T=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ye of T){const Pe=Re.createNS("http://www.w3.org/2000/svg","ellipse");Pe.setAttributeNS(null,"opacity","0.04"),Pe.setAttributeNS(null,"cx","10.5"),Pe.setAttributeNS(null,"cy","5.80029008"),Pe.setAttributeNS(null,"rx",ye.rx),Pe.setAttributeNS(null,"ry",ye.ry),H.appendChild(Pe)}const A=Re.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"fill",this._color);const N=Re.createNS("http://www.w3.org/2000/svg","path");N.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),A.appendChild(N);const O=Re.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"opacity","0.25"),O.setAttributeNS(null,"fill","#000000");const W=Re.createNS("http://www.w3.org/2000/svg","path");W.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),O.appendChild(W);const ne=Re.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ne.setAttributeNS(null,"fill","#FFFFFF");const te=Re.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ae=Re.createNS("http://www.w3.org/2000/svg","circle");ae.setAttributeNS(null,"fill","#000000"),ae.setAttributeNS(null,"opacity","0.25"),ae.setAttributeNS(null,"cx","5.5"),ae.setAttributeNS(null,"cy","5.5"),ae.setAttributeNS(null,"r","5.4999962");const Q=Re.createNS("http://www.w3.org/2000/svg","circle");Q.setAttributeNS(null,"fill","#FFFFFF"),Q.setAttributeNS(null,"cx","5.5"),Q.setAttributeNS(null,"cy","5.5"),Q.setAttributeNS(null,"r","5.4999962"),te.appendChild(ae),te.appendChild(Q),L.appendChild(H),L.appendChild(A),L.appendChild(O),L.appendChild(ne),L.appendChild(te),f.appendChild(L),f.setAttributeNS(null,"height",m*this._scale+"px"),f.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(f),this._offset=_.P.convert(s&&s.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",f=>{f.preventDefault()}),this._element.addEventListener("mousedown",f=>{f.preventDefault()}),_o(this._element,this._anchor,"marker"),s&&s.className)for(const f of s.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(s){return this.remove(),this._map=s,s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),s.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),Re.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=_.L.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){const v=Math.abs(13.5)/Math.SQRT2;s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(24.6+v)],"bottom-right":[-v,-1*(24.6+v)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=s,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const s=this._popup;return s?(s.isOpen()?s.remove():s.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(s){return this._offset=_.P.convert(s),this._update(),this}addClassName(s){this._element.classList.add(s)}removeClassName(s){this._element.classList.remove(s)}toggleClassName(s){return this._element.classList.toggle(s)}setDraggable(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s&&"auto"!==s?s:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const Ut={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Pt=0,hr=!1;const x2={maxWidth:100,unit:"metric"};function ms(C,s,f){const m=f&&f.maxWidth||100,v=C._container.clientHeight/2,x=C.unproject([0,v]),L=C.unproject([m,v]),H=x.distanceTo(L);if(f&&"imperial"===f.unit){const T=3.2808*H;T>5280?V2(s,m,T/5280,C._getUIString("ScaleControl.Miles")):V2(s,m,T,C._getUIString("ScaleControl.Feet"))}else f&&"nautical"===f.unit?V2(s,m,H/1852,C._getUIString("ScaleControl.NauticalMiles")):H>=1e3?V2(s,m,H/1e3,C._getUIString("ScaleControl.Kilometers")):V2(s,m,H,C._getUIString("ScaleControl.Meters"))}function V2(C,s,f,m){const v=function(x){const L=Math.pow(10,`${Math.floor(x)}`.length-1);let H=x/L;return H=H>=10?10:H>=5?5:H>=3?3:H>=2?2:H>=1?1:function(T){const A=Math.pow(10,Math.ceil(-Math.log(T)/Math.LN10));return Math.round(T*A)/A}(H),L*H}(f);C.style.width=s*(v/f)+"px",C.innerHTML=`${v}&nbsp;${m}`}const cn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},m4=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Li(C){if(C){if("number"==typeof C){const s=Math.round(Math.abs(C)/Math.SQRT2);return{center:new _.P(0,0),top:new _.P(0,C),"top-left":new _.P(s,s),"top-right":new _.P(-s,s),bottom:new _.P(0,-C),"bottom-left":new _.P(s,-s),"bottom-right":new _.P(-s,-s),left:new _.P(C,0),right:new _.P(-C,0)}}if(C instanceof _.P||Array.isArray(C)){const s=_.P.convert(C);return{center:s,top:s,"top-left":s,"top-right":s,bottom:s,"bottom-left":s,"bottom-right":s,left:s,right:s}}return{center:_.P.convert(C.center||[0,0]),top:_.P.convert(C.top||[0,0]),"top-left":_.P.convert(C["top-left"]||[0,0]),"top-right":_.P.convert(C["top-right"]||[0,0]),bottom:_.P.convert(C.bottom||[0,0]),"bottom-left":_.P.convert(C["bottom-left"]||[0,0]),"bottom-right":_.P.convert(C["bottom-right"]||[0,0]),left:_.P.convert(C.left||[0,0]),right:_.P.convert(C.right||[0,0])}}return Li(new _.P(0,0))}const Ta={extend:(C,...s)=>_.e(C,...s),run(C){C()},logToElement(C,s=!1,f="log"){const m=window.document.getElementById(f);m&&(s&&(m.innerHTML=""),m.innerHTML+=`<br>${C}`)}};class gt{static get version(){return"3.6.1"}static get workerCount(){return Ci.workerCount}static set workerCount(s){Ci.workerCount=s}static get maxParallelImageRequests(){return _.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(s){_.c.MAX_PARALLEL_IMAGE_REQUESTS=s}static get workerUrl(){return _.c.WORKER_URL}static set workerUrl(s){_.c.WORKER_URL=s}static addProtocol(s,f){_.c.REGISTERED_PROTOCOLS[s]=f}static removeProtocol(s){delete _.c.REGISTERED_PROTOCOLS[s]}}return gt.Map=class extends Tr{constructor(C){if(_.bf.mark(_.bg.create),null!=(C=_.e({},H1,C)).minZoom&&null!=C.maxZoom&&C.minZoom>C.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=C.minPitch&&null!=C.maxPitch&&C.minPitch>C.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=C.minPitch&&C.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=C.maxPitch&&C.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new wi(C.minZoom,C.maxZoom,C.minPitch,C.maxPitch,C.renderWorldCopies),{bearingSnap:C.bearingSnap}),this._cooperativeGesturesOnWheel=s=>{this._onCooperativeGesture(s,s[this._metaKey],1)},this._contextLost=s=>{s.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new _.k("webglcontextlost",{originalEvent:s}))},this._contextRestored=s=>{this._setupPainter(),this.resize(),this._update(),this.fire(new _.k("webglcontextrestored",{originalEvent:s}))},this._onMapScroll=s=>{if(s.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=C.interactive,this._cooperativeGestures=C.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=C.maxTileCacheSize,this._maxTileCacheZoomLevels=C.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=C.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=C.preserveDrawingBuffer,this._antialias=C.antialias,this._trackResize=C.trackResize,this._bearingSnap=C.bearingSnap,this._refreshExpiredTiles=C.refreshExpiredTiles,this._fadeDuration=C.fadeDuration,this._crossSourceCollisions=C.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=C.collectResourceTiming,this._renderTaskQueue=new r3,this._controls=[],this._mapId=_.a2(),this._locale=_.e({},ps,C.locale),this._clickTolerance=C.clickTolerance,this._overridePixelRatio=C.pixelRatio,this._maxCanvasSize=C.maxCanvasSize,this.transformCameraUpdate=C.transformCameraUpdate,this._imageQueueHandle=Hn.addThrottleControl(()=>this.isMoving()),this._requestManager=new X4(C.transformRequest),"string"==typeof C.container){if(this._container=document.getElementById(C.container),!this._container)throw new Error(`Container '${C.container}' not found.`)}else{if(!(C.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=C.container}if(C.maxBounds&&this.setMaxBounds(C.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let s=!1;const f=Ui(m=>{this._trackResize&&!this._removed&&this.resize(m)._update()},50);this._resizeObserver=new ResizeObserver(m=>{s?f(m):s=!0}),this._resizeObserver.observe(this._container)}this.handlers=new l2(this,C),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=C.hash&&new za("string"==typeof C.hash&&C.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:C.center,zoom:C.zoom,bearing:C.bearing,pitch:C.pitch}),C.bounds&&(this.resize(),this.fitBounds(C.bounds,_.e({},C.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=C.localIdeographFontFamily,this._validateStyle=C.validateStyle,C.style&&this.setStyle(C.style,{localIdeographFontFamily:C.localIdeographFontFamily}),C.attributionControl&&this.addControl(new q2({customAttribution:C.customAttribution})),C.maplibreLogo&&this.addControl(new _1,C.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",s=>{this._update("style"===s.dataType),this.fire(new _.k(`${s.dataType}data`,s))}),this.on("dataloading",s=>{this.fire(new _.k(`${s.dataType}dataloading`,s))}),this.on("dataabort",s=>{this.fire(new _.k("sourcedataabort",s))})}_getMapId(){return this._mapId}addControl(C,s){if(void 0===s&&(s=C.getDefaultPosition?C.getDefaultPosition():"top-right"),!C||!C.onAdd)return this.fire(new _.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=C.onAdd(this);this._controls.push(C);const m=this._controlPositions[s];return-1!==s.indexOf("bottom")?m.insertBefore(f,m.firstChild):m.appendChild(f),this}removeControl(C){if(!C||!C.onRemove)return this.fire(new _.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const s=this._controls.indexOf(C);return s>-1&&this._controls.splice(s,1),C.onRemove(this),this}hasControl(C){return this._controls.indexOf(C)>-1}calculateCameraOptionsFromTo(C,s,f,m){return null==m&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(C,s,f,m)}resize(C){var s;const f=this._containerDimensions(),m=f[0],v=f[1],x=this._getClampedPixelRatio(m,v);if(this._resizeCanvas(m,v,x),this.painter.resize(m,v,x),this.painter.overLimit()){const H=this.painter.context.gl;this._maxCanvasSize=[H.drawingBufferWidth,H.drawingBufferHeight];const T=this._getClampedPixelRatio(m,v);this._resizeCanvas(m,v,T),this.painter.resize(m,v,T)}this.transform.resize(m,v),null===(s=this._requestedCameraState)||void 0===s||s.resize(m,v);const L=!this._moving;return L&&(this.stop(),this.fire(new _.k("movestart",C)).fire(new _.k("move",C))),this.fire(new _.k("resize",C)),L&&this.fire(new _.k("moveend",C)),this}_getClampedPixelRatio(C,s){const{0:f,1:m}=this._maxCanvasSize,v=this.getPixelRatio(),x=C*v,L=s*v;return Math.min(x>f?f/x:1,L>m?m/L:1)*v}getPixelRatio(){var C;return null!==(C=this._overridePixelRatio)&&void 0!==C?C:devicePixelRatio}setPixelRatio(C){this._overridePixelRatio=C,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(C){return this.transform.setMaxBounds(Rt.convert(C)),this._update()}setMinZoom(C){if((C=C??-2)>=-2&&C<=this.transform.maxZoom)return this.transform.minZoom=C,this._update(),this.getZoom()<C&&this.setZoom(C),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(C){if((C=C??22)>=this.transform.minZoom)return this.transform.maxZoom=C,this._update(),this.getZoom()>C&&this.setZoom(C),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(C){if((C=C??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(C>=0&&C<=this.transform.maxPitch)return this.transform.minPitch=C,this._update(),this.getPitch()<C&&this.setPitch(C),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(C){if((C=C??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(C>=this.transform.minPitch)return this.transform.maxPitch=C,this._update(),this.getPitch()>C&&this.setPitch(C),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(C){return this.transform.renderWorldCopies=C,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(C){return this._cooperativeGestures=C,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(C){return this.transform.locationPoint(_.L.convert(C),this.style&&this.terrain)}unproject(C){return this.transform.pointLocation(_.P.convert(C),this.terrain)}isMoving(){var C;return this._moving||(null===(C=this.handlers)||void 0===C?void 0:C.isMoving())}isZooming(){var C;return this._zooming||(null===(C=this.handlers)||void 0===C?void 0:C.isZooming())}isRotating(){var C;return this._rotating||(null===(C=this.handlers)||void 0===C?void 0:C.isRotating())}_createDelegatedListener(C,s,f){if("mouseenter"===C||"mouseover"===C){let m=!1;return{layer:s,listener:f,delegates:{mousemove:x=>{const L=this.getLayer(s)?this.queryRenderedFeatures(x.point,{layers:[s]}):[];L.length?m||(m=!0,f.call(this,new qn(C,this,x.originalEvent,{features:L}))):m=!1},mouseout:()=>{m=!1}}}}if("mouseleave"===C||"mouseout"===C){let m=!1;return{layer:s,listener:f,delegates:{mousemove:L=>{(this.getLayer(s)?this.queryRenderedFeatures(L.point,{layers:[s]}):[]).length?m=!0:m&&(m=!1,f.call(this,new qn(C,this,L.originalEvent)))},mouseout:L=>{m&&(m=!1,f.call(this,new qn(C,this,L.originalEvent)))}}}}{const m=v=>{const x=this.getLayer(s)?this.queryRenderedFeatures(v.point,{layers:[s]}):[];x.length&&(v.features=x,f.call(this,v),delete v.features)};return{layer:s,listener:f,delegates:{[C]:m}}}}on(C,s,f){if(void 0===f)return super.on(C,s);const m=this._createDelegatedListener(C,s,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[C]=this._delegatedListeners[C]||[],this._delegatedListeners[C].push(m);for(const v in m.delegates)this.on(v,m.delegates[v]);return this}once(C,s,f){if(void 0===f)return super.once(C,s);const m=this._createDelegatedListener(C,s,f);for(const v in m.delegates)this.once(v,m.delegates[v]);return this}off(C,s,f){return void 0===f?super.off(C,s):(this._delegatedListeners&&this._delegatedListeners[C]&&(m=>{const v=this._delegatedListeners[C];for(let x=0;x<v.length;x++){const L=v[x];if(L.layer===s&&L.listener===f){for(const H in L.delegates)this.off(H,L.delegates[H]);return v.splice(x,1),this}}})(),this)}queryRenderedFeatures(C,s){if(!this.style)return[];let f;const m=C instanceof _.P||Array.isArray(C),v=m?C:[[0,0],[this.transform.width,this.transform.height]];if(s=s||(m?{}:C)||{},v instanceof _.P||"number"==typeof v[0])f=[_.P.convert(v)];else{const x=_.P.convert(v[0]),L=_.P.convert(v[1]);f=[x,new _.P(L.x,x.y),L,new _.P(x.x,L.y),x]}return this.style.queryRenderedFeatures(f,s,this.transform)}querySourceFeatures(C,s){return this.style.querySourceFeatures(C,s)}setStyle(C,s){return!1!==(s=_.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},s)).diff&&s.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&C?(this._diffStyle(C,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._updateStyle(C,s))}setTransformRequest(C){return this._requestManager.setTransformRequest(C),this}_getUIString(C){const s=this._locale[C];if(null==s)throw new Error(`Missing UI string '${C}'`);return s}_updateStyle(C,s){if(s.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(C,s));const f=this.style&&s.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!C)),C?(this.style=new an(this,s||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof C?this.style.loadURL(C,s,f):this.style.loadJSON(C,s,f),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new an(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(C,s){if("string"==typeof C){const f=this._requestManager.transformRequest(C,H2.Style);_.f(f,(m,v)=>{m?this.fire(new _.j(m)):v&&this._updateDiff(v,s)})}else"object"==typeof C&&this._updateDiff(C,s)}_updateDiff(C,s){try{this.style.setState(C,s)&&this._update(!0)}catch(f){_.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(C,s)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():_.w("There is no style added to the map.")}addSource(C,s){return this._lazyInitEmptyStyle(),this.style.addSource(C,s),this._update(!0)}isSourceLoaded(C){const s=this.style&&this.style.sourceCaches[C];if(void 0!==s)return s.loaded();this.fire(new _.j(new Error(`There is no source with ID '${C}'`)))}setTerrain(C){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),C){const s=this.style.sourceCaches[C.source];if(!s)throw new Error(`cannot load terrain, because there exists no source with ID: ${C.source}`);for(const f in this.style._layers){const m=this.style._layers[f];"hillshade"===m.type&&m.source===C.source&&_.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Va(this.painter,s,C),this.painter.renderToTexture=new a3(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=f=>{"style"===f.dataType?this.terrain.sourceCache.freeRtt():"source"===f.dataType&&f.tile&&(f.sourceId!==C.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new _.k("terrain",{terrain:C})),this}getTerrain(){var C,s;return null!==(s=null===(C=this.terrain)||void 0===C?void 0:C.options)&&void 0!==s?s:null}areTilesLoaded(){const C=this.style&&this.style.sourceCaches;for(const s in C){const f=C[s]._tiles;for(const m in f){const v=f[m];if("loaded"!==v.state&&"errored"!==v.state)return!1}}return!0}addSourceType(C,s,f){return this._lazyInitEmptyStyle(),this.style.addSourceType(C,s,f)}removeSource(C){return this.style.removeSource(C),this._update(!0)}getSource(C){return this.style.getSource(C)}addImage(C,s,f={}){const{pixelRatio:m=1,sdf:v=!1,stretchX:x,stretchY:L,content:H}=f;if(this._lazyInitEmptyStyle(),!(s instanceof HTMLImageElement||_.a(s))){if(void 0===s.width||void 0===s.height)return this.fire(new _.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:T,height:A,data:N}=s,O=s;return this.style.addImage(C,{data:new _.R({width:T,height:A},new Uint8Array(N)),pixelRatio:m,stretchX:x,stretchY:L,content:H,sdf:v,version:0,userImage:O}),O.onAdd&&O.onAdd(this,C),this}}{const{width:T,height:A,data:N}=_.h.getImageData(s);this.style.addImage(C,{data:new _.R({width:T,height:A},N),pixelRatio:m,stretchX:x,stretchY:L,content:H,sdf:v,version:0})}}updateImage(C,s){const f=this.style.getImage(C);if(!f)return this.fire(new _.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=s instanceof HTMLImageElement||_.a(s)?_.h.getImageData(s):s,{width:v,height:x,data:L}=m;if(void 0===v||void 0===x)return this.fire(new _.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==f.data.width||x!==f.data.height)return this.fire(new _.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const H=!(s instanceof HTMLImageElement||_.a(s));return f.data.replace(L,H),this.style.updateImage(C,f),this}getImage(C){return this.style.getImage(C)}hasImage(C){return C?!!this.style.getImage(C):(this.fire(new _.j(new Error("Missing required image id"))),!1)}removeImage(C){this.style.removeImage(C)}loadImage(C,s){Hn.getImage(this._requestManager.transformRequest(C,H2.Image),s)}listImages(){return this.style.listImages()}addLayer(C,s){return this._lazyInitEmptyStyle(),this.style.addLayer(C,s),this._update(!0)}moveLayer(C,s){return this.style.moveLayer(C,s),this._update(!0)}removeLayer(C){return this.style.removeLayer(C),this._update(!0)}getLayer(C){return this.style.getLayer(C)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(C,s,f){return this.style.setLayerZoomRange(C,s,f),this._update(!0)}setFilter(C,s,f={}){return this.style.setFilter(C,s,f),this._update(!0)}getFilter(C){return this.style.getFilter(C)}setPaintProperty(C,s,f,m={}){return this.style.setPaintProperty(C,s,f,m),this._update(!0)}getPaintProperty(C,s){return this.style.getPaintProperty(C,s)}setLayoutProperty(C,s,f,m={}){return this.style.setLayoutProperty(C,s,f,m),this._update(!0)}getLayoutProperty(C,s){return this.style.getLayoutProperty(C,s)}setGlyphs(C,s={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(C,s),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(C,s,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(C,s,f,m=>{m||this._update(!0)}),this}removeSprite(C){return this._lazyInitEmptyStyle(),this.style.removeSprite(C),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(C,s={}){return this._lazyInitEmptyStyle(),this.style.setSprite(C,s,f=>{f||this._update(!0)}),this}setLight(C,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(C,s),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(C,s){return this.style.setFeatureState(C,s),this._update()}removeFeatureState(C,s){return this.style.removeFeatureState(C,s),this._update()}getFeatureState(C){return this.style.getFeatureState(C)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let C=0,s=0;return this._container&&(C=this._container.clientWidth||400,s=this._container.clientHeight||300),[C,s]}_setupContainer(){const C=this._container;C.classList.add("maplibregl-map");const s=this._canvasContainer=Re.create("div","maplibregl-canvas-container",C);this._interactive&&s.classList.add("maplibregl-interactive"),this._canvas=Re.create("canvas","maplibregl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const f=this._containerDimensions(),m=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],m);const v=this._controlContainer=Re.create("div","maplibregl-control-container",C),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(L=>{x[L]=Re.create("div",`maplibregl-ctrl-${L} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=Re.create("div","maplibregl-cooperative-gesture-screen",this._container);let C="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(C="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${C}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){Re.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(C,s,f){this._canvas.width=Math.floor(f*C),this._canvas.height=Math.floor(f*s),this._canvas.style.width=`${C}px`,this._canvas.style.height=`${s}px`}_setupPainter(){const C={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let s=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{s={requestedAttributes:C},m&&(s.statusMessage=m.statusMessage,s.type=m.type)},{once:!0});const f=this._canvas.getContext("webgl2",C)||this._canvas.getContext("webgl",C);if(!f){const m="Failed to initialize WebGL";throw s?(s.message=m,new Error(JSON.stringify(s))):new Error(m)}this.painter=new cr(f,this.transform),Ai.testSupport(f)}_onCooperativeGesture(C,s,f){return!s&&f<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(C){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||C,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(C){return this._update(),this._renderTaskQueue.add(C)}_cancelRenderFrame(C){this._renderTaskQueue.remove(C)}_render(C){const s=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(C),this._removed)return;let f=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,x=_.h.now();this.style.zoomHistory.update(v,x);const L=new _.a8(v,{now:x,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),H=L.crossFadingFactor();1===H&&H===this._crossFadingFactor||(f=!0,this._crossFadingFactor=H),this.style.update(L)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,showPadding:this.showPadding}),this.fire(new _.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,_.bf.mark(_.bg.load),this.fire(new _.k("load"))),this.style&&(this.style.hasTransitions()||f)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const m=this._sourcesDirty||this._styleDirty||this._placementDirty;return m||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new _.k("idle")),!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,_.bf.mark(_.bg.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var C;this._hash&&this._hash.remove();for(const f of this._controls)f.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),Hn.removeThrottleControl(this._imageQueueHandle),null===(C=this._resizeObserver)||void 0===C||C.disconnect();const s=this.painter.context.gl.getExtension("WEBGL_lose_context");s&&s.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),Re.remove(this._canvasContainer),Re.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),_.bf.clearMetrics(),this._removed=!0,this.fire(new _.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=_.h.frame(C=>{_.bf.frame(C),this._frame=null,this._render(C)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(C){this._showTileBoundaries!==C&&(this._showTileBoundaries=C,this._update())}get showPadding(){return!!this._showPadding}set showPadding(C){this._showPadding!==C&&(this._showPadding=C,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(C){this._showCollisionBoxes!==C&&(this._showCollisionBoxes=C,C?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(C){this._showOverdrawInspector!==C&&(this._showOverdrawInspector=C,this._update())}get repaint(){return!!this._repaint}set repaint(C){this._repaint!==C&&(this._repaint=C,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(C){this._vertices=C,this._update()}get version(){return"3.6.1"}getCameraTargetElevation(){return this.transform.elevation}},gt.NavigationControl=class{constructor(C){this._updateZoomButtons=()=>{const s=this._map.getZoom(),f=s===this._map.getMaxZoom(),m=s===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{const s=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=s},this._setButtonTitle=(s,f)=>{const m=this._map._getUIString(`NavigationControl.${f}`);s.title=m,s.setAttribute("aria-label",m)},this.options=_.e({},R3,C),this._container=Re.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",s=>s.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",s=>this._map.zoomIn({},{originalEvent:s})),Re.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",s=>this._map.zoomOut({},{originalEvent:s})),Re.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",s=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:s}):this._map.resetNorth({},{originalEvent:s})}),this._compassIcon=Re.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(C){return this._map=C,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new F3(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){Re.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(C,s){const f=Re.create("button",C,this._container);return f.type="button",f.addEventListener("click",s),f}},gt.GeolocateControl=class extends _.E{constructor(C){super(),this._onSuccess=s=>{if(this._map){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new _.k("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(s),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new _.k("geolocate",s)),this._finish()}},this._updateCamera=s=>{const f=new _.L(s.coords.longitude,s.coords.latitude),m=s.coords.accuracy,v=this._map.getBearing(),x=_.e({bearing:v},this.options.fitBoundsOptions),L=Rt.fromLngLat(f,m);this._map.fitBounds(L,x,{geolocateSource:!0})},this._updateMarker=s=>{if(s){const f=new _.L(s.coords.longitude,s.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=s.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=s=>{if(this._map){if(this.options.trackUserLocation)if(1===s.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===s.code&&hr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new _.k("error",s)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=s=>{if(this._map){if(this._container.addEventListener("contextmenu",f=>f.preventDefault()),this._geolocateButton=Re.create("button","maplibregl-ctrl-geolocate",this._container),Re.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===s){_.w("Geolocation support is not available so the GeolocateControl will be disabled.");const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{const f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Re.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new vn({element:this._dotElement}),this._circleElement=Re.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new vn({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",f=>{f.geolocateSource||"ACTIVE_LOCK"!==this._watchState||f.originalEvent&&"resize"===f.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new _.k("trackuserlocationend")))})}},this.options=_.e({},Ut,C)}onAdd(C){return this._map=C,this._container=Re.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(s,f=!1){void 0===k1||f?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(m=>{k1="denied"!==m.state,s(k1)}).catch(()=>{k1=!!window.navigator.geolocation,s(k1)}):(k1=!!window.navigator.geolocation,s(k1)):s(k1)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),Re.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Pt=0,hr=!1}_isOutOfMapMaxBounds(C){const s=this._map.getMaxBounds(),f=C.coords;return s&&(f.longitude<s.getWest()||f.longitude>s.getEast()||f.latitude<s.getSouth()||f.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const C=this._map.getBounds(),s=C.getSouthEast(),f=C.getNorthEast(),m=s.distanceTo(f),v=Math.ceil(this._accuracy/(m/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return _.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new _.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Pt--,hr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new _.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new _.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let C;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Pt++,Pt>1?(C={maximumAge:6e5,timeout:0},hr=!0):(C=this.options.positionOptions,hr=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,C)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},gt.AttributionControl=q2,gt.LogoControl=_1,gt.ScaleControl=class{constructor(C){this._onMove=()=>{ms(this._map,this._container,this.options)},this.setUnit=s=>{this.options.unit=s,ms(this._map,this._container,this.options)},this.options=_.e({},x2,C)}getDefaultPosition(){return"bottom-left"}onAdd(C){return this._map=C,this._container=Re.create("div","maplibregl-ctrl maplibregl-ctrl-scale",C.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){Re.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},gt.FullscreenControl=class extends _.E{constructor(C={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,C&&C.container&&(C.container instanceof HTMLElement?this._container=C.container:_.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(C){return this._map=C,this._container||(this._container=this._map.getContainer()),this._controlContainer=Re.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){Re.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const C=this._fullscreenButton=Re.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);Re.create("span","maplibregl-ctrl-icon",C).setAttribute("aria-hidden","true"),C.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const C=this._getTitle();this._fullscreenButton.setAttribute("aria-label",C),this._fullscreenButton.title=C}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new _.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new _.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},gt.TerrainControl=class{constructor(C){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=C}onAdd(C){return this._map=C,this._container=Re.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=Re.create("button","maplibregl-ctrl-terrain",this._container),Re.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){Re.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},gt.Popup=class extends _.E{constructor(C){super(),this.remove=()=>(this._content&&Re.remove(this._content),this._container&&(Re.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new _.k("close")),this),this._onMouseUp=s=>{this._update(s.point)},this._onMouseMove=s=>{this._update(s.point)},this._onDrag=s=>{this._update(s.point)},this._update=s=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=Re.create("div","maplibregl-popup",this._map.getContainer()),this._tip=Re.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const L of this.options.className.split(" "))this._container.classList.add(L);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=kc(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!s)return;const f=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat);let m=this.options.anchor;const v=Li(this.options.offset);if(!m){const L=this._container.offsetWidth,H=this._container.offsetHeight;let T;T=f.y+v.bottom.y<H?["top"]:f.y>this._map.transform.height-H?["bottom"]:[],f.x<L/2?T.push("left"):f.x>this._map.transform.width-L/2&&T.push("right"),m=0===T.length?"bottom":T.join("-")}const x=f.add(v[m]).round();Re.setTransform(this._container,`${Gn[m]} translate(${x.x}px,${x.y}px)`),_o(this._container,m,"popup")},this._onClose=()=>{this.remove()},this.options=_.e(Object.create(cn),C)}addTo(C){return this._map&&this.remove(),this._map=C,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new _.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(C){return this._lngLat=_.L.convert(C),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(C){return this.setDOMContent(document.createTextNode(C))}setHTML(C){const s=document.createDocumentFragment(),f=document.createElement("body");let m;for(f.innerHTML=C;m=f.firstChild,m;)s.appendChild(m);return this.setDOMContent(s)}getMaxWidth(){var C;return null===(C=this._container)||void 0===C?void 0:C.style.maxWidth}setMaxWidth(C){return this.options.maxWidth=C,this._update(),this}setDOMContent(C){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=Re.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(C),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(C){this._container&&this._container.classList.add(C)}removeClassName(C){this._container&&this._container.classList.remove(C)}setOffset(C){return this.options.offset=C,this._update(),this}toggleClassName(C){if(this._container)return this._container.classList.toggle(C)}_createCloseButton(){this.options.closeButton&&(this._closeButton=Re.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const C=this._container.querySelector(m4);C&&C.focus()}},gt.Marker=vn,gt.Style=an,gt.LngLat=_.L,gt.LngLatBounds=Rt,gt.Point=_.P,gt.MercatorCoordinate=_.U,gt.Evented=_.E,gt.AJAXError=_.bh,gt.config=_.c,gt.CanvasSource=ar,gt.GeoJSONSource=Ft,gt.ImageSource=yi,gt.RasterDEMTileSource=z3,gt.RasterTileSource=w3,gt.VectorTileSource=nn,gt.VideoSource=Lt,gt.setRTLTextPlugin=_.bi,gt.getRTLTextPluginStatus=_.bj,gt.prewarm=function(){Ja().acquire(vt)},gt.clearPrewarmedResources=function(){const C=Oi;C&&(C.isPreloaded()&&1===C.numActive()?(C.release(vt),Oi=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Ta.extend(gt,{isSafari:_.ac,getPerformanceMetrics:_.bf.getPerformanceMetrics}),gt}),It}()}},h0=>{h0(h0.s=809)}]);