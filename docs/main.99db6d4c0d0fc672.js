(self.webpackChunkgp=self.webpackChunkgp||[]).push([[179],{115:(o0,Za,Xa)=>{"use strict";function U2(t){return"function"==typeof t}function io(t){const n=t(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const c0=io(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function _(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class X2{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(U2(i))try{i()}catch(o){e=o instanceof c0?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{I1(o)}catch(u){e=e??[],u instanceof c0?e=[...e,...u.errors]:e.push(u)}}if(e)throw new c0(e)}}add(e){var n;if(e&&e!==this)if(this.closed)I1(e);else{if(e instanceof X2){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_(n,e)}remove(e){const{_finalizers:n}=this;n&&_(n,e),e instanceof X2&&e._removeParent(this)}}X2.EMPTY=(()=>{const t=new X2;return t.closed=!0,t})();const Re=X2.EMPTY;function Kn(t){return t instanceof X2||t&&"closed"in t&&U2(t.remove)&&U2(t.add)&&U2(t.unsubscribe)}function I1(t){U2(t)?t():t.unsubscribe()}const Qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ii={setTimeout(t,e,...n){const{delegate:i}=ii;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ii;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function _4(t){ii.setTimeout(()=>{const{onUnhandledError:e}=Qn;if(!e)throw t;e(t)})}function Qi(){}const u3=ln("C",void 0,void 0);function ln(t,e,n){return{kind:t,value:e,error:n}}let ri=null;function O3(t){if(Qn.useDeprecatedSynchronousErrorHandling){const e=!ri;if(e&&(ri={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:i}=ri;if(ri=null,n)throw i}}else t()}class Jn extends X2{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Kn(e)&&e.add(this)):this.destination=er}static create(e,n,i){return new Hi(e,n,i)}next(e){this.isStopped?Ji(function Ya(t){return ln("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ji(function lt(t){return ln("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ji(u3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ai=Function.prototype.bind;function un(t,e){return ai.call(t,e)}class E2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){In(i)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){In(i)}else In(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){In(n)}}}class Hi extends Jn{constructor(e,n,i){let r;if(super(),U2(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Qn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&un(e.next,o),error:e.error&&un(e.error,o),complete:e.complete&&un(e.complete,o)}):r=e}this.destination=new E2(r)}}function In(t){Qn.useDeprecatedSynchronousErrorHandling?function ia(t){Qn.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=t)}(t):_4(t)}function Ji(t,e){const{onStoppedNotification:n}=Qn;n&&ii.setTimeout(()=>n(t,e))}const er={closed:!0,next:Qi,error:function Li(t){throw t},complete:Qi},w3="function"==typeof Symbol&&Symbol.observable||"@@observable";function f3(t){return t}function Dr(t){return 0===t.length?f3:1===t.length?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}let mt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){const o=function z3(t){return t&&t instanceof Jn||function si(t){return t&&U2(t.next)&&U2(t.error)&&U2(t.complete)}(t)&&Kn(t)}(n)?n:new Hi(n,i,r);return O3(()=>{const{operator:u,source:h}=this;o.add(u?u.call(o,h):h?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=tr(i))((r,o)=>{const u=new Hi({next:h=>{try{n(h)}catch(p){o(p),u.unsubscribe()}},error:o,complete:r});this.subscribe(u)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[w3](){return this}pipe(...n){return Dr(n)(this)}toPromise(n){return new(n=tr(n))((i,r)=>{let o;this.subscribe(u=>o=u,u=>r(u),()=>i(o))})}}return t.create=e=>new t(e),t})();function tr(t){var e;return null!==(e=t??Qn.Promise)&&void 0!==e?e:Promise}const ut=io(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fn=(()=>{class t extends mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new C4(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new ut}next(n){O3(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){O3(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){O3(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Re:(this.currentObservers=null,o.push(n),new X2(()=>{this.currentObservers=null,_(o,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){const n=new mt;return n.source=this,n}}return t.create=(e,n)=>new C4(e,n),t})();class C4 extends fn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,e)}error(e){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==i?i:Re}}function nr(t){return U2(t?.lift)}function et(t){return e=>{if(nr(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function $2(t,e,n,i,r){return new S3(t,e,n,i,r)}class S3 extends Jn{constructor(e,n,i,r,o,u){super(e),this.onFinalize=o,this.shouldUnsubscribe=u,this._next=n?function(h){try{n(h)}catch(p){e.error(p)}}:super._next,this._error=r?function(h){try{r(h)}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function d2(t,e){return et((n,i)=>{let r=0;n.subscribe($2(i,o=>{i.next(t.call(e,o,r++))}))})}function B1(t){return this instanceof B1?(this.v=t,this):new B1(t)}function O1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Mn(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(u){return new Promise(function(h,p){!function r(o,u,h,p){Promise.resolve(p).then(function(y){o({value:y,done:h})},u)}(h,p,(u=t[o](u)).done,u.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const G=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function K(t){return U2(t?.then)}function oe(t){return U2(t[w3])}function ue(t){return Symbol.asyncIterator&&U2(t?.[Symbol.asyncIterator])}function Ce(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fe=function me(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ze(t){return U2(t?.[fe])}function Ge(t){return function hn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(E){i[E]&&(r[E]=function(P){return new Promise(function(I,F){o.push([E,P,I,F])>1||h(E,P)})})}function h(E,P){try{!function p(E){E.value instanceof B1?Promise.resolve(E.value.v).then(y,w):z(o[0][2],E)}(i[E](P))}catch(I){z(o[0][3],I)}}function y(E){h("next",E)}function w(E){h("throw",E)}function z(E,P){E(P),o.shift(),o.length&&h(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:i,done:r}=yield B1(n.read());if(r)return yield B1(void 0);yield yield B1(i)}}finally{n.releaseLock()}})}function We(t){return U2(t?.getReader)}function Ue(t){if(t instanceof mt)return t;if(null!=t){if(oe(t))return function A1(t){return new mt(e=>{const n=t[w3]();if(U2(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(G(t))return function W1(t){return new mt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(K(t))return function C1(t){return new mt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,_4)})}(t);if(ue(t))return U1(t);if(ze(t))return function E1(t){return new mt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(We(t))return function p2(t){return U1(Ge(t))}(t)}throw Ce(t)}function U1(t){return new mt(e=>{(function P2(t,e){var n,i,r,o;return function w4(t,e,n,i){return new(n||(n=Promise))(function(o,u){function h(w){try{y(i.next(w))}catch(z){u(z)}}function p(w){try{y(i.throw(w))}catch(z){u(z)}}function y(w){w.done?o(w.value):function r(o){return o instanceof n?o:new n(function(u){u(o)})}(w.value).then(h,p)}y((i=i.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=O1(t);!(i=yield n.next()).done;)if(e.next(i.value),e.closed)return}catch(u){r={error:u}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function X1(t,e,n,i=0,r=!1){const o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function S2(t,e,n=1/0){return U2(e)?S2((i,r)=>d2((o,u)=>e(i,o,r,u))(Ue(t(i,r))),n):("number"==typeof e&&(n=e),et((i,r)=>function f2(t,e,n,i,r,o,u,h){const p=[];let y=0,w=0,z=!1;const E=()=>{z&&!p.length&&!y&&e.complete()},P=F=>y<i?I(F):p.push(F),I=F=>{o&&e.next(F),y++;let $=!1;Ue(n(F,w++)).subscribe($2(e,W=>{r?.(W),o?P(W):e.next(W)},()=>{$=!0},void 0,()=>{if($)try{for(y--;p.length&&y<i;){const W=p.shift();u?X1(e,u,()=>I(W)):I(W)}E()}catch(W){e.error(W)}}))};return t.subscribe($2(e,P,()=>{z=!0,E()})),()=>{h?.()}}(i,r,t,n)))}function D1(t=1/0){return S2(f3,t)}const D2=new mt(t=>t.complete());function so(t){return t[t.length-1]}function Sn(t){return function h3(t){return t&&U2(t.schedule)}(so(t))?t.pop():void 0}function aa(t,e=0){return et((n,i)=>{n.subscribe($2(i,r=>X1(i,t,()=>i.next(r),e),()=>X1(i,t,()=>i.complete(),e),r=>X1(i,t,()=>i.error(r),e)))})}function gt(t,e=0){return et((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function pn(t,e){if(!t)throw new Error("Iterable cannot be null");return new mt(n=>{X1(n,e,()=>{const i=t[Symbol.asyncIterator]();X1(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function zt(t,e){return e?function hi(t,e){if(null!=t){if(oe(t))return function sr(t,e){return Ue(t).pipe(gt(e),aa(e))}(t,e);if(G(t))return function wt(t,e){return new mt(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}(t,e);if(K(t))return function Ar(t,e){return Ue(t).pipe(gt(e),aa(e))}(t,e);if(ue(t))return pn(t,e);if(ze(t))return function Ka(t,e){return new mt(n=>{let i;return X1(n,e,()=>{i=t[fe](),X1(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(u){return void n.error(u)}o?n.complete():n.next(r)},0,!0)}),()=>U2(i?.return)&&i.return()})}(t,e);if(We(t))return function Qa(t,e){return pn(Ge(t),e)}(t,e)}throw Ce(t)}(t,e):Ue(t)}class Nn extends fn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function j1(...t){return zt(t,Sn(t))}function Ei(t={}){const{connector:e=(()=>new fn),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let u,h,p,y=0,w=!1,z=!1;const E=()=>{h?.unsubscribe(),h=void 0},P=()=>{E(),u=p=void 0,w=z=!1},I=()=>{const F=u;P(),F?.unsubscribe()};return et((F,$)=>{y++,!z&&!w&&E();const W=p=p??e();$.add(()=>{y--,0===y&&!z&&!w&&(h=S4(I,r))}),W.subscribe($),!u&&y>0&&(u=new Hi({next:R=>W.next(R),error:R=>{z=!0,E(),h=S4(P,n,R),W.error(R)},complete:()=>{w=!0,E(),h=S4(P,i),W.complete()}}),Ue(F).subscribe(u))})(o)}}function S4(t,e,...n){if(!0===e)return void t();if(!1===e)return;const i=new Hi({next:()=>{i.unsubscribe(),t()}});return Ue(e(...n)).subscribe(i)}function e3(t,e){return et((n,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();n.subscribe($2(i,p=>{r?.unsubscribe();let y=0;const w=o++;Ue(t(p,w)).subscribe(r=$2(i,z=>i.next(e?e(p,z,w,y++):z),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function C6(t,e){return t===e}function M2(t){for(let e in t)if(t[e]===M2)return e;throw Error("Could not find renamed property on target object.")}function At(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(At).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function oo(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const x6=M2({__forward_ref__:M2});function es(t){return t.__forward_ref__=es,t.toString=function(){return At(this())},t}function q1(t){return ts(t)?t():t}function ts(t){return"function"==typeof t&&t.hasOwnProperty(x6)&&t.__forward_ref__===es}function ns(t){return t&&!!t.\u0275providers}const lo="https://g.co/ng/security#xss";class $e extends Error{constructor(e,n){super(function Ir(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function N1(t){return"string"==typeof t?t:null==t?"":String(t)}function kr(t,e){throw new $e(-201,!1)}function On(t,e){null==t&&function Z1(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}(e,t,null,"!=")}function k1(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ti(t){return{providers:t.providers||[],imports:t.imports||[]}}function ss(t){return os(t,V4)||os(t,po)}function os(t,e){return t.hasOwnProperty(e)?t[e]:null}function L4(t){return t&&(t.hasOwnProperty(or)||t.hasOwnProperty(w6))?t[or]:null}const V4=M2({\u0275prov:M2}),or=M2({\u0275inj:M2}),po=M2({ngInjectableDef:M2}),w6=M2({ngInjectorDef:M2});var a2=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(a2||{});let Pi;function $t(t){const e=Pi;return Pi=t,e}function Nr(t,e,n){const i=ss(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&a2.Optional?null:void 0!==e?e:void kr(At(t))}const N2=globalThis,L2={},O2="__NG_DI_FLAG__",di="ngTempTokenPath",Co=/\n/gm,hs="__source";let E4;function V3(t){const e=E4;return E4=t,e}function ds(t,e=a2.Default){if(void 0===E4)throw new $e(-203,!1);return null===E4?Nr(t,void 0,e):E4.get(t,e&a2.Optional?null:void 0,e)}function w1(t,e=a2.Default){return(function mo(){return Pi}()||ds)(q1(t),e)}function x1(t,e=a2.Default){return w1(t,T4(e))}function T4(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bo(t){const e=[];for(let n=0;n<t.length;n++){const i=q1(t[n]);if(Array.isArray(i)){if(0===i.length)throw new $e(900,!1);let r,o=a2.Default;for(let u=0;u<i.length;u++){const h=i[u],p=St(h);"number"==typeof p?-1===p?r=h.token:o|=p:r=h}e.push(w1(r,o))}else e.push(w1(i))}return e}function P4(t,e){return t[O2]=e,t.prototype[O2]=e,t}function St(t){return t[O2]}function F3(t){return{toString:t}.toString()}var Rr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Rr||{}),t3=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(t3||{});const Yt={},h2=[],Fr=M2({\u0275cmp:M2}),ps=M2({\u0275dir:M2}),D4=M2({\u0275pipe:M2}),A4=M2({\u0275mod:M2}),T3=M2({\u0275fac:M2}),lr=M2({__NG_ELEMENT_ID__:M2}),Di=M2({__NG_ENV_ID__:M2});function Mo(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function Br(t,e,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],u=n[i++],h=n[i++];t.setAttribute(e,u,h,o)}else{const o=r,u=n[++i];zo(o)?t.setProperty(e,o,u):t.setAttribute(e,o,u),i++}}return i}function wo(t){return 3===t||4===t||6===t}function zo(t){return 64===t.charCodeAt(0)}function I4(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||So(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function So(t,e,n,i,r){let o=0,u=t.length;if(-1===e)u=-1;else for(;o<t.length;){const h=t[o++];if("number"==typeof h){if(h===e){u=-1;break}if(h>e){u=o-1;break}}}for(;o<t.length;){const h=t[o];if("number"==typeof h)break;if(h===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==u&&(t.splice(u,0,e),o=u+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}const k4="ng-template";function ha(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if("string"==typeof o&&r){const u=t[i++];if(n&&"class"===o&&-1!==Mo(u.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<t.length&&"string"==typeof(o=t[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function n3(t){return 4===t.type&&t.value!==k4}function It(t,e,n){return e===(4!==t.type||n?t.value:k4)}function da(t,e,n){let i=4;const r=t.attrs||[],o=function m0(t){for(let e=0;e<t.length;e++)if(wo(t[e]))return e;return t.length}(r);let u=!1;for(let h=0;h<e.length;h++){const p=e[h];if("number"!=typeof p){if(!u)if(4&i){if(i=2|1&i,""!==p&&!It(t,p,n)||""===p&&1===e.length){if(jt(i))return!1;u=!0}}else{const y=8&i?p:e[++h];if(8&i&&null!==t.attrs){if(!ha(t.attrs,y,n)){if(jt(i))return!1;u=!0}continue}const z=pa(8&i?"class":p,r,n3(t),n);if(-1===z){if(jt(i))return!1;u=!0;continue}if(""!==y){let E;E=z>o?"":r[z+1].toLowerCase();const P=8&i?E:null;if(P&&-1!==Mo(P,y,0)||2&i&&y!==E){if(jt(i))return!1;u=!0}}}}else{if(!u&&!jt(i)&&!jt(p))return!1;if(u&&jt(p))continue;u=!1,i=p|1&i}}return jt(i)||u}function jt(t){return 0==(1&t)}function pa(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){const u=e[r];if(u===t)return r;if(3===u||6===u)o=!0;else{if(1===u||2===u){let h=e[++r];for(;"string"==typeof h;)h=e[++r];continue}if(4===u)break;if(0===u){r+=4;continue}}r+=o?1:2}return-1}return function ms(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function z6(t,e,n=!1){for(let i=0;i<e.length;i++)if(da(t,e[i],n))return!0;return!1}function ga(t,e){e:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function B3(t,e){return t?":not("+e.trim()+")":e}function p1(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let u=t[n];if("string"==typeof u)if(2&i){const h=t[++n];r+="["+u+(h.length>0?'="'+h+'"':"")+"]"}else 8&i?r+="."+u:4&i&&(r+=" "+u);else""!==r&&!jt(u)&&(e+=B3(o,r),r=""),i=u,o=o||!jt(i);n++}return""!==r&&(e+=B3(o,r)),e}function tt(t){return F3(()=>{const e=vs(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Rr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||t3.Emulated,styles:t.styles||h2,_:null,schemas:t.schemas||null,tView:null,id:""};Fn(n);const i=t.dependencies;return n.directiveDefs=U3(i,!1),n.pipeDefs=U3(i,!0),n.id=function Vo(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function l1(t){return _2(t)||Kt(t)}function gs(t){return null!==t}function Ai(t){return F3(()=>({type:t.type,bootstrap:t.bootstrap||h2,declarations:t.declarations||h2,imports:t.imports||h2,exports:t.exports||h2,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function O4(t,e){if(null==t)return Yt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}function Y2(t){return F3(()=>{const e=vs(t);return Fn(e),e})}function _2(t){return t[Fr]||null}function Kt(t){return t[ps]||null}function gn(t){return t[D4]||null}function Rn(t,e){const n=t[A4]||null;if(!n&&!0===e)throw new Error(`Type ${At(t)} does not have '\u0275mod' property.`);return n}function vs(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Yt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||h2,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:O4(t.inputs,e),outputs:O4(t.outputs)}}function Fn(t){t.features?.forEach(e=>e(t))}function U3(t,e){if(!t)return null;const n=e?gn:l1;return()=>("function"==typeof t?t():t).map(i=>n(i)).filter(gs)}const nt=0,m1=1,J1=2,m2=3,g2=4,ur=5,Ht=6,Ur=7,it=8,Ii=9,R4=10,F1=11,ki=12,M1=13,T1=14,rt=15,$r=16,fr=17,ht=18,$3=19,j3=20,hr=21,d3=22,R2=23,K2=24,l2=25,jr=1,F4=2,p3=7,mi=9,dt=11;function vn(t){return Array.isArray(t)&&"object"==typeof t[jr]}function Lt(t){return Array.isArray(t)&&!0===t[jr]}function ya(t){return 0!=(4&t.flags)}function Ni(t){return t.componentOffset>-1}function qr(t){return 1==(1&t.flags)}function i3(t){return!!t.template}function _a(t){return 0!=(512&t[J1])}function Ie(t,e){return t.hasOwnProperty(T3)?t[T3]:null}let Be=null,Je=!1;function h1(t){const e=Be;return Be=t,e}const e2={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function H1(t){if(!Z2(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Q2(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function r2(t){t.dirty=!0,function y1(t){if(void 0===t.liveConsumerNode)return;const e=Je;Je=!0;try{for(const n of t.liveConsumerNode)n.dirty||r2(n)}finally{Je=e}}(t),t.consumerMarkedDirty?.(t)}function z1(t){return t&&(t.nextProducerIndex=0),h1(t)}function t2(t,e){if(h1(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Z2(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)kt(t.producerNode[n],t.producerIndexOfThis[n]);for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Q2(t){qt(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(H1(n),i!==n.version))return!0}return!1}function z2(t){if(qt(t),Z2(t))for(let e=0;e<t.producerNode.length;e++)kt(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function kt(t,e){if(function G3(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),qt(t),1===t.liveConsumerNode.length)for(let i=0;i<t.producerNode.length;i++)kt(t.producerNode[i],t.producerIndexOfThis[i]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];qt(r),r.producerIndexOfThis[i]=e}}function Z2(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qt(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ot=null;const st=()=>{},ys={...e2,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:st};class Ri{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function yn(){return Zr}function Zr(t){return t.type.prototype.ngOnChanges&&(t.setInput=N5),v0}function v0(){const t=y0(this),e=t?.current;if(e){const n=t.previous;if(n===Yt)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function N5(t,e,n,i){const r=this.declaredInputs[n],o=y0(t)||function uu(t,e){return t[O5]=e}(t,{previous:Yt,current:null}),u=o.current||(o.current={}),h=o.previous,p=h[r];u[r]=new Ri(p&&p.currentValue,e,h===Yt),t[i]=e}yn.ngInherit=!0;const O5="__ngSimpleChanges__";function y0(t){return t[O5]||null}const _i=function(t,e,n){};function A2(t){for(;Array.isArray(t);)t=t[nt];return t}function Un(t,e){return A2(e[t.index])}function b0(t,e){return t.data[e]}function Z3(t,e){const n=e[t];return vn(n)?n:n[nt]}function Xr(t,e){return null==e?null:t[e]}function Cs(t){t[fr]=0}function hu(t){1024&t[J1]||(t[J1]|=1024,R5(t,1))}function To(t){1024&t[J1]&&(t[J1]&=-1025,R5(t,-1))}function R5(t,e){let n=t[m2];if(null===n)return;n[ur]+=e;let i=n;for(n=n[m2];null!==n&&(1===e&&1===i[ur]||-1===e&&0===i[ur]);)n[ur]+=e,i=n,n=n[m2]}const Y1={lFrame:T0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function A3(){return Y1.bindingsEnabled}function xa(){return null!==Y1.skipHydrationRootTNode}function Xe(){return Y1.lFrame.lView}function C2(){return Y1.lFrame.tView}function xs(t){return Y1.lFrame.contextLView=t,t[it]}function T6(t){return Y1.lFrame.contextLView=null,t}function Et(){let t=bs();for(;null!==t&&64===t.type;)t=t.parent;return t}function bs(){return Y1.lFrame.currentTNode}function gr(t,e){const n=Y1.lFrame;n.currentTNode=t,n.isParent=e}function S0(){return Y1.lFrame.isParent}function H0(){Y1.lFrame.isParent=!1}function $n(){const t=Y1.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ms(){return Y1.lFrame.bindingIndex++}function D6(t,e){const n=Y1.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ma(e)}function Ma(t){Y1.lFrame.currentDirectiveIndex=t}function V0(){return Y1.lFrame.currentQueryIndex}function wa(t){Y1.lFrame.currentQueryIndex=t}function E0(t){const e=t[m1];return 2===e.type?e.declTNode:1===e.type?t[Ht]:null}function k6(t,e,n){if(n&a2.SkipSelf){let r=e,o=t;for(;!(r=r.parent,null!==r||n&a2.Host||(r=E0(o),null===r||(o=o[T1],10&r.type))););if(null===r)return!1;e=r,t=o}const i=Y1.lFrame=G5();return i.currentTNode=e,i.lView=t,!0}function N6(t){const e=G5(),n=t[m1];Y1.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function G5(){const t=Y1.lFrame,e=null===t?null:t.child;return null===e?T0(t):e}function T0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ws(){const t=Y1.lFrame;return Y1.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const W5=ws;function Ao(){const t=ws();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jn(){return Y1.lFrame.selectedIndex}function Kr(t){Y1.lFrame.selectedIndex=t}function yt(){const t=Y1.lFrame;return b0(t.tView,t.selectedIndex)}let Y5=!0;function Fi(){return Y5}function $4(t){Y5=t}function Qr(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:h,ngAfterViewInit:p,ngAfterViewChecked:y,ngOnDestroy:w}=o;u&&(t.contentHooks??=[]).push(-n,u),h&&((t.contentHooks??=[]).push(n,h),(t.contentCheckHooks??=[]).push(n,h)),p&&(t.viewHooks??=[]).push(-n,p),y&&((t.viewHooks??=[]).push(n,y),(t.viewCheckHooks??=[]).push(n,y)),null!=w&&(t.destroyHooks??=[]).push(n,w)}}function O6(t,e,n){A0(t,e,3,n)}function R6(t,e,n,i){(3&t[J1])===n&&A0(t,e,n,i)}function D0(t,e){let n=t[J1];(3&n)===e&&(n&=8191,n+=1,t[J1]=n)}function A0(t,e,n,i){const o=i??-1,u=e.length-1;let h=0;for(let p=void 0!==i?65535&t[fr]:0;p<u;p++)if("number"==typeof e[p+1]){if(h=e[p],null!=i&&h>=i)break}else e[p]<0&&(t[fr]+=65536),(h<o||-1==o)&&(bu(t,n,e,p),t[fr]=(4294901760&t[fr])+p+2),p++}function I0(t,e){_i(4,t,e);const n=h1(null);try{e.call(t)}finally{h1(n),_i(5,t,e)}}function bu(t,e,n,i){const r=n[i]<0,o=n[i+1],h=t[r?-n[i]:n[i]];r?t[J1]>>13<t[fr]>>16&&(3&t[J1])===e&&(t[J1]+=8192,I0(h,o)):I0(h,o)}const zs=-1;class Io{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function k0(t){return t!==zs}function Jr(t){return 32767&t}function ko(t,e){let n=function el(t){return t>>16}(t),i=e;for(;n>0;)i=i[T1],n--;return i}let N0=!0;function F6(t){const e=N0;return N0=t,e}const tl=255,nl=5;let il=0;const Ci={};function No(t,e){const n=al(t,e);if(-1!==n)return n;const i=e[m1];i.firstCreatePass&&(t.injectorIndex=e.length,B6(i.data,t),B6(e,null),B6(i.blueprint,null));const r=Sa(t,e),o=t.injectorIndex;if(k0(r)){const u=Jr(r),h=ko(r,e),p=h[m1].data;for(let y=0;y<8;y++)e[o+y]=h[u+y]|p[u+y]}return e[o+8]=r,o}function B6(t,e){t.push(0,0,0,0,0,0,0,0,e)}function al(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Sa(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){if(i=$0(r),null===i)return zs;if(n++,r=r[T1],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return zs}function O0(t,e,n){!function rl(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(lr)&&(i=n[lr]),null==i&&(i=n[lr]=il++);const r=i&tl;e.data[t+(r>>nl)]|=1<<r}(t,e,n)}function ol(t,e,n){if(n&a2.Optional||void 0!==t)return t;kr()}function cl(t,e,n,i){if(n&a2.Optional&&void 0===i&&(i=null),!(n&(a2.Self|a2.Host))){const r=t[Ii],o=$t(void 0);try{return r?r.get(e,i,n&a2.Optional):Nr(e,i,n&a2.Optional)}finally{$t(o)}}return ol(i,0,n)}function ll(t,e,n,i=a2.Default,r){if(null!==t){if(2048&e[J1]&&!(i&a2.Self)){const u=function Hs(t,e,n,i,r){let o=t,u=e;for(;null!==o&&null!==u&&2048&u[J1]&&!(512&u[J1]);){const h=R0(o,u,n,i|a2.Self,Ci);if(h!==Ci)return h;let p=o.parent;if(!p){const y=u[j3];if(y){const w=y.get(n,Ci,i);if(w!==Ci)return w}p=$0(u),u=u[T1]}o=p}return r}(t,e,n,i,Ci);if(u!==Ci)return u}const o=R0(t,e,n,i,Ci);if(o!==Ci)return o}return cl(e,n,i,r)}function R0(t,e,n,i,r){const o=function Wt(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(lr)?t[lr]:void 0;return"number"==typeof e?e>=0?e&tl:ul:e}(n);if("function"==typeof o){if(!k6(e,t,i))return i&a2.Host?ol(r,0,i):cl(e,n,i,r);try{let u;if(u=o(i),null!=u||i&a2.Optional)return u;kr()}finally{W5()}}else if("number"==typeof o){let u=null,h=al(t,e),p=zs,y=i&a2.Host?e[rt][Ht]:null;for((-1===h||i&a2.SkipSelf)&&(p=-1===h?Sa(t,e):e[h+8],p!==zs&&B0(i,!1)?(u=e[m1],h=Jr(p),e=ko(p,e)):h=-1);-1!==h;){const w=e[m1];if(F0(o,h,w.data)){const z=Hu(h,e,n,u,i,y);if(z!==Ci)return z}p=e[h+8],p!==zs&&B0(i,e[m1].data[h+8]===y)&&F0(o,h,e)?(u=w,h=Jr(p),e=ko(p,e)):h=-1}}return r}function Hu(t,e,n,i,r,o){const u=e[m1],h=u.data[t+8],w=U6(h,u,n,null==i?Ni(h)&&N0:i!=u&&0!=(3&h.type),r&a2.Host&&o===h);return null!==w?Bi(e,u,w,h):Ci}function U6(t,e,n,i,r){const o=t.providerIndexes,u=e.data,h=1048575&o,p=t.directiveStart,w=o>>20,E=r?h+w:t.directiveEnd;for(let P=i?h:h+w;P<E;P++){const I=u[P];if(P<p&&n===I||P>=p&&I.type===n)return P}if(r){const P=u[p];if(P&&i3(P)&&P.type===n)return p}return null}function Bi(t,e,n,i){let r=t[n];const o=e.data;if(function Mu(t){return t instanceof Io}(r)){const u=r;u.resolving&&function is(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $e(-200,`Circular dependency in DI detected for ${t}${n}`)}(function v2(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():N1(t)}(o[n]));const h=F6(u.canSeeViewProviders);u.resolving=!0;const y=u.injectImpl?$t(u.injectImpl):null;k6(t,i,a2.Default);try{r=t[n]=u.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function K5(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const u=Zr(e);(n.preOrderHooks??=[]).push(t,u),(n.preOrderCheckHooks??=[]).push(t,u)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==y&&$t(y),F6(h),u.resolving=!1,W5()}}return r}function F0(t,e,n){return!!(n[e+(t>>nl)]&1<<t)}function B0(t,e){return!(t&a2.Self||t&a2.Host&&e)}class qn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return ll(this._tNode,this._lView,e,T4(i),n)}}function ul(){return new qn(Et(),Xe())}function Ui(t){return ts(t)?()=>{const e=Ui(q1(t));return e&&e()}:Ie(t)}function $0(t){const e=t[m1],n=e.type;return 2===n?e.declTNode:1===n?t[Ht]:null}const Vs="__parameters__";function Ts(t,e,n){return F3(()=>{const i=function j0(t){return function(...n){if(t){const i=t(...n);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const u=new r(...o);return h.annotation=u,h;function h(p,y,w){const z=p.hasOwnProperty(Vs)?p[Vs]:Object.defineProperty(p,Vs,{value:[]})[Vs];for(;z.length<=w;)z.push(null);return(z[w]=z[w]||[]).push(u),p}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function vr(t,e){t.forEach(n=>Array.isArray(n)?vr(n,e):e(n))}function Ds(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function e4(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function j4(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}const Z6=P4(Ts("Optional"),8),Is=P4(Ts("SkipSelf"),4);function tc(t){return 128==(128&t.flags)}var r4=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(r4||{});const Os=new Map;let rc=0;const Uo="__ngContext__";function Gn(t,e){vn(e)?(t[Uo]=e[$3],function Gu(t){Os.set(t[$3],t)}(e)):t[Uo]=e}let jo;function cc(t,e){return jo(t,e)}function W4(t){const e=t[m2];return Lt(e)?e[m2]:e}function lc(t){return Tl(t[ki])}function uc(t){return Tl(t[g2])}function Tl(t){for(;null!==t&&!Lt(t);)t=t[g2];return t}function c(t,e,n,i,r){if(null!=i){let o,u=!1;Lt(i)?o=i:vn(i)&&(u=!0,i=i[nt]);const h=A2(i);0===t&&null!==n?null==r?Ee(e,n,h):de(e,n,h,r||null,!0):1===t&&null!==n?de(e,n,h,r||null,!0):2===t?function B2(t,e,n){const i=v1(t,e);i&&function qe(t,e,n,i){t.removeChild(e,n,i)}(t,i,e,n)}(e,h,u):3===t&&e.destroyNode(h),null!=o&&function Ln(t,e,n,i,r){const o=n[p3];o!==A2(n)&&c(e,t,i,o,r);for(let h=dt;h<n.length;h++){const p=n[h];tn(p[m1],p,t,e,i,o)}}(e,t,o,n,r)}}function g(t,e,n){return t.createElement(e,n)}function B(t,e){const n=t[mi],i=n.indexOf(e);To(e),n.splice(i,1)}function q(t,e){if(t.length<=dt)return;const n=dt+e,i=t[n];if(i){const r=i[$r];null!==r&&r!==t&&B(r,i),e>0&&(t[n-1][g2]=i[g2]);const o=e4(t,dt+e);!function x(t,e){tn(t,e,e[F1],2,null,null),e[nt]=null,e[Ht]=null}(i[m1],i);const u=o[ht];null!==u&&u.detachView(o[m1]),i[m2]=null,i[g2]=null,i[J1]&=-129}return i}function X(t,e){if(!(256&e[J1])){const n=e[F1];e[R2]&&z2(e[R2]),e[K2]&&z2(e[K2]),n.destroyNode&&tn(t,e,n,3,null,null),function V(t){let e=t[ki];if(!e)return Y(t[m1],t);for(;e;){let n=null;if(vn(e))n=e[ki];else{const i=e[dt];i&&(n=i)}if(!n){for(;e&&!e[g2]&&e!==t;)vn(e)&&Y(e[m1],e),e=e[m2];null===e&&(e=t),vn(e)&&Y(e[m1],e),n=e&&e[g2]}e=n}}(e)}}function Y(t,e){if(!(256&e[J1])){e[J1]&=-129,e[J1]|=256,function se(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const r=e[n[i]];if(!(r instanceof Io)){const o=n[i+1];if(Array.isArray(o))for(let u=0;u<o.length;u+=2){const h=r[o[u]],p=o[u+1];_i(4,h,p);try{p.call(h)}finally{_i(5,h,p)}}else{_i(4,r,o);try{o.call(r)}finally{_i(5,r,o)}}}}}(t,e),function ne(t,e){const n=t.cleanup,i=e[Ur];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const u=n[o+3];u>=0?i[u]():i[-u].unsubscribe(),o+=2}else n[o].call(i[n[o+1]]);null!==i&&(e[Ur]=null);const r=e[hr];if(null!==r){e[hr]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(t,e),1===e[m1].type&&e[F1].destroy();const n=e[$r];if(null!==n&&Lt(e[m2])){n!==e[m2]&&B(n,e);const i=e[ht];null!==i&&i.detachView(t)}!function Wu(t){Os.delete(t[$3])}(e)}}function le(t,e,n){return function xe(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[nt];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=t.data[i.directiveStart+r];if(o===t3.None||o===t3.Emulated)return null}return Un(i,n)}}(t,e.parent,n)}function de(t,e,n,i,r){t.insertBefore(e,n,i,r)}function Ee(t,e,n){t.appendChild(e,n)}function Ae(t,e,n,i,r){null!==i?de(t,e,n,i,r):Ee(t,e,n)}function v1(t,e){return t.parentNode(e)}function s1(t,e,n){return g1(t,e,n)}let i1,nn,c3,_3,g1=function t1(t,e,n){return 40&t.type?Un(t,n):null};function S1(t,e,n,i){const r=le(t,i,e),o=e[F1],h=s1(i.parent||e[Ht],i,e);if(null!=r)if(Array.isArray(n))for(let p=0;p<n.length;p++)Ae(o,r,n[p],h,!1);else Ae(o,r,n,h,!1);void 0!==i1&&i1(o,i,e,n,r)}function _1(t,e){if(null!==e){const n=e.type;if(3&n)return Un(e,t);if(4&n)return F2(-1,t[e.index]);if(8&n){const i=e.child;if(null!==i)return _1(t,i);{const r=t[e.index];return Lt(r)?F2(-1,r):A2(r)}}if(32&n)return cc(e,t)()||A2(t[e.index]);{const i=n2(t,e);return null!==i?Array.isArray(i)?i[0]:_1(W4(t[rt]),i):_1(t,e.next)}}return null}function n2(t,e){return null!==e?t[rt][Ht].projection[e.projection]:null}function F2(t,e){const n=dt+t+1;if(n<e.length){const i=e[n],r=i[m1].firstChild;if(null!==r)return _1(i,r)}return e[p3]}function s3(t,e,n,i,r,o,u){for(;null!=n;){const h=i[n.index],p=n.type;if(u&&0===e&&(h&&Gn(A2(h),i),n.flags|=2),32!=(32&n.flags))if(8&p)s3(t,e,n.child,i,r,o,!1),c(e,t,r,h,o);else if(32&p){const y=cc(n,i);let w;for(;w=y();)c(e,t,r,w,o);c(e,t,r,h,o)}else 16&p?Zt(t,e,i,n,r,o):c(e,t,r,h,o);n=u?n.projectionNext:n.next}}function tn(t,e,n,i,r,o){s3(n,i,t.firstChild,e,r,o,!1)}function Zt(t,e,n,i,r,o){const u=n[rt],p=u[Ht].projection[i.projection];if(Array.isArray(p))for(let y=0;y<p.length;y++)c(e,t,r,p[y],o);else{let y=p;const w=u[m2];tc(i)&&(y.flags|=128),s3(t,e,y,w,r,o,!0)}}function Tt(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Bt(t,e,n){const{mergedAttrs:i,classes:r,styles:o}=n;null!==i&&Br(t,e,i),null!==r&&Tt(t,e,r),null!==o&&function o3(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function rn(t){return function Vn(){if(void 0===nn&&(nn=null,N2.trustedTypes))try{nn=N2.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nn}()?.createHTML(t)||t}function Xt(){if(void 0!==c3)return c3;if(typeof document<"u")return document;throw new $e(210,!1)}function xi(t){return function Y3(){if(void 0===_3&&(_3=null,N2.trustedTypes))try{_3=N2.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _3}()?.createHTML(t)||t}class xn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lo})`}}class C3 extends xn{getTypeName(){return"HTML"}}class s4 extends xn{getTypeName(){return"Style"}}class Go extends xn{getTypeName(){return"Script"}}class Pl extends xn{getTypeName(){return"URL"}}class o8 extends xn{getTypeName(){return"ResourceURL"}}function x3(t){return t instanceof xn?t.changingThisBreaksApplicationSecurity:t}function Tn(t,e){const n=function Dl(t){return t instanceof xn&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lo})`)}return n===e}class ef{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(rn(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class tf{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=rn(e),n}}const $i=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ta(t){return(t=String(t)).match($i)?t:"unsafe:"+t}function Cr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Wo(...t){const e={};for(const n of t)for(const i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}const kl=Cr("area,br,col,hr,img,wbr"),Nl=Cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pn=Cr("rp,rt"),o4=Wo(kl,Wo(Nl,Cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wo(Pn,Cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wo(Pn,Nl)),Mi=Cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mg=Wo(Mi,Cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),SD=Cr("script,style,template");class HD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!o4.hasOwnProperty(n))return this.sanitizedSomething=!0,!SD.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),u=o.name,h=u.toLowerCase();if(!Mg.hasOwnProperty(h)){this.sanitizedSomething=!0;continue}let p=o.value;Mi[h]&&(p=Ta(p)),this.buf.push(" ",u,'="',wg(p),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();o4.hasOwnProperty(n)&&!kl.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(wg(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const LD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VD=/([^\#-~ |!])/g;function wg(t){return t.replace(/&/g,"&amp;").replace(LD,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(VD,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ol;function zg(t,e){let n=null;try{Ol=Ol||function Il(t){const e=new tf(t);return function nf(){try{return!!(new window.DOMParser).parseFromString(rn(""),"text/html")}catch{return!1}}()?new ef(e):e}(t);let i=e?String(e):"";n=Ol.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Ol.getInertBodyElement(i)}while(i!==o);return rn((new HD).sanitizeChildren(rf(n)||n))}finally{if(n){const i=rf(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function rf(t){return"content"in t&&function ED(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var br=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(br||{});function Sg(t){const e=function c8(){const t=Xe();return t&&t[R4].sanitizer}();return e?xi(e.sanitize(br.HTML,t)||""):Tn(t,"HTML")?xi(x3(t)):zg(Xt(),N1(t))}class G1{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=k1({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const l8=new G1("ENVIRONMENT_INITIALIZER"),Eg=new G1("INJECTOR",-1),Tg=new G1("INJECTOR_DEF_TYPES");class af{get(e,n=L2){if(n===L2){const i=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw i.name="NullInjectorError",i}return n}}function kD(...t){return{\u0275providers:Dg(0,t),\u0275fromNgModule:!0}}function Dg(t,...e){const n=[],i=new Set;let r;const o=u=>{n.push(u)};return vr(e,u=>{const h=u;Rl(h,o,[],i)&&(r||=[],r.push(h))}),void 0!==r&&Ag(r,o),n}function Ag(t,e){for(let n=0;n<t.length;n++){const{ngModule:i,providers:r}=t[n];sf(r,o=>{e(o,i)})}}function Rl(t,e,n,i){if(!(t=q1(t)))return!1;let r=null,o=L4(t);const u=!o&&_2(t);if(o||u){if(u&&!u.standalone)return!1;r=t}else{const p=t.ngModule;if(o=L4(p),!o)return!1;r=p}const h=i.has(r);if(u){if(h)return!1;if(i.add(r),u.dependencies){const p="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const y of p)Rl(y,e,n,i)}}else{if(!o)return!1;{if(null!=o.imports&&!h){let y;i.add(r);try{vr(o.imports,w=>{Rl(w,e,n,i)&&(y||=[],y.push(w))})}finally{}void 0!==y&&Ag(y,e)}if(!h){const y=Ie(r)||(()=>new r);e({provide:r,useFactory:y,deps:h2},r),e({provide:Tg,useValue:r,multi:!0},r),e({provide:l8,useValue:()=>w1(r),multi:!0},r)}const p=o.providers;if(null!=p&&!h){const y=t;sf(p,w=>{e(w,y)})}}}return r!==t&&void 0!==t.providers}function sf(t,e){for(let n of t)ns(n)&&(n=n.\u0275providers),Array.isArray(n)?sf(n,e):e(n)}const ND=M2({provide:String,useValue:M2});function cf(t){return null!==t&&"object"==typeof t&&ND in t}function Zo(t){return"function"==typeof t}const lf=new G1("Set Injector scope."),Fl={},RD={};let uf;function Bl(){return void 0===uf&&(uf=new af),uf}class Mr{}class Ul extends Mr{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hf(e,u=>this.processProvider(u)),this.records.set(Eg,fc(void 0,this)),r.has("environment")&&this.records.set(Mr,fc(void 0,this));const o=this.records.get(lf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Tg.multi,h2,a2.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=V3(this),i=$t(void 0);try{return e()}finally{V3(n),$t(i)}}get(e,n=L2,i=a2.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Di))return e[Di](this);i=T4(i);const o=V3(this),u=$t(void 0);try{if(!(i&a2.SkipSelf)){let p=this.records.get(e);if(void 0===p){const y=function jD(t){return"function"==typeof t||"object"==typeof t&&t instanceof G1}(e)&&ss(e);p=y&&this.injectableDefInScope(y)?fc(ff(e),Fl):null,this.records.set(e,p)}if(null!=p)return this.hydrate(e,p)}return(i&a2.Self?Bl():this.parent).get(e,n=i&a2.Optional&&n===L2?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[di]=h[di]||[]).unshift(At(e)),o)throw h;return function Or(t,e,n,i){const r=t[di];throw e[hs]&&r.unshift(e[hs]),t.message=function E3(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=At(e);if(Array.isArray(e))r=e.map(At).join(" -> ");else if("object"==typeof e){let o=[];for(let u in e)if(e.hasOwnProperty(u)){let h=e[u];o.push(u+":"+("string"==typeof h?JSON.stringify(h):At(h)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Co,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t[di]=null,t}(h,e,"R3InjectorError",this.source)}throw h}finally{$t(u),V3(o)}}resolveInjectorInitializers(){const e=V3(this),n=$t(void 0);try{const r=this.get(l8.multi,h2,a2.Self);for(const o of r)o()}finally{V3(e),$t(n)}}toString(){const e=[],n=this.records;for(const i of n.keys())e.push(At(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $e(205,!1)}processProvider(e){let n=Zo(e=q1(e))?e:q1(e&&e.provide);const i=function BD(t){return cf(t)?fc(void 0,t.useValue):fc(function Ng(t,e,n){let i;if(Zo(t)){const r=q1(t);return Ie(r)||ff(r)}if(cf(t))i=()=>q1(t.useValue);else if(function kg(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...bo(t.deps||[]));else if(function Ig(t){return!(!t||!t.useExisting)}(t))i=()=>w1(q1(t.useExisting));else{const r=q1(t&&(t.useClass||t.provide));if(!function UD(t){return!!t.deps}(t))return Ie(r)||ff(r);i=()=>new r(...bo(t.deps))}return i}(t),Fl)}(e);if(Zo(e)||!0!==e.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=fc(void 0,Fl,!0),r.factory=()=>bo(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===Fl&&(n.value=RD,n.value=n.factory()),"object"==typeof n.value&&n.value&&function $D(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q1(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ff(t){const e=ss(t),n=null!==e?e.factory:Ie(t);if(null!==n)return n;if(t instanceof G1)throw new $e(204,!1);if(t instanceof Function)return function FD(t){const e=t.length;if(e>0)throw j4(e,"?"),new $e(204,!1);const n=function cs(t){return t&&(t[V4]||t[po])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new $e(204,!1)}function fc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hf(t,e){for(const n of t)Array.isArray(n)?hf(n,e):n&&ns(n)?hf(n.\u0275providers,e):e(n)}const $l=new G1("AppId",{providedIn:"root",factory:()=>qD}),qD="ng",Og=new G1("Platform Initializer"),hc=new G1("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rg=new G1("AnimationModuleType"),Fg=new G1("CSP nonce",{providedIn:"root",factory:()=>Xt().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Bg=(t,e,n)=>null;function Cf(t,e,n=!1){return Bg(t,e,n)}class tA{}class jg{}class iA{resolveComponentFactory(e){throw function nA(t){const e=Error(`No component factory found for ${At(t)}.`);return e.ngComponent=t,e}(e)}}let Xl=(()=>{class e{}return e.NULL=new iA,e})();function rA(){return mc(Et(),Xe())}function mc(t,e){return new wi(Un(t,e))}let wi=(()=>{class e{constructor(i){this.nativeElement=i}}return e.__NG_ELEMENT_ID__=rA,e})();function aA(t){return t instanceof wi?t.nativeElement:t}class h8{}let gc=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function sA(){const t=Xe(),n=Z3(Et().index,t);return(vn(n)?n:t)[F1]}(),e})(),oA=(()=>{var t;class e{}return(t=e).\u0275prov=k1({token:t,providedIn:"root",factory:()=>null}),e})();class Yl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const cA=new Yl("16.2.5"),Mf={};function Xg(t,e=null,n=null,i){const r=Yg(t,e,n,i);return r.resolveInjectorInitializers(),r}function Yg(t,e=null,n=null,i,r=new Set){const o=[n||h2,kD(t)];return i=i||("object"==typeof t?void 0:At(t)),new Ul(o,e||Bl(),i||null,r)}let ji=(()=>{var t;class e{static create(i,r){if(Array.isArray(i))return Xg({name:""},r,i,"");{const o=i.name??"";return Xg({name:o},i.parent,i.providers,o)}}}return(t=e).THROW_IF_NOT_FOUND=L2,t.NULL=new af,t.\u0275prov=k1({token:t,providedIn:"any",factory:()=>w1(Eg)}),t.__NG_ELEMENT_ID__=-1,e})();function zf(t){return t.ngOriginalError}class Pa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zf(e);for(;n&&zf(n);)n=zf(n);return n||null}}function Hf(t){return e=>{setTimeout(t,void 0,e)}}const Q3=class mA extends fn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,o=n||(()=>null),u=i;if(e&&"object"==typeof e){const p=e;r=p.next?.bind(p),o=p.error?.bind(p),u=p.complete?.bind(p)}this.__isAsync&&(o=Hf(o),r&&(r=Hf(r)),u&&(u=Hf(u)));const h=super.subscribe({next:r,error:o,complete:u});return e instanceof X2&&e.add(h),h}};function Qg(...t){}class ot{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Q3(!1),this.onMicrotaskEmpty=new Q3(!1),this.onStable=new Q3(!1),this.onError=new Q3(!1),typeof Zone>"u")throw new $e(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function gA(){const t="function"==typeof N2.requestAnimationFrame;let e=N2[t?"requestAnimationFrame":"setTimeout"],n=N2[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function _A(t){const e=()=>{!function yA(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(N2,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vf(t),t.isCheckStableRunning=!0,Lf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,u,h)=>{if(function xA(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(h))return n.invokeTask(r,o,u,h);try{return Jg(t),n.invokeTask(r,o,u,h)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ev(t)}},onInvoke:(n,i,r,o,u,h,p)=>{try{return Jg(t),n.invoke(r,o,u,h,p)}finally{t.shouldCoalesceRunChangeDetection&&e(),ev(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Vf(t),Lf(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ot.isInAngularZone())throw new $e(909,!1)}static assertNotInAngularZone(){if(ot.isInAngularZone())throw new $e(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){const o=this._inner,u=o.scheduleEventTask("NgZoneEvent: "+r,e,vA,Qg,Qg);try{return o.runTask(u,n,i)}finally{o.cancelTask(u)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}}const vA={};function Lf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Vf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Jg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ev(t){t._nesting--,Lf(t)}class CA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Q3,this.onMicrotaskEmpty=new Q3,this.onStable=new Q3,this.onError=new Q3}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}}const tv=new G1("",{providedIn:"root",factory:nv});function nv(){const t=x1(ot);let e=!0;return function H2(...t){const e=Sn(t),n=function _6(t,e){return"number"==typeof so(t)?t.pop():e}(t,1/0),i=t;return i.length?1===i.length?Ue(i[0]):D1(n)(zt(i,e)):D2}(new mt(r=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{r.next(e),r.complete()})}),new mt(r=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{ot.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const u=t.onUnstable.subscribe(()=>{ot.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),u.unsubscribe()}}).pipe(Ei()))}function Ef(t){return t.ownerDocument.defaultView}function iv(t){return t.ownerDocument}function Da(t){return t instanceof Function?t():t}let Tf=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=k1({token:t,providedIn:"root",factory:()=>new t}),e})();function d8(t){for(;t;){t[J1]|=64;const e=W4(t);if(_a(t)&&!e)return t;t=e}return null}const cv=new G1("",{providedIn:"root",factory:()=>!1});let Ql=null;function hv(t,e){return t[e]??mv()}function dv(t,e){const n=mv();n.producerNode?.length&&(t[e]=Ql,n.lView=t,Ql=pv())}const VA={...e2,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{d8(t.lView)},lView:null};function pv(){return Object.create(VA)}function mv(){return Ql??=pv(),Ql}const s2={};function n1(t){gv(C2(),Xe(),jn()+t,!1)}function gv(t,e,n,i){if(!i)if(3==(3&e[J1])){const o=t.preOrderCheckHooks;null!==o&&O6(e,o,n)}else{const o=t.preOrderHooks;null!==o&&R6(e,o,0,n)}Kr(n)}function L1(t,e=a2.Default){const n=Xe();return null===n?w1(t,e):ll(Et(),n,q1(t),e)}function Jl(t,e,n,i,r,o,u,h,p,y,w){const z=e.blueprint.slice();return z[nt]=r,z[J1]=140|i,(null!==y||t&&2048&t[J1])&&(z[J1]|=2048),Cs(z),z[m2]=z[T1]=t,z[it]=n,z[R4]=u||t&&t[R4],z[F1]=h||t&&t[F1],z[Ii]=p||t&&t[Ii]||null,z[Ht]=o,z[$3]=function ac(){return rc++}(),z[d3]=w,z[j3]=y,z[rt]=2==e.type?t[rt]:z,z}function _c(t,e,n,i,r){let o=t.data[e];if(null===o)o=function Pf(t,e,n,i,r){const o=bs(),u=S0(),p=t.data[e]=function NA(t,e,n,i,r,o){let u=e?e.injectorIndex:-1,h=0;return xa()&&(h|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=p),null!==o&&(u?null==o.child&&null!==p.parent&&(o.child=p):null===o.next&&(o.next=p,p.prev=o)),p}(t,e,n,i,r),function P6(){return Y1.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const u=function Do(){const t=Y1.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===u?-1:u.injectorIndex}return gr(o,!0),o}function p8(t,e,n,i){if(0===n)return-1;const r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function yv(t,e,n,i,r){const o=hv(e,R2),u=jn(),h=2&i;try{Kr(-1),h&&e.length>l2&&gv(t,e,l2,!1),_i(h?2:0,r);const y=h?o:null,w=z1(y);try{null!==y&&(y.dirty=!1),n(i,r)}finally{t2(y,w)}}finally{h&&null===e[R2]&&dv(e,R2),Kr(u),_i(h?3:1,r)}}function Df(t,e,n){if(ya(e)){const i=h1(null);try{const o=e.directiveEnd;for(let u=e.directiveStart;u<o;u++){const h=t.data[u];h.contentQueries&&h.contentQueries(1,n[u],u)}}finally{h1(i)}}}function Af(t,e,n){A3()&&(function jA(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;Ni(n)&&function KA(t,e,n){const i=Un(e,t),r=_v(n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const h=e7(t,Jl(t,r,null,u,i,e,null,t[R4].rendererFactory.createRenderer(i,n),null,null,null));t[e.index]=h}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||No(n,e),Gn(i,e);const u=n.initialInputs;for(let h=r;h<o;h++){const p=t.data[h],y=Bi(e,t,h,n);Gn(y,e),null!==u&&QA(0,h-r,y,p,0,u),i3(p)&&(Z3(n.index,e)[it]=Bi(e,t,h,n))}}(t,e,n,Un(n,e)),64==(64&n.flags)&&wv(t,e,n))}function If(t,e,n=Un){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const u=i[o+1],h=-1===u?n(e,t):t[u];t[r++]=h}}}function _v(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=kf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function kf(t,e,n,i,r,o,u,h,p,y,w){const z=l2+i,E=z+r,P=function TA(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:s2);return n}(z,E),I="function"==typeof y?y():y;return P[m1]={type:t,blueprint:P,template:n,queries:null,viewQuery:h,declTNode:e,data:P.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:p,consts:I,incompleteFirstPass:!1,ssrId:w}}let Cv=t=>null;function xv(t,e,n,i){for(let r in t)if(t.hasOwnProperty(r)){n=null===n?{}:n;const o=t[r];null===i?bv(n,e,r,o):i.hasOwnProperty(r)&&bv(n,e,i[r],o)}return n}function bv(t,e,n,i){t.hasOwnProperty(n)?t[n].push(e,i):t[n]=[e,i]}function qi(t,e,n,i,r,o,u,h){const p=Un(e,n);let w,y=e.inputs;!h&&null!=y&&(w=y[i])?(Bf(t,n,w,i,r),Ni(e)&&function FA(t,e){const n=Z3(e,t);16&n[J1]||(n[J1]|=64)}(n,e.index)):3&e.type&&(i=function RA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=u?u(r,e.value||"",i):r,o.setProperty(p,i,r))}function Nf(t,e,n,i){if(A3()){const r=null===i?null:{"":-1},o=function GA(t,e){const n=t.directiveRegistry;let i=null,r=null;if(n)for(let o=0;o<n.length;o++){const u=n[o];if(z6(e,u.selectors,!1))if(i||(i=[]),i3(u))if(null!==u.findHostDirectiveDefs){const h=[];r=r||new Map,u.findHostDirectiveDefs(u,h,r),i.unshift(...h,u),Of(t,e,h.length)}else i.unshift(u),Of(t,e,0);else r=r||new Map,u.findHostDirectiveDefs?.(u,i,r),i.push(u)}return null===i?null:[i,r]}(t,n);let u,h;null===o?u=h=null:[u,h]=o,null!==u&&Mv(t,e,n,u,r,h),r&&function WA(t,e,n){if(e){const i=t.localNames=[];for(let r=0;r<e.length;r+=2){const o=n[e[r+1]];if(null==o)throw new $e(-301,!1);i.push(e[r],o)}}}(n,i,r)}n.mergedAttrs=I4(n.mergedAttrs,n.attrs)}function Mv(t,e,n,i,r,o){for(let y=0;y<i.length;y++)O0(No(n,e),t,i[y].type);!function XA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,i.length);for(let y=0;y<i.length;y++){const w=i[y];w.providersResolver&&w.providersResolver(w)}let u=!1,h=!1,p=p8(t,e,i.length,null);for(let y=0;y<i.length;y++){const w=i[y];n.mergedAttrs=I4(n.mergedAttrs,w.hostAttrs),YA(t,n,e,p,w),ZA(p,w,r),null!==w.contentQueries&&(n.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(n.flags|=64);const z=w.type.prototype;!u&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!h&&(z.ngOnChanges||z.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}!function OA(t,e,n){const r=e.directiveEnd,o=t.data,u=e.attrs,h=[];let p=null,y=null;for(let w=e.directiveStart;w<r;w++){const z=o[w],E=n?n.get(z):null,I=E?E.outputs:null;p=xv(z.inputs,w,p,E?E.inputs:null),y=xv(z.outputs,w,y,I);const F=null===p||null===u||n3(e)?null:JA(p,w,u);h.push(F)}null!==p&&(p.hasOwnProperty("class")&&(e.flags|=8),p.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=h,e.inputs=p,e.outputs=y}(t,n,o)}function wv(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,u=function A6(){return Y1.lFrame.currentDirectiveIndex}();try{Kr(o);for(let h=i;h<r;h++){const p=t.data[h],y=e[h];Ma(h),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&qA(p,y)}}finally{Kr(-1),Ma(u)}}function qA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Of(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZA(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;i3(e)&&(n[""]=t)}}function YA(t,e,n,i,r){t.data[i]=r;const o=r.factory||(r.factory=Ie(r.type)),u=new Io(o,i3(r),L1);t.blueprint[i]=u,n[i]=u,function UA(t,e,n,i,r){const o=r.hostBindings;if(o){let u=t.hostBindingOpCodes;null===u&&(u=t.hostBindingOpCodes=[]);const h=~e.index;(function $A(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(u)!=h&&u.push(h),u.push(n,i,o)}}(t,e,i,p8(t,n,r.hostVars,s2),r)}function Z4(t,e,n,i,r,o){const u=Un(t,e);!function Rf(t,e,n,i,r,o,u){if(null==o)t.removeAttribute(e,r,n);else{const h=null==u?N1(o):u(o,i||"",r);t.setAttribute(e,r,h,n)}}(e[F1],u,o,t.value,n,i,r)}function QA(t,e,n,i,r,o){const u=o[e];if(null!==u)for(let h=0;h<u.length;)zv(i,n,u[h++],u[h++],u[h++])}function zv(t,e,n,i,r){const o=h1(null);try{const u=t.inputTransforms;null!==u&&u.hasOwnProperty(i)&&(r=u[i].call(e,r)),null!==t.setInput?t.setInput(e,r,n,i):e[i]=r}finally{h1(o)}}function JA(t,e,n){let i=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===i&&(i=[]);const u=t[o];for(let h=0;h<u.length;h+=2)if(u[h]===e){i.push(o,u[h+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Sv(t,e,n,i){return[t,!0,!1,e,null,0,i,n,null,null,null]}function Hv(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const u=t.data[o];wa(n[i]),u.contentQueries(2,e[o],o)}}}function e7(t,e){return t[ki]?t[M1][g2]=e:t[ki]=e,t[M1]=e,e}function Ff(t,e,n){wa(0);const i=h1(null);try{e(t,n)}finally{h1(i)}}function Lv(t){return t[Ur]||(t[Ur]=[])}function Vv(t){return t.cleanup||(t.cleanup=[])}function Tv(t,e){const n=t[Ii],i=n?n.get(Pa,null):null;i&&i.handleError(e)}function Bf(t,e,n,i,r){for(let o=0;o<n.length;){const u=n[o++],h=n[o++];zv(t.data[u],e[u],i,h,r)}}function eI(t,e){const n=Z3(e,t),i=n[m1];!function tI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n);const r=n[nt];null!==r&&null===n[d3]&&(n[d3]=Cf(r,n[Ii])),Uf(i,n,n[it])}function Uf(t,e,n){N6(e);try{const i=t.viewQuery;null!==i&&Ff(1,i,n);const r=t.template;null!==r&&yv(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Hv(t,e),t.staticViewQueries&&Ff(2,t.viewQuery,n);const o=t.components;null!==o&&function nI(t,e){for(let n=0;n<e.length;n++)eI(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[J1]&=-5,Ao()}}let Pv=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(i,r,o){const u=typeof Zone>"u"?null:Zone.current,h=function Wr(t,e,n){const i=Object.create(ys);n&&(i.consumerAllowSignalWrites=!0),i.fn=t,i.schedule=e;const r=u=>{i.cleanupFn=u};return i.ref={notify:()=>r2(i),run:()=>{if(i.dirty=!1,i.hasRun&&!Q2(i))return;i.hasRun=!0;const u=z1(i);try{i.cleanupFn(),i.cleanupFn=st,i.fn(r)}finally{t2(i,u)}},cleanup:()=>i.cleanupFn()},i.ref}(i,w=>{this.all.has(w)&&this.queue.set(w,u)},o);let p;this.all.add(h),h.notify();const y=()=>{h.cleanup(),p?.(),this.all.delete(h),this.queue.delete(h)};return p=r?.onDestroy(y),{destroy:y}}flush(){if(0!==this.queue.size)for(const[i,r]of this.queue)this.queue.delete(i),r?r.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=k1({token:t,providedIn:"root",factory:()=>new t}),e})();function t7(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let u=0;u<e.length;u++){const h=e[u];"number"==typeof h?o=h:1==o?r=oo(r,h):2==o&&(i=oo(i,h+": "+e[++u]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function m8(t,e,n,i,r=!1){for(;null!==n;){const o=e[n.index];null!==o&&i.push(A2(o)),Lt(o)&&Dv(o,i);const u=n.type;if(8&u)m8(t,e,n.child,i);else if(32&u){const h=cc(n,e);let p;for(;p=h();)i.push(p)}else if(16&u){const h=n2(e,n);if(Array.isArray(h))i.push(...h);else{const p=W4(e[rt]);m8(p[m1],p,h,i,!0)}}n=r?n.projectionNext:n.next}return i}function Dv(t,e){for(let n=dt;n<t.length;n++){const i=t[n],r=i[m1].firstChild;null!==r&&m8(i[m1],i,r,e)}t[p3]!==t[nt]&&e.push(t[p3])}function n7(t,e,n,i=!0){const r=e[R4],o=r.rendererFactory,u=r.afterRenderEventManager;o.begin?.(),u?.begin();try{Av(t,e,t.template,n)}catch(p){throw i&&Tv(e,p),p}finally{o.end?.(),r.effectManager?.flush(),u?.end()}}function Av(t,e,n,i){const r=e[J1];if(256!=(256&r)){e[R4].effectManager?.flush(),N6(e);try{Cs(e),function ba(t){return Y1.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&yv(t,e,n,2,i);const u=3==(3&r);if(u){const y=t.preOrderCheckHooks;null!==y&&O6(e,y,null)}else{const y=t.preOrderHooks;null!==y&&R6(e,y,0,null),D0(e,0)}if(function aI(t){for(let e=lc(t);null!==e;e=uc(e)){if(!e[F4])continue;const n=e[mi];for(let i=0;i<n.length;i++){hu(n[i])}}}(e),Iv(e,2),null!==t.contentQueries&&Hv(t,e),u){const y=t.contentCheckHooks;null!==y&&O6(e,y)}else{const y=t.contentHooks;null!==y&&R6(e,y,1),D0(e,1)}!function EA(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const i=hv(e,K2);try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Kr(~o);else{const u=o,h=n[++r],p=n[++r];D6(h,u),i.dirty=!1;const y=z1(i);try{p(2,e[u])}finally{t2(i,y)}}}}finally{null===e[K2]&&dv(e,K2),Kr(-1)}}(t,e);const h=t.components;null!==h&&Nv(e,h,0);const p=t.viewQuery;if(null!==p&&Ff(2,p,i),u){const y=t.viewCheckHooks;null!==y&&O6(e,y)}else{const y=t.viewHooks;null!==y&&R6(e,y,2),D0(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[J1]&=-73,To(e)}finally{Ao()}}}function Iv(t,e){for(let n=lc(t);null!==n;n=uc(n))for(let i=dt;i<n.length;i++)kv(n[i],e)}function sI(t,e,n){kv(Z3(e,t),n)}function kv(t,e){if(!function _s(t){return 128==(128&t[J1])}(t))return;const n=t[m1],i=t[J1];if(80&i&&0===e||1024&i||2===e)Av(n,t,n.template,t[it]);else if(t[ur]>0){Iv(t,1);const r=n.components;null!==r&&Nv(t,r,1)}}function Nv(t,e,n){for(let i=0;i<e.length;i++)sI(t,e[i],n)}class g8{get rootNodes(){const e=this._lView,n=e[m1];return m8(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[it]}set context(e){this._lView[it]=e}get destroyed(){return 256==(256&this._lView[J1])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[m2];if(Lt(e)){const n=e[8],i=n?n.indexOf(this):-1;i>-1&&(q(e,i),e4(n,i))}this._attachedToViewContainer=!1}X(this._lView[m1],this._lView)}onDestroy(e){!function w0(t,e){if(256==(256&t[J1]))throw new $e(911,!1);null===t[hr]&&(t[hr]=[]),t[hr].push(e)}(this._lView,e)}markForCheck(){d8(this._cdRefInjectingView||this._lView)}detach(){this._lView[J1]&=-129}reattach(){this._lView[J1]|=128}detectChanges(){n7(this._lView[m1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function S(t,e){tn(t,e,e[F1],2,null,null)}(this._lView[m1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $e(902,!1);this._appRef=e}}class oI extends g8{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;n7(e[m1],e,e[it],!1)}checkNoChanges(){}get context(){return null}}class Ov extends Xl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_2(e);return new v8(n,this.ngModule)}}function Rv(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class lI{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=T4(i);const r=this.injector.get(e,Mf,i);return r!==Mf||n===Mf?r:this.parentInjector.get(e,n,i)}}class v8 extends jg{get inputs(){const e=this.componentDef,n=e.inputTransforms,i=Rv(e.inputs);if(null!==n)for(const r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Rv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function N4(t){return t.map(p1).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=(r=r||this.ngModule)instanceof Mr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const u=o?new lI(e,o):e,h=u.get(h8,null);if(null===h)throw new $e(407,!1);const z={rendererFactory:h,sanitizer:u.get(oA,null),effectManager:u.get(Pv,null),afterRenderEventManager:u.get(Tf,null)},E=h.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",I=i?function PA(t,e,n,i){const o=i.get(cv,!1)||n===t3.ShadowDom,u=t.selectRootElement(e,o);return function DA(t){Cv(t)}(u),u}(E,i,this.componentDef.encapsulation,u):g(E,P,function cI(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(P)),W=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==I&&(R=Cf(I,u,!0));const j=kf(0,null,null,1,0,null,null,null,null,null,null),J=Jl(null,j,null,W,null,null,z,E,u,null,R);let ve,Ve;N6(J);try{const Te=this.componentDef;let Le,ge=null;Te.findHostDirectiveDefs?(Le=[],ge=new Map,Te.findHostDirectiveDefs(Te,Le,ge),Le.push(Te)):Le=[Te];const Qe=function fI(t,e){const n=t[m1],i=l2;return t[i]=e,_c(n,i,2,"#host",null)}(J,I),Oe=function hI(t,e,n,i,r,o,u){const h=r[m1];!function dI(t,e,n,i){for(const r of t)e.mergedAttrs=I4(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(t7(e,e.mergedAttrs,!0),null!==n&&Bt(i,n,e))}(i,t,e,u);let p=null;null!==e&&(p=Cf(e,r[Ii]));const y=o.rendererFactory.createRenderer(e,n);let w=16;n.signals?w=4096:n.onPush&&(w=64);const z=Jl(r,_v(n),null,w,r[t.index],t,o,y,null,null,p);return h.firstCreatePass&&Of(h,t,i.length-1),e7(r,z),r[t.index]=z}(Qe,I,Te,Le,J,z,E);Ve=b0(j,l2),I&&function mI(t,e,n,i){if(i)Br(t,n,["ng-version",cA.full]);else{const{attrs:r,classes:o}=function va(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!jt(r))break;r=o}i++}return{attrs:e,classes:n}}(e.selectors[0]);r&&Br(t,n,r),o&&o.length>0&&Tt(t,n,o.join(" "))}}(E,Te,I,i),void 0!==n&&function gI(t,e,n){const i=t.projection=[];for(let r=0;r<e.length;r++){const o=n[r];i.push(null!=o?Array.from(o):null)}}(Ve,this.ngContentSelectors,n),ve=function pI(t,e,n,i,r,o){const u=Et(),h=r[m1],p=Un(u,r);Mv(h,r,u,n,null,i);for(let w=0;w<n.length;w++)Gn(Bi(r,h,u.directiveStart+w,u),r);wv(h,r,u),p&&Gn(p,r);const y=Bi(r,h,u.directiveStart+u.componentOffset,u);if(t[it]=r[it]=y,null!==o)for(const w of o)w(y,e);return Df(h,u,t),y}(Oe,Te,Le,ge,J,[vI]),Uf(j,J,null)}finally{Ao()}return new uI(this.componentType,ve,mc(Ve,J),J,Ve)}}class uI extends tA{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new oI(r),this.componentType=e}setInput(e,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Bf(o[m1],o,r,e,n),this.previousInputValues.set(e,n),d8(Z3(this._tNode.index,o))}}get injector(){return new qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function vI(){const t=Et();Qr(Xe()[m1],t)}function r7(t){return!!$f(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function $f(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function X4(t,e,n){return t[e]=n}function I3(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function s7(t,e,n,i){const r=Xe();return I3(r,Ms(),e)&&(C2(),Z4(yt(),r,t,e,n,i)),s7}function u7(t,e,n,i,r,o,u,h){const p=Xe(),y=C2(),w=t+l2,z=y.firstCreatePass?function GI(t,e,n,i,r,o,u,h,p){const y=e.consts,w=_c(e,t,4,u||null,Xr(y,h));Nf(e,n,w,Xr(y,p)),Qr(e,w);const z=w.tView=kf(2,w,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,y,null);return null!==e.queries&&(e.queries.template(e,w),z.queries=e.queries.embeddedTView(w)),w}(w,y,p,e,n,i,r,o,u):y.data[w];gr(z,!1);const E=ry(y,p,z,t);Fi()&&S1(y,p,E,z),Gn(E,p),e7(p,p[w]=Sv(E,p,E,z)),qr(z)&&Af(y,p,z),null!=u&&If(p,z,h)}let ry=function ay(t,e,n,i){return $4(!0),e[F1].createComment("")};function e1(t,e,n){const i=Xe();return I3(i,Ms(),e)&&qi(C2(),yt(),i,t,e,i[F1],n,!1),e1}function Xf(t,e,n,i,r){const u=r?"class":"style";Bf(t,n,e.inputs[u],u,i)}function we(t,e,n,i){const r=Xe(),o=C2(),u=l2+t,h=r[F1],p=o.firstCreatePass?function KI(t,e,n,i,r,o){const u=e.consts,p=_c(e,t,2,i,Xr(u,r));return Nf(e,n,p,Xr(u,o)),null!==p.attrs&&t7(p,p.attrs,!1),null!==p.mergedAttrs&&t7(p,p.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,p),p}(u,o,r,e,n,i):o.data[u],y=sy(o,r,p,h,e,t);r[u]=y;const w=qr(p);return gr(p,!0),Bt(h,y,p),32!=(32&p.flags)&&Fi()&&S1(o,r,y,p),0===function $5(){return Y1.lFrame.elementDepthCount}()&&Gn(y,r),function z0(){Y1.lFrame.elementDepthCount++}(),w&&(Af(o,r,p),Df(o,p,r)),null!==i&&If(r,p),we}function Pe(){let t=Et();S0()?H0():(t=t.parent,gr(t,!1));const e=t;(function du(t){return Y1.skipHydrationRootTNode===t})(e)&&function gu(){Y1.skipHydrationRootTNode=null}(),function Po(){Y1.lFrame.elementDepthCount--}();const n=C2();return n.firstCreatePass&&(Qr(n,t),ya(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function wu(t){return 0!=(8&t.flags)}(e)&&Xf(n,e,Xe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function zu(t){return 0!=(16&t.flags)}(e)&&Xf(n,e,Xe(),e.stylesWithoutHost,!1),Pe}function d1(t,e,n,i){return we(t,e,n,i),Pe(),d1}let sy=(t,e,n,i,r,o)=>($4(!0),g(i,r,function X5(){return Y1.lFrame.currentNamespace}()));function Qf(){return Xe()}function f7(t){return!!t&&"function"==typeof t.then}function ly(t){return!!t&&"function"==typeof t.subscribe}function b3(t,e,n,i){const r=Xe(),o=C2(),u=Et();return function fy(t,e,n,i,r,o,u){const h=qr(i),y=t.firstCreatePass&&Vv(t),w=e[it],z=Lv(e);let E=!0;if(3&i.type||u){const F=Un(i,e),$=u?u(F):F,W=z.length,R=u?J=>u(A2(J[i.index])):i.index;let j=null;if(!u&&h&&(j=function ik(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const u=r[o];if(u===n&&r[o+1]===i){const h=e[Ur],p=r[o+2];return h.length>p?h[p]:null}"string"==typeof u&&(o+=2)}return null}(t,e,r,i.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,E=!1;else{o=dy(i,e,w,o,!1);const J=n.listen($,r,o);z.push(o,J),y&&y.push(r,R,W,W+1)}}else o=dy(i,e,w,o,!1);const P=i.outputs;let I;if(E&&null!==P&&(I=P[r])){const F=I.length;if(F)for(let $=0;$<F;$+=2){const ve=e[I[$]][I[$+1]].subscribe(o),Ve=z.length;z.push(o,ve),y&&y.push(r,i.index,Ve,-(Ve+1))}}}(o,r,r[F1],u,t,e,i),b3}function hy(t,e,n,i){try{return _i(6,e,n),!1!==n(i)}catch(r){return Tv(t,r),!1}finally{_i(7,e,n)}}function dy(t,e,n,i,r){return function o(u){if(u===Function)return i;d8(t.componentOffset>-1?Z3(t.index,e):e);let p=hy(e,n,i,u),y=o.__ngNextListenerFn__;for(;y;)p=hy(e,n,y,u)&&p,y=y.__ngNextListenerFn__;return r&&!1===p&&u.preventDefault(),p}}function Vc(t=1){return function yu(t){return(Y1.lFrame.contextLView=function P0(t,e){for(;t>0;)e=e[T1],t--;return e}(t,Y1.lFrame.contextLView))[it]}(t)}function rk(t,e){let n=null;const i=function ma(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?z6(t,o,!0):ga(i,o))return r}else n=r}return n}function Ye(t,e=""){const n=Xe(),i=C2(),r=t+l2,o=i.firstCreatePass?_c(i,r,1,e,null):i.data[r],u=Fy(i,n,o,e,t);n[r]=u,Fi()&&S1(i,n,u,o),gr(o,!1)}let Fy=(t,e,n,i,r)=>($4(!0),function a(t,e){return t.createText(e)}(e[F1],i));function ah(t,e,n){const i=Xe();return I3(i,Ms(),e)&&qi(C2(),yt(),i,t,e,i[F1],n,!0),ah}const Pc="en-US";let c_=Pc;class Qo{}class A_{}class hh extends Qo{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ov(this);const r=Rn(e);this._bootstrapComponents=Da(r.bootstrap),this._r3Injector=Yg(e,n,[{provide:Qo,useValue:this},{provide:Xl,useValue:this.componentFactoryResolver},...i],At(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class dh extends A_{constructor(e){super(),this.moduleType=e}create(e){return new hh(this.moduleType,e,[])}}class I_ extends Qo{constructor(e){super(),this.componentFactoryResolver=new Ov(this),this.instance=null;const n=new Ul([...e.providers,{provide:Qo,useValue:this},{provide:Xl,useValue:this.componentFactoryResolver}],e.parent||Bl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ph(t,e,n=null){return new I_({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let KN=(()=>{var t;class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const r=Dg(0,i.type),o=r.length>0?ph([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=k1({token:t,providedIn:"environment",factory:()=>new t(w1(Mr))}),e})();function k_(t){t.getStandaloneInjector=e=>e.get(KN).getOrCreateStandaloneInjector(t)}function V2(t,e,n){const i=$n()+t,r=Xe();return r[i]===s2?X4(r,i,n?e.call(n):e()):function y8(t,e){return t[e]}(r,i)}function gh(t,e,n,i){return function $_(t,e,n,i,r,o){const u=e+n;return I3(t,u,r)?X4(t,u+1,o?i.call(o,r):i(r)):function L8(t,e){const n=t[e];return n===s2?void 0:n}(t,u+1)}(Xe(),$n(),t,e,n,i)}function xO(){return this._results[Symbol.iterator]()}class vh{get changes(){return this._changes||(this._changes=new Q3)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=vh.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=xO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const i=this;i.dirty=!1;const r=function _n(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ml(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function MO(t,e,n,i=!0){const r=e[m1];if(function D(t,e,n,i){const r=dt+i,o=n.length;i>0&&(n[r-1][g2]=e),i<o-dt?(e[g2]=n[r],Ds(n,dt+i,e)):(n.push(e),e[g2]=null),e[m2]=n;const u=e[$r];null!==u&&n!==u&&function N(t,e){const n=t[mi];e[rt]!==e[m2][m2][rt]&&(t[F4]=!0),null===n?t[mi]=[e]:n.push(e)}(u,e);const h=e[ht];null!==h&&h.insertView(t),e[J1]|=128}(r,e,t,n),i){const o=F2(n,t),u=e[F1],h=v1(u,t[p3]);null!==h&&function M(t,e,n,i,r,o){i[nt]=r,i[Ht]=e,tn(t,i,n,1,r,o)}(r,t[Ht],u,e,h,o)}}let Ia=(()=>{class e{}return e.__NG_ELEMENT_ID__=SO,e})();const wO=Ia,zO=class extends wO{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){const r=function bO(t,e,n,i){const r=e.tView,h=Jl(t,r,n,4096&t[J1]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);h[$r]=t[e.index];const y=t[ht];return null!==y&&(h[ht]=y.createEmbeddedView(r)),Uf(r,h,n),h}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:i});return new g8(r)}};function SO(){return y7(Et(),Xe())}function y7(t,e){return 4&t.type?new zO(e,t,mc(t,e)):null}let u4=(()=>{class e{}return e.__NG_ELEMENT_ID__=PO,e})();function PO(){return eC(Et(),Xe())}const DO=u4,Q_=class extends DO{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return mc(this._hostTNode,this._hostLView)}get injector(){return new qn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sa(this._hostTNode,this._hostLView);if(k0(e)){const n=ko(e,this._hostLView),i=Jr(e);return new qn(n[m1].data[i+8],n)}return new qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=J_(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(e,n,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const h=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(h,r,false),h}createComponent(e,n,i,r,o){const u=e&&!function Ha(t){return"function"==typeof t}(e);let h;if(u)h=n;else{const F=n||{};h=F.index,i=F.injector,r=F.projectableNodes,o=F.environmentInjector||F.ngModuleRef}const p=u?e:new v8(_2(e)),y=i||this.parentInjector;if(!o&&null==p.ngModule){const $=(u?y:this.parentInjector).get(Mr,null);$&&(o=$)}_2(p.componentType??{});const P=p.create(y,r,null,o);return this.insertImpl(P.hostView,h,false),P}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,i){const r=e._lView;if(function M0(t){return Lt(t[m2])}(r)){const p=this.indexOf(e);if(-1!==p)this.detach(p);else{const y=r[m2],w=new Q_(y,y[Ht],y[m2]);w.detach(w.indexOf(e))}}const u=this._adjustIndex(n),h=this._lContainer;return MO(h,r,u,!i),e.attachToViewContainerRef(),Ds(yh(h),u,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=J_(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),i=q(this._lContainer,n);i&&(e4(yh(this._lContainer),n),X(i[m1],i))}detach(e){const n=this._adjustIndex(e,-1),i=q(this._lContainer,n);return i&&null!=e4(yh(this._lContainer),n)?new g8(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function J_(t){return t[8]}function yh(t){return t[8]||(t[8]=[])}function eC(t,e){let n;const i=e[t.index];return Lt(i)?n=i:(n=Sv(i,e,null,t),e[t.index]=n,e7(e,n)),tC(n,e,t,i),new Q_(n,t,e)}let tC=function nC(t,e,n,i){if(t[p3])return;let r;r=8&n.type?A2(i):function AO(t,e){const n=t[F1],i=n.createComment(""),r=Un(e,t);return de(n,v1(n,r),i,function u1(t,e){return t.nextSibling(e)}(n,r),!1),i}(e,n),t[p3]=r};class _h{constructor(e){this.queryList=e,this.matches=null}clone(){return new _h(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ch{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){const u=n.getByIndex(o);r.push(this.queries[u.indexInDeclarationView].clone())}return new Ch(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==cC(e,n).matches&&this.queries[n].setDirty()}}class iC{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}}class xh{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new xh(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class bh{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new bh(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,n,NO(n,o)),this.matchTNodeWithReadOption(e,n,U6(n,e,o,!1,!1))}else i===Ia?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,U6(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===wi||r===u4||r===Ia&&4&n.type)this.addMatch(n.index,-2);else{const o=U6(n,e,r,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function NO(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function RO(t,e,n,i){return-1===n?function OO(t,e){return 11&t.type?mc(t,e):4&t.type?y7(t,e):null}(e,t):-2===n?function FO(t,e,n){return n===wi?mc(e,t):n===Ia?y7(e,t):n===u4?eC(e,t):void 0}(t,e,i):Bi(t,t[m1],n,e)}function rC(t,e,n,i){const r=e[ht].queries[i];if(null===r.matches){const o=t.data,u=n.matches,h=[];for(let p=0;p<u.length;p+=2){const y=u[p];h.push(y<0?null:RO(e,o[y],u[p+1],n.metadata.read))}r.matches=h}return r.matches}function Mh(t,e,n,i){const r=t.queries.getByIndex(n),o=r.matches;if(null!==o){const u=rC(t,e,r,n);for(let h=0;h<o.length;h+=2){const p=o[h];if(p>0)i.push(u[h/2]);else{const y=o[h+1],w=e[-p];for(let z=dt;z<w.length;z++){const E=w[z];E[$r]===E[m2]&&Mh(E[m1],E,y,i)}if(null!==w[mi]){const z=w[mi];for(let E=0;E<z.length;E++){const P=z[E];Mh(P[m1],P,y,i)}}}}}return i}function E8(t){const e=Xe(),n=C2(),i=V0();wa(i+1);const r=cC(n,i);if(t.dirty&&function a3(t){return 4==(4&t[J1])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?Mh(n,e,i,[]):rC(n,e,r,i);t.reset(o,aA),t.notifyOnChanges()}return!0}return!1}function C7(t,e,n){const i=C2();i.firstCreatePass&&(function oC(t,e,n){null===t.queries&&(t.queries=new xh),t.queries.track(new bh(e,n))}(i,new iC(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),function sC(t,e,n){const i=new vh(4==(4&n));(function kA(t,e,n,i){const r=Lv(e);r.push(n),t.firstCreatePass&&Vv(t).push(i,r.length-1)})(t,e,i,i.destroy),null===e[ht]&&(e[ht]=new Ch),e[ht].queries.push(new _h(i))}(i,Xe(),e)}function T8(){return function BO(t,e){return t[ht].queries[e].queryList}(Xe(),V0())}function cC(t,e){return t.queries.getByIndex(e)}const Vh=new G1("Application Initializer");let Eh=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=x1(Vh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const o of this.appInits){const u=o();if(f7(u))i.push(u);else if(ly(u)){const h=new Promise((p,y)=>{u.subscribe({complete:p,error:y})});i.push(h)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),0===i.length&&r(),this.initialized=!0}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zC=(()=>{var t;class e{log(i){console.log(i)}warn(i){console.warn(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const ka=new G1("LocaleId",{providedIn:"root",factory:()=>x1(ka,a2.Optional|a2.SkipSelf)||function uR(){return typeof $localize<"u"&&$localize.locale||Pc}()});let SC=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Nn(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class dR{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let HC=(()=>{var t;class e{compileModuleSync(i){return new dh(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const r=this.compileModuleSync(i),u=Da(Rn(i).declarations).reduce((h,p)=>{const y=_2(p);return y&&h.push(new v8(y)),h},[]);return new dR(r,u)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const TC=new G1(""),M7=new G1("");let Ih,Dh=(()=>{var t;class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ih||(function DR(t){Ih=t}(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ot.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(i)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let u=-1;r&&r>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==u),i(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:i,timeoutId:u,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(ot),w1(Ah),w1(M7))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})(),Ah=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return Ih?.findTestabilityInTree(this,i,r)??null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Us=null;const PC=new G1("AllowMultipleToken"),kh=new G1("PlatformDestroyListeners"),Nh=new G1("appBootstrapListener");class AC{constructor(e,n){this.name=e,this.token=n}}function kC(t,e,n=[]){const i=`Platform: ${e}`,r=new G1(i);return(o=[])=>{let u=Oh();if(!u||u.injector.get(PC,!1)){const h=[...n,...o,{provide:r,useValue:!0}];t?t(h):function kR(t){if(Us&&!Us.get(PC,!1))throw new $e(400,!1);(function DC(){!function B4(t){Ot=t}(()=>{throw new $e(600,!1)})})(),Us=t;const e=t.get(OC);(function IC(t){t.get(Og,null)?.forEach(n=>n())})(t)}(function NC(t=[],e){return ji.create({name:e,providers:[{provide:lf,useValue:"platform"},{provide:kh,useValue:new Set([()=>Us=null])},...t]})}(h,i))}return function OR(t){const e=Oh();if(!e)throw new $e(401,!1);return e}()}}function Oh(){return Us?.get(OC)??null}let OC=(()=>{var t;class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){const o=function RR(t="zone.js",e){return"noop"===t?new CA:"zone.js"===t?new ot(e):t}(r?.ngZone,function RC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const u=function YN(t,e,n){return new hh(t,e,n)}(i.moduleType,this.injector,function jC(t){return[{provide:ot,useFactory:t},{provide:l8,multi:!0,useFactory:()=>{const e=x1(BR,{optional:!0});return()=>e.initialize()}},{provide:$C,useFactory:FR},{provide:tv,useFactory:nv}]}(()=>o)),h=u.injector.get(Pa,null);return o.runOutsideAngular(()=>{const p=o.onError.subscribe({next:y=>{h.handleError(y)}});u.onDestroy(()=>{w7(this._modules,u),p.unsubscribe()})}),function FC(t,e,n){try{const i=n();return f7(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(h,o,()=>{const p=u.injector.get(Eh);return p.runInitializers(),p.donePromise.then(()=>(function l_(t){On(t,"Expected localeId to be defined"),"string"==typeof t&&(c_=t.toLowerCase().replace(/_/g,"-"))}(u.injector.get(ka,Pc)||Pc),this._moduleDoBootstrap(u),u))})})}bootstrapModule(i,r=[]){const o=BC({},r);return function AR(t,e,n){const i=new dh(n);return Promise.resolve(i)}(0,0,i).then(u=>this.bootstrapModuleFactory(u,o))}_moduleDoBootstrap(i){const r=i.injector.get(Jo);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!i.instance.ngDoBootstrap)throw new $e(-403,!1);i.instance.ngDoBootstrap(r)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $e(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const i=this._injector.get(kh,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(ji))},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function BC(t,e){return Array.isArray(e)?e.reduce(BC,t):{...t,...e}}let Jo=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x1($C),this.zoneIsStable=x1(tv),this.componentTypes=[],this.components=[],this.isStable=x1(SC).hasPendingTasks.pipe(e3(i=>i?j1(!1):this.zoneIsStable),function l0(t,e=f3){return t=t??C6,et((n,i)=>{let r,o=!0;n.subscribe($2(i,u=>{const h=e(u);(o||!t(r,h))&&(o=!1,r=h,i.next(u))}))})}(),Ei()),this._injector=x1(Mr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){const o=i instanceof jg;if(!this._injector.get(Eh).done)throw!o&&function pi(t){const e=_2(t)||Kt(t)||gn(t);return null!==e&&e.standalone}(i),new $e(405,!1);let h;h=o?i:this._injector.get(Xl).resolveComponentFactory(i),this.componentTypes.push(h.componentType);const p=function IR(t){return t.isBoundToModule}(h)?void 0:this._injector.get(Qo),w=h.create(ji.NULL,[],r||h.selector,p),z=w.location.nativeElement,E=w.injector.get(TC,null);return E?.registerApplication(z),w.onDestroy(()=>{this.detachView(w.hostView),w7(this.components,w),E?.unregisterApplication(z)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new $e(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){const r=i;w7(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const r=this._injector.get(Nh,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>w7(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new $e(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function w7(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $C=new G1("",{providedIn:"root",factory:()=>x1(Pa).handleError.bind(void 0)});function FR(){const t=x1(ot),e=x1(Pa);return n=>t.runOutsideAngular(()=>e.handleError(n))}let BR=(()=>{var t;class e{constructor(){this.zone=x1(ot),this.applicationRef=x1(Jo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Rh=(()=>{class e{}return e.__NG_ELEMENT_ID__=$R,e})();function $R(t){return function jR(t,e,n){if(Ni(t)&&!n){const i=Z3(t.index,e);return new g8(i,i)}return 47&t.type?new g8(e[rt],e):null}(Et(),Xe(),16==(16&t))}class ZC{constructor(){}supports(e){return r7(e)}create(e){return new YR(e)}}const XR=(t,e)=>e;class YR{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||XR}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){const u=!i||n&&n.currentIndex<YC(i,r,o)?n:i,h=YC(u,r,o),p=u.currentIndex;if(u===i)r--,i=i._nextRemoved;else if(n=n._next,null==u.previousIndex)r++;else{o||(o=[]);const y=h-r,w=p-r;if(y!=w){for(let E=0;E<y;E++){const P=E<o.length?o[E]:o[E]=0,I=P+E;w<=I&&I<y&&(o[E]=P+1)}o[u.previousIndex]=w-y}}h!==p&&e(u,h,p)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!r7(e))throw new $e(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,u,n=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let h=0;h<this.length;h++)o=e[h],u=this._trackByFn(h,o),null!==n&&Object.is(n.trackById,u)?(i&&(n=this._verifyReinsertion(n,o,u,h)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,u,h),i=!0),n=n._next}else r=0,function LI(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let i;for(;!(i=n.next()).done;)e(i.value)}}(e,h=>{u=this._trackByFn(r,h),null!==n&&Object.is(n.trackById,u)?(i&&(n=this._verifyReinsertion(n,h,u,r)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,u,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new KR(n,i),o,r),e}_verifyReinsertion(e,n,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){const r=null===n?this._itHead:n._next;return e._next=r,e._prev=n,null===r?this._itTail=e:r._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new XC),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class KR{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QR{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class XC{constructor(){this.map=new Map}put(e){const n=e.trackById;let i=this.map.get(n);i||(i=new QR,this.map.set(n,i)),i.add(e)}get(e,n){const r=this.map.get(e);return r?r.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YC(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class KC{constructor(){}supports(e){return e instanceof Map||$f(e)}create(){return new JR}}class JR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||$f(e)))throw new $e(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,n);const o=r._prev,u=r._next;return o&&(o._next=u),u&&(u._prev=o),r._next=null,r._prev=null,r}const i=new eF(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}}class eF{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QC(){return new H7([new ZC])}let H7=(()=>{var t;class e{constructor(i){this.factories=i}static create(i,r){if(null!=r){const o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||QC()),deps:[[e,new Is,new Z6]]}}find(i){const r=this.factories.find(o=>o.supports(i));if(null!=r)return r;throw new $e(901,!1)}}return(t=e).\u0275prov=k1({token:t,providedIn:"root",factory:QC}),e})();function JC(){return new A8([new KC])}let A8=(()=>{var t;class e{constructor(i){this.factories=i}static create(i,r){if(r){const o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||JC()),deps:[[e,new Is,new Z6]]}}find(i){const r=this.factories.find(o=>o.supports(i));if(r)return r;throw new $e(901,!1)}}return(t=e).\u0275prov=k1({token:t,providedIn:"root",factory:JC}),e})();const iF=kC(null,"core",[]);let rF=(()=>{var t;class e{constructor(i){}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Jo))},t.\u0275mod=Ai({type:t}),t.\u0275inj=Ti({}),e})(),Gh=null;function Ic(){return Gh}class yF{}const Xn=new G1("DocumentToken");let Wh=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:function(){return x1(CF)},providedIn:"platform"}),e})();const _F=new G1("Location Initialized");let CF=(()=>{var t;class e extends Wh{constructor(){super(),this._doc=x1(Xn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ic().getBaseHref(this._doc)}onPopState(i){const r=Ic().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=Ic().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function Zh(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function cx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Na(t){return t&&"?"!==t[0]?"?"+t:t}let t6=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:function(){return x1(ux)},providedIn:"root"}),e})();const lx=new G1("appBaseHref");let ux=(()=>{var t;class e extends t6{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x1(Xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Zh(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+Na(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,u){const h=this.prepareExternalUrl(o+Na(u));this._platformLocation.pushState(i,r,h)}replaceState(i,r,o,u){const h=this.prepareExternalUrl(o+Na(u));this._platformLocation.replaceState(i,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Wh),w1(lx,8))},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),xF=(()=>{var t;class e extends t6{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=Zh(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,u){let h=this.prepareExternalUrl(o+Na(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(i,r,h)}replaceState(i,r,o,u){let h=this.prepareExternalUrl(o+Na(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Wh),w1(lx,8))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})(),Xh=(()=>{var t;class e{constructor(i){this._subject=new Q3,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function wF(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(cx(fx(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Na(r))}normalize(i){return e.stripTrailingSlash(function MF(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,fx(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Na(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Na(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}}return(t=e).normalizeQueryParams=Na,t.joinWithSlash=Zh,t.stripTrailingSlash=cx,t.\u0275fac=function(i){return new(i||t)(w1(t6))},t.\u0275prov=k1({token:t,factory:function(){return function bF(){return new Xh(w1(t6))}()},providedIn:"root"}),e})();function fx(t){return t.replace(/\/index.html$/,"")}const ad=/\s+/,Cx=[];let R7=(()=>{var t;class e{constructor(i,r,o,u){this._iterableDiffers=i,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this.initialClasses=Cx,this.stateMap=new Map}set klass(i){this.initialClasses=null!=i?i.trim().split(ad):Cx}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(ad):i}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const r of i)this._updateState(r,!0);else if(null!=i)for(const r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){const o=this.stateMap.get(i);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){(i=i.trim()).length>0&&i.split(ad).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(H7),L1(A8),L1(wi),L1(gc))},t.\u0275dir=Y2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class uB{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sd=(()=>{var t;class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const r=this._viewContainer;i.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new uB(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,h),bx(p,o)}});for(let o=0,u=r.length;o<u;o++){const p=r.get(o).context;p.index=o,p.count=u,p.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{bx(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(i,r){return!0}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(u4),L1(Ia),L1(H7))},t.\u0275dir=Y2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function bx(t,e){t.context.$implicit=e.item}let Mx=(()=>{var t;class e{constructor(i,r){this._viewContainer=i,this._context=new fB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){wx("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){wx("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(u4),L1(Ia))},t.\u0275dir=Y2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class fB{constructor(){this.$implicit=null,this.ngIf=null}}function wx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${At(e)}'.`)}let kB=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=Ai({type:t}),t.\u0275inj=Ti({}),e})();function Lx(t){return"server"===t}let FB=(()=>{var t;class e{}return(t=e).\u0275prov=k1({token:t,providedIn:"root",factory:()=>new BB(w1(Xn),window)}),e})();class BB{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function UB(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class hU extends yF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dd extends hU{static makeCurrent(){!function vF(t){Gh||(Gh=t)}(new dd)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function dU(){return O8=O8||document.querySelector("base"),O8?O8.getAttribute("href"):null}();return null==n?null:function pU(t){U7=U7||document.createElement("a"),U7.setAttribute("href",t);const e=U7.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){O8=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function cB(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let U7,O8=null,gU=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();const pd=new G1("EventManagerPlugins");let Dx=(()=>{var t;class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(u=>u.supports(i)),!r)throw new $e(5101,!1);return this._eventNameToPlugin.set(i,r),r}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(pd),w1(ot))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();class Ax{constructor(e){this._doc=e}}const md="ng-app-id";let Ix=(()=>{var t;class e{constructor(i,r,o,u={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Lx(u),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${md}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){const o=this.styleRef;if(o.has(i)){const u=o.get(i);return u.usage+=r,u.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===i)return o.delete(r),u.removeAttribute(md),u;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=r,this.platformIsServer&&h.setAttribute(md,this.appId),h}}addStyleToHost(i,r){const o=this.getStyleElement(i,r);i.appendChild(o);const u=this.styleRef,h=u.get(r)?.elements;h?h.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Xn),w1($l),w1(Fg,8),w1(hc))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();const gd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vd=/%COMP%/g,CU=new G1("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Nx(t,e){return e.map(n=>n.replace(vd,t))}let yd=(()=>{var t;class e{constructor(i,r,o,u,h,p,y,w=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=h,this.platformId=p,this.ngZone=y,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Lx(p),this.defaultRenderer=new _d(i,h,y,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===t3.ShadowDom&&(r={...r,encapsulation:t3.Emulated});const o=this.getOrCreateRenderer(i,r);return o instanceof Rx?o.applyToHost(i):o instanceof Cd&&o.applyStyles(),o}getOrCreateRenderer(i,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const h=this.doc,p=this.ngZone,y=this.eventManager,w=this.sharedStylesHost,z=this.removeStylesOnCompDestroy,E=this.platformIsServer;switch(r.encapsulation){case t3.Emulated:u=new Rx(y,w,r,this.appId,z,h,p,E);break;case t3.ShadowDom:return new wU(y,w,i,r,h,p,this.nonce,E);default:u=new Cd(y,w,r,z,h,p,E)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Dx),w1(Ix),w1($l),w1(CU),w1(Xn),w1(hc),w1(ot),w1(Fg))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();class _d{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ox(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(Ox(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new $e(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const o=gd[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=gd[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(r4.DashCase|r4.Important)?e.style.setProperty(n,i,r&r4.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&r4.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){if("string"==typeof e&&!(e=Ic().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Ox(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class wU extends _d{constructor(e,n,i,r,o,u,h,p){super(e,o,u,p),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=Nx(r.id,r.styles);for(const w of y){const z=document.createElement("style");h&&z.setAttribute("nonce",h),z.textContent=w,this.shadowRoot.appendChild(z)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cd extends _d{constructor(e,n,i,r,o,u,h,p){super(e,o,u,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=p?Nx(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Rx extends Cd{constructor(e,n,i,r,o,u,h,p){const y=r+"-"+i.id;super(e,n,i,o,u,h,p,y),this.contentAttr=function xU(t){return"_ngcontent-%COMP%".replace(vd,t)}(y),this.hostAttr=function bU(t){return"_nghost-%COMP%".replace(vd,t)}(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}let zU=(()=>{var t;class e extends Ax{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Xn))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();const Fx=["alt","control","meta","shift"],SU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let LU=(()=>{var t;class e extends Ax{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,r,o){const u=e.parseEventName(r),h=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ic().onAndCancel(i,u.domEventName,h))}static parseEventName(i){const r=i.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let h="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),h="code."),Fx.forEach(w=>{const z=r.indexOf(w);z>-1&&(r.splice(z,1),h+=w+".")}),h+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=o,y.fullKey=h,y}static matchEventFullKeyCode(i,r){let o=SU[i.key]||i.key,u="";return r.indexOf("code.")>-1&&(o=i.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Fx.forEach(h=>{h!==o&&(0,HU[h])(i)&&(u+=h+".")}),u+=o,u===r)}static eventCallback(i,r,o){return u=>{e.matchEventFullKeyCode(u,i)&&o.runGuarded(()=>r(u))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Xn))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();const PU=kC(iF,"browser",[{provide:hc,useValue:"browser"},{provide:Og,useValue:function VU(){dd.makeCurrent()},multi:!0},{provide:Xn,useFactory:function TU(){return function En(t){c3=t}(document),document},deps:[]}]),DU=new G1(""),$x=[{provide:M7,useClass:class mU{addToWindow(e){N2.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new $e(5103,!1);return o},N2.getAllAngularTestabilities=()=>e.getAllTestabilities(),N2.getAllAngularRootElements=()=>e.getAllRootElements(),N2.frameworkStabilizers||(N2.frameworkStabilizers=[]),N2.frameworkStabilizers.push(i=>{const r=N2.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(p){u=u||p,o--,0==o&&i(u)};r.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,n,i){return null==n?null:e.getTestability(n)??(i?Ic().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:TC,useClass:Dh,deps:[ot,Ah,M7]},{provide:Dh,useClass:Dh,deps:[ot,Ah,M7]}],jx=[{provide:lf,useValue:"root"},{provide:Pa,useFactory:function EU(){return new Pa},deps:[]},{provide:pd,useClass:zU,multi:!0,deps:[Xn,ot,hc]},{provide:pd,useClass:LU,multi:!0,deps:[Xn]},yd,Ix,Dx,{provide:h8,useExisting:yd},{provide:class $B{},useClass:gU,deps:[]},[]];let qx=(()=>{var t;class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:$l,useValue:i.appId}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(DU,12))},t.\u0275mod=Ai({type:t}),t.\u0275inj=Ti({providers:[...jx,...$x],imports:[kB,rF]}),e})(),Gx=(()=>{var t;class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Xn))},t.\u0275prov=k1({token:t,factory:function(i){let r=null;return r=i?new i:function IU(){return new Gx(w1(Xn))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let Xx=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:function(i){let r=null;return r=i?new(i||t):w1(Yx),r},providedIn:"root"}),e})(),Yx=(()=>{var t;class e extends Xx{constructor(i){super(),this._doc=i}sanitize(i,r){if(null==r)return null;switch(i){case br.NONE:return r;case br.HTML:return Tn(r,"HTML")?x3(r):zg(this._doc,String(r)).toString();case br.STYLE:return Tn(r,"Style")?x3(r):r;case br.SCRIPT:if(Tn(r,"Script"))return x3(r);throw new $e(5200,!1);case br.URL:return Tn(r,"URL")?x3(r):Ta(String(r));case br.RESOURCE_URL:if(Tn(r,"ResourceURL"))return x3(r);throw new $e(5201,!1);default:throw new $e(5202,!1)}}bypassSecurityTrustHtml(i){return function Al(t){return new C3(t)}(i)}bypassSecurityTrustStyle(i){return function Yu(t){return new s4(t)}(i)}bypassSecurityTrustScript(i){return function Ku(t){return new Go(t)}(i)}bypassSecurityTrustUrl(i){return function Qu(t){return new Pl(t)}(i)}bypassSecurityTrustResourceUrl(i){return function Ju(t){return new o8(t)}(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Xn))},t.\u0275prov=k1({token:t,factory:function(i){let r=null;return r=i?new i:function RU(t){return new Yx(t.get(Xn))}(w1(ji)),r},providedIn:"root"}),e})();var $7={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},bd={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm64 80v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm128 0v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H336zM64 400v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H208zm112 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H336c-8.8 0-16 7.2-16 16z"]},zd={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},SM={prefix:"fas",iconName:"chart-simple",icon:[448,512,[],"e473","M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"]},Nd={prefix:"fas",iconName:"shield-halved",icon:[512,512,["shield-alt"],"f3ed","M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0zm0 66.8V444.8C394 378 431.1 230.1 432 141.4L256 66.8l0 0z"]},Kw={prefix:"fas",iconName:"archway",icon:[512,512,[],"f557","M32 32C14.3 32 0 46.3 0 64S14.3 96 32 96H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zm0 384c-17.7 0-32 14.3-32 32s14.3 32 32 32H96h64V352c0-53 43-96 96-96s96 43 96 96V480h64 64c17.7 0 32-14.3 32-32s-14.3-32-32-32V128H32V416z"]},rz={prefix:"fas",iconName:"newspaper",icon:[512,512,[128240],"f1ea","M96 96c0-35.3 28.7-64 64-64H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H80c-44.2 0-80-35.8-80-80V128c0-17.7 14.3-32 32-32s32 14.3 32 32V400c0 8.8 7.2 16 16 16s16-7.2 16-16V96zm64 24v80c0 13.3 10.7 24 24 24H296c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24H184c-13.3 0-24 10.7-24 24zm208-8c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H384c-8.8 0-16 7.2-16 16zm0 96c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H384c-8.8 0-16 7.2-16 16zM160 304c0 8.8 7.2 16 16 16H432c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm0 96c0 8.8 7.2 16 16 16H432c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16z"]},Lz={prefix:"fas",iconName:"cube",icon:[512,512,[],"f1b2","M234.5 5.7c13.9-5 29.1-5 43.1 0l192 68.6C495 83.4 512 107.5 512 134.6V377.4c0 27-17 51.2-42.5 60.3l-192 68.6c-13.9 5-29.1 5-43.1 0l-192-68.6C17 428.6 0 404.5 0 377.4V134.6c0-27 17-51.2 42.5-60.3l192-68.6zM256 66L82.3 128 256 190l173.7-62L256 66zm32 368.6l160-57.1v-188L288 246.6v188z"]},Bd={prefix:"fas",iconName:"basketball",icon:[512,512,[127936,"basketball-ball"],"f434","M86.6 64l85.2 85.2C194.5 121.7 208 86.4 208 48c0-14.7-2-28.9-5.7-42.4C158.6 15 119 35.5 86.6 64zM64 86.6C35.5 119 15 158.6 5.6 202.3C19.1 206 33.3 208 48 208c38.4 0 73.7-13.5 101.3-36.1L64 86.6zM256 0c-7.3 0-14.6 .3-21.8 .9C238 16 240 31.8 240 48c0 47.3-17.1 90.5-45.4 124L256 233.4 425.4 64C380.2 24.2 320.9 0 256 0zM48 240c-16.2 0-32-2-47.1-5.8C.3 241.4 0 248.7 0 256c0 64.9 24.2 124.2 64 169.4L233.4 256 172 194.6C138.5 222.9 95.3 240 48 240zm463.1 37.8c.6-7.2 .9-14.5 .9-21.8c0-64.9-24.2-124.2-64-169.4L278.6 256 340 317.4c33.4-28.3 76.7-45.4 124-45.4c16.2 0 32 2 47.1 5.8zm-4.7 31.9C492.9 306 478.7 304 464 304c-38.4 0-73.7 13.5-101.3 36.1L448 425.4c28.5-32.3 49.1-71.9 58.4-115.7zM340.1 362.7C317.5 390.3 304 425.6 304 464c0 14.7 2 28.9 5.7 42.4C353.4 497 393 476.5 425.4 448l-85.2-85.2zM317.4 340L256 278.6 86.6 448c45.1 39.8 104.4 64 169.4 64c7.3 0 14.6-.3 21.8-.9C274 496 272 480.2 272 464c0-47.3 17.1-90.5 45.4-124z"]},Ud={prefix:"fas",iconName:"mobile-screen-button",icon:[384,512,["mobile-alt"],"f3cd","M16 64C16 28.7 44.7 0 80 0H304c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H80c-35.3 0-64-28.7-64-64V64zM224 448a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM304 64H80V384H304V64z"]},_S={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},Yd={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},ZS={prefix:"fas",iconName:"coins",icon:[512,512,[],"f51e","M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2l0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5V176c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336V300.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4V304v5.7V336zm32 0V304 278.1c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5V272c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5V432c0 44.2-86 80-192 80S0 476.2 0 432V396.6c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z"]},eH={prefix:"fas",iconName:"images",icon:[576,512,[],"f302","M160 32c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160zM396 138.7l96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320H328 280 200c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84C360.5 132 368 128 376 128s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120V344c0 75.1 60.9 136 136 136H456c13.3 0 24-10.7 24-24s-10.7-24-24-24H136c-48.6 0-88-39.4-88-88V120z"]},vH={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},SH={prefix:"fas",iconName:"paint-roller",icon:[512,512,[],"f5aa","M0 64C0 28.7 28.7 0 64 0H352c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM160 352c0-17.7 14.3-32 32-32V304c0-44.2 35.8-80 80-80H416c17.7 0 32-14.3 32-32V160 69.5c37.3 13.2 64 48.7 64 90.5v32c0 53-43 96-96 96H272c-8.8 0-16 7.2-16 16v16c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V352z"]},tp={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},B8={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},RH={prefix:"fas",iconName:"receipt",icon:[384,512,[129534],"f543","M14 2.2C22.5-1.7 32.5-.3 39.6 5.8L80 40.4 120.4 5.8c9-7.7 22.3-7.7 31.2 0L192 40.4 232.4 5.8c9-7.7 22.3-7.7 31.2 0L304 40.4 344.4 5.8c7.1-6.1 17.1-7.5 25.6-3.6s14 12.4 14 21.8V488c0 9.4-5.5 17.9-14 21.8s-18.5 2.5-25.6-3.6L304 471.6l-40.4 34.6c-9 7.7-22.3 7.7-31.2 0L192 471.6l-40.4 34.6c-9 7.7-22.3 7.7-31.2 0L80 471.6 39.6 506.2c-7.1 6.1-17.1 7.5-25.6 3.6S0 497.4 0 488V24C0 14.6 5.5 6.1 14 2.2zM96 144c-8.8 0-16 7.2-16 16s7.2 16 16 16H288c8.8 0 16-7.2 16-16s-7.2-16-16-16H96zM80 352c0 8.8 7.2 16 16 16H288c8.8 0 16-7.2 16-16s-7.2-16-16-16H96c-8.8 0-16 7.2-16 16zM96 240c-8.8 0-16 7.2-16 16s7.2 16 16 16H288c8.8 0 16-7.2 16-16s-7.2-16-16-16H96z"]},$H={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},Nc={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},lL={prefix:"fas",iconName:"store",icon:[576,512,[],"f54e","M547.6 103.8L490.3 13.1C485.2 5 476.1 0 466.4 0H109.6C99.9 0 90.8 5 85.7 13.1L28.3 103.8c-29.6 46.8-3.4 111.9 51.9 119.4c4 .5 8.1 .8 12.1 .8c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.2 0 49.3-11.4 65.2-29c16 17.6 39.1 29 65.2 29c4.1 0 8.1-.3 12.1-.8c55.5-7.4 81.8-72.5 52.1-119.4zM499.7 254.9l-.1 0c-5.3 .7-10.7 1.1-16.2 1.1c-12.4 0-24.3-1.9-35.4-5.3V384H128V250.6c-11.2 3.5-23.2 5.4-35.6 5.4c-5.5 0-11-.4-16.3-1.1l-.1 0c-4.1-.6-8.1-1.3-12-2.3V384v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V384 252.6c-4 1-8 1.8-12.3 2.3z"]},fp={prefix:"fas",iconName:"face-smile",icon:[512,512,[128578,"smile"],"f118","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},ML={prefix:"fas",iconName:"award",icon:[384,512,[],"f559","M173.8 5.5c11-7.3 25.4-7.3 36.4 0L228 17.2c6 3.9 13 5.8 20.1 5.4l21.3-1.3c13.2-.8 25.6 6.4 31.5 18.2l9.6 19.1c3.2 6.4 8.4 11.5 14.7 14.7L344.5 83c11.8 5.9 19 18.3 18.2 31.5l-1.3 21.3c-.4 7.1 1.5 14.2 5.4 20.1l11.8 17.8c7.3 11 7.3 25.4 0 36.4L366.8 228c-3.9 6-5.8 13-5.4 20.1l1.3 21.3c.8 13.2-6.4 25.6-18.2 31.5l-19.1 9.6c-6.4 3.2-11.5 8.4-14.7 14.7L301 344.5c-5.9 11.8-18.3 19-31.5 18.2l-21.3-1.3c-7.1-.4-14.2 1.5-20.1 5.4l-17.8 11.8c-11 7.3-25.4 7.3-36.4 0L156 366.8c-6-3.9-13-5.8-20.1-5.4l-21.3 1.3c-13.2 .8-25.6-6.4-31.5-18.2l-9.6-19.1c-3.2-6.4-8.4-11.5-14.7-14.7L39.5 301c-11.8-5.9-19-18.3-18.2-31.5l1.3-21.3c.4-7.1-1.5-14.2-5.4-20.1L5.5 210.2c-7.3-11-7.3-25.4 0-36.4L17.2 156c3.9-6 5.8-13 5.4-20.1l-1.3-21.3c-.8-13.2 6.4-25.6 18.2-31.5l19.1-9.6C65 70.2 70.2 65 73.4 58.6L83 39.5c5.9-11.8 18.3-19 31.5-18.2l21.3 1.3c7.1 .4 14.2-1.5 20.1-5.4L173.8 5.5zM272 192a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM1.3 441.8L44.4 339.3c.2 .1 .3 .2 .4 .4l9.6 19.1c11.7 23.2 36 37.3 62 35.8l21.3-1.3c.2 0 .5 0 .7 .2l17.8 11.8c5.1 3.3 10.5 5.9 16.1 7.7l-37.6 89.3c-2.3 5.5-7.4 9.2-13.3 9.7s-11.6-2.2-14.8-7.2L74.4 455.5l-56.1 8.3c-5.7 .8-11.4-1.5-15-6s-4.3-10.7-2.1-16zm248 60.4L211.7 413c5.6-1.8 11-4.3 16.1-7.7l17.8-11.8c.2-.1 .4-.2 .7-.2l21.3 1.3c26 1.5 50.3-12.6 62-35.8l9.6-19.1c.1-.2 .2-.3 .4-.4l43.2 102.5c2.2 5.3 1.4 11.4-2.1 16s-9.3 6.9-15 6l-56.1-8.3-32.2 49.2c-3.2 5-8.9 7.7-14.8 7.2s-11-4.3-13.3-9.7z"]},r9={prefix:"fas",iconName:"gauge-simple-high",icon:[512,512,[61668,"tachometer","tachometer-fast"],"f62a","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm320 96c0-15.9-5.8-30.4-15.3-41.6l76.6-147.4c6.1-11.8 1.5-26.3-10.2-32.4s-26.2-1.5-32.4 10.2L262.1 288.3c-2-.2-4-.3-6.1-.3c-35.3 0-64 28.7-64 64s28.7 64 64 64s64-28.7 64-64z"]},dp={prefix:"fas",iconName:"desktop",icon:[576,512,[128421,61704,"desktop-alt"],"f390","M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64H240l-10.7 32H160c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H346.7L336 416H512c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zM512 64V288H64V64H512z"]};let LV=(()=>{var t;class e{constructor(){this._activeSection="hero"}set activeSection(i){this._activeSection=i}get activeSection(){return this._activeSection}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function VV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VV(Object(n),!0).forEach(function(i){Yn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function s9(t){return(s9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function EV(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xp(t,e){return function n5e(t){if(Array.isArray(t))return t}(t)||function r5e(t,e){var n=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var u,h,i=[],r=!0,o=!1;try{for(n=n.call(t);!(r=(u=n.next()).done)&&(i.push(u.value),!e||i.length!==e);r=!0);}catch(p){o=!0,h=p}finally{try{!r&&null!=n.return&&n.return()}finally{if(o)throw h}}return i}}(t,e)||TV(t,e)||function s5e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q8(t){return function t5e(t){if(Array.isArray(t))return bp(t)}(t)||function i5e(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||TV(t)||function a5e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TV(t,e){if(t){if("string"==typeof t)return bp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bp(t,e)}}function bp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var PV=function(){},Mp={},DV={},AV=null,IV={mark:PV,measure:PV};try{typeof window<"u"&&(Mp=window),typeof document<"u"&&(DV=document),typeof MutationObserver<"u"&&(AV=MutationObserver),typeof performance<"u"&&(IV=performance)}catch{}var l9,u9,f9,h9,d9,kV=(Mp.navigator||{}).userAgent,NV=void 0===kV?"":kV,js=Mp,Pt=DV,OV=AV,c9=IV,Fa=!!Pt.documentElement&&!!Pt.head&&"function"==typeof Pt.addEventListener&&"function"==typeof Pt.createElement,RV=~NV.indexOf("MSIE")||~NV.indexOf("Trident/"),Ba="___FONT_AWESOME___",FV="fa",BV="svg-inline--fa",n6="data-fa-i2svg",zp="data-fa-pseudo-element",c5e="data-fa-pseudo-element-pending",Sp="data-prefix",Hp="data-icon",UV="fontawesome-i2svg",l5e="async",u5e=["HTML","HEAD","STYLE","SCRIPT"],$V=function(){try{return!0}catch{return!1}}(),Dt="classic",sn="sharp",Lp=[Dt,sn];function G8(t){return new Proxy(t,{get:function(n,i){return i in n?n[i]:n[Dt]}})}var W8=G8((Yn(l9={},Dt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Yn(l9,sn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),l9)),Z8=G8((Yn(u9={},Dt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Yn(u9,sn,{solid:"fass",regular:"fasr",light:"fasl"}),u9)),X8=G8((Yn(f9={},Dt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Yn(f9,sn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),f9)),f5e=G8((Yn(h9={},Dt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Yn(h9,sn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),h9)),h5e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,jV="fa-layers-text",d5e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,p5e=G8((Yn(d9={},Dt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Yn(d9,sn,{900:"fass",400:"fasr",300:"fasl"}),d9)),qV=[1,2,3,4,5,6,7,8,9,10],m5e=qV.concat([11,12,13,14,15,16,17,18,19,20]),g5e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],i6={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Y8=new Set;Object.keys(Z8[Dt]).map(Y8.add.bind(Y8)),Object.keys(Z8[sn]).map(Y8.add.bind(Y8));var v5e=[].concat(Lp,q8(Y8),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",i6.GROUP,i6.SWAP_OPACITY,i6.PRIMARY,i6.SECONDARY]).concat(qV.map(function(t){return"".concat(t,"x")})).concat(m5e.map(function(t){return"w-".concat(t)})),K8=js.FontAwesomeConfig||{};Pt&&"function"==typeof Pt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=xp(t,2),i=e[1],r=function _5e(t){return""===t||"false"!==t&&("true"===t||t)}(function y5e(t){var e=Pt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(K8[i]=r)});var GV={styleDefault:"solid",familyDefault:"classic",cssPrefix:FV,replacementClass:BV,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};K8.familyPrefix&&(K8.cssPrefix=K8.familyPrefix);var Oc=V1(V1({},GV),K8);Oc.autoReplaceSvg||(Oc.observeMutations=!1);var R1={};Object.keys(GV).forEach(function(t){Object.defineProperty(R1,t,{enumerable:!0,set:function(n){Oc[t]=n,Q8.forEach(function(i){return i(R1)})},get:function(){return Oc[t]}})}),Object.defineProperty(R1,"familyPrefix",{enumerable:!0,set:function(e){Oc.cssPrefix=e,Q8.forEach(function(n){return n(R1)})},get:function(){return Oc.cssPrefix}}),js.FontAwesomeConfig=R1;var Q8=[],Q4={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},M5e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function J8(){for(var t=12,e="";t-- >0;)e+=M5e[62*Math.random()|0];return e}function Rc(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Vp(t){return t.classList?Rc(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function WV(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p9(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Ep(t){return t.size!==Q4.size||t.x!==Q4.x||t.y!==Q4.y||t.rotate!==Q4.rotate||t.flipX||t.flipY}var H5e=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function ZV(){var t=FV,e=BV,n=R1.cssPrefix,i=R1.replacementClass,r=H5e;if(n!==t||i!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),u=new RegExp("\\--".concat(t,"\\-"),"g"),h=new RegExp("\\.".concat(e),"g");r=r.replace(o,".".concat(n,"-")).replace(u,"--".concat(n,"-")).replace(h,".".concat(i))}return r}var XV=!1;function Tp(){R1.autoAddCss&&!XV&&(function b5e(t){if(t&&Fa){var e=Pt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Pt.head.childNodes,i=null,r=n.length-1;r>-1;r--){var o=n[r],u=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(i=o)}Pt.head.insertBefore(e,i)}}(ZV()),XV=!0)}var L5e={mixout:function(){return{dom:{css:ZV,insertCss:Tp}}},hooks:function(){return{beforeDOMElementCreation:function(){Tp()},beforeI2svg:function(){Tp()}}}},Ua=js||{};Ua[Ba]||(Ua[Ba]={}),Ua[Ba].styles||(Ua[Ba].styles={}),Ua[Ba].hooks||(Ua[Ba].hooks={}),Ua[Ba].shims||(Ua[Ba].shims=[]);var d4=Ua[Ba],YV=[],m9=!1;function e5(t){var e=t.tag,n=t.attributes,i=void 0===n?{}:n,r=t.children,o=void 0===r?[]:r;return"string"==typeof t?WV(t):"<".concat(e," ").concat(function w5e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(WV(t[n]),'" ')},"").trim()}(i),">").concat(o.map(e5).join(""),"</").concat(e,">")}function KV(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}Fa&&((m9=(Pt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Pt.readyState))||Pt.addEventListener("DOMContentLoaded",function t(){Pt.removeEventListener("DOMContentLoaded",t),m9=1,YV.map(function(e){return e()})}));var Pp=function(e,n,i,r){var p,y,w,o=Object.keys(e),u=o.length,h=void 0!==r?function(e,n){return function(i,r,o,u){return e.call(n,i,r,o,u)}}(n,r):n;for(void 0===i?(p=1,w=e[o[0]]):(p=0,w=i);p<u;p++)w=h(w,e[y=o[p]],y,e);return w};function Dp(t){var e=function P5e(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e}(t);return 1===e.length?e[0].toString(16):null}function QV(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return i.icon?e[i.iconName]=i.icon:e[n]=i,e},{})}function Ap(t,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==i&&i,o=QV(e);"function"!=typeof d4.hooks.addPack||r?d4.styles[t]=V1(V1({},d4.styles[t]||{}),o):d4.hooks.addPack(t,QV(e)),"fas"===t&&Ap("fa",e)}var g9,v9,y9,Fc=d4.styles,A5e=d4.shims,I5e=(Yn(g9={},Dt,Object.values(X8[Dt])),Yn(g9,sn,Object.values(X8[sn])),g9),Ip=null,JV={},eE={},tE={},nE={},iE={},k5e=(Yn(v9={},Dt,Object.keys(W8[Dt])),Yn(v9,sn,Object.keys(W8[sn])),v9);var rE=function(){var e=function(o){return Pp(Fc,function(u,h,p){return u[p]=Pp(h,o,{}),u},{})};JV=e(function(r,o,u){return o[3]&&(r[o[3]]=u),o[2]&&o[2].filter(function(p){return"number"==typeof p}).forEach(function(p){r[p.toString(16)]=u}),r}),eE=e(function(r,o,u){return r[u]=u,o[2]&&o[2].filter(function(p){return"string"==typeof p}).forEach(function(p){r[p]=u}),r}),iE=e(function(r,o,u){var h=o[2];return r[u]=u,h.forEach(function(p){r[p]=u}),r});var n="far"in Fc||R1.autoFetchSvg,i=Pp(A5e,function(r,o){var u=o[0],h=o[1],p=o[2];return"far"===h&&!n&&(h="fas"),"string"==typeof u&&(r.names[u]={prefix:h,iconName:p}),"number"==typeof u&&(r.unicodes[u.toString(16)]={prefix:h,iconName:p}),r},{names:{},unicodes:{}});tE=i.names,nE=i.unicodes,Ip=_9(R1.styleDefault,{family:R1.familyDefault})};function kp(t,e){return(JV[t]||{})[e]}function r6(t,e){return(iE[t]||{})[e]}function aE(t){return tE[t]||{prefix:null,iconName:null}}function Gs(){return Ip}(function x5e(t){Q8.push(t)})(function(t){Ip=_9(t.styleDefault,{family:R1.familyDefault})}),rE();var Np=function(){return{prefix:null,iconName:null,rest:[]}};function _9(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,i=void 0===n?Dt:n;return Z8[i][t]||Z8[i][W8[i][t]]||(t in d4.styles?t:null)||null}var sE=(Yn(y9={},Dt,Object.keys(X8[Dt])),Yn(y9,sn,Object.keys(X8[sn])),y9);function C9(t){var e,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==i&&i,o=(Yn(e={},Dt,"".concat(R1.cssPrefix,"-").concat(Dt)),Yn(e,sn,"".concat(R1.cssPrefix,"-").concat(sn)),e),u=null,h=Dt;(t.includes(o[Dt])||t.some(function(y){return sE[Dt].includes(y)}))&&(h=Dt),(t.includes(o[sn])||t.some(function(y){return sE[sn].includes(y)}))&&(h=sn);var p=t.reduce(function(y,w){var z=function O5e(t,e){var n=e.split("-"),i=n[0],r=n.slice(1).join("-");return i!==t||""===r||function N5e(t){return~v5e.indexOf(t)}(r)?null:r}(R1.cssPrefix,w);if(Fc[w]?(w=I5e[h].includes(w)?f5e[h][w]:w,u=w,y.prefix=w):k5e[h].indexOf(w)>-1?(u=w,y.prefix=_9(w,{family:h})):z?y.iconName=z:w!==R1.replacementClass&&w!==o[Dt]&&w!==o[sn]&&y.rest.push(w),!r&&y.prefix&&y.iconName){var E="fa"===u?aE(y.iconName):{},P=r6(y.prefix,y.iconName);E.prefix&&(u=null),y.iconName=E.iconName||P||y.iconName,y.prefix=E.prefix||y.prefix,"far"===y.prefix&&!Fc.far&&Fc.fas&&!R1.autoFetchSvg&&(y.prefix="fas")}return y},Np());return(t.includes("fa-brands")||t.includes("fab"))&&(p.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(p.prefix="fad"),!p.prefix&&h===sn&&(Fc.fass||R1.autoFetchSvg)&&(p.prefix="fass",p.iconName=r6(p.prefix,p.iconName)||p.iconName),("fa"===p.prefix||"fa"===u)&&(p.prefix=Gs()||"fas"),p}var B5e=function(){function t(){(function Q8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function J8e(t,e,n){e&&EV(t.prototype,e),n&&EV(t,n),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var u=r.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(h){n.definitions[h]=V1(V1({},n.definitions[h]||{}),u[h]),Ap(h,u[h]);var p=X8[Dt][h];p&&Ap(p,u[h]),rE()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(o){var u=r[o],h=u.prefix,p=u.iconName,y=u.icon,w=y[2];n[h]||(n[h]={}),w.length>0&&w.forEach(function(z){"string"==typeof z&&(n[h][z]=y)}),n[h][p]=y}),n}}]),t}(),oE=[],Bc={},Uc={},U5e=Object.keys(Uc);function Op(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return(Bc[t]||[]).forEach(function(u){e=u.apply(null,[e].concat(i))}),e}function a6(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(Bc[t]||[]).forEach(function(o){o.apply(null,n)})}function $a(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Uc[t]?Uc[t].apply(null,e):void 0}function Rp(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Gs();if(e)return e=r6(n,e)||e,KV(cE.definitions,n,e)||KV(d4.styles,n,e)}var cE=new B5e,q5e={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Fa?(a6("beforeI2svg",e),$a("pseudoElements2svg",e),$a("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.autoReplaceSvgRoot;!1===R1.autoReplaceSvg&&(R1.autoReplaceSvg=!0),R1.observeMutations=!0,function E5e(t){Fa&&(m9?setTimeout(t,0):YV.push(t))}(function(){W5e({autoReplaceSvgRoot:n}),a6("watch",e)})}},Wi={noAuto:function(){R1.autoReplaceSvg=!1,R1.observeMutations=!1,a6("noAuto")},config:R1,dom:q5e,parse:{icon:function(e){if(null===e)return null;if("object"===s9(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:r6(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var n=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],i=_9(e[0]);return{prefix:i,iconName:r6(i,n)||n}}if("string"==typeof e&&(e.indexOf("".concat(R1.cssPrefix,"-"))>-1||e.match(h5e))){var r=C9(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Gs(),iconName:r6(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var o=Gs();return{prefix:o,iconName:r6(o,e)||e}}}},library:cE,findIconDefinition:Rp,toHtml:e5},W5e=function(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,i=void 0===n?Pt:n;(Object.keys(d4.styles).length>0||R1.autoFetchSvg)&&Fa&&R1.autoReplaceSvg&&Wi.dom.i2svg({node:i})};function x9(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(i){return e5(i)})}}),Object.defineProperty(t,"node",{get:function(){if(Fa){var i=Pt.createElement("div");return i.innerHTML=t.html,i.children}}}),t}function Fp(t){var e=t.icons,n=e.main,i=e.mask,r=t.prefix,o=t.iconName,u=t.transform,h=t.symbol,p=t.title,y=t.maskId,w=t.titleId,z=t.extra,E=t.watchable,P=void 0!==E&&E,I=i.found?i:n,F=I.width,$=I.height,W="fak"===r,R=[R1.replacementClass,o?"".concat(R1.cssPrefix,"-").concat(o):""].filter(function(ge){return-1===z.classes.indexOf(ge)}).filter(function(ge){return""!==ge||!!ge}).concat(z.classes).join(" "),j={children:[],attributes:V1(V1({},z.attributes),{},{"data-prefix":r,"data-icon":o,class:R,role:z.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(F," ").concat($)})},J=W&&!~z.classes.indexOf("fa-fw")?{width:"".concat(F/$*16*.0625,"em")}:{};P&&(j.attributes[n6]=""),p&&(j.children.push({tag:"title",attributes:{id:j.attributes["aria-labelledby"]||"title-".concat(w||J8())},children:[p]}),delete j.attributes.title);var ve=V1(V1({},j),{},{prefix:r,iconName:o,main:n,mask:i,maskId:y,transform:u,symbol:h,styles:V1(V1({},J),z.styles)}),Ve=i.found&&n.found?$a("generateAbstractMask",ve)||{children:[],attributes:{}}:$a("generateAbstractIcon",ve)||{children:[],attributes:{}},Le=Ve.attributes;return ve.children=Ve.children,ve.attributes=Le,h?function X5e(t){var n=t.iconName,i=t.children,r=t.attributes,o=t.symbol,u=!0===o?"".concat(t.prefix,"-").concat(R1.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:V1(V1({},r),{},{id:u}),children:i}]}]}(ve):function Z5e(t){var e=t.children,n=t.main,i=t.mask,r=t.attributes,o=t.styles,u=t.transform;if(Ep(u)&&n.found&&!i.found){var y={x:n.width/n.height/2,y:.5};r.style=p9(V1(V1({},o),{},{"transform-origin":"".concat(y.x+u.x/16,"em ").concat(y.y+u.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(ve)}function lE(t){var e=t.content,n=t.width,i=t.height,r=t.transform,o=t.title,u=t.extra,h=t.watchable,p=void 0!==h&&h,y=V1(V1(V1({},u.attributes),o?{title:o}:{}),{},{class:u.classes.join(" ")});p&&(y[n6]="");var w=V1({},u.styles);Ep(r)&&(w.transform=function S5e(t){var e=t.transform,n=t.width,r=t.height,o=void 0===r?16:r,u=t.startCentered,h=void 0!==u&&u,p="";return p+=h&&RV?"translate(".concat(e.x/16-(void 0===n?16:n)/2,"em, ").concat(e.y/16-o/2,"em) "):h?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(p+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:r,startCentered:!0,width:n,height:i}),w["-webkit-transform"]=w.transform);var z=p9(w);z.length>0&&(y.style=z);var E=[];return E.push({tag:"span",attributes:y,children:[e]}),o&&E.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),E}var Bp=d4.styles;function Up(t){var e=t[0],n=t[1],o=xp(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(R1.cssPrefix,"-").concat(i6.GROUP)},children:[{tag:"path",attributes:{class:"".concat(R1.cssPrefix,"-").concat(i6.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(R1.cssPrefix,"-").concat(i6.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var K5e={found:!1,width:512,height:512};function $p(t,e){var n=e;return"fa"===e&&null!==R1.styleDefault&&(e=Gs()),new Promise(function(i,r){if($a("missingIconAbstract"),"fa"===n){var u=aE(t)||{};t=u.iconName||t,e=u.prefix||e}if(t&&e&&Bp[e]&&Bp[e][t])return i(Up(Bp[e][t]));(function Q5e(t,e){!$V&&!R1.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))})(t,e),i(V1(V1({},K5e),{},{icon:R1.showMissingIcons&&t&&$a("missingIconAbstract")||{}}))})}var uE=function(){},jp=R1.measurePerformance&&c9&&c9.mark&&c9.measure?c9:{mark:uE,measure:uE},t5='FA "6.4.2"',fE=function(e){jp.mark("".concat(t5," ").concat(e," ends")),jp.measure("".concat(t5," ").concat(e),"".concat(t5," ").concat(e," begins"),"".concat(t5," ").concat(e," ends"))},qp={begin:function(e){return jp.mark("".concat(t5," ").concat(e," begins")),function(){return fE(e)}},end:fE},b9=function(){};function hE(t){return"string"==typeof(t.getAttribute?t.getAttribute(n6):null)}function ile(t){return Pt.createElementNS("http://www.w3.org/2000/svg",t)}function rle(t){return Pt.createElement(t)}function dE(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,i=void 0===n?"svg"===t.tag?ile:rle:n;if("string"==typeof t)return Pt.createTextNode(t);var r=i(t.tag);return Object.keys(t.attributes||[]).forEach(function(u){r.setAttribute(u,t.attributes[u])}),(t.children||[]).forEach(function(u){r.appendChild(dE(u,{ceFn:i}))}),r}var M9={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(r){n.parentNode.insertBefore(dE(r),n)}),null===n.getAttribute(n6)&&R1.keepOriginalSource){var i=Pt.createComment(function ale(t){var e=" ".concat(t.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(e){var n=e[0],i=e[1];if(~Vp(n).indexOf(R1.replacementClass))return M9.replace(e);var r=new RegExp("".concat(R1.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var o=i[0].attributes.class.split(" ").reduce(function(h,p){return p===R1.replacementClass||p.match(r)?h.toSvg.push(p):h.toNode.push(p),h},{toNode:[],toSvg:[]});i[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var u=i.map(function(h){return e5(h)}).join("\n");n.setAttribute(n6,""),n.innerHTML=u}};function pE(t){t()}function mE(t,e){var n="function"==typeof e?e:b9;if(0===t.length)n();else{var i=pE;R1.mutateApproach===l5e&&(i=js.requestAnimationFrame||pE),i(function(){var r=function nle(){return!0===R1.autoReplaceSvg?M9.replace:M9[R1.autoReplaceSvg]||M9.replace}(),o=qp.begin("mutate");t.map(r),o(),n()})}}var Gp=!1;function gE(){Gp=!0}function Wp(){Gp=!1}var w9=null;function vE(t){if(OV&&R1.observeMutations){var e=t.treeCallback,n=void 0===e?b9:e,i=t.nodeCallback,r=void 0===i?b9:i,o=t.pseudoElementsCallback,u=void 0===o?b9:o,h=t.observeMutationsRoot,p=void 0===h?Pt:h;w9=new OV(function(y){if(!Gp){var w=Gs();Rc(y).forEach(function(z){if("childList"===z.type&&z.addedNodes.length>0&&!hE(z.addedNodes[0])&&(R1.searchPseudoElements&&u(z.target),n(z.target)),"attributes"===z.type&&z.target.parentNode&&R1.searchPseudoElements&&u(z.target.parentNode),"attributes"===z.type&&hE(z.target)&&~g5e.indexOf(z.attributeName))if("class"===z.attributeName&&function ele(t){var e=t.getAttribute?t.getAttribute(Sp):null,n=t.getAttribute?t.getAttribute(Hp):null;return e&&n}(z.target)){var E=C9(Vp(z.target)),I=E.iconName;z.target.setAttribute(Sp,E.prefix||w),I&&z.target.setAttribute(Hp,I)}else(function tle(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(R1.replacementClass)})(z.target)&&r(z.target)})}}),Fa&&w9.observe(p,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function yE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function cle(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),i=void 0!==t.innerText?t.innerText.trim():"",r=C9(Vp(t));return r.prefix||(r.prefix=Gs()),e&&n&&(r.prefix=e,r.iconName=n),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function R5e(t,e){return(eE[t]||{})[e]}(r.prefix,t.innerText)||kp(r.prefix,Dp(t.innerText))),!r.iconName&&R1.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=t.firstChild.data)),r}(t),i=n.iconName,r=n.prefix,o=n.rest,u=function lle(t){var e=Rc(t.attributes).reduce(function(r,o){return"class"!==r.name&&"style"!==r.name&&(r[o.name]=o.value),r},{}),n=t.getAttribute("title"),i=t.getAttribute("data-fa-title-id");return R1.autoA11y&&(n?e["aria-labelledby"]="".concat(R1.replacementClass,"-title-").concat(i||J8()):(e["aria-hidden"]="true",e.focusable="false")),e}(t),h=Op("parseNodeAttributes",{},t),p=e.styleParser?function ole(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(i,r){var o=r.split(":"),u=o[0],h=o.slice(1);return u&&h.length>0&&(i[u]=h.join(":").trim()),i},{})),n}(t):[];return V1({iconName:i,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Q4,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:p,attributes:u}},h)}var fle=d4.styles;function _E(t){var e="nest"===R1.autoReplaceSvg?yE(t,{styleParser:!1}):yE(t);return~e.extra.classes.indexOf(jV)?$a("generateLayersText",t,e):$a("generateSvgReplacementMutation",t,e)}var Ws=new Set;function CE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Fa)return Promise.resolve();var n=Pt.documentElement.classList,i=function(z){return n.add("".concat(UV,"-").concat(z))},r=function(z){return n.remove("".concat(UV,"-").concat(z))},o=R1.autoFetchSvg?Ws:Lp.map(function(w){return"fa-".concat(w)}).concat(Object.keys(fle));o.includes("fa")||o.push("fa");var u=[".".concat(jV,":not([").concat(n6,"])")].concat(o.map(function(w){return".".concat(w,":not([").concat(n6,"])")})).join(", ");if(0===u.length)return Promise.resolve();var h=[];try{h=Rc(t.querySelectorAll(u))}catch{}if(!(h.length>0))return Promise.resolve();i("pending"),r("complete");var p=qp.begin("onTree"),y=h.reduce(function(w,z){try{var E=_E(z);E&&w.push(E)}catch(P){$V||"MissingIcon"===P.name&&console.error(P)}return w},[]);return new Promise(function(w,z){Promise.all(y).then(function(E){mE(E,function(){i("active"),i("complete"),r("pending"),"function"==typeof e&&e(),p(),w()})}).catch(function(E){p(),z(E)})})}function hle(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_E(t).then(function(n){n&&mE([n],e)})}Lp.map(function(t){Ws.add("fa-".concat(t))}),Object.keys(W8[Dt]).map(Ws.add.bind(Ws)),Object.keys(W8[sn]).map(Ws.add.bind(Ws)),Ws=q8(Ws);var ple=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.transform,r=void 0===i?Q4:i,o=n.symbol,u=void 0!==o&&o,h=n.mask,p=void 0===h?null:h,y=n.maskId,w=void 0===y?null:y,z=n.title,E=void 0===z?null:z,P=n.titleId,I=void 0===P?null:P,F=n.classes,$=void 0===F?[]:F,W=n.attributes,R=void 0===W?{}:W,j=n.styles,J=void 0===j?{}:j;if(e){var ve=e.prefix,Ve=e.iconName,Te=e.icon;return x9(V1({type:"icon"},e),function(){return a6("beforeDOMElementCreation",{iconDefinition:e,params:n}),R1.autoA11y&&(E?R["aria-labelledby"]="".concat(R1.replacementClass,"-title-").concat(I||J8()):(R["aria-hidden"]="true",R.focusable="false")),Fp({icons:{main:Up(Te),mask:p?Up(p.icon):{found:!1,width:null,height:null,icon:{}}},prefix:ve,iconName:Ve,transform:V1(V1({},Q4),r),symbol:u,title:E,maskId:w,titleId:I,extra:{attributes:R,styles:J,classes:$}})})}},mle={mixout:function(){return{icon:(t=ple,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:Rp(e||{}),r=n.mask;return r&&(r=(r||{}).icon?r:Rp(r||{})),t(i,V1(V1({},n),{},{mask:r}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=CE,n.nodeCallback=hle,n}}},provides:function(e){e.i2svg=function(n){var i=n.node,o=n.callback;return CE(void 0===i?Pt:i,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(n,i){var r=i.iconName,o=i.title,u=i.titleId,h=i.prefix,p=i.transform,y=i.symbol,w=i.mask,z=i.maskId,E=i.extra;return new Promise(function(P,I){Promise.all([$p(r,h),w.iconName?$p(w.iconName,w.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(F){var $=xp(F,2);P([n,Fp({icons:{main:$[0],mask:$[1]},prefix:h,iconName:r,transform:p,symbol:y,maskId:z,title:o,titleId:u,extra:E,watchable:!0})])}).catch(I)})},e.generateAbstractIcon=function(n){var y,i=n.children,r=n.attributes,o=n.main,u=n.transform,p=p9(n.styles);return p.length>0&&(r.style=p),Ep(u)&&(y=$a("generateAbstractTransformGrouping",{main:o,transform:u,containerWidth:o.width,iconWidth:o.width})),i.push(y||o.icon),{children:i,attributes:r}}}},gle={mixout:function(){return{layer:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,o=void 0===r?[]:r;return x9({type:"layer"},function(){a6("beforeDOMElementCreation",{assembler:n,params:i});var u=[];return n(function(h){Array.isArray(h)?h.map(function(p){u=u.concat(p.abstract)}):u=u.concat(h.abstract)}),[{tag:"span",attributes:{class:["".concat(R1.cssPrefix,"-layers")].concat(q8(o)).join(" ")},children:u}]})}}}},vle={mixout:function(){return{counter:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,o=void 0===r?null:r,u=i.classes,h=void 0===u?[]:u,p=i.attributes,y=void 0===p?{}:p,w=i.styles,z=void 0===w?{}:w;return x9({type:"counter",content:n},function(){return a6("beforeDOMElementCreation",{content:n,params:i}),function Y5e(t){var e=t.content,n=t.title,i=t.extra,r=V1(V1(V1({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),o=p9(i.styles);o.length>0&&(r.style=o);var u=[];return u.push({tag:"span",attributes:r,children:[e]}),n&&u.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),u}({content:n.toString(),title:o,extra:{attributes:y,styles:z,classes:["".concat(R1.cssPrefix,"-layers-counter")].concat(q8(h))}})})}}}},yle={mixout:function(){return{text:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,o=void 0===r?Q4:r,u=i.title,h=void 0===u?null:u,p=i.classes,y=void 0===p?[]:p,w=i.attributes,z=void 0===w?{}:w,E=i.styles,P=void 0===E?{}:E;return x9({type:"text",content:n},function(){return a6("beforeDOMElementCreation",{content:n,params:i}),lE({content:n,transform:V1(V1({},Q4),o),title:h,extra:{attributes:z,styles:P,classes:["".concat(R1.cssPrefix,"-layers-text")].concat(q8(y))}})})}}},provides:function(e){e.generateLayersText=function(n,i){var r=i.title,o=i.transform,u=i.extra,h=null,p=null;if(RV){var y=parseInt(getComputedStyle(n).fontSize,10),w=n.getBoundingClientRect();h=w.width/y,p=w.height/y}return R1.autoA11y&&!r&&(u.attributes["aria-hidden"]="true"),Promise.resolve([n,lE({content:n.innerHTML,width:h,height:p,transform:o,title:r,extra:u,watchable:!0})])}}},_le=new RegExp('"',"ug"),xE=[1105920,1112319];function bE(t,e){var n="".concat(c5e).concat(e.replace(":","-"));return new Promise(function(i,r){if(null!==t.getAttribute(n))return i();var u=Rc(t.children).filter(function(Te){return Te.getAttribute(zp)===e})[0],h=js.getComputedStyle(t,e),p=h.getPropertyValue("font-family").match(d5e),y=h.getPropertyValue("font-weight"),w=h.getPropertyValue("content");if(u&&!p)return t.removeChild(u),i();if(p&&"none"!==w&&""!==w){var z=h.getPropertyValue("content"),E=~["Sharp"].indexOf(p[2])?sn:Dt,P=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(p[2])?Z8[E][p[2].toLowerCase()]:p5e[E][y],I=function Cle(t){var e=t.replace(_le,""),n=function D5e(t,e){var r,n=t.length,i=t.charCodeAt(e);return i>=55296&&i<=56319&&n>e+1&&(r=t.charCodeAt(e+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(e,0),i=n>=xE[0]&&n<=xE[1],r=2===e.length&&e[0]===e[1];return{value:Dp(r?e[0]:e),isSecondary:i||r}}(z),F=I.value,$=I.isSecondary,W=p[0].startsWith("FontAwesome"),R=kp(P,F),j=R;if(W){var J=function F5e(t){var e=nE[t],n=kp("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(F);J.iconName&&J.prefix&&(R=J.iconName,P=J.prefix)}if(!R||$||u&&u.getAttribute(Sp)===P&&u.getAttribute(Hp)===j)i();else{t.setAttribute(n,j),u&&t.removeChild(u);var ve=function ule(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Q4,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Ve=ve.extra;Ve.attributes[zp]=e,$p(R,P).then(function(Te){var Le=Fp(V1(V1({},ve),{},{icons:{main:Te,mask:Np()},prefix:P,iconName:j,extra:Ve,watchable:!0})),ge=Pt.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?t.insertBefore(ge,t.firstChild):t.appendChild(ge),ge.outerHTML=Le.map(function(Qe){return e5(Qe)}).join("\n"),t.removeAttribute(n),i()}).catch(r)}}else i()})}function xle(t){return Promise.all([bE(t,"::before"),bE(t,"::after")])}function ble(t){return!(t.parentNode===document.head||~u5e.indexOf(t.tagName.toUpperCase())||t.getAttribute(zp)||t.parentNode&&"svg"===t.parentNode.tagName)}function ME(t){if(Fa)return new Promise(function(e,n){var i=Rc(t.querySelectorAll("*")).filter(ble).map(xle),r=qp.begin("searchPseudoElements");gE(),Promise.all(i).then(function(){r(),Wp(),e()}).catch(function(){r(),Wp(),n()})})}var wE=!1,zE=function(e){return e.toLowerCase().split(" ").reduce(function(i,r){var o=r.toLowerCase().split("-"),u=o[0],h=o.slice(1).join("-");if(u&&"h"===h)return i.flipX=!0,i;if(u&&"v"===h)return i.flipY=!0,i;if(h=parseFloat(h),isNaN(h))return i;switch(u){case"grow":i.size=i.size+h;break;case"shrink":i.size=i.size-h;break;case"left":i.x=i.x-h;break;case"right":i.x=i.x+h;break;case"up":i.y=i.y-h;break;case"down":i.y=i.y+h;break;case"rotate":i.rotate=i.rotate+h}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Zp={x:0,y:0,width:"100%",height:"100%"};function SE(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}!function $5e(t,e){var n=e.mixoutsTo;oE=t,Bc={},Object.keys(Uc).forEach(function(i){-1===U5e.indexOf(i)&&delete Uc[i]}),oE.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(u){"function"==typeof r[u]&&(n[u]=r[u]),"object"===s9(r[u])&&Object.keys(r[u]).forEach(function(h){n[u]||(n[u]={}),n[u][h]=r[u][h]})}),i.hooks){var o=i.hooks();Object.keys(o).forEach(function(u){Bc[u]||(Bc[u]=[]),Bc[u].push(o[u])})}i.provides&&i.provides(Uc)})}([L5e,mle,gle,vle,yle,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=ME,n}}},provides:function(e){e.pseudoElements2svg=function(n){var i=n.node;R1.searchPseudoElements&&ME(void 0===i?Pt:i)}}},{mixout:function(){return{dom:{unwatch:function(){gE(),wE=!0}}}},hooks:function(){return{bootstrap:function(){vE(Op("mutationObserverCallbacks",{}))},noAuto:function(){!function sle(){w9&&w9.disconnect()}()},watch:function(n){var i=n.observeMutationsRoot;wE?Wp():vE(Op("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(n){return zE(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-transform");return r&&(n.transform=zE(r)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var i=n.main,r=n.transform,u=n.iconWidth,h={transform:"translate(".concat(n.containerWidth/2," 256)")},p="translate(".concat(32*r.x,", ").concat(32*r.y,") "),y="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),w="rotate(".concat(r.rotate," 0 0)"),P={outer:h,inner:{transform:"".concat(p," ").concat(y," ").concat(w)},path:{transform:"translate(".concat(u/2*-1," -256)")}};return{tag:"g",attributes:V1({},P.outer),children:[{tag:"g",attributes:V1({},P.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:V1(V1({},i.icon.attributes),P.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-mask"),o=r?C9(r.split(" ").map(function(u){return u.trim()})):Np();return o.prefix||(o.prefix=Gs()),n.mask=o,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var t,i=n.children,r=n.attributes,o=n.main,u=n.mask,h=n.maskId,w=o.icon,E=u.icon,P=function z5e(t){var e=t.transform,i=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),h="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(o," ").concat(u," ").concat(h)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:n.transform,containerWidth:u.width,iconWidth:o.width}),I={tag:"rect",attributes:V1(V1({},Zp),{},{fill:"white"})},F=w.children?{children:w.children.map(SE)}:{},$={tag:"g",attributes:V1({},P.inner),children:[SE(V1({tag:w.tag,attributes:V1(V1({},w.attributes),P.path)},F))]},W={tag:"g",attributes:V1({},P.outer),children:[$]},R="mask-".concat(h||J8()),j="clip-".concat(h||J8()),J={tag:"mask",attributes:V1(V1({},Zp),{},{id:R,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[I,W]},ve={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:(t=E,"g"===t.tag?t.children:[t])},J]};return i.push(ve,{tag:"rect",attributes:V1({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(R,")")},Zp)}),{children:i,attributes:r}}}},{provides:function(e){var n=!1;js.matchMedia&&(n=js.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:V1(V1({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var u=V1(V1({},o),{},{attributeName:"opacity"}),h={tag:"circle",attributes:V1(V1({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||h.children.push({tag:"animate",attributes:V1(V1({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:V1(V1({},u),{},{values:"1;0;1;1;0;1;"})}),i.push(h),i.push({tag:"path",attributes:V1(V1({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:V1(V1({},u),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:V1(V1({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:V1(V1({},u),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-symbol");return n.symbol=null!==r&&(""===r||r),n}}}}],{mixoutsTo:Wi});var Tle=Wi.parse,Ple=Wi.icon;const Dle=["*"],kle=t=>{const e={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n)};let Rle=(()=>{var t;class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Fle=(()=>{var t;class e{constructor(){this.definitions={}}addIcons(...i){for(const r of i){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const o of r.icon[2])"string"==typeof o&&(this.definitions[r.prefix][o]=r)}}addIconPacks(...i){for(const r of i){const o=Object.keys(r).map(u=>r[u]);this.addIcons(...o)}}getIconDefinition(i,r){return i in this.definitions&&r in this.definitions[i]?this.definitions[i][r]:null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Ble=(()=>{var t;class e{constructor(){this.stackItemSize="1x"}ngOnChanges(i){if("size"in i)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=Y2({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[yn]}),e})(),Ule=(()=>{var t;class e{constructor(i,r){this.renderer=i,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(i){"size"in i&&(null!=i.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${i.size.currentValue}`),null!=i.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${i.size.previousValue}`))}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(gc),L1(wi))},t.\u0275cmp=tt({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[yn],ngContentSelectors:Dle,decls:1,vars:0,template:function(i,r){1&i&&(function py(t){const e=Xe()[rt][Ht];if(!e.projection){const i=e.projection=j4(t?t.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const u=t?rk(o,t):0;null!==u&&(r[u]?r[u].projectionNext=o:i[u]=o,r[u]=o),o=o.next}}}(),function my(t,e=0,n){const i=Xe(),r=C2(),o=_c(r,l2+t,16,null,n||null);null===o.projection&&(o.projection=e),H0(),(!i[d3]||xa())&&32!=(32&o.flags)&&function Ft(t,e,n){Zt(e[F1],0,e,n,le(t,n,e),s1(n.parent||e[Ht],n,e))}(r,i,o)}(0))},encapsulation:2}),e})(),Zs=(()=>{var t;class e{set spin(i){this.animation=i?"spin":void 0}set pulse(i){this.animation=i?"spin-pulse":void 0}constructor(i,r,o,u,h){this.sanitizer=i,this.config=r,this.iconLibrary=o,this.stackItem=u,this.classes=[],null!=h&&null==u&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(i){if(null!=this.icon||null!=this.config.fallbackIcon){if(i){const o=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=o){const u=this.buildParams();this.renderIcon(o,u)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(i){const r=((t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:e,iconName:t}:{prefix:t[0],iconName:t[1]})(i,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(r),null)}buildParams(){const i={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?Tle.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...kle(i),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(i,r){const o=Ple(i,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join("\n"))}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(Xx),L1(Rle),L1(Fle),L1(Ble,8),L1(Ule,8))},t.\u0275cmp=tt({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,r){2&i&&(ah("innerHTML",r.renderedIconHTML,Sg),s7("title",r.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[yn],decls:0,vars:0,template:function(i,r){},encapsulation:2}),e})(),$le=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=Ai({type:t}),t.\u0275inj=Ti({}),e})(),p4=(()=>{var t;class e{constructor(i){this.el=i,this.rootMargin=0,this.threshold=0,this.animationsClass=[],this.__element=i.nativeElement}ngOnInit(){this.createObserver()}createObserver(){this.__observer=new IntersectionObserver(i=>{i.forEach(r=>{r.isIntersecting&&(this.__element.classList.add(...this.animationsClass),this.__observer.disconnect())})},{rootMargin:this.rootMargin+"px",threshold:this.threshold}),this.__observer.observe(this.__element)}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(wi))},t.\u0275dir=Y2({type:t,selectors:[["","appLoadingItem",""]],inputs:{rootMargin:"rootMargin",threshold:"threshold",animationsClass:"animationsClass"}}),e})(),jle=(()=>{var t;class e{constructor(i){this.el=i,this.classList=[],this.scrollY=0,this._rootElement=i.nativeElement}onScroll(i){(Number(i.defaultView?.scrollY)||0)>this.scrollY?this._rootElement.classList.add(...this.classList):this._rootElement.classList.remove(...this.classList)}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(wi))},t.\u0275dir=Y2({type:t,selectors:[["","appScrolled",""]],hostBindings:function(i,r){1&i&&b3("scroll",function(u){return r.onScroll(u.target)},0,Ef)},inputs:{classList:"classList",scrollY:"scrollY"}}),e})();const qle=function(){return["scrolled"]},Gle=function(t){return{mobile:t}},Wle=function(t){return{"bg-color-primary-white":t}};let Zle=(()=>{var t;class e{constructor(i,r){this.sectionIndicatorServ=i,this.document=r,this._icons={faBars:zd,faAngleDown:vH,faXmark:Nc},this._renderMobileMenu=!1,this._renderDropDown=!1}ngOnInit(){}get activeSection(){return this.sectionIndicatorServ.activeSection}get icon(){return this._icons}get showMobileMenu(){return this._renderMobileMenu}set showMobileMenu(i){this._renderMobileMenu=i}mobileNavStyle(i){return i==this.activeSection?"text-color-primary-black hover-bg-color-primary-yellow bg-color-primary-yellow":"text-color-primary-black hover-bg-color-primary-yellow"}desktopNavStyle(i){return i==this.activeSection?"text-color-primary-yellow hover-text-color-primary-yellow":"text-color-primary-white hover-text-color-primary-yellow"}isActiveSectionDesktopSection(i){return this.showMobileMenu&&this.activeSection==i}activeMobileNav(){this.showMobileMenu=!0}deActiveMobileNav(){this.showMobileMenu=!1}toggleDropDown(){this._renderDropDown=!this._renderDropDown}get drowDownShow(){return this._renderDropDown}goToSection(i){this.document.getElementById(i)?.scrollIntoView(),this._renderMobileMenu=!1}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(LV),L1(Xn))},t.\u0275cmp=tt({type:t,selectors:[["app-header"]],decls:66,vars:18,consts:[["appLoadingItem","","appScrolled","",3,"scrollY","classList"],[1,"container"],[1,"logoContainer"],[1,"logo"],["href","/",1,"text-color-primary-white"],[1,"navigationContainer"],[3,"ngClass"],[1,"listContainer"],[1,"closeHamburgerMenuContainer"],["type","button",1,"text-color-primary-white",3,"click"],[1,"icon"],[3,"icon"],[3,"ngClass","click"],[1,"title"],[1,"dropdownList","bg-color-primary-white"],["href","/",1,"text-color-primary-black","hover-bg-color-primary-yellow"],[1,"hamburgerMenuContainer"],["type","button","type","button",1,"text-color-primary-white",3,"click"],[1,"getStartBtnContainer"],["href","#about",1,"text-color-primary-white","hover-text-color-primary-black","hover-bg-color-primary-yellow","border-color-primary-yellow"]],template:function(i,r){1&i&&(we(0,"header",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"a",4)(5,"span"),Ye(6,"gp"),Pe()()()(),we(7,"div",5)(8,"nav",6)(9,"div",7)(10,"div",8)(11,"button",9),b3("click",function(){return r.showMobileMenu=!1}),we(12,"span",10),d1(13,"fa-icon",11),Pe()()(),we(14,"ul",6)(15,"li")(16,"a",12),b3("click",function(){return r.goToSection("hero")}),we(17,"span",13),Ye(18,"home"),Pe()()(),we(19,"li")(20,"a",12),b3("click",function(){return r.goToSection("about")}),we(21,"span",13),Ye(22,"about"),Pe()()(),we(23,"li")(24,"a",12),b3("click",function(){return r.goToSection("services")}),we(25,"span",13),Ye(26,"services"),Pe()()(),we(27,"li")(28,"a",12),b3("click",function(){return r.goToSection("team")}),we(29,"span",13),Ye(30,"team"),Pe()()(),we(31,"li")(32,"p",12),b3("click",function(){return r.toggleDropDown()}),we(33,"span",13),Ye(34,"drop down"),Pe(),we(35,"span",10),d1(36,"fa-icon",11),Pe()(),we(37,"ul",14)(38,"li")(39,"a",15)(40,"span",13),Ye(41,"drop down 1"),Pe()()(),we(42,"li")(43,"a",15)(44,"span",13),Ye(45,"drop down 2"),Pe()()(),we(46,"li")(47,"a",15)(48,"span",13),Ye(49,"drop down 3"),Pe()()(),we(50,"li")(51,"a",15)(52,"span",13),Ye(53,"drop down 4"),Pe()()()()(),we(54,"li")(55,"a",12),b3("click",function(){return r.goToSection("contact")}),we(56,"span",13),Ye(57,"contact"),Pe()()()()()(),we(58,"div",16)(59,"button",17),b3("click",function(){return r.showMobileMenu=!0}),we(60,"span",10),d1(61,"fa-icon",11),Pe()()()(),we(62,"div",18)(63,"a",19)(64,"span"),Ye(65," get started "),Pe()()()()()),2&i&&(e1("scrollY",100)("classList",V2(13,qle)),n1(8),e1("ngClass",gh(14,Gle,r.showMobileMenu)),n1(5),e1("icon",r.icon.faXmark),n1(1),e1("ngClass",gh(16,Wle,r.showMobileMenu)),n1(2),e1("ngClass",r.showMobileMenu?r.mobileNavStyle("hero"):r.desktopNavStyle("hero")),n1(4),e1("ngClass",r.showMobileMenu?r.mobileNavStyle("about"):r.desktopNavStyle("about")),n1(4),e1("ngClass",r.showMobileMenu?r.mobileNavStyle("services"):r.desktopNavStyle("services")),n1(4),e1("ngClass",r.showMobileMenu?r.mobileNavStyle("team"):r.desktopNavStyle("team")),n1(4),e1("ngClass",r.showMobileMenu?r.mobileNavStyle(""):r.desktopNavStyle("")),n1(4),e1("icon",r.icon.faAngleDown),n1(19),e1("ngClass",r.showMobileMenu?r.mobileNavStyle("contact"):r.desktopNavStyle("contact")),n1(6),e1("icon",r.icon.faBars))},dependencies:[R7,Zs,p4,jle],styles:['header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-block:16px;transition:.3s background-color}header.scrolled[_ngcontent-%COMP%]{background-color:#000c}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]{margin-inline:0 auto}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h1.logo[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;font-size:2rem;letter-spacing:2px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h1.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h1.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{content:"."}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]{order:3}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{background-color:#000000e6;display:none}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]{display:block;position:fixed;top:0;left:0;width:100%;height:100%;padding:15px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:flex-end;gap:15px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{align-self:stretch;flex:1;display:flex;flex-direction:column;margin:0;list-style:none;padding:10px 0}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul.dropdownList[_ngcontent-%COMP%]{display:flex}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:capitalize;padding:12px 20px;font-size:1rem;font-weight:600;display:block;margin:0}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;justify-content:space-between}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]{padding:10px 20px;display:none}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.95rem;font-weight:400;font-family:Open Sans,sans-serif}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;display:flex;justify-content:center;align-items:center;width:28px;height:28px;background-color:transparent}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.3rem}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   .hamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;background-color:transparent;border:0}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   .hamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.5rem}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   .hamburgerMenuContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .getStartBtnContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px 25px;border-radius:4px;border-width:2px;border-style:solid;white-space:nowrap;font-family:Open Sans,sans-serif;transition:.3s;transition-property:background-color color}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .getStartBtnContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize;font-size:.9rem}@media (min-width: 992px){header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]{order:1;margin:0}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]{order:2}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]{background-color:transparent;display:block;position:static}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{background-color:transparent;display:flex;flex-direction:row;list-style:none;margin:0;padding:0;gap:30px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;position:relative}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;margin:0;text-transform:capitalize;font-weight:700;font-size:.95rem;padding-block:10px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{padding-left:5px}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul.dropdownList[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul.dropdownList[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:translateY(-30px)}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]{visibility:hidden;opacity:0;position:absolute;top:calc(100% + 30px);left:0;width:200px;padding:10px 0;border-radius:2px;transition:.3s;transition-property:transform opacity;list-style:none}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:10px;font-size:.9rem;transition:.3s;transition-property:background-color;font-family:Open Sans,sans-serif}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul.dropdownList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{font-weight:400}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   nav.mobile[_ngcontent-%COMP%]   .listContainer[_ngcontent-%COMP%]   .closeHamburgerMenuContainer[_ngcontent-%COMP%]{display:none;opacity:0;visibility:hidden}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .navigationContainer[_ngcontent-%COMP%]   .hamburgerMenuContainer[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .getStartBtnContainer[_ngcontent-%COMP%]{order:3}}']}),e})(),Xs=(()=>{var t;class e{constructor(i,r,o){this.el=i,this.document=r,this.sectionIndicatorServ=o,this._domElement=i.nativeElement}onScroll(){let i=Number(this.document.defaultView?.scrollY)+100;i>=this._domElement.offsetTop&&i<=this._domElement.offsetTop+this._domElement.offsetHeight&&(this.sectionIndicatorServ.activeSection=this._domElement.id)}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(wi),L1(Xn),L1(LV))},t.\u0275dir=Y2({type:t,selectors:[["","appSectionIndicator",""]],hostBindings:function(i,r){1&i&&b3("scroll",function(){return r.onScroll()},0,iv)}}),e})();const Xle=function(){return["opacity","clearAnimation"]},HE=function(){return["clearAnimation"]};let Yle=(()=>{var t;class e{constructor(){this._icons={faStore:lL,faChartSimple:SM,faCalendarDays:bd,faPaintRoller:SH,faCoins:ZS}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-hero"]],decls:38,vars:11,consts:[["id","hero","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"animationsClass"],["appLoadingItem","",1,"heroTitleContainer","fadeUp",3,"animationsClass"],[1,"text-color-primary-white"],["appLoadingItem","",1,"heroBodyContainer","zoomOut","transition-delay-1",3,"animationsClass"],[1,"hover-border-color-primary-yellow","border-color-forest-white"],[1,"icon"],[1,"text-color-primary-yellow",3,"icon"],["href","",1,"title"],[1,"text-color-primary-white","hover-text-color-primary-yellow"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),Ye(4,"Powerful Digital Solutions With Gp"),Pe(),we(5,"h3",3),Ye(6,"We are team of talented digital marketers"),Pe()(),we(7,"div",4)(8,"article",5)(9,"span",6),d1(10,"fa-icon",7),Pe(),we(11,"a",8)(12,"span",9),Ye(13,"Lorem Ipsum"),Pe()()(),we(14,"article",5)(15,"span",6),d1(16,"fa-icon",7),Pe(),we(17,"a",8)(18,"span",9),Ye(19,"Dolor Sitema"),Pe()()(),we(20,"article",5)(21,"span",6),d1(22,"fa-icon",7),Pe(),we(23,"a",8)(24,"span",9),Ye(25,"Sedare Perspiciatis"),Pe()()(),we(26,"article",5)(27,"span",6),d1(28,"fa-icon",7),Pe(),we(29,"a",8)(30,"span",9),Ye(31,"Magni Dolores"),Pe()()(),we(32,"article",5)(33,"span",6),d1(34,"fa-icon",7),Pe(),we(35,"a",8)(36,"span",9),Ye(37,"Nemos Enimade"),Pe()()()()()()),2&i&&(n1(1),e1("animationsClass",V2(8,Xle)),n1(1),e1("animationsClass",V2(9,HE)),n1(5),e1("animationsClass",V2(10,HE)),n1(3),e1("icon",r.icon.faStore),n1(6),e1("icon",r.icon.faChartSimple),n1(6),e1("icon",r.icon.faCalendarDays),n1(6),e1("icon",r.icon.faPaintRoller),n1(6),e1("icon",r.icon.faCoins))},dependencies:[Zs,Xs,p4],styles:['section#hero[_ngcontent-%COMP%]{padding-block:135px 50px;background-image:url(hero-bg.2d393c7859e5fe2e.jpg);background-position:center top;background-size:cover;position:relative}section#hero[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#0009}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:70px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:8px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;line-height:36px;font-weight:700;position:relative}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"."}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;letter-spacing:1px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;gap:25px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:30px 25px;display:flex;flex-direction:column;align-items:center;flex:1;border-radius:2px;border-width:1px;border-style:solid;gap:12px;transition:.3s border-color}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.7em}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   a.title[_ngcontent-%COMP%]{text-align:center}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   a.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:1.25em;transition:.3s;transition-property:color}@media (min-width: 768px){section#hero[_ngcontent-%COMP%]{padding-block-start:100px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3.5rem;line-height:1.2}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;flex-wrap:wrap}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:0 0 210px}}@media (min-width: 992px){section#hero[_ngcontent-%COMP%]{padding-block-start:120px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{align-self:center;width:550px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;flex-wrap:wrap}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:0 0 auto;width:30%}}@media (min-width: 1200px){section#hero[_ngcontent-%COMP%]{height:100vh;background-attachment:fixed;padding-block-start:180px;display:flex;align-items:center}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:60px}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:0 0 166px}}@media (min-width: 1400px){section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroTitleContainer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:900}section#hero[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .heroBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:0 0 195px}}']}),e})();const Xp=function(){return["opacity","clearAnimation"]};let Kle=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-about"]],decls:23,vars:9,consts:[["id","about","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"rootMargin","animationsClass"],["appLoadingItem","",1,"imgContainer","fadeLeft","opacityClear",3,"rootMargin","animationsClass"],["src","assets/imgs/about.jpg","alt","img_about"],["appLoadingItem","",1,"textContainer","fadeRight","opacityClear",3,"rootMargin","animationsClass"],[1,"headText"],[1,"text-color-primary-gray"],[1,"text","text-color-primary-gray"],[1,"italicText"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1)(2,"div",2),d1(3,"img",3),Pe(),we(4,"div",4)(5,"div",5)(6,"h3",6),Ye(7,"Voluptatem dignissimos provident quasi corporis voluptates sit assumenda."),Pe()(),we(8,"div",7)(9,"p",8),Ye(10,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et doloremagna aliqua."),Pe(),we(11,"ul")(12,"li")(13,"p"),Ye(14,"Ullamco laboris nisi ut aliquip ex ea commodo consequat."),Pe()(),we(15,"li")(16,"p"),Ye(17,"Duis aute irure dolor in reprehenderit in voluptate velit."),Pe()(),we(18,"li")(19,"p"),Ye(20,"Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate trideta storacalaperda mastiro dolore eu fugiat nulla pariatur."),Pe()()(),we(21,"p"),Ye(22," Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident"),Pe()()()()()),2&i&&(n1(1),e1("rootMargin",-100)("animationsClass",V2(6,Xp)),n1(1),e1("rootMargin",0)("animationsClass",V2(7,Xp)),n1(2),e1("rootMargin",0)("animationsClass",V2(8,Xp)))},dependencies:[Xs,p4],styles:['section#about[_ngcontent-%COMP%]{padding-block:60px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .headText[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.75rem;line-height:1.2}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.3}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:not(.italicText){font-size:1rem;font-family:Open Sans,sans-serif;line-height:1.5}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p.italicText[_ngcontent-%COMP%]{font-style:italic;font-family:Open Sans,sans-serif}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-block:30px 40px;padding-inline:20px;font-family:Open Sans,sans-serif}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{font-family:FontAwesome;content:"\\f00c"}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 6px}@media (min-width: 992px){section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:row-reverse;gap:10px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{flex:1}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{flex:0 0 50%}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p.italicText[_ngcontent-%COMP%]{line-height:1.5;font-size:1rem;margin-block:10px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-block:18px 30px}section#about[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}']}),e})();const s6=function(){return["opacity","clearAnimation"]};let Qle=(()=>{var t;class e{constructor(){this._icons={faNewspaper:rz,faImages:eH,faShieldHalved:Nd,faCube:Lz}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-features"]],decls:37,vars:25,consts:[["id","features","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"rootMargin","animationsClass"],["appLoadingItem","",1,"imgContainer","fadeRight","opacityClear",3,"rootMargin","animationsClass"],["appLoadingItem","",1,"sectionContent","fadeLeft","opacityClear",3,"rootMargin","animationsClass"],["appLoadingItem","",1,"zoomOut","transition-delay-1","opacityClear",3,"threshold","animationsClass"],[1,"icon"],[1,"text-color-primary-yellow",3,"icon"],[1,"text"],[1,"text-color-primary-gray"],[1,"text-color-secondery-gray"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1),d1(2,"div",2),we(3,"div",3)(4,"ul")(5,"li",4)(6,"span",5),d1(7,"fa-icon",6),Pe(),we(8,"div",7)(9,"h4",8),Ye(10,"Est labore ad"),Pe(),we(11,"p",9),Ye(12,"Consequuntur sunt aut quasi enim aliquam quae harum pariatur laboris nisi ut aliquip"),Pe()()(),we(13,"li",4)(14,"span",5),d1(15,"fa-icon",6),Pe(),we(16,"div",7)(17,"h4",8),Ye(18,"Harum esse qui"),Pe(),we(19,"p",9),Ye(20,"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt"),Pe()()(),we(21,"li",4)(22,"span",5),d1(23,"fa-icon",6),Pe(),we(24,"div",7)(25,"h4",8),Ye(26,"Aut occaecati"),Pe(),we(27,"p",9),Ye(28,"Aut suscipit aut cum nemo deleniti aut omnis. Doloribus ut maiores omnis facere"),Pe()()(),we(29,"li",4)(30,"span",5),d1(31,"fa-icon",6),Pe(),we(32,"div",7)(33,"h4",8),Ye(34,"Beatae veritatis"),Pe(),we(35,"p",9),Ye(36,"Expedita veritatis consequuntur nihil tempore laudantium vitae denat pacta"),Pe()()()()()()()),2&i&&(n1(1),e1("rootMargin",-100)("animationsClass",V2(18,s6)),n1(1),e1("rootMargin",0)("animationsClass",V2(19,s6)),n1(1),e1("rootMargin",0)("animationsClass",V2(20,s6)),n1(2),e1("threshold",1)("animationsClass",V2(21,s6)),n1(2),e1("icon",r.icon.faNewspaper),n1(6),e1("threshold",1)("animationsClass",V2(22,s6)),n1(2),e1("icon",r.icon.faImages),n1(6),e1("threshold",1)("animationsClass",V2(23,s6)),n1(2),e1("icon",r.icon.faShieldHalved),n1(6),e1("threshold",1)("animationsClass",V2(24,s6)),n1(2),e1("icon",r.icon.faCube))},dependencies:[Zs,Xs,p4],styles:["section#features[_ngcontent-%COMP%]{padding-block:60px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{min-height:400px;margin-inline:-12px;background-image:url(features.53b506f185bc8a73.jpg);background-size:cover;background-position:center}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-direction:column;gap:30px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:5px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{flex:0 0 70px;font-size:2.6rem;display:flex;justify-content:center}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.3rem;font-family:Raleway,sans-serif}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.5;font-family:Open Sans,sans-serif}@media (min-width: 992px){section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0;flex-direction:row;gap:20px}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{flex:0 0 50%;margin:0}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]{flex:1}section#features[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}}"]}),e})();const o6=function(){return["opacity","clearAnimation"]};let Jle=(()=>{var t;class e{constructor(){this._icons={faBasketball:Bd,faFileLines:$7,faGaugeSimpleHigh:r9,faEarthAmericas:B8,faDesktop:dp,faArchway:Kw}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-services"]],decls:62,vars:21,consts:[["id","services","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"rootMargin","animationsClass"],[1,"sectionTitleContainer"],[1,"text-color-primary-light-gray"],[1,"sectionBodyContainer"],["appLoadingItem","",1,"zoomOut","opacityClear","transition-delay-1",3,"animationsClass"],[1,"articleContainer","border-color-secondery-white"],[1,"iconContainer","bg-color-primary-yellow"],[3,"icon"],[1,"textContainer"],[1,"text-color-primary-black"],[1,"text-color-primary-gray"],["appLoadingItem","",1,"zoomOut","opacityClear","transition-delay-2",3,"animationsClass"],["appLoadingItem","",1,"zoomOut","opacityClear","transition-delay-3",3,"animationsClass"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),Ye(4,"services"),Pe(),we(5,"p"),Ye(6,"check our services"),Pe()(),we(7,"div",4)(8,"article",5)(9,"div",6)(10,"div",7),d1(11,"fa-icon",8),Pe(),we(12,"div",9)(13,"h4",10),Ye(14,"Lorem Ipsum"),Pe(),we(15,"p",11),Ye(16,"Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi"),Pe()()()(),we(17,"article",12)(18,"div",6)(19,"div",7),d1(20,"fa-icon",8),Pe(),we(21,"div",9)(22,"h4",10),Ye(23,"Sed ut perspiciatis"),Pe(),we(24,"p",11),Ye(25,"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore"),Pe()()()(),we(26,"article",13)(27,"div",6)(28,"div",7),d1(29,"fa-icon",8),Pe(),we(30,"div",9)(31,"h4",10),Ye(32,"Magni Dolores"),Pe(),we(33,"p",11),Ye(34,"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia"),Pe()()()(),we(35,"article",5)(36,"div",6)(37,"div",7),d1(38,"fa-icon",8),Pe(),we(39,"div",9)(40,"h4",10),Ye(41,"Nemo Enim"),Pe(),we(42,"p",11),Ye(43,"At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis"),Pe()()()(),we(44,"article",12)(45,"div",6)(46,"div",7),d1(47,"fa-icon",8),Pe(),we(48,"div",9)(49,"h4",10),Ye(50,"Dele cardo"),Pe(),we(51,"p",11),Ye(52,"Quis consequatur saepe eligendi voluptatem consequatur dolor consequuntur"),Pe()()()(),we(53,"article",13)(54,"div",6)(55,"div",7),d1(56,"fa-icon",8),Pe(),we(57,"div",9)(58,"h4",10),Ye(59,"Divera don"),Pe(),we(60,"p",11),Ye(61,"Modi nostrum vel laborum. Porro fugit error sit minus sapiente sit aspernatur"),Pe()()()()()()()),2&i&&(n1(1),e1("rootMargin",-100)("animationsClass",V2(14,o6)),n1(7),e1("animationsClass",V2(15,o6)),n1(3),e1("icon",r.icon.faBasketball),n1(6),e1("animationsClass",V2(16,o6)),n1(3),e1("icon",r.icon.faFileLines),n1(6),e1("animationsClass",V2(17,o6)),n1(3),e1("icon",r.icon.faGaugeSimpleHigh),n1(6),e1("animationsClass",V2(18,o6)),n1(3),e1("icon",r.icon.faEarthAmericas),n1(6),e1("animationsClass",V2(19,o6)),n1(3),e1("icon",r.icon.faDesktop),n1(6),e1("animationsClass",V2(20,o6)),n1(3),e1("icon",r.icon.faArchway))},dependencies:[Zs,Xs,p4],styles:["section#services[_ngcontent-%COMP%]{padding-block:70px 60px}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:80px 20px;gap:20px;border-width:1px;border-style:solid;position:relative;height:100%;transition:.3s;transition-property:transform border-color}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]:hover{border-color:transparent;transform:translateY(-10px);box-shadow:0 0 25px #0000001a}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;align-items:center;border-radius:4px}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex;font-size:1.4em}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{text-align:center}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .articleContainer[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.92rem;line-height:1.5}@media (min-width: 768px){section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:1 0 40%}section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}@media (min-width: 992px){section#services[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:1 0 30%}}"]}),e})();const e7e=function(){return["clearAnimation","opacity"]};let t7e=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-cta"]],decls:9,vars:3,consts:[["id","cta","appSectionIndicator",""],["appLoadingItem","",1,"container","zoomOut","opacityClear",3,"threshold","animationsClass"],[1,"text-color-primary-white"],["href","#hero",1,"text-color-primary-white","hover-border-color-primary-yellow","hover-bg-color-primary-yellow","hover-text-color-primary-black"],[1,"title"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1)(2,"h3",2),Ye(3,"call to action"),Pe(),we(4,"p",2),Ye(5,"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),Pe(),we(6,"a",3)(7,"span",4),Ye(8,"call to action"),Pe()()()()),2&i&&(n1(1),e1("threshold",1)("animationsClass",V2(2,e7e)))},dependencies:[Xs,p4],styles:["section#cta[_ngcontent-%COMP%]{background:linear-gradient(rgba(2,2,2,.5),rgba(0,0,0,.5)),url(cta-bg.0d73ea5eca0a997c.jpg);background-attachment:fixed;background-position:center;background-size:cover;padding-block:60px 55px}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{text-align:center}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:capitalize;font-size:1.75em;margin:0}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;line-height:1.4;font-size:1rem;margin-block:10px 25px}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;width:-moz-fit-content;width:fit-content;margin-inline:auto;border-width:2px;border-style:solid;border-radius:4px;font-size:1rem;letter-spacing:1px;padding:10px 30px;transition:.3s;transition-property:border background-color color}section#cta[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:600}"]}),e})(),n7e=(()=>{var t;class e{constructor(i,r){this.el=i,this.renderer=r,this._el=i.nativeElement}ngOnInit(){this.renderer.setProperty(this._el,"innerText",this.defValue),this.createObserver()}createObserver(){this._observer=new IntersectionObserver(i=>{i.forEach(r=>{r.isIntersecting&&(this.initInterval(),this._observer.disconnect())})}),this._observer.observe(this._el)}initInterval(){this._setInterval=setInterval(()=>{this.renderer.setProperty(this._el,"innerText",this.defValue),this.defValue++,this.defValue==this.endValue&&clearInterval(this._setInterval)},this.loadDuration/(this.endValue-this.defValue))}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(wi),L1(gc))},t.\u0275dir=Y2({type:t,selectors:[["","appCounterLoader",""]],inputs:{defValue:"defValue",endValue:"endValue",loadDuration:"loadDuration"}}),e})();const Yp=function(){return["clearAnimation","opacity"]};let i7e=(()=>{var t;class e{constructor(){this._icons={faFaceSmile:fp,faReceipt:RH,faClock:Yd,faAward:ML}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-counts"]],decls:51,vars:22,consts:[["id","counts","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"animationsClass"],["appLoadingItem","",1,"imgContainer","fadeRight",3,"animationsClass"],["appLoadingItem","",1,"sectionContent","fadeLeft",3,"animationsClass"],[1,"sectionHeadText"],[1,"text-color-primary-black"],[1,"text-color-primary-gray"],[1,"sectionBodyContainer"],[1,"iconContainer"],[1,"icon","text-color-primary-yellow"],[3,"icon"],[1,"textContainer"],["appCounterLoader","",1,"count","text-color-primary-black",3,"defValue","endValue","loadDuration"],[1,"text-color-secondery-black"],[1,"boldText"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1),d1(2,"div",2),we(3,"div",3)(4,"div",4)(5,"h3",5),Ye(6,"Voluptatem dignissimos provident quasi"),Pe(),we(7,"p",6),Ye(8,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Duis aute irure dolor in reprehenderit"),Pe()(),we(9,"div",7)(10,"ul")(11,"li")(12,"div",8)(13,"span",9),d1(14,"fa-icon",10),Pe()(),we(15,"div",11),d1(16,"span",12),we(17,"p",13)(18,"span",14),Ye(19,"Happy Clients"),Pe(),Ye(20," consequuntur voluptas nostrum aliquid ipsam architecto ut."),Pe()()(),we(21,"li")(22,"div",8)(23,"span",9),d1(24,"fa-icon",10),Pe()(),we(25,"div",11),d1(26,"span",12),we(27,"p",13)(28,"span",14),Ye(29,"Projects"),Pe(),Ye(30," adipisci atque cum quia aspernatur totam laudantium et quia dere tan"),Pe()()(),we(31,"li")(32,"div",8)(33,"span",9),d1(34,"fa-icon",10),Pe()(),we(35,"div",11),d1(36,"span",12),we(37,"p",13)(38,"span",14),Ye(39,"Years of experience"),Pe(),Ye(40," aut commodi quaerat modi aliquam nam ducimus aut voluptate non vel"),Pe()()(),we(41,"li")(42,"div",8)(43,"span",9),d1(44,"fa-icon",10),Pe()(),we(45,"div",11),d1(46,"span",12),we(47,"p",13)(48,"span",14),Ye(49,"Awards"),Pe(),Ye(50," rerum asperiores dolor alias quo reprehenderit eum et nemo pad der"),Pe()()()()()()()()),2&i&&(n1(1),e1("animationsClass",V2(19,Yp)),n1(1),e1("animationsClass",V2(20,Yp)),n1(1),e1("animationsClass",V2(21,Yp)),n1(11),e1("icon",r.icon.faFaceSmile),n1(2),e1("defValue",0)("endValue",65)("loadDuration",2e3),n1(8),e1("icon",r.icon.faReceipt),n1(2),e1("defValue",0)("endValue",85)("loadDuration",2e3),n1(8),e1("icon",r.icon.faClock),n1(2),e1("defValue",0)("endValue",35)("loadDuration",4e3),n1(8),e1("icon",r.icon.faAward),n1(2),e1("defValue",0)("endValue",20)("loadDuration",4e3))},dependencies:[Zs,Xs,p4,n7e],styles:["section#counts[_ngcontent-%COMP%]{padding-block:80px 50px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{min-height:400px;margin-inline:-12px;background:url(counts-img.4f026aebd46c444f.jpg);background-size:cover;background-position:center}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]{padding:30px 0}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionHeadText[_ngcontent-%COMP%]{padding-inline:12px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionHeadText[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-size:2.1em;line-height:1.2}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionHeadText[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;margin-block:8px;line-height:1.4;font-size:1em}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-direction:column;gap:30px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]{flex:0 0 60px;display:flex;justify-content:center;padding-top:20px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:2rem}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-weight:700;font-size:2.3rem}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-block:10px;font-size:.87rem;line-height:1.5}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.boldText[_ngcontent-%COMP%]{font-weight:700}@media (min-width: 768px){section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:20px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1 0 40%}}@media (min-width: 1200px){section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:50px}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{flex:0 0 42.5%}section#counts[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionContent[_ngcontent-%COMP%]{padding:0;flex:1}}"]}),e})();var AE={prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},FE={prefix:"fab",iconName:"skype",icon:[448,512,[],"f17e","M424.7 299.8c2.9-14 4.7-28.9 4.7-43.8 0-113.5-91.9-205.3-205.3-205.3-14.9 0-29.7 1.7-43.8 4.7C161.3 40.7 137.7 32 112 32 50.2 32 0 82.2 0 144c0 25.7 8.7 49.3 23.3 68.2-2.9 14-4.7 28.9-4.7 43.8 0 113.5 91.9 205.3 205.3 205.3 14.9 0 29.7-1.7 43.8-4.7 19 14.6 42.6 23.3 68.2 23.3 61.8 0 112-50.2 112-112 .1-25.6-8.6-49.2-23.2-68.1zm-194.6 91.5c-65.6 0-120.5-29.2-120.5-65 0-16 9-30.6 29.5-30.6 31.2 0 34.1 44.9 88.1 44.9 25.7 0 42.3-11.4 42.3-26.3 0-18.7-16-21.6-42-28-62.5-15.4-117.8-22-117.8-87.2 0-59.2 58.6-81.1 109.1-81.1 55.1 0 110.8 21.9 110.8 55.4 0 16.9-11.4 31.8-30.3 31.8-28.3 0-29.2-33.5-75-33.5-25.7 0-42 7-42 22.5 0 19.8 20.8 21.8 69.1 33 41.4 9.3 90.7 26.8 90.7 77.6 0 59.1-57.1 86.5-112 86.5z"]},WE={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"]},JE={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]},Qp={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},tT={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"]},Jp={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};const n5=function(){return["clearAnimation","opacity"]};let Oge=(()=>{var t;class e{constructor(){this._icons={faTwitter:Jp,faFacebook:tT,faInstagram:Qp,faLinkedin:JE}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-team"]],decls:116,vars:26,consts:[["id","team","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"animationsClass"],[1,"sectionTitleContainer"],[1,"text-color-primary-light-gray"],[1,"sectionBodyContainer"],["appLoadingItem","",1,"fadeUp","opacityClear","transition-delay-1",3,"animationsClass"],[1,"articleContainer"],[1,"imgContainer"],["src","assets/imgs/team/team-1.jpg","alt","team_img"],[1,"socialMediaContainer"],["href","/",1,"bg-color-transparent-white","hover-bg-color-primary-yellow","text-color-primary-gray","hover-text-color-primary-black"],[1,"icon"],[3,"icon"],[1,"textContainer"],[1,"text-color-primary-black"],["appLoadingItem","",1,"fadeUp","opacityClear","transition-delay-2",3,"animationsClass"],["src","assets/imgs/team/team-2.jpg","alt","team_img"],["appLoadingItem","",1,"fadeUp","opacityClear","transition-delay-3",3,"animationsClass"],["src","assets/imgs/team/team-3.jpg","alt","team_img"],["appLoadingItem","",1,"fadeUp","opacityClear","transition-delay-4",3,"animationsClass"],["src","assets/imgs/team/team-4.jpg","alt","team_img"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),Ye(4,"team"),Pe(),we(5,"p"),Ye(6,"check our team"),Pe()(),we(7,"div",4)(8,"article",5)(9,"div",6)(10,"div",7),d1(11,"img",8),we(12,"div",9)(13,"ul")(14,"li")(15,"a",10)(16,"span",11),d1(17,"fa-icon",12),Pe()()(),we(18,"li")(19,"a",10)(20,"span",11),d1(21,"fa-icon",12),Pe()()(),we(22,"li")(23,"a",10)(24,"span",11),d1(25,"fa-icon",12),Pe()()(),we(26,"li")(27,"a",10)(28,"span",11),d1(29,"fa-icon",12),Pe()()()()()(),we(30,"div",13)(31,"h4",14),Ye(32,"Walter White"),Pe(),we(33,"span",3),Ye(34,"Chief Executive Officer"),Pe()()()(),we(35,"article",15)(36,"div",6)(37,"div",7),d1(38,"img",16),we(39,"div",9)(40,"ul")(41,"li")(42,"a",10)(43,"span",11),d1(44,"fa-icon",12),Pe()()(),we(45,"li")(46,"a",10)(47,"span",11),d1(48,"fa-icon",12),Pe()()(),we(49,"li")(50,"a",10)(51,"span",11),d1(52,"fa-icon",12),Pe()()(),we(53,"li")(54,"a",10)(55,"span",11),d1(56,"fa-icon",12),Pe()()()()()(),we(57,"div",13)(58,"h4",14),Ye(59,"Sarah Jhonson"),Pe(),we(60,"span",3),Ye(61,"Product Manager"),Pe()()()(),we(62,"article",17)(63,"div",6)(64,"div",7),d1(65,"img",18),we(66,"div",9)(67,"ul")(68,"li")(69,"a",10)(70,"span",11),d1(71,"fa-icon",12),Pe()()(),we(72,"li")(73,"a",10)(74,"span",11),d1(75,"fa-icon",12),Pe()()(),we(76,"li")(77,"a",10)(78,"span",11),d1(79,"fa-icon",12),Pe()()(),we(80,"li")(81,"a",10)(82,"span",11),d1(83,"fa-icon",12),Pe()()()()()(),we(84,"div",13)(85,"h4",14),Ye(86,"William Anderson"),Pe(),we(87,"span",3),Ye(88,"CTO"),Pe()()()(),we(89,"article",19)(90,"div",6)(91,"div",7),d1(92,"img",20),we(93,"div",9)(94,"ul")(95,"li")(96,"a",10)(97,"span",11),d1(98,"fa-icon",12),Pe()()(),we(99,"li")(100,"a",10)(101,"span",11),d1(102,"fa-icon",12),Pe()()(),we(103,"li")(104,"a",10)(105,"span",11),d1(106,"fa-icon",12),Pe()()(),we(107,"li")(108,"a",10)(109,"span",11),d1(110,"fa-icon",12),Pe()()()()()(),we(111,"div",13)(112,"h4",14),Ye(113,"Amanda Jepson"),Pe(),we(114,"span",3),Ye(115,"Accountant"),Pe()()()()()()()),2&i&&(n1(1),e1("animationsClass",V2(21,n5)),n1(7),e1("animationsClass",V2(22,n5)),n1(9),e1("icon",r.icon.faTwitter),n1(4),e1("icon",r.icon.faFacebook),n1(4),e1("icon",r.icon.faInstagram),n1(4),e1("icon",r.icon.faLinkedin),n1(6),e1("animationsClass",V2(23,n5)),n1(9),e1("icon",r.icon.faTwitter),n1(4),e1("icon",r.icon.faFacebook),n1(4),e1("icon",r.icon.faInstagram),n1(4),e1("icon",r.icon.faLinkedin),n1(6),e1("animationsClass",V2(24,n5)),n1(9),e1("icon",r.icon.faTwitter),n1(4),e1("icon",r.icon.faFacebook),n1(4),e1("icon",r.icon.faInstagram),n1(4),e1("icon",r.icon.faLinkedin),n1(6),e1("animationsClass",V2(25,n5)),n1(9),e1("icon",r.icon.faTwitter),n1(4),e1("icon",r.icon.faFacebook),n1(4),e1("icon",r.icon.faInstagram),n1(4),e1("icon",r.icon.faLinkedin))},dependencies:[Zs,Xs,p4],styles:["section#team[_ngcontent-%COMP%]{padding-block:80px 70px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:40px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{border-radius:5px;overflow:hidden;border-width:1px;border-style:solid}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]:hover   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(30px)}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{position:relative}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]{position:absolute;bottom:30px;left:0;width:100%;opacity:0;visibility:hidden;transition:.3s ease-in-out;transition-property:opacity transform}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 0 15px;padding:0;display:flex;list-style:none;justify-content:center;gap:10px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:4px;display:flex;justify-content:center;align-items:center}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.1rem}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   .socialMediaContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{padding:30px 15px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:600;font-size:1.1rem;margin-bottom:5px}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem}@media (min-width: 768px){section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:1 0 40%}}@media (min-width: 992px){section#team[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{flex:1}}"]}),e})();class fT{}class Rge{}const ja="*";function hT(t,e=null){return{type:4,styles:e,timings:t}}function dT(t,e=null){return{type:2,steps:t,options:e}}function $c(t){return{type:6,styles:t,offset:null}}function pT(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class i5{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class mT{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++n==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}const Bge=function Fge(t,e){return{type:7,name:t,definitions:e,options:{}}}("opacityInOut",[pT(":enter",[$c({opacity:"0"}),hT("300ms ease-in",$c({opacity:"1"}))]),pT(":leave",[$c({opacity:"1"}),hT("300ms ease-out",$c({opacity:"0"}))])]);let Uge=(()=>{var t;class e{constructor(i,r){this.el=i,this.document=r,this._elementRoot=i.nativeElement}onClick(){this.document.defaultView?.scrollTo({top:0,behavior:"smooth"})}}return(t=e).\u0275fac=function(i){return new(i||t)(L1(wi),L1(Xn))},t.\u0275dir=Y2({type:t,selectors:[["","appScrollTop",""]],hostBindings:function(i,r){1&i&&b3("click",function(){return r.onClick()})}}),e})();function $ge(t,e){if(1&t&&(we(0,"div",24)(1,"button",25)(2,"span",13),d1(3,"fa-icon",14),Pe()()()),2&t){const n=Vc();e1("@opacityInOut",void 0),n1(3),e1("icon",n.icon.faArrowUp)}}let jge=(()=>{var t;class e{constructor(){this._renderUpBtn=!1,this._icons={faTwitter:Jp,faFacebookF:WE,faInstagram:Qp,faSkype:FE,faLinkedinIn:AE,faArrowUp:$H}}ngOnInit(){}get icon(){return this._icons}get showUpBtn(){return this._renderUpBtn}onScroll(i){this._renderUpBtn=(i.defaultView?.scrollY||0)>100}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-footer"]],hostBindings:function(i,r){1&i&&b3("scroll",function(u){return r.onScroll(u.target)},0,Ef)},decls:74,vars:6,consts:[["class","btnContainer",4,"ngIf"],[1,"topFooter","bg-color-primary-black"],[1,"container"],[1,"footerInfo"],[1,"logoContainer"],[1,"text-color-primary-white"],[1,"addressContainer"],[1,"contactContainer"],[1,"title"],["href","tel:+1 5589 55488 55",1,"text-color-primary-white"],["href","mailto:info@example.com",1,"text-color-primary-white"],[1,"socialContainer"],["href","/",1,"text-color-primary-white","bg-color-secondery-light-gray","hover-bg-color-primary-yellow","hover-text-color-primary-black"],[1,"icon"],[3,"icon"],[1,"footerNavContainer"],["href","#hero",1,"text-color-primary-white","hover-text-color-primary-yellow"],["href","#about",1,"text-color-primary-white","hover-text-color-primary-yellow"],["href","#services",1,"text-color-primary-white","hover-text-color-primary-yellow"],["href","#team",1,"text-color-primary-white","hover-text-color-primary-yellow"],["href","#contact",1,"text-color-primary-white","hover-text-color-primary-yellow"],[1,"bottomFooter","bg-color-black"],[1,"logo"],[1,"year"],[1,"btnContainer"],["appScrollTop","",1,"bg-color-primary-yellow","text-color-primary-black","hover-bg-color-primary-black","hover-text-color-primary-yellow"]],template:function(i,r){1&i&&(we(0,"footer"),u7(1,$ge,4,2,"div",0),we(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h3",5),Ye(7,"gp"),Pe()(),we(8,"div",6)(9,"p",5),Ye(10," a108 adam street"),d1(11,"br"),Ye(12,"NY 535022, USA "),Pe()(),we(13,"div",7)(14,"p",5)(15,"span",8),Ye(16,"phone"),Pe(),we(17,"a",9),Ye(18,"+1 5589 55488 55"),Pe(),d1(19,"br"),we(20,"span",8),Ye(21,"email"),Pe(),we(22,"a",10),Ye(23,"info@example.com"),Pe()(),we(24,"div",11)(25,"ul")(26,"li")(27,"a",12)(28,"span",13),d1(29,"fa-icon",14),Pe()()(),we(30,"li")(31,"a",12)(32,"span",13),d1(33,"fa-icon",14),Pe()()(),we(34,"li")(35,"a",12)(36,"span",13),d1(37,"fa-icon",14),Pe()()(),we(38,"li")(39,"a",12)(40,"span",13),d1(41,"fa-icon",14),Pe()()(),we(42,"li")(43,"a",12)(44,"span",13),d1(45,"fa-icon",14),Pe()()()()()()(),we(46,"div",15)(47,"h4",5),Ye(48,"useful links"),Pe(),we(49,"nav")(50,"ul")(51,"li")(52,"a",16),Ye(53,"home"),Pe()(),we(54,"li")(55,"a",17),Ye(56,"about us"),Pe()(),we(57,"li")(58,"a",18),Ye(59,"services"),Pe()(),we(60,"li")(61,"a",19),Ye(62,"team"),Pe()(),we(63,"li")(64,"a",20),Ye(65,"contact us"),Pe()()()()()()(),we(66,"div",21)(67,"p",5),Ye(68,"\xa9 copyright "),we(69,"span",22),Ye(70,"gp"),Pe(),Ye(71,". all rights reserved "),we(72,"span",23),Ye(73,"2023"),Pe()()()()),2&i&&(n1(1),e1("ngIf",r.showUpBtn),n1(28),e1("icon",r.icon.faTwitter),n1(4),e1("icon",r.icon.faFacebookF),n1(4),e1("icon",r.icon.faInstagram),n1(4),e1("icon",r.icon.faSkype),n1(4),e1("icon",r.icon.faLinkedinIn))},dependencies:[Mx,Zs,Uge],styles:['footer[_ngcontent-%COMP%]   .btnContainer[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px}footer[_ngcontent-%COMP%]   .btnContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:5px;display:flex;justify-content:center;align-items:center;border:none;cursor:pointer;transition:.4s;transition-property:background-color color}footer[_ngcontent-%COMP%]   .btnContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex;font-size:1rem}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]{padding-block:60px 20px;border-width:1px;border-style:solid}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:uppercase;font-size:1.75rem}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .logoContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:after{content:"."}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .addressContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;text-transform:capitalize;line-height:1.6}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]{margin-top:30px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-block:5px;font-size:.9rem;line-height:1.6}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]:after{content:":"}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:5px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   .socialContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;display:flex;list-style:none;gap:8px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   .socialContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:36px;height:36px;border-radius:4px;font-size:.95rem;transition:.3s;transition-property:color background-color}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .contactContainer[_ngcontent-%COMP%]   .socialContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]{margin-top:5px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:capitalize;font-size:1rem}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:22px;margin-top:18px;padding-inline:14px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-left:8px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;font-size:.85rem;text-transform:capitalize;transition:.3s color}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footerNavContainer[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{font-size:.7rem;content:"\\f054";font-family:FontAwesome}footer[_ngcontent-%COMP%]   .bottomFooter[_ngcontent-%COMP%]{padding:20px}footer[_ngcontent-%COMP%]   .bottomFooter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;text-transform:capitalize;text-align:center;font-size:.85rem}footer[_ngcontent-%COMP%]   .bottomFooter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.logo[_ngcontent-%COMP%]{font-weight:700}@media (min-width: 768px){footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]{padding-block-end:50px}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{flex-direction:row}footer[_ngcontent-%COMP%]   .topFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}}'],data:{animation:[Bge]}}),e})();var tm=Xa(624);const qge=["map"];let Gge=(()=>{var t;class e{constructor(){this.zoom=10,this.API_KEY="dKUvmwp8VvvHAWns68XF"}ngAfterViewInit(){this.map=new tm.Map({container:this.mapContainer.nativeElement,style:`https://api.maptiler.com/maps/streets-v2/style.json?key=${this.API_KEY}`,center:[this.long,this.lat],zoom:this.zoom}),this.map.addControl(new tm.NavigationControl,"bottom-right"),new tm.Marker({color:"#ffc451"}).setLngLat([this.long,this.lat]).addTo(this.map)}ngOnInit(){}ngOnDestroy(){this.map?.remove()}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-map"]],viewQuery:function(i,r){if(1&i&&C7(qge,5),2&i){let o;E8(o=T8())&&(r.mapContainer=o.first)}},inputs:{lat:"lat",long:"long",zoom:"zoom"},decls:2,vars:0,consts:[[1,"map"],["map",""]],template:function(i,r){1&i&&d1(0,"div",0,1)},styles:[".map[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})();const Wge=function(){return["clearAnimation","opacity"]};let Zge=(()=>{var t;class e{constructor(){this._icons={faLocationDot:tp,faEnvelope:_S,faMobileScreenButton:Ud}}ngOnInit(){}get icon(){return this._icons}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-contact"]],decls:39,vars:8,consts:[["id","contact","appSectionIndicator",""],["appLoadingItem","",1,"container","fadeUp","opacityClear",3,"animationsClass"],[1,"sectionTitleContainer"],[1,"text-color-primary-light-gray"],[1,"text-color-primary-black"],[1,"sectionBodyContainer"],[1,"mapsContainer","bg-color-primary-black"],[3,"lat","long","zoom"],[1,"contactsContainer"],[1,"iconContainer","bg-color-primary-yellow"],[1,"icon","text-color-primary-black"],[3,"icon"],[1,"textContainer"],[1,"text-color-primary-gray"],["href","mailTo:info@example.com",1,"text-color-primary-gray"],["href","tel:+1 5589 55488 55s",1,"text-color-primary-gray"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),Ye(4,"contact"),Pe(),we(5,"p",4),Ye(6,"contact us"),Pe()(),we(7,"div",5)(8,"div",6),d1(9,"app-map",7),Pe(),we(10,"div",8)(11,"ul")(12,"li")(13,"div",9)(14,"span",10),d1(15,"fa-icon",11),Pe()(),we(16,"div",12)(17,"h4",4),Ye(18,"location"),Pe(),we(19,"p",13),Ye(20,"A108 Adam Street, New York, NY 535022"),Pe()()(),we(21,"li")(22,"div",9)(23,"span",10),d1(24,"fa-icon",11),Pe()(),we(25,"div",12)(26,"h4",4),Ye(27,"email"),Pe(),we(28,"a",14),Ye(29,"info@example.com"),Pe()()(),we(30,"li")(31,"div",9)(32,"span",10),d1(33,"fa-icon",11),Pe()(),we(34,"div",12)(35,"h4",4),Ye(36,"call"),Pe(),we(37,"a",15),Ye(38,"+1 5589 55488 55s"),Pe()()()()()()()()),2&i&&(n1(1),e1("animationsClass",V2(7,Wge)),n1(8),e1("lat",40.71016)("long",-74.00596)("zoom",16),n1(6),e1("icon",r.icon.faLocationDot),n1(9),e1("icon",r.icon.faEnvelope),n1(9),e1("icon",r.icon.faMobileScreenButton))},dependencies:[Zs,Xs,p4,Gge],styles:['section#contact[_ngcontent-%COMP%]{padding-block:60px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:40px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:60px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .mapsContainer[_ngcontent-%COMP%]{width:100%;height:270px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-direction:column;gap:40px;margin:0}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;gap:15px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]{flex:0 0 44px;height:44px;align-self:flex-start;border-radius:4px;display:flex;justify-content:center;align-items:center}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]{font-size:1.3rem}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .iconContainer[_ngcontent-%COMP%]   span.icon[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:flex}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]{flex:1}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:capitalize;position:relative;font-size:1.35rem;margin-bottom:8px}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:after{content:":"}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .textContainer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.88rem}@media (min-width: 1400px){section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:row}section#contact[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sectionBodyContainer[_ngcontent-%COMP%]   .contactsContainer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}}']}),e})();var jc=function(){return jc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},jc.apply(this,arguments)};function vT(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function yT(t){return Array.prototype.slice.call(t)}function _T(t,e){var n=Math.floor(t);return n===e||n+1===e?t:e}function CT(){return Date.now()}function nm(t,e,n){if(e="data-keen-slider-"+e,null===n)return t.removeAttribute(e);t.setAttribute(e,n||"")}function z9(t,e){return e=e||document,"function"==typeof t&&(t=t(e)),Array.isArray(t)?t:"string"==typeof t?yT(e.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?yT(t):[]}function r5(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function a5(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function xT(){var t=[];return{add:function(e,n,i,r){e.addListener?e.addListener(i):e.addEventListener(n,i,r),t.push([e,n,i,r])},input:function(e,n,i,r){var o;this.add(e,n,(o=i,function(u){u.nativeEvent&&(u=u.nativeEvent);var h=u.changedTouches||[],p=u.targetTouches||[],y=u.detail&&u.detail.x?u.detail:null;return o({id:y?y.identifier?y.identifier:"i":p[0]?p[0]?p[0].identifier:"e":"d",idChanged:y?y.identifier?y.identifier:"i":h[0]?h[0]?h[0].identifier:"e":"d",raw:u,x:y&&y.x?y.x:p[0]?p[0].screenX:y?y.x:u.pageX,y:y&&y.y?y.y:p[0]?p[0].screenY:y?y.y:u.pageY})}),r)},purge:function(){t.forEach(function(e){e[0].removeListener?e[0].removeListener(e[2]):e[0].removeEventListener(e[1],e[2],e[3])}),t=[]}}}function im(t,e,n){return Math.min(Math.max(t,e),n)}function m4(t){return(t>0?1:0)-(t<0?1:0)||+t}function bT(t){var e=t.getBoundingClientRect();return{height:_T(e.height,t.offsetHeight),width:_T(e.width,t.offsetWidth)}}function ni(t,e,n,i){var r=t&&t[e];return null==r?n:i&&"function"==typeof r?r():r}function Hr(t){return Math.round(1e6*t)/1e6}function Kge(t){var e,n,i,r,o,u,h,p;function y(W){return 2*W}function w(W){return im(W,h,p)}function z(W){return 1-Math.pow(1-W,3)}function E(){return i?t.track.velocity():0}function I(W,R){void 0===R&&(R=1e3);var j=147e-9+(W=Math.abs(W))/R;return{dist:Math.pow(W,2)/j,dur:W/j}}function F(){var W=t.track.details;W&&(o=W.min,u=W.max,h=W.minIdx,p=W.maxIdx)}function $(){t.animator.stop()}t.on("updated",F),t.on("optionsChanged",F),t.on("created",F),t.on("dragStarted",function(){i=!1,$(),e=n=t.track.details.abs}),t.on("dragChecked",function(){i=!0}),t.on("dragEnded",function(){var W=t.options.mode;"snap"===W&&function(){var R=t.track,j=t.track.details,J=j.position,ve=m4(E());(J>u||J<o)&&(ve=0);var Ve=e+ve;0===j.slides[R.absToRel(Ve)].portion&&(Ve-=ve),e!==n&&(Ve=n),m4(R.idxToDist(Ve,!0))!==ve&&(Ve+=ve),Ve=w(Ve);var Te=R.idxToDist(Ve,!0);t.animator.start([{distance:Te,duration:500,easing:function(Le){return 1+--Le*Le*Le*Le*Le}}])}(),"free"!==W&&"free-snap"!==W||function P(){$();var W="free-snap"===t.options.mode,R=t.track,j=E();r=m4(j);var J=t.track.details,ve=[];if(j||!W){var Ve=I(j),Te=Ve.dist,Le=Ve.dur;if(Le=y(Le),Te*=r,W){var ge=R.idxToDist(R.distToIdx(Te),!0);ge&&(Te=ge)}ve.push({distance:Te,duration:Le,easing:z});var Qe=J.position,Oe=Qe+Te;if(Oe<o||Oe>u){var Ne=Oe<o?o-Qe:u-Qe,He=0,ie=j;if(m4(Ne)===r){var be=Math.min(Math.abs(Ne)/Math.abs(Te),1),pe=(1-Math.pow(1-be,1/3))*Le;ve[0].earlyExit=pe,ie=j*(1-be)}else ve[0].earlyExit=0,He+=Ne;var he=I(ie,100),Me=he.dist*r;t.options.rubberband&&(ve.push({distance:Me,duration:y(he.dur),easing:z}),ve.push({distance:-Me+He,duration:500,easing:z}))}t.animator.start(ve)}else t.moveToIdx(w(J.abs),!0,{duration:500,easing:function(Se){return 1+--Se*Se*Se*Se*Se}})}()}),t.on("dragged",function(){n=t.track.details.abs})}function Qge(t){var e,n,i,r,o,u,h,p,y,w,z,E,P,I,F,$,W,R,j=xT();function J(He){if(u&&p===He.id){var ie=Le(He);if(y){if(!Te(He))return Ve(He);w=ie,y=!1,t.emit("dragChecked")}if($)return w=ie;r5(He);var be=function(he){if(W===-1/0&&R===1/0)return he;var Me=t.track.details,Se=Me.length,c1=Me.position,P1=im(he,W-c1,R-c1);if(0===Se)return 0;if(!t.options.rubberband)return P1;if(c1<=R&&c1>=W||c1<W&&n>0||c1>R&&n<0)return he;var $1=Math.abs((c1<W?c1-W:c1-R)/Se*(r*Se)),An=Math.max(0,1-$1/o*2);return An*An*he}(h(w-ie)/r*i);n=m4(be);var pe=t.track.details.position;(pe>W&&pe<R||pe===W&&n>0||pe===R&&n<0)&&a5(He),z+=be,!E&&Math.abs(z*r)>5&&(E=!0),t.track.add(be),w=ie,t.emit("dragged")}}function ve(He){!u&&t.track.details&&t.track.details.length&&(z=0,u=!0,E=!1,y=!0,p=He.id,Te(He),w=Le(He),t.emit("dragStarted"))}function Ve(He){u&&p===He.idChanged&&(u=!1,t.emit("dragEnded"))}function Te(He){var ie=ge(),be=ie?He.y:He.x,pe=ie?He.x:He.y,he=void 0!==P&&void 0!==I&&Math.abs(I-pe)<=Math.abs(P-be);return P=be,I=pe,he}function Le(He){return ge()?He.y:He.x}function ge(){return t.options.vertical}function Qe(){r=t.size,o=ge()?window.innerHeight:window.innerWidth;var He=t.track.details;He&&(W=He.min,R=He.max)}function Oe(He){E&&(a5(He),r5(He))}function Ne(){if(j.purge(),t.options.drag&&!t.options.disabled){var He;h="function"==typeof(He=t.options.dragSpeed||1)?He:function(be){return be*He},i=t.options.rtl?-1:1,Qe(),e=t.container,z9("[".concat("data-keen-slider-clickable","]:not([").concat("data-keen-slider-clickable","=false])"),e).map(function(pe){j.add(pe,"dragstart",a5),j.add(pe,"mousedown",a5),j.add(pe,"touchstart",a5)}),j.add(e,"dragstart",function(be){r5(be)}),j.add(e,"click",Oe,{capture:!0}),j.input(e,"ksDragStart",ve),j.input(e,"ksDrag",J),j.input(e,"ksDragEnd",Ve),j.input(e,"mousedown",ve),j.input(e,"mousemove",J),j.input(e,"mouseleave",Ve),j.input(e,"mouseup",Ve),j.input(e,"touchstart",ve,{passive:!0}),j.input(e,"touchmove",J,{passive:!1}),j.input(e,"touchend",Ve),j.input(e,"touchcancel",Ve),j.add(window,"wheel",function(be){u&&r5(be)});var ie="data-keen-slider-scrollable";z9("[".concat(ie,"]:not([").concat(ie,"=false])"),t.container).map(function(be){return j.input(pe=be,"touchstart",function(Me){he=Le(Me),$=!0,F=!0},{passive:!0}),j.input(pe,"touchmove",function(Me){var Se=ge(),c1=Se?pe.scrollHeight-pe.clientHeight:pe.scrollWidth-pe.clientWidth,P1=he-Le(Me),Q1=Se?pe.scrollTop:pe.scrollLeft,b1=Se&&"scroll"===pe.style.overflowY||!Se&&"scroll"===pe.style.overflowX;if(he=Le(Me),(P1<0&&Q1>0||P1>0&&Q1<c1)&&F&&b1)return $=!0;F=!1,r5(Me),$=!1}),void j.input(pe,"touchend",function(){$=!1});var pe,he})}}t.on("updated",Qe),t.on("optionsChanged",Ne),t.on("created",Ne),t.on("destroyed",j.purge)}function Jge(t){var e,n,i=null;function r(P,I,F){t.animator.active?u(P,I,F):requestAnimationFrame(function(){return u(P,I,F)})}function o(){r(!1,!1,n)}function u(P,I,F){var $=0,W=t.size,R=t.track.details;if(R&&e){var j=R.slides;e.forEach(function(J,ve){if(P)!i&&I&&p(J,null,F),y(J,null,F);else{if(!j[ve])return;var Ve=j[ve].size*W;!i&&I&&p(J,Ve,F),y(J,j[ve].distance*W-$,F),$+=Ve}})}}function h(P){return"performance"===t.options.renderMode?Math.round(P):P}function p(P,I,F){var $=F?"height":"width";null!==I&&(I=h(I)+"px"),P.style["min-"+$]=I,P.style["max-"+$]=I}function y(P,I,F){if(null!==I){I=h(I);var $=F?I:0;I="translate3d(".concat(F?0:I,"px, ").concat($,"px, 0)")}P.style.transform=I,P.style["-webkit-transform"]=I}function w(){e&&(u(!0,!0,n),e=null),t.on("detailsChanged",o,!0)}function z(){r(!1,!0,n)}function E(){w(),n=t.options.vertical,t.options.disabled||"custom"===t.options.renderMode||(i="auto"===ni(t.options.slides,"perView",null),t.on("detailsChanged",o),(e=t.slides).length&&z())}t.on("created",E),t.on("optionsChanged",E),t.on("beforeOptionsChanged",function(){w()}),t.on("updated",z),t.on("destroyed",w)}function eve(t,e){return function(n){var i,r,o,u,p,y=xT();function w(Le){nm(n.container,"reverse","rtl"!==window.getComputedStyle(n.container,null).getPropertyValue("direction")||Le?null:""),nm(n.container,"v",n.options.vertical&&!Le?"":null),nm(n.container,"disabled",n.options.disabled&&!Le?"":null)}function z(){E()&&W()}function E(){var Le=null;if(u.forEach(function(Qe){Qe.matches&&(Le=Qe.__media)}),Le===i)return!1;i||n.emit("beforeOptionsChanged"),i=Le;var ge=Le?o.breakpoints[Le]:o;return n.options=jc(jc({},o),ge),w(),Ve(),Te(),j(),!0}function P(Le){var ge=bT(Le);return(n.options.vertical?ge.height:ge.width)/n.size||1}function I(){return n.options.trackConfig.length}function F(Le){for(var ge in i=!1,o=jc(jc({},e),Le),y.purge(),r=n.size,u=[],o.breakpoints||[]){var Qe=window.matchMedia(ge);Qe.__media=ge,u.push(Qe),y.add(Qe,"change",z)}y.add(window,"orientationchange",ve),y.add(window,"resize",J),E()}function $(Le){n.animator.stop();var ge=n.track.details;n.track.init(Le??(ge?ge.abs:0))}function W(Le){$(Le),n.emit("optionsChanged")}function R(Le,ge){if(Le)return F(Le),void W(ge);Ve(),Te();var Qe=I();j(),I()!==Qe?W(ge):$(ge),n.emit("updated")}function j(){var Le=n.options.slides;if("function"==typeof Le)return n.options.trackConfig=Le(n.size,n.slides);for(var ge=n.slides,Oe="number"==typeof Le?Le:ni(Le,"number",ge.length,!0),Ne=[],He=ni(Le,"perView",1,!0),ie=ni(Le,"spacing",0,!0)/n.size||0,be="auto"===He?ie:ie/He,pe=ni(Le,"origin","auto"),he=0,Me=0;Me<Oe;Me++){var Se="auto"===He?P(ge[Me]):1/He-ie+be;Ne.push({origin:"center"===pe?.5-Se/2:"auto"===pe?0:pe,size:Se,spacing:ie}),he+=Se}if(he+=ie*(Oe-1),"auto"===pe&&!n.options.loop&&1!==He){var P1=0;Ne.map(function(Q1){var b1=he-P1;return P1+=Q1.size+ie,b1>=1||(Q1.origin=1-b1-(he>1?0:1-he)),Q1})}n.options.trackConfig=Ne}function J(){Ve();var Le=n.size;n.options.disabled||Le===r||(r=Le,R())}function ve(){J(),setTimeout(J,500),setTimeout(J,2e3)}function Ve(){var Le=bT(n.container);n.size=(n.options.vertical?Le.height:Le.width)||1}function Te(){n.slides=z9(n.options.selector,n.container)}n.container=(p=z9(t,document)).length?p[0]:null,n.destroy=function(){y.purge(),n.emit("destroyed"),w(!0)},n.prev=function(){n.moveToIdx(n.track.details.abs-1,!0)},n.next=function(){n.moveToIdx(n.track.details.abs+1,!0)},n.update=R,F(n.options)}}var MT=function(t,e,n){try{return i=e,r=vT([eve(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),Jge,Qge,Kge],n||[],!0),u={},o={emit:function(h){u[h]&&u[h].forEach(function(y){y(o)});var p=o.options&&o.options[h];p&&p(o)},moveToIdx:function(h,p,y){var w=o.track.idxToDist(h,p);if(w){var z=o.options.defaultAnimation;o.animator.start([{distance:w,duration:ni(y||z,"duration",500),easing:ni(y||z,"easing",function(E){return 1+--E*E*E*E*E})}])}},on:function(h,p,y){void 0===y&&(y=!1),u[h]||(u[h]=[]);var w=u[h].indexOf(p);w>-1?y&&delete u[h][w]:y||u[h].push(p)},options:i},function(){if(o.track=function Yge(t){var e,n,i,r,o,u,h,p,y,w,z,E,P,I,F=1/0,$=[],W=null,R=0;function j(ie){Ne(R+ie)}function J(ie){var be=ve(R+ie).abs;return Le(be)?be:null}function ve(ie){var be=Math.floor(Math.abs(Hr(ie/n))),pe=Hr((ie%n+n)%n);pe===n&&(pe=0);var he=m4(ie),Me=h.indexOf(vT([],h,!0).reduce(function(c1,P1){return Math.abs(P1-pe)<Math.abs(c1-pe)?P1:c1})),Se=Me;return he<0&&be++,Me===u&&(Se=0,be+=he>0?1:-1),{abs:Se+be*u*he,origin:Me,rel:Se}}function Ve(ie,be,pe){var he;if(be||!Qe())return Te(ie,pe);if(!Le(ie))return null;var Me=ve(pe??R),c1=ie-Me.rel,P1=Me.abs+c1;he=Te(P1);var Q1=Te(P1-u*m4(c1));return(null!==Q1&&Math.abs(Q1)<Math.abs(he)||null===he)&&(he=Q1),Hr(he)}function Te(ie,be){if(null==be&&(be=Hr(R)),!Le(ie)||null===ie)return null;ie=Math.round(ie);var pe=ve(be),he=pe.abs,Me=pe.rel,Se=pe.origin,c1=Oe(ie),P1=(be%n+n)%n,Q1=h[Se],b1=Math.floor((ie-(he-Me))/u)*n;return Hr(Q1-P1-Q1+h[c1]+b1+(Se===u?n:0))}function Le(ie){return ge(ie)===ie}function ge(ie){return im(ie,y,w)}function Qe(){return r.loop}function Oe(ie){return(ie%u+u)%u}function Ne(ie){$.push({distance:ie-R,timestamp:CT()}),$.length>6&&($=$.slice(-6)),R=Hr(ie);var pe=He().abs;if(pe!==W){var he=null!==W;W=pe,he&&t.emit("slideChanged")}}function He(ie){var be=ie?null:function(){if(u){var pe=Qe(),he=pe?(R%n+n)%n:R,Me=(pe?R%n:R)-o[0][2],Se=0-(Me<0&&pe?n-Math.abs(Me):Me),c1=0,P1=ve(R),Q1=P1.abs,b1=P1.rel,$1=o[b1][2],An=o.map(function(cn,bt){var ct=Se+c1;(ct<0-cn[0]||ct>1)&&(ct+=(Math.abs(ct)>n-1&&pe?n:0)*m4(-ct));var l3=bt-b1,na=m4(l3),Tr=l3+Q1;pe&&(-1===na&&ct>$1&&(Tr+=u),1===na&&ct<$1&&(Tr-=u),null!==z&&Tr<z&&(ct+=n),null!==E&&Tr>E&&(ct-=n));var y6=ct+cn[0]+cn[1],s0=Math.max(ct>=0&&y6<=1?1:y6<0||ct>1?0:ct<0?Math.min(1,(cn[0]+ct)/cn[0]):(1-ct)/cn[0],0);return c1+=cn[0]+cn[1],{abs:Tr,distance:r.rtl?-1*ct+1-cn[0]:ct,portion:s0,size:cn[0]}});return Q1=ge(Q1),b1=Oe(Q1),{abs:ge(Q1),length:i,max:I,maxIdx:w,min:P,minIdx:y,position:R,progress:pe?he/n:R/i,rel:b1,slides:An,slidesLength:n}}}();return e.details=be,t.emit("detailsChanged"),be}return e={absToRel:Oe,add:j,details:null,distToIdx:J,idxToDist:Ve,init:function(ie){if(function(){if(o=((r=t.options).trackConfig||[]).map(function(Me){return[ni(Me,"size",1),ni(Me,"spacing",0),ni(Me,"origin",0)]}),u=o.length){n=Hr(o.reduce(function(Me,Se){return Me+Se[0]+Se[1]},0));var pe,he=u-1;i=Hr(n+o[0][2]-o[he][0]-o[he][2]-o[he][1]),h=o.reduce(function(Me,Se){if(!Me)return[0];var c1=o[Me.length-1],P1=Me[Me.length-1]+(c1[0]+c1[2])+c1[1];return Me[Me.length-1]>(P1-=Se[2])&&(P1=Me[Me.length-1]),P1=Hr(P1),Me.push(P1),(!pe||pe<P1)&&(p=Me.length-1),pe=P1,Me},null),0===i&&(p=0),h.push(Hr(n))}}(),!u)return He(!0);var be;(function(){var pe=t.options.range,he=t.options.loop;z=y=he?ni(he,"min",-1/0):0,E=w=he?ni(he,"max",F):p;var Me=ni(pe,"min",null),Se=ni(pe,"max",null);null!==Me&&(y=Me),null!==Se&&(w=Se),P=y===-1/0?y:t.track.idxToDist(y||0,!0,0),I=w===F?w:Ve(w,!0,0),null===Se&&(E=w),ni(pe,"align",!1)&&w!==F&&0===o[Oe(w)][2]&&(I-=1-o[Oe(w)][0],w=J(I-R)),P=Hr(P),I=Hr(I)})(),be=ie,Number(be)===be?j(Te(ge(ie))):He()},to:Ne,velocity:function(){var ie=CT(),be=$.reduce(function(pe,he){var Me=he.distance,Se=he.timestamp;return ie-Se>200||(m4(Me)!==m4(pe.distance)&&pe.distance&&(pe={distance:0,lastTimestamp:0,time:0}),pe.time&&(pe.distance+=Me),pe.lastTimestamp&&(pe.time+=Se-pe.lastTimestamp),pe.lastTimestamp=Se),pe},{distance:0,lastTimestamp:0,time:0});return be.distance/be.time||0}}}(o),o.animator=function Xge(t){var e,n,i,r,o,u;function h(E){u||(u=E),p(!0);var P=E-u;P>i&&(P=i);var I=r[n];if(I[3]<P)return n++,h(E);var $=I[4],W=I[0],R=I[1]*(0,I[5])(0===$?1:(P-I[2])/$);if(R&&t.track.to(W+R),P<i)return w();u=null,p(!1),y(null),t.emit("animationEnded")}function p(E){e.active=E}function y(E){e.targetIdx=E}function w(){o=window.requestAnimationFrame(h)}function z(){window.cancelAnimationFrame(o),p(!1),y(null),u&&t.emit("animationStopped"),u=null}return e={active:!1,start:function(E){if(z(),t.track.details){var P=0,I=t.track.details.position;n=0,i=0,r=E.map(function(F){var $,W=Number(I),R=null!==($=F.earlyExit)&&void 0!==$?$:F.duration,j=F.easing,J=F.distance*j(R/F.duration)||0;return I+=J,P+=J,[W,F.distance,i,i+=R,F.duration,j]}),y(t.track.distToIdx(P)),w(),t.emit("animationStarted")}},stop:z,targetIdx:null}}(o),r)for(var h=0,p=r;h<p.length;h++)(0,p[h])(o);o.track.init(o.options.initial||0),o.emit("created")}(),o}catch(i){console.error(i)}var i,r,o,u};const tve=["slidersContainer"];function nve(t,e){if(1&t){const n=Qf();we(0,"button",15),b3("click",function(){const o=xs(n).index;return T6(Vc().slider.moveToIdx(o))}),Pe()}2&t&&e1("ngClass",e.index==Vc().currentSlide?"bg-color-primary-yellow":"bg-color-gray")}const ive=function(){return["clearAnimation","opacity"]};let rve=(()=>{var t;class e{constructor(){this.dots=[],this.currentSlide=1}ngAfterViewInit(){setTimeout(()=>{this.slider=new MT(this.sliderContainer.nativeElement,{loop:!0,breakpoints:{"(min-width: 320px)":{slides:{perView:2,spacing:40}},"(min-width: 480px)":{slides:{perView:3,spacing:60}},"(min-width: 640px)":{slides:{perView:4,spacing:80}},"(min-width: 992px)":{slides:{perView:6,spacing:120}}},initial:this.currentSlide,slideChanged:i=>{this.currentSlide=i.track.details.rel}},[i=>{let r,o=!1;function u(){clearTimeout(r)}function h(){clearTimeout(r),!o&&(r=setTimeout(()=>{i.next()},5e3))}i.on("created",()=>{i.container.addEventListener("mouseover",()=>{o=!0,u()}),i.container.addEventListener("mouseout",()=>{o=!1,h()}),h()}),i.on("dragStarted",u),i.on("animationEnded",h),i.on("updated",h)}]),this.dots=[...Array(this.slider.track.details.slides.length).keys()]})}ngOnDestroy(){this.slider&&this.slider.destroy()}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-clients-swipper"]],viewQuery:function(i,r){if(1&i&&C7(tve,5),2&i){let o;E8(o=T8())&&(r.sliderContainer=o.first)}},decls:22,vars:3,consts:[["id","clients"],["appLoadingItem","",1,"container","zoomOut","opacityClear",3,"animationsClass"],[1,"slidersContainer","keen-slider"],["slidersContainer",""],[1,"slideContainer","keen-slider__slide"],["alt","client-1","src","assets/imgs/clients/client-1.png"],["alt","client-2","src","assets/imgs/clients/client-2.png"],["alt","client-3","src","assets/imgs/clients/client-3.png"],["alt","client-4","src","assets/imgs/clients/client-4.png"],["alt","client-5","src","assets/imgs/clients/client-5.png"],["alt","client-6","src","assets/imgs/clients/client-6.png"],["alt","client-7","src","assets/imgs/clients/client-7.png"],["alt","client-8","src","assets/imgs/clients/client-8.png"],[1,"dotsContainer"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1)(2,"div",2,3)(4,"div",4),d1(5,"img",5),Pe(),we(6,"div",4),d1(7,"img",6),Pe(),we(8,"div",4),d1(9,"img",7),Pe(),we(10,"div",4),d1(11,"img",8),Pe(),we(12,"div",4),d1(13,"img",9),Pe(),we(14,"div",4),d1(15,"img",10),Pe(),we(16,"div",4),d1(17,"img",11),Pe(),we(18,"div",4),d1(19,"img",12),Pe()(),we(20,"div",13),u7(21,nve,1,1,"button",14),Pe()()()),2&i&&(n1(1),e1("animationsClass",V2(2,ive)),n1(20),e1("ngForOf",r.dots))},dependencies:[R7,sd,p4],styles:["section#clients[_ngcontent-%COMP%]{padding-block:40px 70px}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .slidersContainer[_ngcontent-%COMP%]   .slideContainer[_ngcontent-%COMP%]{display:flex;align-items:center}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .slidersContainer[_ngcontent-%COMP%]   .slideContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:auto;height:auto;max-width:100%;max-height:100%;filter:grayscale(1);opacity:.5;transition:.3s;transition-property:filter opacity}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .slidersContainer[_ngcontent-%COMP%]   .slideContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{filter:none;opacity:1}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px}section#clients[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;display:block;width:12px;height:12px;border-radius:50%;border:none}"]}),e})();const ave=["slidersContainer"];function sve(t,e){if(1&t){const n=Qf();we(0,"button",17),b3("click",function(){const o=xs(n).index;return T6(Vc().slider.moveToIdx(o))}),Pe()}if(2&t){const n=e.index;e1("ngClass",Vc().currentSlide==n?"bg-color-primary-yellow active":"bg-color-transparent-white-primary")}}const ove=function(){return["opacity","clearAnimation"]};let cve=(()=>{var t;class e{constructor(){this.dots=[],this.currentSlide=1}ngAfterViewInit(){setTimeout(()=>{this.slider=new MT(this.sliderContainer.nativeElement,{loop:!0,initial:this.currentSlide,slideChanged:i=>{this.currentSlide=i.track.details.rel}},[i=>{let r,o=!1;function u(){clearTimeout(r)}function h(){clearTimeout(r),!o&&(r=setTimeout(()=>{i.next()},5e3))}i.on("created",()=>{i.container.addEventListener("mouseover",()=>{o=!0,u()}),i.container.addEventListener("mouseout",()=>{o=!1,h()}),h()}),i.on("dragStarted",u),i.on("animationEnded",h),i.on("updated",h)}]),this.dots=[...Array(this.slider.track.details.slides.length).keys()]})}ngOnDestroy(){this.slider&&this.slider.destroy()}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-testimonials-swipper"]],viewQuery:function(i,r){if(1&i&&C7(ave,5),2&i){let o;E8(o=T8())&&(r.sliderContainer=o.first)}},decls:66,vars:4,consts:[["id","testimonials"],["appLoadingItem","",1,"container","fadeUp","zoomOut","opacityClear",3,"rootMargin","animationsClass"],[1,"keen-slider","sliderContainer"],["slidersContainer",""],[1,"keen-slider__slide","testimonials-item","sliderItem","text-color-primary-white"],[1,"userInfoContainer"],[1,"imgContainer","border-color-transparent-white-primary"],["src","assets/imgs/testimonials/testimonials-1.jpg","alt","testimonials-1"],[1,"titleContainer"],[1,"msgContainer","text-color-secondery-white"],[1,"before-text-color-secondery-white","after-text-color-secondery-white"],["src","assets/imgs/testimonials/testimonials-2.jpg","alt","testimonials-2"],["src","assets/imgs/testimonials/testimonials-3.jpg","alt","testimonials-3"],["src","assets/imgs/testimonials/testimonials-4.jpg","alt","testimonials-4"],["src","assets/imgs/testimonials/testimonials-5.jpg","alt","testimonials-5"],[1,"dotsContainer"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dot",3,"ngClass","click"]],template:function(i,r){1&i&&(we(0,"section",0)(1,"div",1)(2,"div",2,3)(4,"div",4)(5,"div",5)(6,"div",6),d1(7,"img",7),Pe(),we(8,"div",8)(9,"h3"),Ye(10,"saul goodman"),Pe(),we(11,"p"),Ye(12,"ceo & founder"),Pe()()(),we(13,"div",9)(14,"p",10),Ye(15,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),Pe()()(),we(16,"div",4)(17,"div",5)(18,"div",6),d1(19,"img",11),Pe(),we(20,"div",8)(21,"h3"),Ye(22,"saul goodman"),Pe(),we(23,"p"),Ye(24,"ceo & founder"),Pe()()(),we(25,"div",9)(26,"p",10),Ye(27,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),Pe()()(),we(28,"div",4)(29,"div",5)(30,"div",6),d1(31,"img",12),Pe(),we(32,"div",8)(33,"h3"),Ye(34,"saul goodman"),Pe(),we(35,"p"),Ye(36,"ceo & founder"),Pe()()(),we(37,"div",9)(38,"p",10),Ye(39,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),Pe()()(),we(40,"div",4)(41,"div",5)(42,"div",6),d1(43,"img",13),Pe(),we(44,"div",8)(45,"h3"),Ye(46,"saul goodman"),Pe(),we(47,"p"),Ye(48,"ceo & founder"),Pe()()(),we(49,"div",9)(50,"p",10),Ye(51,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),Pe()()(),we(52,"div",4)(53,"div",5)(54,"div",6),d1(55,"img",14),Pe(),we(56,"div",8)(57,"h3"),Ye(58,"saul goodman"),Pe(),we(59,"p"),Ye(60,"ceo & founder"),Pe()()(),we(61,"div",9)(62,"p",10),Ye(63,"Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper."),Pe()()()(),we(64,"div",15),u7(65,sve,1,1,"button",16),Pe()()()),2&i&&(n1(1),e1("rootMargin",-100)("animationsClass",V2(3,ove)),n1(64),e1("ngForOf",r.dots))},dependencies:[R7,sd,p4],styles:['section#testimonials[_ngcontent-%COMP%]{background:url(testimonials-bg.faada32349dedc98.jpg);background-position:center;background-attachment:fixed;position:relative;background-size:cover;padding-block:90px 100px}section#testimonials[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000000b3}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;transform-origin:bottom center}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;border-width:6px;border-style:solid;overflow:hidden}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .titleContainer[_ngcontent-%COMP%]{text-align:center;text-transform:capitalize}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .titleContainer[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .userInfoContainer[_ngcontent-%COMP%]   .titleContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;margin-top:5px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]{text-align:center;font-family:Open Sans,sans-serif;font-style:italic;line-height:2}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto;width:80%;position:relative}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before, section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{font-family:FontAwesome;position:relative;font-size:1.4rem}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\\f10d";bottom:8px;margin-right:8px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .sliderContainer[_ngcontent-%COMP%]   .sliderItem[_ngcontent-%COMP%]   .msgContainer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:after{content:"\\f10e";top:8px;margin-left:8px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:30px}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;display:block;width:12px;height:12px;border-radius:50%;border:none;opacity:.5}section#testimonials[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dotsContainer[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{opacity:1}']}),e})(),lve=(()=>{var t;class e{constructor(){this.title="gp"}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["app-root"]],decls:13,vars:0,template:function(i,r){1&i&&(d1(0,"app-header")(1,"app-hero"),we(2,"main"),d1(3,"app-about")(4,"app-features")(5,"app-clients-swipper")(6,"app-services")(7,"app-cta")(8,"app-counts")(9,"app-testimonials-swipper")(10,"app-team")(11,"app-contact"),Pe(),d1(12,"app-footer"))},dependencies:[Zle,Yle,Kle,Qle,Jle,t7e,i7e,Oge,jge,Zge,rve,cve]}),e})();function wT(t){return new $e(3e3,!1)}function Ys(t){switch(t.length){case 0:return new i5;case 1:return t[0];default:return new mT(t)}}function zT(t,e,n=new Map,i=new Map){const r=[],o=[];let u=-1,h=null;if(e.forEach(p=>{const y=p.get("offset"),w=y==u,z=w&&h||new Map;p.forEach((E,P)=>{let I=P,F=E;if("offset"!==P)switch(I=t.normalizePropertyName(I,r),F){case"!":F=n.get(P);break;case ja:F=i.get(P);break;default:F=t.normalizeStyleValue(P,I,F,r)}z.set(I,F)}),w||o.push(z),h=z,u=y}),r.length)throw function Pve(t){return new $e(3502,!1)}();return o}function rm(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&am(n,"start",t)));break;case"done":t.onDone(()=>i(n&&am(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&am(n,"destroy",t)))}}function am(t,e,n){const o=sm(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),u=t._data;return null!=u&&(o._data=u),o}function sm(t,e,n,i,r="",o=0,u){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Zi(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function ST(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const jve=(()=>typeof document>"u"?null:document.documentElement)();function om(t){const e=t.parentNode||t.host||null;return e===jve?null:e}let c6=null,HT=!1;function LT(t,e){for(;e;){if(e===t)return!0;e=om(e)}return!1}function VT(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const i=t.querySelector(e);return i?[i]:[]}let ET=(()=>{var t;class e{validateStyleProperty(i){return function Gve(t){c6||(c6=function Wve(){return typeof document<"u"?document.body:null}()||{},HT=!!c6.style&&"WebkitAppearance"in c6.style);let e=!0;return c6.style&&!function qve(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in c6.style,!e&&HT&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in c6.style)),e}(i)}matchesElement(i,r){return!1}containsElement(i,r){return LT(i,r)}getParentElement(i){return om(i)}query(i,r,o){return VT(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,u,h,p=[],y){return new i5(o,u)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})(),cm=(()=>{class e{}return e.NOOP=new ET,e})();const Zve=1e3,lm="ng-enter",S9="ng-leave",H9="ng-trigger",L9=".ng-trigger",PT="ng-animating",um=".ng-animating";function qa(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fm(parseFloat(e[1]),e[2])}function fm(t,e){return"s"===e?t*Zve:t}function V9(t,e,n){return t.hasOwnProperty("duration")?t:function Yve(t,e,n){let r,o=0,u="";if("string"==typeof t){const h=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(wT()),{duration:0,delay:0,easing:""};r=fm(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(o=fm(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else r=t;if(!n){let h=!1,p=e.length;r<0&&(e.push(function uve(){return new $e(3100,!1)}()),h=!0),o<0&&(e.push(function fve(){return new $e(3101,!1)}()),h=!0),h&&e.splice(p,0,wT())}return{duration:r,delay:o,easing:u}}(t,e,n)}function s5(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function DT(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Ks(t,e=new Map,n){if(n)for(let[i,r]of n)e.set(i,r);for(let[i,r]of t)e.set(i,r);return e}function J4(t,e,n){e.forEach((i,r)=>{const o=dm(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function l6(t,e){e.forEach((n,i)=>{const r=dm(i);t.style[r]=""})}function o5(t){return Array.isArray(t)?1==t.length?t[0]:dT(t):t}const hm=new RegExp("{{\\s*(.+?)\\s*}}","g");function IT(t){let e=[];if("string"==typeof t){let n;for(;n=hm.exec(t);)e.push(n[1]);hm.lastIndex=0}return e}function c5(t,e,n){const i=t.toString(),r=i.replace(hm,(o,u)=>{let h=e[u];return null==h&&(n.push(function dve(t){return new $e(3003,!1)}()),h=""),h.toString()});return r==i?t:r}function E9(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Jve=/-+([a-z0-9])/g;function dm(t){return t.replace(Jve,(...e)=>e[1].toUpperCase())}function Xi(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function pve(t){return new $e(3004,!1)}()}}function kT(t,e){return window.getComputedStyle(t)[e]}const T9="*";function nye(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function iye(t,e,n){if(":"==t[0]){const p=function rye(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(function Lve(t){return new $e(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof p)return void e.push(p);t=p}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function Hve(t){return new $e(3015,!1)}()),e;const r=i[1],o=i[2],u=i[3];e.push(NT(r,u));"<"==o[0]&&!(r==T9&&u==T9)&&e.push(NT(u,r))}(i,n,e)):n.push(t),n}const P9=new Set(["true","1"]),D9=new Set(["false","0"]);function NT(t,e){const n=P9.has(t)||D9.has(t),i=P9.has(e)||D9.has(e);return(r,o)=>{let u=t==T9||t==r,h=e==T9||e==o;return!u&&n&&"boolean"==typeof r&&(u=r?P9.has(t):D9.has(t)),!h&&i&&"boolean"==typeof o&&(h=o?P9.has(e):D9.has(e)),u&&h}}const aye=new RegExp("s*:selfs*,?","g");function pm(t,e,n,i){return new sye(t).build(e,n,i)}class sye{constructor(e){this._driver=e}build(e,n,i){const r=new lye(n);return this._resetContextStyleTimingState(r),Xi(this,o5(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&n.errors.push(function gve(){return new $e(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(n),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,o.push(this.visitState(p,n))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,n);i+=p.queryCount,r+=p.depCount,u.push(p)}else n.errors.push(function vve(){return new $e(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,n){const i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{IT(p).forEach(y=>{u.hasOwnProperty(y)||o.add(y)})})}),o.size&&(E9(o.values()),n.errors.push(function yve(t,e){return new $e(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const i=Xi(this,o5(e.animation),n);return{type:1,matchers:nye(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:u6(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(i=>Xi(this,i,n)),options:u6(e.options)}}visitGroup(e,n){const i=n.currentTime;let r=0;const o=e.steps.map(u=>{n.currentTime=i;const h=Xi(this,u,n);return r=Math.max(r,n.currentTime),h});return n.currentTime=r,{type:3,steps:o,options:u6(e.options)}}visitAnimate(e,n){const i=function fye(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return mm(V9(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=mm(0,0,"");return o.dynamic=!0,o.strValue=n,o}const r=V9(n,e);return mm(r.duration,r.delay,r.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:$c({});if(5==o.type)r=this.visitKeyframes(o,n);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=$c(y)}n.currentTime+=i.duration+i.delay;const p=this.visitStyle(u,n);p.isEmptyStep=h,r=p}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,n){const i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===ja?i.push(h):n.errors.push(new $e(3002,!1)):i.push(DT(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let p of h.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){const i=n.currentAnimateTimings;let r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,p)=>{const y=n.collectedStyles.get(n.currentQuerySelector),w=y.get(p);let z=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(n.errors.push(function Cve(t,e,n,i,r){return new $e(3010,!1)}()),z=!1),o=w.startTime),z&&y.set(p,{startTime:o,endTime:r}),n.options&&function Qve(t,e,n){const i=e.params||{},r=IT(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(function hve(t){return new $e(3001,!1)}())})}(h,n.options,n.errors)})})}visitKeyframes(e,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function xve(){return new $e(3011,!1)}()),i;let o=0;const u=[];let h=!1,p=!1,y=0;const w=e.steps.map(W=>{const R=this._makeStyleAst(W,n);let j=null!=R.offset?R.offset:function uye(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(R.styles),J=0;return null!=j&&(o++,J=R.offset=j),p=p||J<0||J>1,h=h||J<y,y=J,u.push(J),R});p&&n.errors.push(function bve(){return new $e(3012,!1)}()),h&&n.errors.push(function Mve(){return new $e(3200,!1)}());const z=e.steps.length;let E=0;o>0&&o<z?n.errors.push(function wve(){return new $e(3202,!1)}()):0==o&&(E=1/(z-1));const P=z-1,I=n.currentTime,F=n.currentAnimateTimings,$=F.duration;return w.forEach((W,R)=>{const j=E>0?R==P?1:E*R:u[R],J=j*$;n.currentTime=I+F.delay+J,F.duration=J,this._validateStyleAst(W,n),W.offset=j,i.styles.push(W)}),i}visitReference(e,n){return{type:8,animation:Xi(this,o5(e.animation),n),options:u6(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:u6(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:u6(e.options)}}visitQuery(e,n){const i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;const[o,u]=function oye(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(aye,"")),t=t.replace(/@\*/g,L9).replace(/@\w+/g,n=>L9+"-"+n.slice(1)).replace(/:animating/g,um),[t,e]}(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Zi(n.collectedStyles,n.currentQuerySelector,new Map);const h=Xi(this,o5(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:u6(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function zve(){return new $e(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:V9(e.timings,n.errors,!0);return{type:12,animation:Xi(this,o5(e.animation),n),timings:i,options:null}}}class lye{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function u6(t){return t?(t=s5(t)).params&&(t.params=function cye(t){return t?s5(t):null}(t.params)):t={},t}function mm(t,e,n){return{duration:t,delay:e,easing:n}}function gm(t,e,n,i,r,o,u=null,h=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class A9{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const pye=new RegExp(":enter","g"),gye=new RegExp(":leave","g");function vm(t,e,n,i,r,o=new Map,u=new Map,h,p,y=[]){return(new vye).buildKeyframes(t,e,n,i,r,o,u,h,p,y)}class vye{buildKeyframes(e,n,i,r,o,u,h,p,y,w=[]){y=y||new A9;const z=new ym(e,n,y,r,o,w,[]);z.options=p;const E=p.delay?qa(p.delay):0;z.currentTimeline.delayNextStep(E),z.currentTimeline.setStyles([u],null,z.errors,p),Xi(this,i,z);const P=z.timelines.filter(I=>I.containsAnimation());if(P.length&&h.size){let I;for(let F=P.length-1;F>=0;F--){const $=P[F];if($.element===n){I=$;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([h],null,z.errors,p)}return P.length?P.map(I=>I.buildKeyframes()):[gm(n,[],[],[],0,E,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&n.transformIntoNewTimeline(u)}n.previousNode=e}visitAnimateRef(e,n){const i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(const r of e){const o=r?.delay;if(o){const u="number"==typeof o?o:qa(c5(o,r?.params??{},n.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime;const u=null!=i.duration?qa(i.duration):null,h=null!=i.delay?qa(i.delay):null;return 0!==u&&e.forEach(p=>{const y=n.appendInstructionToTimeline(p,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Xi(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const i=n.subContextCount;let r=n;const o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=I9);const u=qa(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Xi(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const i=[];let r=n.currentTimeline.currentTime;const o=e.options&&e.options.delay?qa(e.options.delay):0;e.steps.forEach(u=>{const h=n.createSubContext(e.options);o&&h.delayNextStep(o),Xi(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>n.currentTimeline.mergeTimelineCollectedStyles(u)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const i=e.strValue;return V9(n.params?c5(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,h=n.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*o),h.setStyles(p.styles,p.easing,n.errors,n.options),h.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(h),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){const i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?qa(r.delay):0;o&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=I9);let u=i;const h=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=h.length;let p=null;h.forEach((y,w)=>{n.currentQueryIndex=w;const z=n.createSubContext(e.options,y);o&&z.delayNextStep(o),y===n.element&&(p=z.currentTimeline),Xi(this,e.animation,z),z.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,z.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(u),p&&(n.currentTimeline.mergeTimelineCollectedStyles(p),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const i=n.parentContext,r=n.currentTimeline,o=e.timings,u=Math.abs(o.duration),h=u*(n.currentQueryTotal-1);let p=u*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const w=n.currentTimeline;p&&w.delayNextStep(p);const z=w.currentTime;Xi(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-z+(r.startTime-i.currentTimeline.startTime)}}const I9={};class ym{constructor(e,n,i,r,o,u,h,p){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=I9,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new k9(this._driver,n,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=qa(i.duration)),null!=i.delay&&(r.delay=qa(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!n||!u.hasOwnProperty(h))&&(u[h]=c5(o[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){const r=n||this.element,o=new ym(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=I9,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){const r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new yye(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(pye,"."+this._enterClassName)).replace(gye,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&u.push(function Sve(t){return new $e(3014,!1)}()),h}}class k9{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new k9(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||ja),this._currentKeyframe.set(n,ja);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);const o=r&&r.params||{},u=function _ye(t,e){const n=new Map;let i;return t.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)n.set(o,ja)}else Ks(r,n)}),n}(e,this._globalTimelineStyles);for(let[h,p]of u){const y=c5(p,o,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ja),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=Ks(h,new Map,this._backFill);y.forEach((w,z)=>{"!"===w?e.add(z):w===ja&&n.add(z)}),i||y.set("offset",p/this.duration),r.push(y)});const o=e.size?E9(e.values()):[],u=n.size?E9(n.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return gm(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class yye extends k9{constructor(e,n,i,r,o,u,h=!1){super(e,n,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const o=[],u=i+n,h=n/u,p=Ks(e[0]);p.set("offset",0),o.push(p);const y=Ks(e[0]);y.set("offset",FT(h)),o.push(y);const w=e.length-1;for(let z=1;z<=w;z++){let E=Ks(e[z]);const P=E.get("offset");E.set("offset",FT((n+P*i)/u)),o.push(E)}i=u,n=0,r="",e=o}return gm(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function FT(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class _m{}const Cye=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xye extends _m{normalizePropertyName(e,n){return dm(e)}normalizeStyleValue(e,n,i,r){let o="";const u=i.toString().trim();if(Cye.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function mve(t,e){return new $e(3005,!1)}())}return u+o}}function BT(t,e,n,i,r,o,u,h,p,y,w,z,E){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:w,totalTime:z,errors:E}}const Cm={};class UT{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return function bye(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,u,h,p,y,w){const z=[],E=this.ast.options&&this.ast.options.params||Cm,I=this.buildStyles(i,h&&h.params||Cm,z),F=p&&p.params||Cm,$=this.buildStyles(r,F,z),W=new Set,R=new Map,j=new Map,J="void"===r,ve={params:Mye(F,E),delay:this.ast.options?.delay},Ve=w?[]:vm(e,n,this.ast.animation,o,u,I,$,ve,y,z);let Te=0;if(Ve.forEach(ge=>{Te=Math.max(ge.duration+ge.delay,Te)}),z.length)return BT(n,this._triggerName,i,r,J,I,$,[],[],R,j,Te,z);Ve.forEach(ge=>{const Qe=ge.element,Oe=Zi(R,Qe,new Set);ge.preStyleProps.forEach(He=>Oe.add(He));const Ne=Zi(j,Qe,new Set);ge.postStyleProps.forEach(He=>Ne.add(He)),Qe!==n&&W.add(Qe)});const Le=E9(W.values());return BT(n,this._triggerName,i,r,J,I,$,Ve,Le,R,j,Te)}}function Mye(t,e){const n=s5(e);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(n[i]=t[i]);return n}class wye{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){const i=new Map,r=s5(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=c5(u,r,n));const p=this.normalizer.normalizePropertyName(h,n);u=this.normalizer.normalizeStyleValue(h,p,u,n),i.set(h,u)})}),i}}class Sye{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new wye(r.style,r.options&&r.options.params||{},i))}),$T(this.states,"true","1"),$T(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new UT(e,r,this.states))}),this.fallbackTransition=function Hye(t,e,n){return new UT(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(u=>u.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}function $T(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const Lye=new A9;class Vye{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const i=[],o=pm(this._driver,n,i,[]);if(i.length)throw function Dve(t){return new $e(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,n,i){const r=e.element,o=zT(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){const r=[],o=this._animations.get(e);let u;const h=new Map;if(o?(u=vm(this._driver,n,o,lm,S9,new Map,new Map,i,Lye,r),u.forEach(w=>{const z=Zi(h,w.element,new Map);w.postStyleProps.forEach(E=>z.set(E,null))})):(r.push(function Ave(){return new $e(3300,!1)}()),u=[]),r.length)throw function Ive(t){return new $e(3504,!1)}();h.forEach((w,z)=>{w.forEach((E,P)=>{w.set(P,this._driver.computeStyle(z,P,ja))})});const y=Ys(u.map(w=>{const z=h.get(w.element);return this._buildPlayer(w,new Map,z)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function kve(t){return new $e(3301,!1)}();return n}listen(e,n,i,r){const o=sm(n,"","","");return rm(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,n,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const jT="ng-animate-queued",xm="ng-animate-disabled",Aye=[],qT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Iye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},g4="__ng_removed";class bm{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const i=e&&e.hasOwnProperty("value");if(this.value=function Rye(t){return t??null}(i?e.value:e),i){const o=s5(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const l5="void",Mm=new bm(l5);class kye{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Lr(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw function Nve(t,e){return new $e(3302,!1)}();if(null==i||0==i.length)throw function Ove(t){return new $e(3303,!1)}();if(!function Fye(t){return"start"==t||"done"==t}(i))throw function Rve(t,e){return new $e(3400,!1)}();const o=Zi(this._elementListeners,e,[]),u={name:n,phase:i,callback:r};o.push(u);const h=Zi(this._engine.statesByElement,e,new Map);return h.has(n)||(Lr(e,H9),Lr(e,H9+"-"+n),h.set(n,Mm)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(u);p>=0&&o.splice(p,1),this._triggers.has(n)||h.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function Fve(t){return new $e(3401,!1)}();return n}trigger(e,n,i,r=!0){const o=this._getTrigger(n),u=new wm(this.id,n,e);let h=this._engine.statesByElement.get(e);h||(Lr(e,H9),Lr(e,H9+"-"+n),this._engine.statesByElement.set(e,h=new Map));let p=h.get(n);const y=new bm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h.set(n,y),p||(p=Mm),y.value!==l5&&p.value===y.value){if(!function $ye(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(p.params,y.params)){const F=[],$=o.matchStyles(p.value,p.params,F),W=o.matchStyles(y.value,y.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{l6(e,$),J4(e,W)})}return}const E=Zi(this._engine.playersByElement,e,[]);E.forEach(F=>{F.namespaceId==this.id&&F.triggerName==n&&F.queued&&F.destroy()});let P=o.matchTransition(p.value,y.value,e,y.params),I=!1;if(!P){if(!r)return;P=o.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:P,fromState:p,toState:y,player:u,isFallbackTransition:I}),I||(Lr(e,jT),u.onStart(()=>{qc(e,jT)})),u.onDone(()=>{let F=this.players.indexOf(u);F>=0&&this.players.splice(F,1);const $=this._engine.playersByElement.get(e);if($){let W=$.indexOf(u);W>=0&&$.splice(W,1)}}),this.players.push(u),E.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const i=this._engine.driver.query(e,L9,!0);i.forEach(r=>{if(r[g4])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const h=[];if(o.forEach((p,y)=>{if(u.set(y,p.value),this._triggers.has(y)){const w=this.trigger(e,y,l5,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,u),i&&Ys(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){const r=new Set;n.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const p=this._triggers.get(u).fallbackTransition,y=i.get(u)||Mm,w=new bm(l5),z=new wm(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:p,fromState:y,toState:w,player:z,isFallbackTransition:!0})})}}removeNode(e,n){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{const o=e[g4];(!o||o===qT)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Lr(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const p=sm(o,i.triggerName,i.fromState.value,i.toState.value);p._data=e,rm(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Nye{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){const i=new kye(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(n);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}return n}trigger(e,n,i,r){if(N9(n)){const o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!N9(n))return;const o=n[g4];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(n);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Lr(e,xm)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qc(e,xm))}removeNode(e,n,i){if(N9(n)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);const o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[g4]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return N9(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,L9,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,um,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ys(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[g4];if(n&&n.setForRemoval){if(e[g4]=qT,n.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(xm)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Lr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?Ys(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Bve(t){return new $e(3402,!1)}()}_flushAnimations(e,n){const i=new A9,r=[],o=new Map,u=[],h=new Map,p=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(pe=>{w.add(pe);const he=this.driver.query(pe,".ng-animate-queued",!0);for(let Me=0;Me<he.length;Me++)w.add(he[Me])});const z=this.bodyNode,E=Array.from(this.statesByElement.keys()),P=ZT(E,this.collectedEnterElements),I=new Map;let F=0;P.forEach((pe,he)=>{const Me=lm+F++;I.set(he,Me),pe.forEach(Se=>Lr(Se,Me))});const $=[],W=new Set,R=new Set;for(let pe=0;pe<this.collectedLeaveElements.length;pe++){const he=this.collectedLeaveElements[pe],Me=he[g4];Me&&Me.setForRemoval&&($.push(he),W.add(he),Me.hasAnimation?this.driver.query(he,".ng-star-inserted",!0).forEach(Se=>W.add(Se)):R.add(he))}const j=new Map,J=ZT(E,Array.from(W));J.forEach((pe,he)=>{const Me=S9+F++;j.set(he,Me),pe.forEach(Se=>Lr(Se,Me))}),e.push(()=>{P.forEach((pe,he)=>{const Me=I.get(he);pe.forEach(Se=>qc(Se,Me))}),J.forEach((pe,he)=>{const Me=j.get(he);pe.forEach(Se=>qc(Se,Me))}),$.forEach(pe=>{this.processLeaveNode(pe)})});const ve=[],Ve=[];for(let pe=this._namespaceList.length-1;pe>=0;pe--)this._namespaceList[pe].drainQueuedTransitions(n).forEach(Me=>{const Se=Me.player,c1=Me.element;if(ve.push(Se),this.collectedEnterElements.length){const bt=c1[g4];if(bt&&bt.setForMove){if(bt.previousTriggersValues&&bt.previousTriggersValues.has(Me.triggerName)){const ct=bt.previousTriggersValues.get(Me.triggerName),l3=this.statesByElement.get(Me.element);if(l3&&l3.has(Me.triggerName)){const na=l3.get(Me.triggerName);na.value=ct,l3.set(Me.triggerName,na)}}return void Se.destroy()}}const P1=!z||!this.driver.containsElement(z,c1),Q1=j.get(c1),b1=I.get(c1),$1=this._buildInstruction(Me,i,b1,Q1,P1);if($1.errors&&$1.errors.length)return void Ve.push($1);if(P1)return Se.onStart(()=>l6(c1,$1.fromStyles)),Se.onDestroy(()=>J4(c1,$1.toStyles)),void r.push(Se);if(Me.isFallbackTransition)return Se.onStart(()=>l6(c1,$1.fromStyles)),Se.onDestroy(()=>J4(c1,$1.toStyles)),void r.push(Se);const An=[];$1.timelines.forEach(bt=>{bt.stretchStartingKeyframe=!0,this.disabledNodes.has(bt.element)||An.push(bt)}),$1.timelines=An,i.append(c1,$1.timelines),u.push({instruction:$1,player:Se,element:c1}),$1.queriedElements.forEach(bt=>Zi(h,bt,[]).push(Se)),$1.preStyleProps.forEach((bt,ct)=>{if(bt.size){let l3=p.get(ct);l3||p.set(ct,l3=new Set),bt.forEach((na,Tr)=>l3.add(Tr))}}),$1.postStyleProps.forEach((bt,ct)=>{let l3=y.get(ct);l3||y.set(ct,l3=new Set),bt.forEach((na,Tr)=>l3.add(Tr))})});if(Ve.length){const pe=[];Ve.forEach(he=>{pe.push(function Uve(t,e){return new $e(3505,!1)}())}),ve.forEach(he=>he.destroy()),this.reportError(pe)}const Te=new Map,Le=new Map;u.forEach(pe=>{const he=pe.element;i.has(he)&&(Le.set(he,he),this._beforeAnimationBuild(pe.player.namespaceId,pe.instruction,Te))}),r.forEach(pe=>{const he=pe.element;this._getPreviousPlayers(he,!1,pe.namespaceId,pe.triggerName,null).forEach(Se=>{Zi(Te,he,[]).push(Se),Se.destroy()})});const ge=$.filter(pe=>YT(pe,p,y)),Qe=new Map;WT(Qe,this.driver,R,y,ja).forEach(pe=>{YT(pe,p,y)&&ge.push(pe)});const Ne=new Map;P.forEach((pe,he)=>{WT(Ne,this.driver,new Set(pe),p,"!")}),ge.forEach(pe=>{const he=Qe.get(pe),Me=Ne.get(pe);Qe.set(pe,new Map([...he?.entries()??[],...Me?.entries()??[]]))});const He=[],ie=[],be={};u.forEach(pe=>{const{element:he,player:Me,instruction:Se}=pe;if(i.has(he)){if(w.has(he))return Me.onDestroy(()=>J4(he,Se.toStyles)),Me.disabled=!0,Me.overrideTotalTime(Se.totalTime),void r.push(Me);let c1=be;if(Le.size>1){let Q1=he;const b1=[];for(;Q1=Q1.parentNode;){const $1=Le.get(Q1);if($1){c1=$1;break}b1.push(Q1)}b1.forEach($1=>Le.set($1,c1))}const P1=this._buildAnimation(Me.namespaceId,Se,Te,o,Ne,Qe);if(Me.setRealPlayer(P1),c1===be)He.push(Me);else{const Q1=this.playersByElement.get(c1);Q1&&Q1.length&&(Me.parentPlayer=Ys(Q1)),r.push(Me)}}else l6(he,Se.fromStyles),Me.onDestroy(()=>J4(he,Se.toStyles)),ie.push(Me),w.has(he)&&r.push(Me)}),ie.forEach(pe=>{const he=o.get(pe.element);if(he&&he.length){const Me=Ys(he);pe.setRealPlayer(Me)}}),r.forEach(pe=>{pe.parentPlayer?pe.syncPlayerEvents(pe.parentPlayer):pe.destroy()});for(let pe=0;pe<$.length;pe++){const he=$[pe],Me=he[g4];if(qc(he,S9),Me&&Me.hasAnimation)continue;let Se=[];if(h.size){let P1=h.get(he);P1&&P1.length&&Se.push(...P1);let Q1=this.driver.query(he,um,!0);for(let b1=0;b1<Q1.length;b1++){let $1=h.get(Q1[b1]);$1&&$1.length&&Se.push(...$1)}}const c1=Se.filter(P1=>!P1.destroyed);c1.length?Bye(this,he,c1):this.processLeaveNode(he)}return $.length=0,He.forEach(pe=>{this.players.push(pe),pe.onDone(()=>{pe.destroy();const he=this.players.indexOf(pe);this.players.splice(he,1)}),pe.play()}),He}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let u=[];if(n){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const p=!o||o==l5;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,n,i){const o=n.element,u=n.isRemovalTransition?void 0:e,h=n.isRemovalTransition?void 0:n.triggerName;for(const p of n.timelines){const y=p.element,w=y!==o,z=Zi(i,y,[]);this._getPreviousPlayers(y,w,u,h,n.toState).forEach(P=>{const I=P.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),P.destroy(),z.push(P)})}l6(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,u){const h=n.triggerName,p=n.element,y=[],w=new Set,z=new Set,E=n.timelines.map(I=>{const F=I.element;w.add(F);const $=F[g4];if($&&$.removedBeforeQueried)return new i5(I.duration,I.delay);const W=F!==p,R=function Uye(t){const e=[];return XT(t,e),e}((i.get(F)||Aye).map(Te=>Te.getRealPlayer())).filter(Te=>!!Te.element&&Te.element===F),j=o.get(F),J=u.get(F),ve=zT(this._normalizer,I.keyframes,j,J),Ve=this._buildPlayer(I,ve,R);if(I.subTimeline&&r&&z.add(F),W){const Te=new wm(e,h,F);Te.setRealPlayer(Ve),y.push(Te)}return Ve});y.forEach(I=>{Zi(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>function Oye(t,e,n){let i=t.get(e);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}return i}(this.playersByQueriedElement,I.element,I))}),w.forEach(I=>Lr(I,PT));const P=Ys(E);return P.onDestroy(()=>{w.forEach(I=>qc(I,PT)),J4(p,n.toStyles)}),z.forEach(I=>{Zi(r,I,[]).push(P)}),P}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new i5(e.duration,e.delay)}}class wm{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new i5,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>rm(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Zi(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function N9(t){return t&&1===t.nodeType}function GT(t,e){const n=t.style.display;return t.style.display=e??"none",n}function WT(t,e,n,i,r){const o=[];n.forEach(p=>o.push(GT(p)));const u=[];i.forEach((p,y)=>{const w=new Map;p.forEach(z=>{const E=e.computeStyle(y,z,r);w.set(z,E),(!E||0==E.length)&&(y[g4]=Iye,u.push(y))}),t.set(y,w)});let h=0;return n.forEach(p=>GT(p,o[h++])),u}function ZT(t,e){const n=new Map;if(t.forEach(h=>n.set(h,[])),0==e.length)return n;const r=new Set(e),o=new Map;function u(h){if(!h)return 1;let p=o.get(h);if(p)return p;const y=h.parentNode;return p=n.has(y)?y:r.has(y)?1:u(y),o.set(h,p),p}return e.forEach(h=>{const p=u(h);1!==p&&n.get(p).push(h)}),n}function Lr(t,e){t.classList?.add(e)}function qc(t,e){t.classList?.remove(e)}function Bye(t,e,n){Ys(n).onDone(()=>t.processLeaveNode(e))}function XT(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof mT?XT(i.players,e):e.push(i)}}function YT(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}class O9{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Nye(e,n,i),this._timelineEngine=new Vye(e,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,i,r,o){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const p=[],w=pm(this._driver,o,p,[]);if(p.length)throw function Tve(t,e){return new $e(3404,!1)}();h=function zye(t,e,n){return new Sye(t,e,n)}(r,w,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(n,r,h)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if("@"==i.charAt(0)){const[o,u]=ST(i);this._timelineEngine.command(o,n,u,r)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if("@"==i.charAt(0)){const[u,h]=ST(i);return this._timelineEngine.listen(u,n,h,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let qye=(()=>{class e{constructor(i,r,o){this._element=i,this._startStyles=r,this._endStyles=o,this._state=0;let u=e.initialStylesByElement.get(i);u||e.initialStylesByElement.set(i,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&J4(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(J4(this._element,this._initialStyles),this._endStyles&&(J4(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(l6(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(l6(this._element,this._endStyles),this._endStyles=null),J4(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function zm(t){let e=null;return t.forEach((n,i)=>{(function Gye(t){return"display"===t||"position"===t})(i)&&(e=e||new Map,e.set(i,n))}),e}class KT{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:kT(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class Wye{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return LT(e,n)}getParentElement(e){return om(e)}query(e,n,i){return VT(e,n,i)}computeStyle(e,n,i){return window.getComputedStyle(e)[n]}animate(e,n,i,r,o,u=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const y=new Map,w=u.filter(P=>P instanceof KT);(function eye(t,e){return 0===t||0===e})(i,r)&&w.forEach(P=>{P.currentSnapshot.forEach((I,F)=>y.set(F,I))});let z=function Kve(t){return t.length?t[0]instanceof Map?t:t.map(e=>DT(e)):[]}(n).map(P=>Ks(P));z=function tye(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<e.length;o++){let u=e[o];r.forEach(h=>u.set(h,kT(t,h)))}}return e}(e,z,y);const E=function jye(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=zm(e[0]),e.length>1&&(i=zm(e[e.length-1]))):e instanceof Map&&(n=zm(e)),n||i?new qye(t,n,i):null}(e,z);return new KT(e,z,p,E)}}let Zye=(()=>{var t;class e extends fT{constructor(i,r){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(r.body,{id:"0",encapsulation:t3.None,styles:[],data:{animation:[]}})}build(i){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(i)?dT(i):i;return QT(this._renderer,null,r,"register",[o]),new Xye(r,this._renderer)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(h8),w1(Xn))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();class Xye extends Rge{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new Yye(this._id,e,n||{},this._renderer)}}class Yye{constructor(e,n,i,r){this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return QT(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function QT(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const JT="@.disabled";let Kye=(()=>{var t;class e{constructor(i,r,o){this.delegate=i,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(u,h)=>{const p=h?.parentNode(u);p&&h.removeChild(p,u)}}createRenderer(i,r){const u=this.delegate.createRenderer(i,r);if(!(i&&r&&r.data&&r.data.animation)){let z=this._rendererCache.get(u);return z||(z=new eP("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,z)),z}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,i);const y=z=>{Array.isArray(z)?z.forEach(y):this.engine.registerTrigger(h,p,i,z.name,z)};return r.data.animation.forEach(y),new Qye(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,r,o){i>=0&&i<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[h,p]=u;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(h8),w1(O9),w1(ot))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();class eP{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){"@"==n.charAt(0)&&n==JT?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class Qye extends eP{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==JT?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if("@"==n.charAt(0)){const r=function Jye(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let o=n.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function e_e(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,n,i)}}const tP=[{provide:fT,useClass:Zye},{provide:_m,useFactory:function n_e(){return new xye}},{provide:O9,useClass:(()=>{var t;class e extends O9{constructor(i,r,o,u){super(i.body,r,o)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Xn),w1(cm),w1(_m),w1(Jo))},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})()},{provide:h8,useFactory:function i_e(t,e,n){return new Kye(t,e,n)},deps:[yd,O9,ot]}],Sm=[{provide:cm,useFactory:()=>new Wye},{provide:Rg,useValue:"BrowserAnimations"},...tP],nP=[{provide:cm,useClass:ET},{provide:Rg,useValue:"NoopAnimations"},...tP];let r_e=(()=>{var t;class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?nP:Sm}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=Ai({type:t}),t.\u0275inj=Ti({providers:Sm,imports:[qx]}),e})();const{isArray:s_e}=Array,{getPrototypeOf:o_e,prototype:c_e,keys:l_e}=Object;const{isArray:h_e}=Array;function Hm(...t){const e=Sn(t),n=function zn(t){return U2(so(t))?t.pop():void 0}(t),{args:i,keys:r}=function u_e(t){if(1===t.length){const e=t[0];if(s_e(e))return{args:e,keys:null};if(function f_e(t){return t&&"object"==typeof t&&o_e(t)===c_e}(e)){const n=l_e(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}(t);if(0===i.length)return zt([],e);const o=new mt(function g_e(t,e,n=f3){return i=>{iP(e,()=>{const{length:r}=t,o=new Array(r);let u=r,h=r;for(let p=0;p<r;p++)iP(e,()=>{const y=zt(t[p],e);let w=!1;y.subscribe($2(i,z=>{o[p]=z,w||(w=!0,h--),h||i.next(n(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>function m_e(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}(r,u):f3));return n?o.pipe(function p_e(t){return d2(e=>function d_e(t,e){return h_e(e)?t(...e):t(e)}(t,e))}(n)):o}function iP(t,e,n){t?X1(n,t,e):e()}const F9=io(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Lm(...t){return function v_e(){return D1(1)}()(zt(t,Sn(t)))}function rP(t){return new mt(e=>{Ue(t()).subscribe(e)})}function u5(t,e){const n=U2(t)?t:()=>t,i=r=>r.error(n());return new mt(e?r=>e.schedule(i,0,r):i)}function Vm(){return et((t,e)=>{let n=null;t._refCount++;const i=$2(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}class aP extends mt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nr(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new X2;const n=this.getSubject();e.add(this.source.subscribe($2(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=X2.EMPTY)}return e}refCount(){return Vm()(this)}}function Gc(t){return t<=0?()=>D2:et((e,n)=>{let i=0;e.subscribe($2(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Qs(t,e){return et((n,i)=>{let r=0;n.subscribe($2(i,o=>t.call(e,o,r++)&&i.next(o)))})}function B9(t){return et((e,n)=>{let i=!1;e.subscribe($2(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function sP(t=__e){return et((e,n)=>{let i=!1;e.subscribe($2(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function __e(){return new F9}function f6(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Qs((r,o)=>t(r,o,i)):f3,Gc(1),n?B9(e):sP(()=>new F9))}function f5(t,e){return U2(e)?S2(t,e,1):S2(t,1)}function k3(t,e,n){const i=U2(t)||e||n?{next:t,error:e,complete:n}:t;return i?et((r,o)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let h=!0;r.subscribe($2(o,p=>{var y;null===(y=i.next)||void 0===y||y.call(i,p),o.next(p)},()=>{var p;h=!1,null===(p=i.complete)||void 0===p||p.call(i),o.complete()},p=>{var y;h=!1,null===(y=i.error)||void 0===y||y.call(i,p),o.error(p)},()=>{var p,y;h&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(y=i.finalize)||void 0===y||y.call(i)}))}):f3}function h6(t){return et((e,n)=>{let o,i=null,r=!1;i=e.subscribe($2(n,void 0,void 0,u=>{o=Ue(t(u,h6(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function Em(t){return t<=0?()=>D2:et((e,n)=>{let i=[];e.subscribe($2(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Tm(t){return et((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const u2="primary",h5=Symbol("RouteTitle");class z_e{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Wc(t){return new z_e(t)}function S_e(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=t[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function ea(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!oP(t[r],e[r]))return!1;return!0}function oP(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}return t===e}function cP(t){return t.length>0?t[t.length-1]:null}function Js(t){return function a_e(t){return!!t&&(t instanceof mt||U2(t.lift)&&U2(t.subscribe))}(t)?t:f7(t)?zt(Promise.resolve(t)):j1(t)}const L_e={exact:function fP(t,e,n){if(!d6(t.segments,e.segments)||!U9(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!fP(t.children[i],e.children[i],n))return!1;return!0},subset:hP},lP={exact:function V_e(t,e){return ea(t,e)},subset:function E_e(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oP(t[n],e[n]))},ignored:()=>!0};function uP(t,e,n){return L_e[n.paths](t.root,e.root,n.matrixParams)&&lP[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function hP(t,e,n){return dP(t,e,e.segments,n)}function dP(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!d6(r,n)||e.hasChildren()||!U9(r,n,i))}if(t.segments.length===n.length){if(!d6(t.segments,n)||!U9(t.segments,n,i))return!1;for(const r in e.children)if(!t.children[r]||!hP(t.children[r],e.children[r],i))return!1;return!0}{const r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(d6(t.segments,r)&&U9(t.segments,r,i)&&t.children[u2])&&dP(t.children[u2],e,o,i)}}function U9(t,e,n){return e.every((i,r)=>lP[n](t[r].parameters,i.parameters))}class Zc{constructor(e=new J2([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wc(this.queryParams)),this._queryParamMap}toString(){return D_e.serialize(this)}}class J2{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $9(this)}}class d5{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Wc(this.parameters)),this._parameterMap}toString(){return gP(this)}}function d6(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}let p5=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:function(){return new Pm},providedIn:"root"}),e})();class Pm{parse(e){const n=new j_e(e);return new Zc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${m5(e.root,!0)}`,i=function k_e(t){const e=Object.keys(t).map(n=>{const i=t[n];return Array.isArray(i)?i.map(r=>`${j9(n)}=${j9(r)}`).join("&"):`${j9(n)}=${j9(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${i}${"string"==typeof e.fragment?`#${function A_e(t){return encodeURI(t)}(e.fragment)}`:""}`}}const D_e=new Pm;function $9(t){return t.segments.map(e=>gP(e)).join("/")}function m5(t,e){if(!t.hasChildren())return $9(t);if(e){const n=t.children[u2]?m5(t.children[u2],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==u2&&i.push(`${r}:${m5(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function P_e(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===u2&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==u2&&(n=n.concat(e(r,i)))}),n}(t,(i,r)=>r===u2?[m5(t.children[u2],!1)]:[`${r}:${m5(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[u2]?`${$9(t)}/${n[0]}`:`${$9(t)}/(${n.join("//")})`}}function pP(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function j9(t){return pP(t).replace(/%3B/gi,";")}function Dm(t){return pP(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function q9(t){return decodeURIComponent(t)}function mP(t){return q9(t.replace(/\+/g,"%20"))}function gP(t){return`${Dm(t.path)}${function I_e(t){return Object.keys(t).map(e=>`;${Dm(e)}=${Dm(t[e])}`).join("")}(t.parameters)}`}const N_e=/^[^\/()?;#]+/;function Am(t){const e=t.match(N_e);return e?e[0]:""}const O_e=/^[^\/()?;=#]+/,F_e=/^[^=?&#]+/,U_e=/^[^&#]+/;class j_e{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new J2([],{}):new J2([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[u2]=new J2(e,n)),i}parseSegment(){const e=Am(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new $e(4009,!1);return this.capture(e),new d5(q9(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function R_e(t){const e=t.match(O_e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=Am(this.remaining);r&&(i=r,this.capture(i))}e[q9(n)]=q9(i)}parseQueryParam(e){const n=function B_e(t){const e=t.match(F_e);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const u=function $_e(t){const e=t.match(U_e);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=mP(n),o=mP(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(o)}else e[r]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Am(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new $e(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=u2);const u=this.parseChildren();n[o]=1===Object.keys(u).length?u[u2]:new J2([],u),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new $e(4011,!1)}}function vP(t){return t.segments.length>0?new J2([],{[u2]:t}):t}function yP(t){const e={};for(const i of Object.keys(t.children)){const o=yP(t.children[i]);if(i===u2&&0===o.segments.length&&o.hasChildren())for(const[u,h]of Object.entries(o.children))e[u]=h;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function q_e(t){if(1===t.numberOfChildren&&t.children[u2]){const e=t.children[u2];return new J2(t.segments.concat(e.segments),e.children)}return t}(new J2(t.segments,e))}function p6(t){return t instanceof Zc}function _P(t){let e;const r=vP(function n(o){const u={};for(const p of o.children){const y=n(p);u[p.outlet]=y}const h=new J2(o.url,u);return o===t&&(e=h),h}(t.root));return e??r}function CP(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(0===e.length)return Im(r,r,r,n,i);const o=function W_e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new bP(!0,0,t);let e=0,n=!1;const i=t.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Object.entries(o.outlets).forEach(([p,y])=>{h[p]="string"==typeof y?y.split("/"):y}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?n=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new bP(n,e,i)}(e);if(o.toRoot())return Im(r,r,new J2([],{}),n,i);const u=function Z_e(t,e,n){if(t.isAbsolute)return new W9(e,!0,0);if(!n)return new W9(e,!1,NaN);if(null===n.parent)return new W9(n,!0,0);const i=G9(t.commands[0])?0:1;return function X_e(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $e(4005,!1);r=i.segments.length}return new W9(i,!1,r-o)}(n,n.segments.length-1+i,t.numberOfDoubleDots)}(o,r,t),h=u.processChildren?v5(u.segmentGroup,u.index,o.commands):MP(u.segmentGroup,u.index,o.commands);return Im(r,u.segmentGroup,h,n,i)}function G9(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function g5(t){return"object"==typeof t&&null!=t&&t.outlets}function Im(t,e,n,i,r){let u,o={};i&&Object.entries(i).forEach(([p,y])=>{o[p]=Array.isArray(y)?y.map(w=>`${w}`):`${y}`}),u=t===e?n:xP(t,e,n);const h=vP(yP(u));return new Zc(h,o,r)}function xP(t,e,n){const i={};return Object.entries(t.children).forEach(([r,o])=>{i[r]=o===e?n:xP(o,e,n)}),new J2(t.segments,i)}class bP{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&G9(i[0]))throw new $e(4003,!1);const r=i.find(g5);if(r&&r!==cP(i))throw new $e(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class W9{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function MP(t,e,n){if(t||(t=new J2([],{})),0===t.segments.length&&t.hasChildren())return v5(t,e,n);const i=function K_e(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const u=t.segments[r],h=n[i];if(g5(h))break;const p=`${h}`,y=i<n.length-1?n[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!zP(p,y,u))return o;i+=2}else{if(!zP(p,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const o=new J2(t.segments.slice(0,i.pathIndex),{});return o.children[u2]=new J2(t.segments.slice(i.pathIndex),t.children),v5(o,0,r)}return i.match&&0===r.length?new J2(t.segments,{}):i.match&&!t.hasChildren()?km(t,e,n):i.match?v5(t,0,r):km(t,e,n)}function v5(t,e,n){if(0===n.length)return new J2(t.segments,{});{const i=function Y_e(t){return g5(t[0])?t[0].outlets:{[u2]:t}}(n),r={};if(Object.keys(i).some(o=>o!==u2)&&t.children[u2]&&1===t.numberOfChildren&&0===t.children[u2].segments.length){const o=v5(t.children[u2],e,n);return new J2(t.segments,o.children)}return Object.entries(i).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[o]=MP(t.children[o],e,u))}),Object.entries(t.children).forEach(([o,u])=>{void 0===i[o]&&(r[o]=u)}),new J2(t.segments,r)}}function km(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if(g5(o)){const p=Q_e(o.outlets);return new J2(i,p)}if(0===r&&G9(n[0])){i.push(new d5(t.segments[e].path,wP(n[0]))),r++;continue}const u=g5(o)?o.outlets[u2]:`${o}`,h=r<n.length-1?n[r+1]:null;u&&h&&G9(h)?(i.push(new d5(u,wP(h))),r+=2):(i.push(new d5(u,{})),r++)}return new J2(i,{})}function Q_e(t){const e={};return Object.entries(t).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[n]=km(new J2([],{}),0,i))}),e}function wP(t){const e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function zP(t,e,n){return t==n.path&&ea(e,n.parameters)}const y5="imperative";class ta{constructor(e,n){this.id=e,this.url=n}}class Z9 extends ta{constructor(e,n,i="imperative",r=null){super(e,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class eo extends ta{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _5 extends ta{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xc extends ta{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=16}}class X9 extends ta{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SP extends ta{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J_e extends ta{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eCe extends ta{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tCe extends ta{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nCe extends ta{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iCe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rCe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class aCe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sCe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oCe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cCe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HP{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Nm{}class Om{constructor(e){this.url=e}}class lCe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new C5,this.attachRef=null}}let C5=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new lCe,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class LP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Rm(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=Rm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Fm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Fm(e,this._root).map(n=>n.value)}}function Rm(t,e){if(t===e.value)return e;for(const n of e.children){const i=Rm(t,n);if(i)return i}return null}function Fm(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Fm(t,n);if(i.length)return i.unshift(e),i}return[]}class Ga{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Yc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class VP extends LP{constructor(e,n){super(e),this.snapshot=n,Bm(this,e)}toString(){return this.snapshot.toString()}}function EP(t,e){const n=function uCe(t,e){const u=new Y9([],{},{},"",{},u2,e,null,{});return new PP("",new Ga(u,[]))}(0,e),i=new Nn([new d5("",{})]),r=new Nn({}),o=new Nn({}),u=new Nn({}),h=new Nn(""),p=new Kc(i,r,u,h,o,u2,e,n.root);return p.snapshot=n.root,new VP(new Ga(p,[]),n)}class Kc{constructor(e,n,i,r,o,u,h,p){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=u,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(d2(y=>y[h5]))??j1(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(d2(e=>Wc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(d2(e=>Wc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TP(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function fCe(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Y9{get title(){return this.data?.[h5]}constructor(e,n,i,r,o,u,h,p,y){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=p,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PP extends LP{constructor(e,n){super(n),this.url=e,Bm(this,n)}toString(){return DP(this._root)}}function Bm(t,e){e.value._routerState=t,e.children.forEach(n=>Bm(t,n))}function DP(t){const e=t.children.length>0?` { ${t.children.map(DP).join(", ")} } `:"";return`${t.value}${e}`}function Um(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ea(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ea(e.params,n.params)||t.paramsSubject.next(n.params),function H_e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ea(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),ea(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $m(t,e){const n=ea(t.params,e.params)&&function T_e(t,e){return d6(t,e)&&t.every((n,i)=>ea(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||$m(t.parent,e.parent))}let AP=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=u2,this.activateEvents=new Q3,this.deactivateEvents=new Q3,this.attachEvents=new Q3,this.detachEvents=new Q3,this.parentContexts=x1(C5),this.location=x1(u4),this.changeDetector=x1(Rh),this.environmentInjector=x1(Mr),this.inputBinder=x1(K9,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $e(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $e(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $e(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new $e(4013,!1);this._activatedRoute=i;const o=this.location,h=i.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new hCe(i,p,o.injector);this.activated=o.createComponent(h,{index:o.length,injector:y,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=Y2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yn]}),e})();class hCe{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Kc?this.route:e===C5?this.childContexts:this.parent.get(e,n)}}const K9=new G1("");let IP=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:r}=i,o=Hm([r.queryParams,r.params,r.data]).pipe(e3(([u,h,p],y)=>(p={...u,...h,...p},0===y?j1(p):Promise.resolve(p)))).subscribe(u=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(i);const h=function gF(t){const e=_2(t);if(!e)return null;const n=new v8(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(h)for(const{templateName:p}of h.inputs)i.activatedComponentRef.setInput(p,u[p]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,o)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();function x5(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function pCe(t,e,n){return e.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return x5(t,i,r);return x5(t,i)})}(t,e,n);return new Ga(i,r)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>x5(t,h)),u}}const i=function mCe(t){return new Kc(new Nn(t.url),new Nn(t.params),new Nn(t.queryParams),new Nn(t.fragment),new Nn(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(o=>x5(t,o));return new Ga(i,r)}}const jm="ngNavigationCancelingError";function kP(t,e){const{redirectTo:n,navigationBehaviorOptions:i}=p6(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=NP(!1,0,e);return r.url=n,r.navigationBehaviorOptions=i,r}function NP(t,e,n){const i=new Error("NavigationCancelingError: "+(t||""));return i[jm]=!0,i.cancellationCode=e,n&&(i.url=n),i}function OP(t){return t&&t[jm]}let RP=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=tt({type:t,selectors:[["ng-component"]],standalone:!0,features:[k_],decls:1,vars:0,template:function(i,r){1&i&&d1(0,"router-outlet")},dependencies:[AP],encapsulation:2}),e})();function qm(t){const e=t.children&&t.children.map(qm),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==u2&&(n.component=RP),n}function v4(t){return t.outlet||u2}function b5(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class MCe{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Um(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const r=Yc(n);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){const r=e.value,o=n?n.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,n,u.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Yc(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Yc(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){const r=Yc(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new cCe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new sCe(e.value.snapshot))}activateRoutes(e,n,i){const r=e.value,o=n?n.value:null;if(Um(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,u.children)}else this.activateChildRoutes(e,n,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Um(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=b5(r.snapshot);u.attachRef=null,u.route=r,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class FP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Q9{constructor(e,n){this.component=e,this.route=n}}function wCe(t,e,n){const i=t._root;return M5(i,e?e._root:null,n,[i.value])}function Qc(t,e){const n=Symbol(),i=e.get(t,n);return i===n?"function"!=typeof t||function f0(t){return null!==ss(t)}(t)?e.get(t):t:i}function M5(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yc(e);return t.children.forEach(u=>{(function SCe(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,u=e?e.value:null,h=n?n.getContext(t.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const p=function HCe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!d6(t.url,e.url);case"pathParamsOrQueryParamsChange":return!d6(t.url,e.url)||!ea(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$m(t,e)||!ea(t.queryParams,e.queryParams);default:return!$m(t,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new FP(i)):(o.data=u.data,o._resolvedData=u._resolvedData),M5(t,e,o.component?h?h.children:null:n,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Q9(h.outlet.component,u))}else u&&w5(e,h,r),r.canActivateChecks.push(new FP(i)),M5(t,null,o.component?h?h.children:null:n,i,r)})(u,o[u.value.outlet],n,i.concat([u.value]),r),delete o[u.value.outlet]}),Object.entries(o).forEach(([u,h])=>w5(h,n.getContext(u),r)),r}function w5(t,e,n){const i=Yc(t),r=t.value;Object.entries(i).forEach(([o,u])=>{w5(u,r.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Q9(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function z5(t){return"function"==typeof t}function BP(t){return t instanceof F9||"EmptyError"===t?.name}const J9=Symbol("INITIAL_VALUE");function Jc(){return e3(t=>Hm(t.map(e=>e.pipe(Gc(1),function y_e(...t){const e=Sn(t);return et((n,i)=>{(e?Lm(t,n,e):Lm(t,n)).subscribe(i)})}(J9)))).pipe(d2(e=>{for(const n of e)if(!0!==n){if(n===J9)return J9;if(!1===n||n instanceof Zc)return n}return!0}),Qs(e=>e!==J9),Gc(1)))}function UP(t){return function Pr(...t){return Dr(t)}(k3(e=>{if(p6(e))throw kP(0,e)}),d2(e=>!0===e))}class eu{constructor(e){this.segmentGroup=e||null}}class $P{constructor(e){this.urlTree=e}}function e0(t){return u5(new eu(t))}function jP(t){return u5(new $P(t))}class WCe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new $e(4002,!1)}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return j1(i);if(r.numberOfChildren>1||!r.children[u2])return u5(new $e(4e3,!1));r=r.children[u2]}}applyRedirectCommands(e,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i)}applyRedirectCreateUrlTree(e,n,i,r){const o=this.createSegmentGroup(e,n.root,i,r);return new Zc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const h=o.substring(1);i[r]=n[h]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){const o=this.createSegments(e,n.segments,i,r);let u={};return Object.entries(n.children).forEach(([h,p])=>{u[h]=this.createSegmentGroup(e,p,i,r)}),new J2(o,u)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){const r=i[n.path.substring(1)];if(!r)throw new $e(4001,!1);return r}findOrReturn(e,n){let i=0;for(const r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}}const Gm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZCe(t,e,n,i,r){const o=Wm(t,e,n);return o.matched?(i=function vCe(t,e){return t.providers&&!t._injector&&(t._injector=ph(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,i),function jCe(t,e,n,i){const r=e.canMatch;return r&&0!==r.length?j1(r.map(u=>{const h=Qc(u,t);return Js(function DCe(t){return t&&z5(t.canMatch)}(h)?h.canMatch(e,n):t.runInContext(()=>h(e,n)))})).pipe(Jc(),UP()):j1(!0)}(i,e,n).pipe(d2(u=>!0===u?o:{...Gm}))):j1(o)}function Wm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Gm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(e.matcher||S_e)(n,t,e);if(!r)return{...Gm};const o={};Object.entries(r.posParams??{}).forEach(([h,p])=>{o[h]=p.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function qP(t,e,n,i){return n.length>0&&function KCe(t,e,n){return n.some(i=>tu(t,e,i)&&v4(i)!==u2)}(t,n,i)?{segmentGroup:new J2(e,YCe(i,new J2(n,t.children))),slicedSegments:[]}:0===n.length&&function QCe(t,e,n){return n.some(i=>tu(t,e,i))}(t,n,i)?{segmentGroup:new J2(t.segments,XCe(t,0,n,i,t.children)),slicedSegments:n}:{segmentGroup:new J2(t.segments,t.children),slicedSegments:n}}function XCe(t,e,n,i,r){const o={};for(const u of i)if(tu(t,n,u)&&!r[v4(u)]){const h=new J2([],{});o[v4(u)]=h}return{...r,...o}}function YCe(t,e){const n={};n[u2]=e;for(const i of t)if(""===i.path&&v4(i)!==u2){const r=new J2([],{});n[v4(i)]=r}return n}function tu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class nxe{constructor(e,n,i,r,o,u,h){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new WCe(this.urlSerializer,this.urlTree)}noMatchError(e){return new $e(4002,!1)}recognize(){const e=qP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,u2).pipe(h6(n=>{if(n instanceof $P)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof eu?this.noMatchError(n):n}),d2(n=>{const i=new Y9([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},u2,this.rootComponentType,null,{}),r=new Ga(i,n),o=new PP("",r),u=function G_e(t,e,n=null,i=null){return CP(_P(t),e,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(o._root),{state:o,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,u2).pipe(h6(i=>{throw i instanceof eu?this.noMatchError(i):i}))}inheritParamsAndData(e){const n=e.value,i=TP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0)}processChildren(e,n,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return zt(r).pipe(f5(o=>{const u=i.children[o],h=function xCe(t,e){const n=t.filter(i=>v4(i)===e);return n.push(...t.filter(i=>v4(i)!==e)),n}(n,o);return this.processSegmentGroup(e,h,u,o)}),function x_e(t,e){return et(function C_e(t,e,n,i,r){return(o,u)=>{let h=n,p=e,y=0;o.subscribe($2(u,w=>{const z=y++;p=h?t(p,w,z):(h=!0,w),i&&u.next(p)},r&&(()=>{h&&u.next(p),u.complete()})))}}(t,e,arguments.length>=2,!0))}((o,u)=>(o.push(...u),o)),B9(null),function b_e(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Qs((r,o)=>t(r,o,i)):f3,Em(1),n?B9(e):sP(()=>new F9))}(),S2(o=>{if(null===o)return e0(i);const u=GP(o);return function ixe(t){t.sort((e,n)=>e.value.outlet===u2?-1:n.value.outlet===u2?1:e.value.outlet.localeCompare(n.value.outlet))}(u),j1(u)}))}processSegment(e,n,i,r,o,u){return zt(n).pipe(f5(h=>this.processSegmentAgainstRoute(h._injector??e,n,h,i,r,o,u).pipe(h6(p=>{if(p instanceof eu)return j1(null);throw p}))),f6(h=>!!h),h6(h=>{if(BP(h))return function exe(t,e,n){return 0===e.length&&!t.children[n]}(i,r,o)?j1([]):e0(i);throw h}))}processSegmentAgainstRoute(e,n,i,r,o,u,h){return function JCe(t,e,n,i){return!!(v4(t)===i||i!==u2&&tu(e,n,t))&&("**"===t.path||Wm(e,t,n).matched)}(i,r,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,u,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,u):e0(r):e0(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?jP(o):this.applyRedirects.lineralizeSegments(i,o).pipe(S2(u=>{const h=new J2(u,{});return this.processSegment(e,n,h,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,o,u){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:w}=Wm(n,r,o);if(!h)return e0(n);const z=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?jP(z):this.applyRedirects.lineralizeSegments(r,z).pipe(S2(E=>this.processSegment(e,i,n,E.concat(y),u,!1)))}matchSegmentAgainstRoute(e,n,i,r,o,u){let h;if("**"===i.path){const p=r.length>0?cP(r).parameters:{};h=j1({snapshot:new Y9(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WP(i),v4(i),i.component??i._loadedComponent??null,i,ZP(i)),consumedSegments:[],remainingSegments:[]}),n.children={}}else h=ZCe(n,i,r,e).pipe(d2(({matched:p,consumedSegments:y,remainingSegments:w,parameters:z})=>p?{snapshot:new Y9(y,z,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WP(i),v4(i),i.component??i._loadedComponent??null,i,ZP(i)),consumedSegments:y,remainingSegments:w}:null));return h.pipe(e3(p=>null===p?e0(n):this.getChildConfig(e=i._injector??e,i,r).pipe(e3(({routes:y})=>{const w=i._loadedInjector??e,{snapshot:z,consumedSegments:E,remainingSegments:P}=p,{segmentGroup:I,slicedSegments:F}=qP(n,E,P,y);if(0===F.length&&I.hasChildren())return this.processChildren(w,y,I).pipe(d2(W=>null===W?null:[new Ga(z,W)]));if(0===y.length&&0===F.length)return j1([new Ga(z,[])]);const $=v4(i)===o;return this.processSegment(w,y,I,F,$?u2:o,!0).pipe(d2(W=>[new Ga(z,W)]))}))))}getChildConfig(e,n,i){return n.children?j1({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?j1({routes:n._loadedRoutes,injector:n._loadedInjector}):function $Ce(t,e,n,i){const r=e.canLoad;return void 0===r||0===r.length?j1(!0):j1(r.map(u=>{const h=Qc(u,t);return Js(function VCe(t){return t&&z5(t.canLoad)}(h)?h.canLoad(e,n):t.runInContext(()=>h(e,n)))})).pipe(Jc(),UP())}(e,n,i).pipe(S2(r=>r?this.configLoader.loadChildren(e,n).pipe(k3(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function GCe(t){return u5(NP(!1,3))}())):j1({routes:[],injector:e})}}function rxe(t){const e=t.value.routeConfig;return e&&""===e.path}function GP(t){const e=[],n=new Set;for(const i of t){if(!rxe(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):e.push(i)}for(const i of n){const r=GP(i.children);e.push(new Ga(i.value,r))}return e.filter(i=>!n.has(i))}function WP(t){return t.data||{}}function ZP(t){return t.resolve||{}}function XP(t){return"string"==typeof t.title||null===t.title}function Zm(t){return e3(e=>{const n=t(e);return n?zt(n).pipe(d2(()=>e)):j1(e)})}const t0=new G1("ROUTES");let Xm=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x1(HC)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return j1(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=Js(i.loadComponent()).pipe(d2(YP),k3(u=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=u}),Tm(()=>{this.componentLoaders.delete(i)})),o=new aP(r,()=>new fn).pipe(Vm());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j1({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(d2(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,w;return Array.isArray(p)?w=p:(y=p.create(i).injector,w=y.get(t0,[],a2.Self|a2.Optional).flat()),{routes:w.map(qm),injector:y}}),Tm(()=>{this.childrenLoaders.delete(r)})),h=new aP(u,()=>new fn).pipe(Vm());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(i){return Js(i()).pipe(d2(YP),S2(r=>r instanceof A_||Array.isArray(r)?j1(r):zt(this.compiler.compileModuleAsync(r))))}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function YP(t){return function fxe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let nu=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fn,this.transitionAbortSubject=new fn,this.configLoader=x1(Xm),this.environmentInjector=x1(Mr),this.urlSerializer=x1(p5),this.rootContexts=x1(C5),this.inputBindingEnabled=null!==x1(K9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>j1(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new rCe(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new iCe(o))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i,r,o){return this.transitions=new Nn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:i.urlHandlingStrategy.extract(r),urlAfterRedirects:i.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:y5,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qs(u=>0!==u.id),d2(u=>({...u,extractedUrl:i.urlHandlingStrategy.extract(u.rawUrl)})),e3(u=>{this.currentTransition=u;let h=!1,p=!1;return j1(u).pipe(k3(y=>{this.currentNavigation={id:y.id,initialUrl:y.rawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),e3(y=>{const w=y.currentBrowserUrl.toString(),z=!i.navigated||y.extractedUrl.toString()!==w||w!==y.currentUrlTree.toString();if(!z&&"reload"!==(y.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const P="";return this.events.next(new Xc(y.id,this.urlSerializer.serialize(y.rawUrl),P,0)),y.resolve(null),D2}if(i.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return j1(y).pipe(e3(P=>{const I=this.transitions?.getValue();return this.events.next(new Z9(P.id,this.urlSerializer.serialize(P.extractedUrl),P.source,P.restoredState)),I!==this.transitions?.getValue()?D2:Promise.resolve(P)}),function axe(t,e,n,i,r,o){return S2(u=>function txe(t,e,n,i,r,o,u="emptyOnly"){return new nxe(t,e,n,i,r,u,o).recognize()}(t,e,n,i,u.extractedUrl,r,o).pipe(d2(({state:h,tree:p})=>({...u,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),k3(P=>{u.targetSnapshot=P.targetSnapshot,u.urlAfterRedirects=P.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:P.urlAfterRedirects};const I=new SP(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(P.urlAfterRedirects),P.targetSnapshot);this.events.next(I)}));if(z&&i.urlHandlingStrategy.shouldProcessUrl(y.currentRawUrl)){const{id:P,extractedUrl:I,source:F,restoredState:$,extras:W}=y,R=new Z9(P,this.urlSerializer.serialize(I),F,$);this.events.next(R);const j=EP(0,this.rootComponentType).snapshot;return this.currentTransition=u={...y,targetSnapshot:j,urlAfterRedirects:I,extras:{...W,skipLocationChange:!1,replaceUrl:!1}},j1(u)}{const P="";return this.events.next(new Xc(y.id,this.urlSerializer.serialize(y.extractedUrl),P,1)),y.resolve(null),D2}}),k3(y=>{const w=new J_e(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(w)}),d2(y=>(this.currentTransition=u={...y,guards:wCe(y.targetSnapshot,y.currentSnapshot,this.rootContexts)},u)),function ICe(t,e){return S2(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=n;return 0===u.length&&0===o.length?j1({...n,guardsResult:!0}):function kCe(t,e,n,i){return zt(t).pipe(S2(r=>function UCe(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?j1(o.map(h=>{const p=b5(e)??r,y=Qc(h,p);return Js(function PCe(t){return t&&z5(t.canDeactivate)}(y)?y.canDeactivate(t,e,n,i):p.runInContext(()=>y(t,e,n,i))).pipe(f6())})).pipe(Jc()):j1(!0)}(r.component,r.route,n,e,i)),f6(r=>!0!==r,!0))}(u,i,r,t).pipe(S2(h=>h&&function LCe(t){return"boolean"==typeof t}(h)?function NCe(t,e,n,i){return zt(e).pipe(f5(r=>Lm(function RCe(t,e){return null!==t&&e&&e(new aCe(t)),j1(!0)}(r.route.parent,i),function OCe(t,e){return null!==t&&e&&e(new oCe(t)),j1(!0)}(r.route,i),function BCe(t,e,n){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function zCe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(u)).filter(u=>null!==u).map(u=>rP(()=>j1(u.guards.map(p=>{const y=b5(u.node)??n,w=Qc(p,y);return Js(function TCe(t){return t&&z5(t.canActivateChild)}(w)?w.canActivateChild(i,t):y.runInContext(()=>w(i,t))).pipe(f6())})).pipe(Jc())));return j1(o).pipe(Jc())}(t,r.path,n),function FCe(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return j1(!0);const r=i.map(o=>rP(()=>{const u=b5(e)??n,h=Qc(o,u);return Js(function ECe(t){return t&&z5(t.canActivate)}(h)?h.canActivate(e,t):u.runInContext(()=>h(e,t))).pipe(f6())}));return j1(r).pipe(Jc())}(t,r.route,n))),f6(r=>!0!==r,!0))}(i,o,t,e):j1(h)),d2(h=>({...n,guardsResult:h})))})}(this.environmentInjector,y=>this.events.next(y)),k3(y=>{if(u.guardsResult=y.guardsResult,p6(y.guardsResult))throw kP(0,y.guardsResult);const w=new eCe(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.events.next(w)}),Qs(y=>!!y.guardsResult||(this.cancelNavigationTransition(y,"",3),!1)),Zm(y=>{if(y.guards.canActivateChecks.length)return j1(y).pipe(k3(w=>{const z=new tCe(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(z)}),e3(w=>{let z=!1;return j1(w).pipe(function sxe(t,e){return S2(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return j1(n);let o=0;return zt(r).pipe(f5(u=>function oxe(t,e,n,i){const r=t.routeConfig,o=t._resolve;return void 0!==r?.title&&!XP(r)&&(o[h5]=r.title),function cxe(t,e,n,i){const r=function lxe(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return j1({});const o={};return zt(r).pipe(S2(u=>function uxe(t,e,n,i){const r=b5(e)??i,o=Qc(t,r);return Js(o.resolve?o.resolve(e,n):r.runInContext(()=>o(e,n)))}(t[u],e,n,i).pipe(f6(),k3(h=>{o[u]=h}))),Em(1),function M_e(t){return d2(()=>t)}(o),h6(u=>BP(u)?D2:u5(u)))}(o,t,e,i).pipe(d2(u=>(t._resolvedData=u,t.data=TP(t,n).resolve,r&&XP(r)&&(t.data[h5]=r.title),null)))}(u.route,i,t,e)),k3(()=>o++),Em(1),S2(u=>o===r.length?j1(n):D2))})}(i.paramsInheritanceStrategy,this.environmentInjector),k3({next:()=>z=!0,complete:()=>{z||this.cancelNavigationTransition(w,"",2)}}))}),k3(w=>{const z=new nCe(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(z)}))}),Zm(y=>{const w=z=>{const E=[];z.routeConfig?.loadComponent&&!z.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(z.routeConfig).pipe(k3(P=>{z.component=P}),d2(()=>{})));for(const P of z.children)E.push(...w(P));return E};return Hm(w(y.targetSnapshot.root)).pipe(B9(),Gc(1))}),Zm(()=>this.afterPreactivation()),d2(y=>{const w=function dCe(t,e,n){const i=x5(t,e._root,n?n._root:void 0);return new VP(i,e)}(i.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return this.currentTransition=u={...y,targetRouterState:w},u}),k3(()=>{this.events.next(new Nm)}),((t,e,n,i)=>d2(r=>(new MCe(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)))(this.rootContexts,i.routeReuseStrategy,y=>this.events.next(y),this.inputBindingEnabled),Gc(1),k3({next:y=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new eo(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects))),i.titleStrategy?.updateTitle(y.targetRouterState.snapshot),y.resolve(!0)},complete:()=>{h=!0}}),function w_e(t){return et((e,n)=>{Ue(t).subscribe($2(n,()=>n.complete(),Qi)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(k3(y=>{throw y}))),Tm(()=>{h||p||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),h6(y=>{if(p=!0,OP(y))this.events.next(new _5(u.id,this.urlSerializer.serialize(u.extractedUrl),y.message,y.cancellationCode)),function gCe(t){return OP(t)&&p6(t.url)}(y)?this.events.next(new Om(y.url)):u.resolve(!1);else{this.events.next(new X9(u.id,this.urlSerializer.serialize(u.extractedUrl),y,u.targetSnapshot??void 0));try{u.resolve(i.errorHandler(y))}catch(w){u.reject(w)}}return D2}))}))}cancelNavigationTransition(i,r,o){const u=new _5(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(u),i.resolve(!1)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function KP(t){return t!==y5}let QP=(()=>{var t;class e{buildTitle(i){let r,o=i.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===u2);return r}getResolvedTitleForRoute(i){return i.data[h5]}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:function(){return x1(hxe)},providedIn:"root"}),e})(),hxe=(()=>{var t;class e extends QP{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Gx))},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),dxe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:function(){return x1(mxe)},providedIn:"root"}),e})();class pxe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let mxe=(()=>{var t;class e extends pxe{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=function U0(t){return F3(()=>{const e=t.prototype.constructor,n=e[T3]||Ui(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const o=r[T3]||Ui(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}(t)))(r||t)}}(),t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const iu=new G1("",{providedIn:"root",factory:()=>({})});let gxe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:function(){return x1(vxe)},providedIn:"root"}),e})(),vxe=(()=>{var t;class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var S5=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(S5||{});function JP(t,e){t.events.pipe(Qs(n=>n instanceof eo||n instanceof _5||n instanceof X9||n instanceof Xc),d2(n=>n instanceof eo||n instanceof Xc?S5.COMPLETE:n instanceof _5&&(0===n.code||1===n.code)?S5.REDIRECTING:S5.FAILED),Qs(n=>n!==S5.REDIRECTING),Gc(1)).subscribe(()=>{e()})}function yxe(t){throw t}function _xe(t,e,n){return e.parse("/")}const Cxe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xxe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=x1(zC),this.isNgZoneEnabled=!1,this._events=new fn,this.options=x1(iu,{optional:!0})||{},this.pendingTasks=x1(SC),this.errorHandler=this.options.errorHandler||yxe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_xe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=x1(gxe),this.routeReuseStrategy=x1(dxe),this.titleStrategy=x1(QP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=x1(t0,{optional:!0})?.flat()??[],this.navigationTransitions=x1(nu),this.urlSerializer=x1(p5),this.location=x1(Xh),this.componentInputBindingEnabled=!!x1(K9,{optional:!0}),this.eventsSubscription=new X2,this.isNgZoneEnabled=x1(ot)instanceof ot&&ot.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(eD(r)&&this._events.next(r));if(r instanceof Z9)KP(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof Xc)this.rawUrlTree=o.rawUrl;else if(r instanceof SP){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof Nm)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof _5)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof Om){const u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),h={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||KP(o.source)};this.scheduleNavigation(u,y5,null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof X9&&this.restoreHistory(o,!0),r instanceof eo&&(this.navigated=!0),eD(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),y5,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const r="popstate"===i.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,r,i.state)},0)}))}navigateToSyncWithBrowser(i,r,o){const u={replaceUrl:!0},h=o?.navigationId?o:null;if(o){const y={...o};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const p=this.parseUrl(i);this.scheduleNavigation(p,r,h,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(qm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:p,preserveFragment:y}=r,w=y?this.currentUrlTree.fragment:h;let E,z=null;switch(p){case"merge":z={...this.currentUrlTree.queryParams,...u};break;case"preserve":z=this.currentUrlTree.queryParams;break;default:z=u||null}null!==z&&(z=this.removeEmptyProps(z));try{E=_P(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),E=this.currentUrlTree.root}return CP(E,i,z,w??null)}navigateByUrl(i,r={skipLocationChange:!1}){const o=p6(i)?i:this.parseUrl(i),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,y5,null,r)}navigate(i,r={skipLocationChange:!1}){return function bxe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new $e(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let r;try{r=this.urlSerializer.parse(i)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,i)}return r}isActive(i,r){let o;if(o=!0===r?{...Cxe}:!1===r?{...xxe}:r,p6(i))return uP(this.currentUrlTree,i,o);const u=this.parseUrl(i);return uP(this.currentUrlTree,u,o)}removeEmptyProps(i){return Object.keys(i).reduce((r,o)=>{const u=i[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(i,r,o,u,h){if(this.disposed)return Promise.resolve(!1);let p,y,w;h?(p=h.resolve,y=h.reject,w=h.promise):w=new Promise((E,P)=>{p=E,y=P});const z=this.pendingTasks.add();return JP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(z))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:u,resolve:p,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(E=>Promise.reject(E))}setBrowserUrl(i,r){const o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const h={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",h)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function eD(t){return!(t instanceof Nm||t instanceof Om)}class tD{}let zxe=(()=>{var t;class e{constructor(i,r,o,u,h){this.router=i,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Qs(i=>i instanceof eo),f5(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=ph(u.providers,i,`Route: ${u.path}`));const h=u._injector??i,p=u._loadedInjector??h;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(p,u.children??u._loadedRoutes))}return zt(o).pipe(D1())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):j1(null);const u=o.pipe(S2(h=>null===h?j1(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??i,h.routes))));return r.loadComponent&&!r._loadedComponent?zt([u,this.loader.loadComponent(r)]).pipe(D1()):u})}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(Vr),w1(HC),w1(Mr),w1(tD),w1(Xm))},t.\u0275prov=k1({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Km=new G1("");let nD=(()=>{var t;class e{constructor(i,r,o,u,h={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Z9?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof eo?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Xc&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof HP&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new HP(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){!function vv(){throw new Error("invalid")}()},t.\u0275prov=k1({token:t,factory:t.\u0275fac}),e})();function Wa(t,e){return{\u0275kind:t,\u0275providers:e}}function rD(){const t=x1(ji);return e=>{const n=t.get(Jo);if(e!==n.components[0])return;const i=t.get(Vr),r=t.get(aD);1===t.get(Qm)&&i.initialNavigation(),t.get(sD,null,a2.Optional)?.setUpPreloading(),t.get(Km,null,a2.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const aD=new G1("",{factory:()=>new fn}),Qm=new G1("",{providedIn:"root",factory:()=>1}),sD=new G1("");function Vxe(t){return Wa(0,[{provide:sD,useExisting:zxe},{provide:tD,useExisting:t}])}const oD=new G1("ROUTER_FORROOT_GUARD"),Txe=[Xh,{provide:p5,useClass:Pm},Vr,C5,{provide:Kc,useFactory:function iD(t){return t.routerState.root},deps:[Vr]},Xm,[]];function Pxe(){return new AC("Router",Vr)}let Dxe=(()=>{var t;class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[Txe,[],{provide:t0,multi:!0,useValue:i},{provide:oD,useFactory:Nxe,deps:[[Vr,new Z6,new Is]]},{provide:iu,useValue:r||{}},r?.useHash?{provide:t6,useClass:xF}:{provide:t6,useClass:ux},{provide:Km,useFactory:()=>{const t=x1(FB),e=x1(ot),n=x1(iu),i=x1(nu),r=x1(p5);return n.scrollOffset&&t.setOffset(n.scrollOffset),new nD(r,i,t,e,n)}},r?.preloadingStrategy?Vxe(r.preloadingStrategy).\u0275providers:[],{provide:AC,multi:!0,useFactory:Pxe},r?.initialNavigation?Oxe(r):[],r?.bindToComponentInputs?Wa(8,[IP,{provide:K9,useExisting:IP}]).\u0275providers:[],[{provide:cD,useFactory:rD},{provide:Nh,multi:!0,useExisting:cD}]]}}static forChild(i){return{ngModule:e,providers:[{provide:t0,multi:!0,useValue:i}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(w1(oD,8))},t.\u0275mod=Ai({type:t}),t.\u0275inj=Ti({}),e})();function Nxe(t){return"guarded"}function Oxe(t){return["disabled"===t.initialNavigation?Wa(3,[{provide:Vh,multi:!0,useFactory:()=>{const e=x1(Vr);return()=>{e.setUpLocationChangeListener()}}},{provide:Qm,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Wa(2,[{provide:Qm,useValue:0},{provide:Vh,multi:!0,deps:[ji],useFactory:e=>{const n=e.get(_F,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=e.get(Vr),o=e.get(aD);JP(r,()=>{i(!0)}),e.get(nu).afterPreactivation=()=>(i(!0),o.closed?j1(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const cD=new G1("");function lD(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function Jm(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:lD(e[n])&&lD(t[n])&&Object.keys(e[n]).length>0&&Jm(t[n],e[n])})}const uD={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function N3(){const t=typeof document<"u"?document:{};return Jm(t,uD),t}const Fxe={document:uD,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>typeof setTimeout>"u"?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function on(){const t=typeof window<"u"?window:{};return Jm(t,Fxe),t}function m6(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function Er(){return Date.now()}function eg(t,e){void 0===e&&(e="x");const n=on();let i,r,o;const u=function Uxe(t){const e=on();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}(t);return n.WebKitCSSMatrix?(r=u.transform||u.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(h=>h.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix("none"===r?"":r)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=o.toString().split(",")),"x"===e&&(r=n.WebKitCSSMatrix?o.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=n.WebKitCSSMatrix?o.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function H5(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function $xe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(1===t.nodeType||11===t.nodeType)}function Yi(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(null!=i&&!$xe(i)){const r=Object.keys(Object(i)).filter(o=>e.indexOf(o)<0);for(let o=0,u=r.length;o<u;o+=1){const h=r[o],p=Object.getOwnPropertyDescriptor(i,h);void 0!==p&&p.enumerable&&(H5(t[h])&&H5(i[h])?i[h].__swiper__?t[h]=i[h]:Yi(t[h],i[h]):!H5(t[h])&&H5(i[h])?(t[h]={},i[h].__swiper__?t[h]=i[h]:Yi(t[h],i[h])):t[h]=i[h])}}}return t}function L5(t,e,n){t.style.setProperty(e,n)}function fD(t){let{swiper:e,targetPosition:n,side:i}=t;const r=on(),o=-e.translate;let h,u=null;const p=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const y=n>o?"next":"prev",w=(E,P)=>"next"===y&&E>=P||"prev"===y&&E<=P,z=()=>{h=(new Date).getTime(),null===u&&(u=h);const E=Math.max(Math.min((h-u)/p,1),0),P=.5-Math.cos(E*Math.PI)/2;let I=o+P*(n-o);if(w(I,n)&&(I=n),e.wrapperEl.scrollTo({[i]:I}),w(I,n))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:I})}),void r.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=r.requestAnimationFrame(z)};z()}function g6(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function M3(t,e){return void 0===e&&(e=""),[...t.children].filter(n=>n.matches(e))}function y4(t,e){void 0===e&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:[e]),n}function ru(t){const e=on(),n=N3(),i=t.getBoundingClientRect(),r=n.body;return{top:i.top+(t===e?e.scrollY:t.scrollTop)-(t.clientTop||r.clientTop||0),left:i.left+(t===e?e.scrollX:t.scrollLeft)-(t.clientLeft||r.clientLeft||0)}}function to(t,e){return on().getComputedStyle(t,null).getPropertyValue(e)}function V5(t){let n,e=t;if(e){for(n=0;null!==(e=e.previousSibling);)1===e.nodeType&&(n+=1);return n}}function v6(t,e){const n=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&n.push(i):n.push(i),i=i.parentElement;return n}function E5(t,e){e&&t.addEventListener("transitionend",function n(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",n))})}function tg(t,e,n){const i=on();return n?t["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):t.offsetWidth}let ng,ig,rg;function hD(){return ng||(ng=function Gxe(){const t=on(),e=N3();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}()),ng}const au=(t,e)=>{if(!t||t.destroyed||!t.params)return;const i=e.closest(t.isElement?"swiper-slide":`.${t.params.slideClass}`);if(i){let r=i.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},ag=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},sg=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const i="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const u=r,h=[u-e];return h.push(...Array.from({length:e}).map((p,y)=>u+i+y)),void t.slides.forEach((p,y)=>{h.includes(p.column)&&ag(t,y)})}const o=r+i-1;if(t.params.rewind||t.params.loop)for(let u=r-e;u<=o+e;u+=1){const h=(u%n+n)%n;(h<r||h>o)&&ag(t,h)}else for(let u=Math.max(r-e,0);u<=Math.min(o+e,n-1);u+=1)u!==r&&(u>o||u<r)&&ag(t,u)};function dD(t){let{swiper:e,runCallbacks:n,direction:i,step:r}=t;const{activeIndex:o,previousIndex:u}=e;let h=i;if(h||(h=o>u?"next":o<u?"prev":"reset"),e.emit(`transition${r}`),n&&o!==u){if("reset"===h)return void e.emit(`slideResetTransition${r}`);e.emit(`slideChangeTransition${r}`),e.emit("next"===h?`slideNextTransition${r}`:`slidePrevTransition${r}`)}}function Nbe(t){const e=this,n=N3(),i=on(),r=e.touchEventsData;r.evCache.push(t);const{params:o,touches:u,enabled:h}=e;if(!h||!o.simulateTouch&&"mouse"===t.pointerType||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let p=t;p.originalEvent&&(p=p.originalEvent);let y=p.target;if("wrapper"===o.touchEventsTarget&&!e.wrapperEl.contains(y)||"which"in p&&3===p.which||"button"in p&&p.button>0||r.isTouched&&r.isMoved)return;const w=!!o.noSwipingClass&&""!==o.noSwipingClass,z=t.composedPath?t.composedPath():t.path;w&&p.target&&p.target.shadowRoot&&z&&(y=z[0]);const E=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`;if(o.noSwiping&&(p.target&&p.target.shadowRoot?function kbe(t,e){return void 0===e&&(e=this),function n(i){if(!i||i===N3()||i===on())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(t);return r||i.getRootNode?r||n(i.getRootNode().host):null}(e)}(E,y):y.closest(E)))return void(e.allowClick=!0);if(o.swipeHandler&&!y.closest(o.swipeHandler))return;u.currentX=p.pageX,u.currentY=p.pageY;const I=u.currentX,F=u.currentY,$=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,W=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if($&&(I<=W||I>=i.innerWidth-W)){if("prevent"!==$)return;t.preventDefault()}Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=I,u.startY=F,r.touchStartTime=Er(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(r.allowThresholdMove=!1);let R=!0;y.matches(r.focusableElements)&&(R=!1,"SELECT"===y.nodeName&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==y&&n.activeElement.blur(),(o.touchStartForcePreventDefault||R&&e.allowTouchMove&&o.touchStartPreventDefault)&&!y.isContentEditable&&p.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",p)}function Obe(t){const e=N3(),n=this,i=n.touchEventsData,{params:r,touches:o,rtlTranslate:u,enabled:h}=n;if(!h||!r.simulateTouch&&"mouse"===t.pointerType)return;let p=t;if(p.originalEvent&&(p=p.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",p));const y=i.evCache.findIndex(Te=>Te.pointerId===p.pointerId);y>=0&&(i.evCache[y]=p);const w=i.evCache.length>1?i.evCache[0]:p,z=w.pageX,E=w.pageY;if(p.preventedByNestedSwiper)return o.startX=z,void(o.startY=E);if(!n.allowTouchMove)return p.target.matches(i.focusableElements)||(n.allowClick=!1),void(i.isTouched&&(Object.assign(o,{startX:z,startY:E,prevX:n.touches.currentX,prevY:n.touches.currentY,currentX:z,currentY:E}),i.touchStartTime=Er()));if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(E<o.startY&&n.translate<=n.maxTranslate()||E>o.startY&&n.translate>=n.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(z<o.startX&&n.translate<=n.maxTranslate()||z>o.startX&&n.translate>=n.minTranslate())return;if(e.activeElement&&p.target===e.activeElement&&p.target.matches(i.focusableElements))return i.isMoved=!0,void(n.allowClick=!1);if(i.allowTouchCallbacks&&n.emit("touchMove",p),p.targetTouches&&p.targetTouches.length>1)return;o.currentX=z,o.currentY=E;const P=o.currentX-o.startX,I=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(P**2+I**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let Te;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:P*P+I*I>=25&&(Te=180*Math.atan2(Math.abs(I),Math.abs(P))/Math.PI,i.isScrolling=n.isHorizontal()?Te>r.touchAngle:90-Te>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",p),typeof i.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(i.startMoving=!0),i.isScrolling||n.zoom&&n.params.zoom&&n.params.zoom.enabled&&i.evCache.length>1)return void(i.isTouched=!1);if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&p.cancelable&&p.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&p.stopPropagation();let F=n.isHorizontal()?P:I,$=n.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;r.oneWayMovement&&(F=Math.abs(F)*(u?1:-1),$=Math.abs($)*(u?1:-1)),o.diff=F,F*=r.touchRatio,u&&(F=-F,$=-$);const W=n.touchesDirection;n.swipeDirection=F>0?"prev":"next",n.touchesDirection=$>0?"prev":"next";const R=n.params.loop&&!r.cssMode,j="next"===n.swipeDirection&&n.allowSlideNext||"prev"===n.swipeDirection&&n.allowSlidePrev;if(!i.isMoved){if(R&&j&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const Te=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(Te)}i.allowMomentumBounce=!1,r.grabCursor&&(!0===n.allowSlideNext||!0===n.allowSlidePrev)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",p)}let J;i.isMoved&&W!==n.touchesDirection&&R&&j&&Math.abs(F)>=1&&(n.loopFix({direction:n.swipeDirection,setTranslate:!0}),J=!0),n.emit("sliderMove",p),i.isMoved=!0,i.currentTranslate=F+i.startTranslate;let ve=!0,Ve=r.resistanceRatio;if(r.touchReleaseOnEdges&&(Ve=0),F>0?(R&&j&&!J&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.size/2:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(ve=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+F)**Ve))):F<0&&(R&&j&&!J&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.size/2:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===r.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(ve=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-F)**Ve))),ve&&(p.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(F)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function Rbe(t){const e=this,n=e.touchEventsData,i=n.evCache.findIndex(j=>j.pointerId===t.pointerId);if(i>=0&&n.evCache.splice(i,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(t.type)&&(!["pointercancel","contextmenu"].includes(t.type)||!e.browser.isSafari&&!e.browser.isWebView))return;const{params:r,touches:o,rtlTranslate:u,slidesGrid:h,enabled:p}=e;if(!p||!r.simulateTouch&&"mouse"===t.pointerType)return;let y=t;if(y.originalEvent&&(y=y.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",y),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const w=Er(),z=w-n.touchStartTime;if(e.allowClick){const j=y.path||y.composedPath&&y.composedPath();e.updateClickedSlide(j&&j[0]||y.target,j),e.emit("tap click",y),z<300&&w-n.lastClickTime<300&&e.emit("doubleTap doubleClick",y)}if(n.lastClickTime=Er(),m6(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===o.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let E;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,E=r.followFinger?u?e.translate:-e.translate:-n.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:E});let P=0,I=e.slidesSizesGrid[0];for(let j=0;j<h.length;j+=j<r.slidesPerGroupSkip?1:r.slidesPerGroup){const J=j<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof h[j+J]<"u"?E>=h[j]&&E<h[j+J]&&(P=j,I=h[j+J]-h[j]):E>=h[j]&&(P=j,I=h[h.length-1]-h[h.length-2])}let F=null,$=null;r.rewind&&(e.isBeginning?$=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(F=0));const W=(E-h[P])/I,R=P<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(z>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(W>=r.longSwipesRatio?r.rewind&&e.isEnd?F:P+R:P),"prev"===e.swipeDirection&&(W>1-r.longSwipesRatio?e.slideTo(P+R):null!==$&&W<0&&Math.abs(W)>r.longSwipesRatio?e.slideTo($):e.slideTo(P))}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||y.target!==e.navigation.nextEl&&y.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==F?F:P+R),"prev"===e.swipeDirection&&e.slideTo(null!==$?$:P)):e.slideTo(y.target===e.navigation.nextEl?P+R:P)}}function pD(){const t=this,{params:e,el:n}=t;if(n&&0===n.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:o}=t,u=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),!("auto"===e.slidesPerView||e.slidesPerView>1)||!t.isEnd||t.isBeginning||t.params.centeredSlides||u&&e.loop?t.params.loop&&!u?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0):t.slideTo(t.slides.length-1,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function Fbe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Bbe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:i}=t;if(!i)return;let r;t.previousTranslate=t.translate,t.translate=t.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const o=t.maxTranslate()-t.minTranslate();r=0===o?0:(t.translate-t.minTranslate())/o,r!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Ube(t){const e=this;au(e,t.target),!e.params.cssMode&&("auto"===e.params.slidesPerView||e.params.autoHeight)&&e.update()}let mD=!1;function $be(){}const gD=(t,e)=>{const n=N3(),{params:i,el:r,wrapperEl:o,device:u}=t,h=!!i.nested,p="on"===e?"addEventListener":"removeEventListener",y=e;r[p]("pointerdown",t.onTouchStart,{passive:!1}),n[p]("pointermove",t.onTouchMove,{passive:!1,capture:h}),n[p]("pointerup",t.onTouchEnd,{passive:!0}),n[p]("pointercancel",t.onTouchEnd,{passive:!0}),n[p]("pointerout",t.onTouchEnd,{passive:!0}),n[p]("pointerleave",t.onTouchEnd,{passive:!0}),n[p]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[p]("click",t.onClick,!0),i.cssMode&&o[p]("scroll",t.onScroll),t[y](i.updateOnWindowResize?u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",pD,!0),r[p]("load",t.onLoad,{capture:!0})},vD=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;var og={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function nMe(t,e){return function(i){void 0===i&&(i={});const r=Object.keys(i)[0],o=i[r];"object"==typeof o&&null!==o?(!0===t[r]&&(t[r]={enabled:!0}),"navigation"===r&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),r in t&&"enabled"in o?("object"==typeof t[r]&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Yi(e,i)):Yi(e,i)):Yi(e,i)}}const cg={eventsEmitter:{on(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;const r=n?"unshift":"push";return t.split(" ").forEach(o=>{i.eventsListeners[o]||(i.eventsListeners[o]=[]),i.eventsListeners[o][r](e)}),i},once(t,e,n){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;function r(){i.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];e.apply(i,u)}return r.__emitterProxy=e,i.on(t,r,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||"function"!=typeof t)return n;const i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,o)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[i].splice(o,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,i;for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return"string"==typeof o[0]||Array.isArray(o[0])?(e=o[0],n=o.slice(1,o.length),i=t):(e=o[0].events,n=o[0].data,i=o[0].context||t),n.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(p=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(y=>{y.apply(i,[p,...n])}),t.eventsListeners&&t.eventsListeners[p]&&t.eventsListeners[p].forEach(y=>{y.apply(i,n)})}),t}},update:{updateSize:function ebe(){const t=this;let e,n;const i=t.el;e=typeof t.params.width<"u"&&null!==t.params.width?t.params.width:i.clientWidth,n=typeof t.params.height<"u"&&null!==t.params.height?t.params.height:i.clientHeight,!(0===e&&t.isHorizontal()||0===n&&t.isVertical())&&(e=e-parseInt(to(i,"padding-left")||0,10)-parseInt(to(i,"padding-right")||0,10),n=n-parseInt(to(i,"padding-top")||0,10)-parseInt(to(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))},updateSlides:function tbe(){const t=this;function e(Oe){return t.isHorizontal()?Oe:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Oe]}function n(Oe,Ne){return parseFloat(Oe.getPropertyValue(e(Ne))||0)}const i=t.params,{wrapperEl:r,slidesEl:o,size:u,rtlTranslate:h,wrongRTL:p}=t,y=t.virtual&&i.virtual.enabled,w=y?t.virtual.slides.length:t.slides.length,z=M3(o,`.${t.params.slideClass}, swiper-slide`),E=y?t.virtual.slides.length:z.length;let P=[];const I=[],F=[];let $=i.slidesOffsetBefore;"function"==typeof $&&($=i.slidesOffsetBefore.call(t));let W=i.slidesOffsetAfter;"function"==typeof W&&(W=i.slidesOffsetAfter.call(t));const R=t.snapGrid.length,j=t.slidesGrid.length;let J=i.spaceBetween,ve=-$,Ve=0,Te=0;if(typeof u>"u")return;"string"==typeof J&&J.indexOf("%")>=0?J=parseFloat(J.replace("%",""))/100*u:"string"==typeof J&&(J=parseFloat(J)),t.virtualSize=-J,z.forEach(Oe=>{h?Oe.style.marginLeft="":Oe.style.marginRight="",Oe.style.marginBottom="",Oe.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(L5(r,"--swiper-centered-offset-before",""),L5(r,"--swiper-centered-offset-after",""));const Le=i.grid&&i.grid.rows>1&&t.grid;let ge;Le&&t.grid.initSlides(E);const Qe="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter(Oe=>typeof i.breakpoints[Oe].slidesPerView<"u").length>0;for(let Oe=0;Oe<E;Oe+=1){let Ne;if(ge=0,z[Oe]&&(Ne=z[Oe]),Le&&t.grid.updateSlide(Oe,Ne,E,e),!z[Oe]||"none"!==to(Ne,"display")){if("auto"===i.slidesPerView){Qe&&(z[Oe].style[e("width")]="");const He=getComputedStyle(Ne),ie=Ne.style.transform,be=Ne.style.webkitTransform;if(ie&&(Ne.style.transform="none"),be&&(Ne.style.webkitTransform="none"),i.roundLengths)ge=t.isHorizontal()?tg(Ne,"width",!0):tg(Ne,"height",!0);else{const pe=n(He,"width"),he=n(He,"padding-left"),Me=n(He,"padding-right"),Se=n(He,"margin-left"),c1=n(He,"margin-right"),P1=He.getPropertyValue("box-sizing");if(P1&&"border-box"===P1)ge=pe+Se+c1;else{const{clientWidth:Q1,offsetWidth:b1}=Ne;ge=pe+he+Me+Se+c1+(b1-Q1)}}ie&&(Ne.style.transform=ie),be&&(Ne.style.webkitTransform=be),i.roundLengths&&(ge=Math.floor(ge))}else ge=(u-(i.slidesPerView-1)*J)/i.slidesPerView,i.roundLengths&&(ge=Math.floor(ge)),z[Oe]&&(z[Oe].style[e("width")]=`${ge}px`);z[Oe]&&(z[Oe].swiperSlideSize=ge),F.push(ge),i.centeredSlides?(ve=ve+ge/2+Ve/2+J,0===Ve&&0!==Oe&&(ve=ve-u/2-J),0===Oe&&(ve=ve-u/2-J),Math.abs(ve)<.001&&(ve=0),i.roundLengths&&(ve=Math.floor(ve)),Te%i.slidesPerGroup==0&&P.push(ve),I.push(ve)):(i.roundLengths&&(ve=Math.floor(ve)),(Te-Math.min(t.params.slidesPerGroupSkip,Te))%t.params.slidesPerGroup==0&&P.push(ve),I.push(ve),ve=ve+ge+J),t.virtualSize+=ge+J,Ve=ge,Te+=1}}if(t.virtualSize=Math.max(t.virtualSize,u)+W,h&&p&&("slide"===i.effect||"coverflow"===i.effect)&&(r.style.width=`${t.virtualSize+J}px`),i.setWrapperSize&&(r.style[e("width")]=`${t.virtualSize+J}px`),Le&&t.grid.updateWrapperSize(ge,P,e),!i.centeredSlides){const Oe=[];for(let Ne=0;Ne<P.length;Ne+=1){let He=P[Ne];i.roundLengths&&(He=Math.floor(He)),P[Ne]<=t.virtualSize-u&&Oe.push(He)}P=Oe,Math.floor(t.virtualSize-u)-Math.floor(P[P.length-1])>1&&P.push(t.virtualSize-u)}if(y&&i.loop){const Oe=F[0]+J;if(i.slidesPerGroup>1){const Ne=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/i.slidesPerGroup),He=Oe*i.slidesPerGroup;for(let ie=0;ie<Ne;ie+=1)P.push(P[P.length-1]+He)}for(let Ne=0;Ne<t.virtual.slidesBefore+t.virtual.slidesAfter;Ne+=1)1===i.slidesPerGroup&&P.push(P[P.length-1]+Oe),I.push(I[I.length-1]+Oe),t.virtualSize+=Oe}if(0===P.length&&(P=[0]),0!==J){const Oe=t.isHorizontal()&&h?"marginLeft":e("marginRight");z.filter((Ne,He)=>!(i.cssMode&&!i.loop)||He!==z.length-1).forEach(Ne=>{Ne.style[Oe]=`${J}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let Oe=0;F.forEach(He=>{Oe+=He+(J||0)}),Oe-=J;const Ne=Oe-u;P=P.map(He=>He<=0?-$:He>Ne?Ne+W:He)}if(i.centerInsufficientSlides){let Oe=0;if(F.forEach(Ne=>{Oe+=Ne+(J||0)}),Oe-=J,Oe<u){const Ne=(u-Oe)/2;P.forEach((He,ie)=>{P[ie]=He-Ne}),I.forEach((He,ie)=>{I[ie]=He+Ne})}}if(Object.assign(t,{slides:z,snapGrid:P,slidesGrid:I,slidesSizesGrid:F}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){L5(r,"--swiper-centered-offset-before",-P[0]+"px"),L5(r,"--swiper-centered-offset-after",t.size/2-F[F.length-1]/2+"px");const Oe=-t.snapGrid[0],Ne=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(He=>He+Oe),t.slidesGrid=t.slidesGrid.map(He=>He+Ne)}if(E!==w&&t.emit("slidesLengthChange"),P.length!==R&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),I.length!==j&&t.emit("slidesGridLengthChange"),i.watchSlidesProgress&&t.updateSlidesOffset(),!(y||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const Oe=`${i.containerModifierClass}backface-hidden`,Ne=t.el.classList.contains(Oe);E<=i.maxBackfaceHiddenSlides?Ne||t.el.classList.add(Oe):Ne&&t.el.classList.remove(Oe)}},updateAutoHeight:function nbe(t){const e=this,n=[],i=e.virtual&&e.params.virtual.enabled;let o,r=0;"number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const u=h=>i?e.slides[e.getSlideIndexByData(h)]:e.slides[h];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(h=>{n.push(h)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const h=e.activeIndex+o;if(h>e.slides.length&&!i)break;n.push(u(h))}else n.push(u(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const h=n[o].offsetHeight;r=h>r?h:r}(r||0===r)&&(e.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function ibe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-n-t.cssOverflowAdjustment()},updateSlidesProgress:function rbe(t){void 0===t&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:i,rtlTranslate:r,snapGrid:o}=e;if(0===i.length)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-t;r&&(u=t),i.forEach(p=>{p.classList.remove(n.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let h=n.spaceBetween;"string"==typeof h&&h.indexOf("%")>=0?h=parseFloat(h.replace("%",""))/100*e.size:"string"==typeof h&&(h=parseFloat(h));for(let p=0;p<i.length;p+=1){const y=i[p];let w=y.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(w-=i[0].swiperSlideOffset);const z=(u+(n.centeredSlides?e.minTranslate():0)-w)/(y.swiperSlideSize+h),E=(u-o[0]+(n.centeredSlides?e.minTranslate():0)-w)/(y.swiperSlideSize+h),P=-(u-w),I=P+e.slidesSizesGrid[p];(P>=0&&P<e.size-1||I>1&&I<=e.size||P<=0&&I>=e.size)&&(e.visibleSlides.push(y),e.visibleSlidesIndexes.push(p),i[p].classList.add(n.slideVisibleClass)),y.progress=r?-z:z,y.originalProgress=r?-E:E}},updateProgress:function abe(t){const e=this;typeof t>"u"&&(t=e&&e.translate&&e.translate*(e.rtlTranslate?-1:1)||0);const n=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:o,isEnd:u,progressLoop:h}=e;const p=o,y=u;if(0===i)r=0,o=!0,u=!0;else{r=(t-e.minTranslate())/i;const w=Math.abs(t-e.minTranslate())<1,z=Math.abs(t-e.maxTranslate())<1;o=w||r<=0,u=z||r>=1,w&&(r=0),z&&(r=1)}if(n.loop){const w=e.getSlideIndexByData(0),z=e.getSlideIndexByData(e.slides.length-1),E=e.slidesGrid[w],P=e.slidesGrid[z],I=e.slidesGrid[e.slidesGrid.length-1],F=Math.abs(t);h=F>=E?(F-E)/I:(F+I-P)/I,h>1&&(h-=1)}Object.assign(e,{progress:r,progressLoop:h,isBeginning:o,isEnd:u}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!p&&e.emit("reachBeginning toEdge"),u&&!y&&e.emit("reachEnd toEdge"),(p&&!o||y&&!u)&&e.emit("fromEdge"),e.emit("progress",r)},updateSlidesClasses:function sbe(){const t=this,{slides:e,params:n,slidesEl:i,activeIndex:r}=t,o=t.virtual&&n.virtual.enabled,u=p=>M3(i,`.${n.slideClass}${p}, swiper-slide${p}`)[0];let h;if(e.forEach(p=>{p.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)}),o)if(n.loop){let p=r-t.virtual.slidesBefore;p<0&&(p=t.virtual.slides.length+p),p>=t.virtual.slides.length&&(p-=t.virtual.slides.length),h=u(`[data-swiper-slide-index="${p}"]`)}else h=u(`[data-swiper-slide-index="${r}"]`);else h=e[r];if(h){h.classList.add(n.slideActiveClass);let p=function qxe(t,e){const n=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}(h,`.${n.slideClass}, swiper-slide`)[0];n.loop&&!p&&(p=e[0]),p&&p.classList.add(n.slideNextClass);let y=function jxe(t,e){const n=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&n.push(i):n.push(i),t=i}return n}(h,`.${n.slideClass}, swiper-slide`)[0];n.loop&&0===!y&&(y=e[e.length-1]),y&&y.classList.add(n.slidePrevClass)}t.emitSlidesClasses()},updateActiveIndex:function cbe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:o,realIndex:u,snapIndex:h}=e;let y,p=t;const w=E=>{let P=E-e.virtual.slidesBefore;return P<0&&(P=e.virtual.slides.length+P),P>=e.virtual.slides.length&&(P-=e.virtual.slides.length),P};if(typeof p>"u"&&(p=function obe(t){const{slidesGrid:e,params:n}=t,i=t.rtlTranslate?t.translate:-t.translate;let r;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?i>=e[o]&&i<e[o+1]-(e[o+1]-e[o])/2?r=o:i>=e[o]&&i<e[o+1]&&(r=o+1):i>=e[o]&&(r=o);return n.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}(e)),i.indexOf(n)>=0)y=i.indexOf(n);else{const E=Math.min(r.slidesPerGroupSkip,p);y=E+Math.floor((p-E)/r.slidesPerGroup)}if(y>=i.length&&(y=i.length-1),p===o)return y!==h&&(e.snapIndex=y,e.emit("snapIndexChange")),void(e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=w(p)));let z;z=e.virtual&&r.virtual.enabled&&r.loop?w(p):e.slides[p]?parseInt(e.slides[p].getAttribute("data-swiper-slide-index")||p,10):p,Object.assign(e,{previousSnapIndex:h,snapIndex:y,previousRealIndex:u,realIndex:z,previousIndex:o,activeIndex:p}),e.initialized&&sg(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==z&&e.emit("realIndexChange"),e.emit("slideChange"))},updateClickedSlide:function lbe(t,e){const n=this,i=n.params;let r=t.closest(`.${i.slideClass}, swiper-slide`);!r&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(h=>{!r&&h.matches&&h.matches(`.${i.slideClass}, swiper-slide`)&&(r=h)});let u,o=!1;if(r)for(let h=0;h<n.slides.length;h+=1)if(n.slides[h]===r){o=!0,u=h;break}if(!r||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=r,n.clickedIndex=n.virtual&&n.params.virtual.enabled?parseInt(r.getAttribute("data-swiper-slide-index"),10):u,i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},translate:{getTranslate:function fbe(t){void 0===t&&(t=this.isHorizontal()?"x":"y");const{params:n,rtlTranslate:i,translate:r,wrapperEl:o}=this;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let u=eg(o,t);return u+=this.cssOverflowAdjustment(),i&&(u=-u),u||0},setTranslate:function hbe(t,e){const n=this,{rtlTranslate:i,params:r,wrapperEl:o,progress:u}=n;let w,h=0,p=0;n.isHorizontal()?h=i?-t:t:p=t,r.roundLengths&&(h=Math.floor(h),p=Math.floor(p)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?h:p,r.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-h:-p:r.virtualTranslate||(n.isHorizontal()?h-=n.cssOverflowAdjustment():p-=n.cssOverflowAdjustment(),o.style.transform=`translate3d(${h}px, ${p}px, 0px)`);const z=n.maxTranslate()-n.minTranslate();w=0===z?0:(t-n.minTranslate())/z,w!==u&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)},minTranslate:function dbe(){return-this.snapGrid[0]},maxTranslate:function pbe(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function mbe(t,e,n,i,r){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),void 0===i&&(i=!0);const o=this,{params:u,wrapperEl:h}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const p=o.minTranslate(),y=o.maxTranslate();let w;if(w=i&&t>p?p:i&&t<y?y:t,o.updateProgress(w),u.cssMode){const z=o.isHorizontal();if(0===e)h[z?"scrollLeft":"scrollTop"]=-w;else{if(!o.support.smoothScroll)return fD({swiper:o,targetPosition:-w,side:z?"left":"top"}),!0;h.scrollTo({[z?"left":"top"]:-w,behavior:"smooth"})}return!0}return 0===e?(o.setTransition(0),o.setTranslate(w),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(w),n&&(o.emit("beforeTransitionStart",e,r),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(E){!o||o.destroyed||E.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function vbe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=0===t?"0ms":""),n.emit("setTransition",t,e)},transitionStart:function ybe(t,e){void 0===t&&(t=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),dD({swiper:n,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function _be(t,e){void 0===t&&(t=!0);const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),dD({swiper:n,runCallbacks:t,direction:e,step:"End"}))}},slide:{slideTo:function xbe(t,e,n,i,r){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),"string"==typeof t&&(t=parseInt(t,10));const o=this;let u=t;u<0&&(u=0);const{params:h,snapGrid:p,slidesGrid:y,previousIndex:w,activeIndex:z,rtlTranslate:E,wrapperEl:P,enabled:I}=o;if(o.animating&&h.preventInteractionOnTransition||!I&&!i&&!r)return!1;const F=Math.min(o.params.slidesPerGroupSkip,u);let $=F+Math.floor((u-F)/o.params.slidesPerGroup);$>=p.length&&($=p.length-1);const W=-p[$];if(h.normalizeSlideIndex)for(let j=0;j<y.length;j+=1){const J=-Math.floor(100*W),ve=Math.floor(100*y[j]),Ve=Math.floor(100*y[j+1]);typeof y[j+1]<"u"?J>=ve&&J<Ve-(Ve-ve)/2?u=j:J>=ve&&J<Ve&&(u=j+1):J>=ve&&(u=j)}if(o.initialized&&u!==z&&(!o.allowSlideNext&&(E?W>o.translate&&W>o.minTranslate():W<o.translate&&W<o.minTranslate())||!o.allowSlidePrev&&W>o.translate&&W>o.maxTranslate()&&(z||0)!==u))return!1;let R;if(u!==(w||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(W),R=u>z?"next":u<z?"prev":"reset",E&&-W===o.translate||!E&&W===o.translate)return o.updateActiveIndex(u),h.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==h.effect&&o.setTranslate(W),"reset"!==R&&(o.transitionStart(n,R),o.transitionEnd(n,R)),!1;if(h.cssMode){const j=o.isHorizontal(),J=E?W:-W;if(0===e){const ve=o.virtual&&o.params.virtual.enabled;ve&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),ve&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{P[j?"scrollLeft":"scrollTop"]=J})):P[j?"scrollLeft":"scrollTop"]=J,ve&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1})}else{if(!o.support.smoothScroll)return fD({swiper:o,targetPosition:J,side:j?"left":"top"}),!0;P.scrollTo({[j?"left":"top"]:J,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(W),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,i),o.transitionStart(n,R),0===e?o.transitionEnd(n,R):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(J){!o||o.destroyed||J.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,R))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function bbe(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),"string"==typeof t&&(t=parseInt(t,10));const r=this;let o=t;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?o+=r.virtual.slidesBefore:o=r.getSlideIndexByData(o)),r.slideTo(o,e,n,i)},slideNext:function Mbe(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);const i=this,{enabled:r,params:o,animating:u}=i;if(!r)return i;let h=o.slidesPerGroup;"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(h=Math.max(i.slidesPerViewDynamic("current",!0),1));const p=i.activeIndex<o.slidesPerGroupSkip?1:h;if(o.loop){if(u&&(!i.virtual||!o.virtual.enabled)&&o.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+p)}),!0}return o.rewind&&i.isEnd?i.slideTo(0,t,e,n):i.slideTo(i.activeIndex+p)},slidePrev:function wbe(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);const i=this,{params:r,snapGrid:o,slidesGrid:u,rtlTranslate:h,enabled:p,animating:y}=i;if(!p)return i;if(r.loop){if(y&&(!i.virtual||!r.virtual.enabled)&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function E(W){return W<0?-Math.floor(Math.abs(W)):Math.floor(W)}const P=E(h?i.translate:-i.translate),I=o.map(W=>E(W));let F=o[I.indexOf(P)-1];if(typeof F>"u"&&r.cssMode){let W;o.forEach((R,j)=>{P>=R&&(W=j)}),typeof W<"u"&&(F=o[W>0?W-1:W])}let $=0;return typeof F<"u"&&($=u.indexOf(F),$<0&&($=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&($=$-i.slidesPerViewDynamic("previous",!0)+1,$=Math.max($,0))),r.rewind&&i.isBeginning?i.slideTo(i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1,t,e,n):r.loop&&0===i.activeIndex&&r.cssMode?(requestAnimationFrame(()=>{i.slideTo($,t,e,n)}),!0):i.slideTo($,t,e,n)},slideReset:function zbe(t,e,n){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function Sbe(t,e,n,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===i&&(i=.5);const r=this;let o=r.activeIndex;const u=Math.min(r.params.slidesPerGroupSkip,o),h=u+Math.floor((o-u)/r.params.slidesPerGroup),p=r.rtlTranslate?r.translate:-r.translate;if(p>=r.snapGrid[h]){const y=r.snapGrid[h];p-y>(r.snapGrid[h+1]-y)*i&&(o+=r.params.slidesPerGroup)}else{const y=r.snapGrid[h-1];p-y<=(r.snapGrid[h]-y)*i&&(o-=r.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,r.slidesGrid.length-1),r.slideTo(o,t,e,n)},slideToClickedSlide:function Hbe(){const t=this,{params:e,slidesEl:n}=t,i="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let o,r=t.clickedIndex;const u=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<t.loopedSlides-i/2||r>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),r=t.getSlideIndex(M3(n,`${u}[data-swiper-slide-index="${o}"]`)[0]),m6(()=>{t.slideTo(r)})):t.slideTo(r):r>t.slides.length-i?(t.loopFix(),r=t.getSlideIndex(M3(n,`${u}[data-swiper-slide-index="${o}"]`)[0]),m6(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}},loop:{loopCreate:function Vbe(t){const e=this,{params:n,slidesEl:i}=e;!n.loop||e.virtual&&e.params.virtual.enabled||(M3(i,`.${n.slideClass}, swiper-slide`).forEach((o,u)=>{o.setAttribute("data-swiper-slide-index",u)}),e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"}))},loopFix:function Ebe(t){let{slideRealIndex:e,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:o,byController:u,byMousewheel:h}=void 0===t?{}:t;const p=this;if(!p.params.loop)return;p.emit("beforeLoopFix");const{slides:y,allowSlidePrev:w,allowSlideNext:z,slidesEl:E,params:P}=p;if(p.allowSlidePrev=!0,p.allowSlideNext=!0,p.virtual&&P.virtual.enabled)return n&&(P.centeredSlides||0!==p.snapIndex?P.centeredSlides&&p.snapIndex<P.slidesPerView?p.slideTo(p.virtual.slides.length+p.snapIndex,0,!1,!0):p.snapIndex===p.snapGrid.length-1&&p.slideTo(p.virtual.slidesBefore,0,!1,!0):p.slideTo(p.virtual.slides.length,0,!1,!0)),p.allowSlidePrev=w,p.allowSlideNext=z,void p.emit("loopFix");const I="auto"===P.slidesPerView?p.slidesPerViewDynamic():Math.ceil(parseFloat(P.slidesPerView,10));let F=P.loopedSlides||I;F%P.slidesPerGroup!=0&&(F+=P.slidesPerGroup-F%P.slidesPerGroup),p.loopedSlides=F;const $=[],W=[];let R=p.activeIndex;typeof o>"u"?o=p.getSlideIndex(p.slides.filter(Te=>Te.classList.contains(P.slideActiveClass))[0]):R=o;const j="next"===i||!i,J="prev"===i||!i;let ve=0,Ve=0;if(o<F){ve=Math.max(F-o,P.slidesPerGroup);for(let Te=0;Te<F-o;Te+=1){const Le=Te-Math.floor(Te/y.length)*y.length;$.push(y.length-Le-1)}}else if(o>p.slides.length-2*F){Ve=Math.max(o-(p.slides.length-2*F),P.slidesPerGroup);for(let Te=0;Te<Ve;Te+=1){const Le=Te-Math.floor(Te/y.length)*y.length;W.push(Le)}}if(J&&$.forEach(Te=>{p.slides[Te].swiperLoopMoveDOM=!0,E.prepend(p.slides[Te]),p.slides[Te].swiperLoopMoveDOM=!1}),j&&W.forEach(Te=>{p.slides[Te].swiperLoopMoveDOM=!0,E.append(p.slides[Te]),p.slides[Te].swiperLoopMoveDOM=!1}),p.recalcSlides(),"auto"===P.slidesPerView&&p.updateSlides(),P.watchSlidesProgress&&p.updateSlidesOffset(),n)if($.length>0&&J)if(typeof e>"u"){const ge=p.slidesGrid[R+ve]-p.slidesGrid[R];h?p.setTranslate(p.translate-ge):(p.slideTo(R+ve,0,!1,!0),r&&(p.touches[p.isHorizontal()?"startX":"startY"]+=ge,p.touchEventsData.currentTranslate=p.translate))}else r&&(p.slideToLoop(e,0,!1,!0),p.touchEventsData.currentTranslate=p.translate);else if(W.length>0&&j)if(typeof e>"u"){const ge=p.slidesGrid[R-Ve]-p.slidesGrid[R];h?p.setTranslate(p.translate-ge):(p.slideTo(R-Ve,0,!1,!0),r&&(p.touches[p.isHorizontal()?"startX":"startY"]+=ge,p.touchEventsData.currentTranslate=p.translate))}else p.slideToLoop(e,0,!1,!0);if(p.allowSlidePrev=w,p.allowSlideNext=z,p.controller&&p.controller.control&&!u){const Te={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:o,byController:!0};Array.isArray(p.controller.control)?p.controller.control.forEach(Le=>{!Le.destroyed&&Le.params.loop&&Le.loopFix({...Te,slideTo:Le.params.slidesPerView===P.slidesPerView&&n})}):p.controller.control instanceof p.constructor&&p.controller.control.params.loop&&p.controller.control.loopFix({...Te,slideTo:p.controller.control.params.slidesPerView===P.slidesPerView&&n})}p.emit("loopFix")},loopDestroy:function Tbe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(r=>{const o=typeof r.swiperSlideIndex>"u"?1*r.getAttribute("data-swiper-slide-index"):r.swiperSlideIndex;i[o]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{n.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}},grabCursor:{setGrabCursor:function Dbe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})},unsetGrabCursor:function Abe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}},events:{attachEvents:function jbe(){const t=this,e=N3(),{params:n}=t;t.onTouchStart=Nbe.bind(t),t.onTouchMove=Obe.bind(t),t.onTouchEnd=Rbe.bind(t),n.cssMode&&(t.onScroll=Bbe.bind(t)),t.onClick=Fbe.bind(t),t.onLoad=Ube.bind(t),mD||(e.addEventListener("touchstart",$be),mD=!0),gD(t,"on")},detachEvents:function qbe(){gD(this,"off")}},breakpoints:{setBreakpoint:function Wbe(){const t=this,{realIndex:e,initialized:n,params:i,el:r}=t,o=i.breakpoints;if(!o||o&&0===Object.keys(o).length)return;const u=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!u||t.currentBreakpoint===u)return;const p=(u in o?o[u]:void 0)||t.originalParams,y=vD(t,i),w=vD(t,p),z=i.enabled;y&&!w?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!y&&w&&(r.classList.add(`${i.containerModifierClass}grid`),(p.grid.fill&&"column"===p.grid.fill||!p.grid.fill&&"column"===i.grid.fill)&&r.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(W=>{if(typeof p[W]>"u")return;const R=i[W]&&i[W].enabled,j=p[W]&&p[W].enabled;R&&!j&&t[W].disable(),!R&&j&&t[W].enable()});const E=p.direction&&p.direction!==i.direction,P=i.loop&&(p.slidesPerView!==i.slidesPerView||E),I=i.loop;E&&n&&t.changeDirection(),Yi(t.params,p);const F=t.params.enabled,$=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),z&&!F?t.disable():!z&&F&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",p),n&&(P?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!I&&$?(t.loopCreate(e),t.updateSlides()):I&&!$&&t.loopDestroy()),t.emit("breakpoint",p)},getBreakpoint:function Zbe(t,e,n){if(void 0===e&&(e="window"),!t||"container"===e&&!n)return;let i=!1;const r=on(),o="window"===e?r.innerHeight:n.clientHeight,u=Object.keys(t).map(h=>{if("string"==typeof h&&0===h.indexOf("@")){const p=parseFloat(h.substr(1));return{value:o*p,point:h}}return{value:h,point:h}});u.sort((h,p)=>parseInt(h.value,10)-parseInt(p.value,10));for(let h=0;h<u.length;h+=1){const{point:p,value:y}=u[h];"window"===e?r.matchMedia(`(min-width: ${y}px)`).matches&&(i=p):y<=n.clientWidth&&(i=p)}return i||"max"}},checkOverflow:{checkOverflow:function eMe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:i}=n;if(i){const r=t.slides.length-1;t.isLocked=t.size>t.slidesGrid[r]+t.slidesSizesGrid[r]+2*i}else t.isLocked=1===t.snapGrid.length;!0===n.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===n.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:{addClasses:function Kbe(){const t=this,{classNames:e,params:n,rtl:i,el:r,device:o}=t,u=function Ybe(t,e){const n=[];return t.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&n.push(e+r)}):"string"==typeof i&&n.push(e+i)}),n}(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...u),r.classList.add(...e),t.emitContainerClasses()},removeClasses:function Qbe(){const{el:e,classNames:n}=this;e.classList.remove(...n),this.emitContainerClasses()}}},lg={};class Ki{constructor(){let e,n;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?n=r[0]:[e,n]=r,n||(n={}),n=Yi({},n),e&&!n.el&&(n.el=e);const u=N3();if(n.el&&"string"==typeof n.el&&u.querySelectorAll(n.el).length>1){const w=[];return u.querySelectorAll(n.el).forEach(z=>{const E=Yi({},n,{el:z});w.push(new Ki(E))}),w}const h=this;h.__swiper__=!0,h.support=hD(),h.device=function Zxe(t){return void 0===t&&(t={}),ig||(ig=function Wxe(t){let{userAgent:e}=void 0===t?{}:t;const n=hD(),i=on(),r=i.navigator.platform,o=e||i.navigator.userAgent,u={ios:!1,android:!1},h=i.screen.width,p=i.screen.height,y=o.match(/(Android);?[\s\/]+([\d.]+)?/);let w=o.match(/(iPad).*OS\s([\d_]+)/);const z=o.match(/(iPod)(.*OS\s([\d_]+))?/),E=!w&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),P="Win32"===r;let I="MacIntel"===r;return!w&&I&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${h}x${p}`)>=0&&(w=o.match(/(Version)\/([\d.]+)/),w||(w=[0,1,"13_0_0"]),I=!1),y&&!P&&(u.os="android",u.android=!0),(w||E||z)&&(u.os="ios",u.ios=!0),u}(t)),ig}({userAgent:n.userAgent}),h.browser=function Yxe(){return rg||(rg=function Xxe(){const t=on();let e=!1;function n(){const i=t.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(n()){const i=String(t.navigator.userAgent);if(i.includes("Version/")){const[r,o]=i.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));e=r<16||16===r&&o<2}}return{isSafari:e||n(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),rg}(),h.eventsListeners={},h.eventsAnyListeners=[],h.modules=[...h.__modules__],n.modules&&Array.isArray(n.modules)&&h.modules.push(...n.modules);const p={};h.modules.forEach(w=>{w({params:n,swiper:h,extendParams:nMe(n,p),on:h.on.bind(h),once:h.once.bind(h),off:h.off.bind(h),emit:h.emit.bind(h)})});const y=Yi({},og,p);return h.params=Yi({},y,lg,n),h.originalParams=Yi({},h.params),h.passedParams=Yi({},n),h.params&&h.params.on&&Object.keys(h.params.on).forEach(w=>{h.on(w,h.params.on[w])}),h.params&&h.params.onAny&&h.onAny(h.params.onAny),Object.assign(h,{enabled:h.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===h.params.direction,isVertical:()=>"vertical"===h.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:h.params.allowSlideNext,allowSlidePrev:h.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:h.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:h.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),h.emit("_swiper"),h.params.init&&h.init(),h}getSlideIndex(e){const{slidesEl:n,params:i}=this,o=V5(M3(n,`.${i.slideClass}, swiper-slide`)[0]);return V5(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>1*n.getAttribute("data-swiper-slide-index")===e)[0])}recalcSlides(){const{slidesEl:n,params:i}=this;this.slides=M3(n,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),u=(i.maxTranslate()-r)*e+r;i.translateTo(u,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(n.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);n.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){void 0===e&&(e="current"),void 0===n&&(n=!1);const{params:r,slides:o,slidesGrid:u,slidesSizesGrid:h,size:p,activeIndex:y}=this;let w=1;if("number"==typeof r.slidesPerView)return r.slidesPerView;if(r.centeredSlides){let E,z=o[y]?o[y].swiperSlideSize:0;for(let P=y+1;P<o.length;P+=1)o[P]&&!E&&(z+=o[P].swiperSlideSize,w+=1,z>p&&(E=!0));for(let P=y-1;P>=0;P-=1)o[P]&&!E&&(z+=o[P].swiperSlideSize,w+=1,z>p&&(E=!0))}else if("current"===e)for(let z=y+1;z<o.length;z+=1)(n?u[z]+h[z]-u[y]<p:u[z]-u[y]<p)&&(w+=1);else for(let z=y-1;z>=0;z-=1)u[y]-u[z]<p&&(w+=1);return w}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:i}=e;function r(){const h=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let o;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&au(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode?(r(),i.autoHeight&&e.updateAutoHeight()):(o=e.slideTo(("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides?(e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides).length-1:e.activeIndex,0,!1,!0),o||r()),i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){void 0===n&&(n=!0);const i=this,r=i.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(o=>{"vertical"===e?o.style.width="":o.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(e){const n=this;n.rtl&&"rtl"===e||!n.rtl&&"ltr"===e||(n.rtl="rtl"===e,n.rtlTranslate="horizontal"===n.params.direction&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let i=e||n.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=n,i.parentNode&&i.parentNode.host&&"SWIPER-CONTAINER"===i.parentNode.host.nodeName&&(n.isElement=!0);const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):M3(i,r())[0];return!u&&n.params.createElements&&(u=y4("div",n.params.wrapperClass),i.append(u),M3(i,`.${n.params.slideClass}`).forEach(h=>{u.append(h)})),Object.assign(n,{el:i,wrapperEl:u,slidesEl:n.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:u,hostEl:n.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===to(i,"direction"),rtlTranslate:"horizontal"===n.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===to(i,"direction")),wrongRTL:"-webkit-box"===to(u,"display")}),!0}init(e){const n=this;if(n.initialized||!1===n.mount(e))return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.slideTo(n.params.loop&&n.virtual&&n.params.virtual.enabled?n.params.initialSlide+n.virtual.slidesBefore:n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const r=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&r.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(o=>{o.complete?au(n,o):o.addEventListener("load",u=>{au(n,u.target)})}),sg(n),n.initialized=!0,sg(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);const i=this,{params:r,el:o,wrapperEl:u,slides:h}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),o.removeAttribute("style"),u.removeAttribute("style"),h&&h.length&&h.forEach(p=>{p.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(p=>{i.off(p)}),!1!==e&&(i.el.swiper=null,function Bxe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}(i)),i.destroyed=!0),null}static extendDefaults(e){Yi(lg,e)}static get extendedDefaults(){return lg}static get defaults(){return og}static installModule(e){Ki.prototype.__modules__||(Ki.prototype.__modules__=[]);const n=Ki.prototype.__modules__;"function"==typeof e&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Ki.installModule(n)),Ki):(Ki.installModule(e),Ki)}}function ug(t,e,n,i){return t.params.createElements&&Object.keys(i).forEach(r=>{if(!n[r]&&!0===n.auto){let o=M3(t.el,`.${i[r]}`)[0];o||(o=y4("div",i[r]),o.className=i[r],t.el.append(o)),n[r]=o,e[r]=o}}),n}function no(t){return void 0===t&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function _Me(t){const e=this,{params:n,slidesEl:i}=e;n.loop&&e.loopDestroy();const r=o=>{if("string"==typeof o){const u=document.createElement("div");u.innerHTML=o,i.append(u.children[0]),u.innerHTML=""}else i.append(o)};if("object"==typeof t&&"length"in t)for(let o=0;o<t.length;o+=1)t[o]&&r(t[o]);else r(t);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update()}function CMe(t){const e=this,{params:n,activeIndex:i,slidesEl:r}=e;n.loop&&e.loopDestroy();let o=i+1;const u=h=>{if("string"==typeof h){const p=document.createElement("div");p.innerHTML=h,r.prepend(p.children[0]),p.innerHTML=""}else r.prepend(h)};if("object"==typeof t&&"length"in t){for(let h=0;h<t.length;h+=1)t[h]&&u(t[h]);o=i+t.length}else u(t);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update(),e.slideTo(o,0,!1)}function xMe(t,e){const n=this,{params:i,activeIndex:r,slidesEl:o}=n;let u=r;i.loop&&(u-=n.loopedSlides,n.loopDestroy(),n.recalcSlides());const h=n.slides.length;if(t<=0)return void n.prependSlide(e);if(t>=h)return void n.appendSlide(e);let p=u>t?u+1:u;const y=[];for(let w=h-1;w>=t;w-=1){const z=n.slides[w];z.remove(),y.unshift(z)}if("object"==typeof e&&"length"in e){for(let w=0;w<e.length;w+=1)e[w]&&o.append(e[w]);p=u>t?u+e.length:u}else o.append(e);for(let w=0;w<y.length;w+=1)o.append(y[w]);n.recalcSlides(),i.loop&&n.loopCreate(),(!i.observer||n.isElement)&&n.update(),n.slideTo(i.loop?p+n.loopedSlides:p,0,!1)}function bMe(t){const e=this,{params:n,activeIndex:i}=e;let r=i;n.loop&&(r-=e.loopedSlides,e.loopDestroy());let u,o=r;if("object"==typeof t&&"length"in t){for(let h=0;h<t.length;h+=1)u=t[h],e.slides[u]&&e.slides[u].remove(),u<o&&(o-=1);o=Math.max(o,0)}else u=t,e.slides[u]&&e.slides[u].remove(),u<o&&(o-=1),o=Math.max(o,0);e.recalcSlides(),n.loop&&e.loopCreate(),(!n.observer||e.isElement)&&e.update(),e.slideTo(n.loop?o+e.loopedSlides:o,0,!1)}function MMe(){const t=this,e=[];for(let n=0;n<t.slides.length;n+=1)e.push(n);t.removeSlide(e)}function n0(t){const{effect:e,swiper:n,on:i,setTranslate:r,setTransition:o,overwriteParams:u,perspective:h,recreateShadows:p,getEffectParams:y}=t;let w;i("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),h&&h()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const z=u?u():{};Object.assign(n.params,z),Object.assign(n.originalParams,z)}),i("setTranslate",()=>{n.params.effect===e&&r()}),i("setTransition",(z,E)=>{n.params.effect===e&&o(E)}),i("transitionEnd",()=>{if(n.params.effect===e&&p){if(!y||!y().slideShadows)return;n.slides.forEach(z=>{z.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(E=>E.remove())}),p()}}),i("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(w=!0),requestAnimationFrame(()=>{w&&n.slides&&n.slides.length&&(r(),w=!1)}))})}function T5(t,e){const n=g6(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function su(t){let{swiper:e,duration:n,transformElements:i,allSlides:r}=t;const{activeIndex:o}=e;if(e.params.virtualTranslate&&0!==n){let p,h=!1;p=r?i:i.filter(y=>{const w=y.classList.contains("swiper-slide-transform")?(h=>h.parentElement?h.parentElement:e.slides.filter(y=>y.shadowRoot&&y.shadowRoot===h.parentNode)[0])(y):y;return e.getSlideIndex(w)===o}),p.forEach(y=>{E5(y,()=>{if(h||!e||e.destroyed)return;h=!0,e.animating=!1;const w=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(w)})})}}function r0(t,e,n){const i=`swiper-slide-shadow${n?`-${n}`:""}${t?` swiper-slide-shadow-${t}`:""}`,r=g6(e);let o=r.querySelector(`.${i.split(" ").join(".")}`);return o||(o=y4("div",i.split(" ")),r.append(o)),o}Object.keys(cg).forEach(t=>{Object.keys(cg[t]).forEach(e=>{Ki.prototype[e]=cg[t][e]})}),Ki.use([function Kxe(t){let{swiper:e,on:n,emit:i}=t;const r=on();let o=null,u=null;const h=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},w=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};n("init",()=>{e.params.resizeObserver&&typeof r.ResizeObserver<"u"?!e||e.destroyed||!e.initialized||(o=new ResizeObserver(z=>{u=r.requestAnimationFrame(()=>{const{width:E,height:P}=e;let I=E,F=P;z.forEach($=>{let{contentBoxSize:W,contentRect:R,target:j}=$;j&&j!==e.el||(I=R?R.width:(W[0]||W).inlineSize,F=R?R.height:(W[0]||W).blockSize)}),(I!==E||F!==P)&&h()})}),o.observe(e.el)):(r.addEventListener("resize",h),r.addEventListener("orientationchange",w))}),n("destroy",()=>{u&&r.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null),r.removeEventListener("resize",h),r.removeEventListener("orientationchange",w)})},function Qxe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=[],u=on(),h=function(w,z){void 0===z&&(z={});const P=new(u.MutationObserver||u.WebkitMutationObserver)(I=>{if(e.__preventObserver__)return;if(1===I.length)return void r("observerUpdate",I[0]);const F=function(){r("observerUpdate",I[0])};u.requestAnimationFrame?u.requestAnimationFrame(F):u.setTimeout(F,0)});P.observe(w,{attributes:typeof z.attributes>"u"||z.attributes,childList:typeof z.childList>"u"||z.childList,characterData:typeof z.characterData>"u"||z.characterData}),o.push(P)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(e.params.observer){if(e.params.observeParents){const w=v6(e.hostEl);for(let z=0;z<w.length;z+=1)h(w[z])}h(e.hostEl,{childList:e.params.observeSlideChildren}),h(e.wrapperEl,{attributes:!1})}}),i("destroy",()=>{o.forEach(w=>{w.disconnect()}),o.splice(0,o.length)})}]),Ki.use([function iMe(t){let o,{swiper:e,extendParams:n,on:i,emit:r}=t;n({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const u=N3();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const h=u.createElement("div");function p(I,F){const $=e.params.virtual;if($.cache&&e.virtual.cache[F])return e.virtual.cache[F];let W;return $.renderSlide?(W=$.renderSlide.call(e,I,F),"string"==typeof W&&(h.innerHTML=W,W=h.children[0])):W=e.isElement?y4("swiper-slide"):y4("div",e.params.slideClass),W.setAttribute("data-swiper-slide-index",F),$.renderSlide||(W.innerHTML=I),$.cache&&(e.virtual.cache[F]=W),W}function y(I){const{slidesPerView:F,slidesPerGroup:$,centeredSlides:W,loop:R}=e.params,{addSlidesBefore:j,addSlidesAfter:J}=e.params.virtual,{from:ve,to:Ve,slides:Te,slidesGrid:Le,offset:ge}=e.virtual;e.params.cssMode||e.updateActiveIndex();const Qe=e.activeIndex||0;let Oe,Ne,He;Oe=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",W?(Ne=Math.floor(F/2)+$+J,He=Math.floor(F/2)+$+j):(Ne=F+($-1)+J,He=(R?F:$)+j);let ie=Qe-He,be=Qe+Ne;R||(ie=Math.max(ie,0),be=Math.min(be,Te.length-1));let pe=(e.slidesGrid[ie]||0)-(e.slidesGrid[0]||0);function he(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r("virtualUpdate")}if(R&&Qe>=He?(ie-=He,W||(pe+=e.slidesGrid[0])):R&&Qe<He&&(ie=-He,W&&(pe+=e.slidesGrid[0])),Object.assign(e.virtual,{from:ie,to:be,offset:pe,slidesGrid:e.slidesGrid,slidesBefore:He,slidesAfter:Ne}),ve===ie&&Ve===be&&!I)return e.slidesGrid!==Le&&pe!==ge&&e.slides.forEach(b1=>{b1.style[Oe]=pe-Math.abs(e.cssOverflowAdjustment())+"px"}),e.updateProgress(),void r("virtualUpdate");if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:pe,from:ie,to:be,slides:function(){const $1=[];for(let An=ie;An<=be;An+=1)$1.push(Te[An]);return $1}()}),void(e.params.virtual.renderExternalUpdate?he():r("virtualUpdate"));const Me=[],Se=[],c1=b1=>{let $1=b1;return b1<0?$1=Te.length+b1:$1>=Te.length&&($1-=Te.length),$1};if(I)e.slides.filter(b1=>b1.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(b1=>{b1.remove()});else for(let b1=ve;b1<=Ve;b1+=1)if(b1<ie||b1>be){const $1=c1(b1);e.slides.filter(An=>An.matches(`.${e.params.slideClass}[data-swiper-slide-index="${$1}"], swiper-slide[data-swiper-slide-index="${$1}"]`)).forEach(An=>{An.remove()})}const Q1=R?2*Te.length:Te.length;for(let b1=R?-Te.length:0;b1<Q1;b1+=1)if(b1>=ie&&b1<=be){const $1=c1(b1);typeof Ve>"u"||I?Se.push($1):(b1>Ve&&Se.push($1),b1<ve&&Me.push($1))}if(Se.forEach(b1=>{e.slidesEl.append(p(Te[b1],b1))}),R)for(let b1=Me.length-1;b1>=0;b1-=1){const $1=Me[b1];e.slidesEl.prepend(p(Te[$1],$1))}else Me.sort((b1,$1)=>$1-b1),Me.forEach(b1=>{e.slidesEl.prepend(p(Te[b1],b1))});M3(e.slidesEl,".swiper-slide, swiper-slide").forEach(b1=>{b1.style[Oe]=pe-Math.abs(e.cssOverflowAdjustment())+"px"}),he()}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let I;if(typeof e.passedParams.virtual.slides>"u"){const F=[...e.slidesEl.children].filter($=>$.matches(`.${e.params.slideClass}, swiper-slide`));F&&F.length&&(e.virtual.slides=[...F],I=!0,F.forEach(($,W)=>{$.setAttribute("data-swiper-slide-index",W),e.virtual.cache[W]=$,$.remove()}))}I||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,y()}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(o),o=setTimeout(()=>{y()},100)):y())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&L5(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:function w(I){if("object"==typeof I&&"length"in I)for(let F=0;F<I.length;F+=1)I[F]&&e.virtual.slides.push(I[F]);else e.virtual.slides.push(I);y(!0)},prependSlide:function z(I){const F=e.activeIndex;let $=F+1,W=1;if(Array.isArray(I)){for(let R=0;R<I.length;R+=1)I[R]&&e.virtual.slides.unshift(I[R]);$=F+I.length,W=I.length}else e.virtual.slides.unshift(I);if(e.params.virtual.cache){const R=e.virtual.cache,j={};Object.keys(R).forEach(J=>{const ve=R[J],Ve=ve.getAttribute("data-swiper-slide-index");Ve&&ve.setAttribute("data-swiper-slide-index",parseInt(Ve,10)+W),j[parseInt(J,10)+W]=ve}),e.virtual.cache=j}y(!0),e.slideTo($,0)},removeSlide:function E(I){if(typeof I>"u"||null===I)return;let F=e.activeIndex;if(Array.isArray(I))for(let $=I.length-1;$>=0;$-=1)e.params.virtual.cache&&(delete e.virtual.cache[I[$]],Object.keys(e.virtual.cache).forEach(W=>{W>I&&(e.virtual.cache[W-1]=e.virtual.cache[W],e.virtual.cache[W-1].setAttribute("data-swiper-slide-index",W-1),delete e.virtual.cache[W])})),e.virtual.slides.splice(I[$],1),I[$]<F&&(F-=1),F=Math.max(F,0);else e.params.virtual.cache&&(delete e.virtual.cache[I],Object.keys(e.virtual.cache).forEach($=>{$>I&&(e.virtual.cache[$-1]=e.virtual.cache[$],e.virtual.cache[$-1].setAttribute("data-swiper-slide-index",$-1),delete e.virtual.cache[$])})),e.virtual.slides.splice(I,1),I<F&&(F-=1),F=Math.max(F,0);y(!0),e.slideTo(F,0)},removeAllSlides:function P(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),y(!0),e.slideTo(0,0)},update:y})},function rMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=N3(),u=on();function h(w){if(!e.enabled)return;const{rtlTranslate:z}=e;let E=w;E.originalEvent&&(E=E.originalEvent);const P=E.keyCode||E.charCode,I=e.params.keyboard.pageUpDown,F=I&&33===P,$=I&&34===P,W=37===P,R=39===P,j=38===P,J=40===P;if(!e.allowSlideNext&&(e.isHorizontal()&&R||e.isVertical()&&J||$)||!e.allowSlidePrev&&(e.isHorizontal()&&W||e.isVertical()&&j||F))return!1;if(!(E.shiftKey||E.altKey||E.ctrlKey||E.metaKey||o.activeElement&&o.activeElement.nodeName&&("input"===o.activeElement.nodeName.toLowerCase()||"textarea"===o.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(F||$||W||R||j||J)){let ve=!1;if(v6(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&0===v6(e.el,`.${e.params.slideActiveClass}`).length)return;const Ve=e.el,Te=Ve.clientWidth,Le=Ve.clientHeight,ge=u.innerWidth,Qe=u.innerHeight,Oe=ru(Ve);z&&(Oe.left-=Ve.scrollLeft);const Ne=[[Oe.left,Oe.top],[Oe.left+Te,Oe.top],[Oe.left,Oe.top+Le],[Oe.left+Te,Oe.top+Le]];for(let He=0;He<Ne.length;He+=1){const ie=Ne[He];if(ie[0]>=0&&ie[0]<=ge&&ie[1]>=0&&ie[1]<=Qe){if(0===ie[0]&&0===ie[1])continue;ve=!0}}if(!ve)return}e.isHorizontal()?((F||$||W||R)&&(E.preventDefault?E.preventDefault():E.returnValue=!1),(($||R)&&!z||(F||W)&&z)&&e.slideNext(),((F||W)&&!z||($||R)&&z)&&e.slidePrev()):((F||$||j||J)&&(E.preventDefault?E.preventDefault():E.returnValue=!1),($||J)&&e.slideNext(),(F||j)&&e.slidePrev()),r("keyPress",P)}}function p(){e.keyboard.enabled||(o.addEventListener("keydown",h),e.keyboard.enabled=!0)}function y(){e.keyboard.enabled&&(o.removeEventListener("keydown",h),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{e.params.keyboard.enabled&&p()}),i("destroy",()=>{e.keyboard.enabled&&y()}),Object.assign(e.keyboard,{enable:p,disable:y})},function aMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=on();n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let u,p,h=Er();const y=[];function z(){e.enabled&&(e.mouseEntered=!0)}function E(){e.enabled&&(e.mouseEntered=!1)}function P(j){return!(e.params.mousewheel.thresholdDelta&&j.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Er()-h<e.params.mousewheel.thresholdTime)&&(j.delta>=6&&Er()-h<60||(j.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",j.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",j.raw)),h=(new o.Date).getTime(),!1))}function F(j){let J=j,ve=!0;if(!e.enabled||j.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const Ve=e.params.mousewheel;e.params.cssMode&&J.preventDefault();let Te=e.el;"container"!==e.params.mousewheel.eventsTarget&&(Te=document.querySelector(e.params.mousewheel.eventsTarget));const Le=Te&&Te.contains(J.target);if(!e.mouseEntered&&!Le&&!Ve.releaseOnEdges)return!0;J.originalEvent&&(J=J.originalEvent);let ge=0;const Qe=e.rtlTranslate?-1:1,Oe=function w(j){let Te=0,Le=0,ge=0,Qe=0;return"detail"in j&&(Le=j.detail),"wheelDelta"in j&&(Le=-j.wheelDelta/120),"wheelDeltaY"in j&&(Le=-j.wheelDeltaY/120),"wheelDeltaX"in j&&(Te=-j.wheelDeltaX/120),"axis"in j&&j.axis===j.HORIZONTAL_AXIS&&(Te=Le,Le=0),ge=10*Te,Qe=10*Le,"deltaY"in j&&(Qe=j.deltaY),"deltaX"in j&&(ge=j.deltaX),j.shiftKey&&!ge&&(ge=Qe,Qe=0),(ge||Qe)&&j.deltaMode&&(1===j.deltaMode?(ge*=40,Qe*=40):(ge*=800,Qe*=800)),ge&&!Te&&(Te=ge<1?-1:1),Qe&&!Le&&(Le=Qe<1?-1:1),{spinX:Te,spinY:Le,pixelX:ge,pixelY:Qe}}(J);if(Ve.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(Oe.pixelX)>Math.abs(Oe.pixelY)))return!0;ge=-Oe.pixelX*Qe}else{if(!(Math.abs(Oe.pixelY)>Math.abs(Oe.pixelX)))return!0;ge=-Oe.pixelY}else ge=Math.abs(Oe.pixelX)>Math.abs(Oe.pixelY)?-Oe.pixelX*Qe:-Oe.pixelY;if(0===ge)return!0;Ve.invert&&(ge=-ge);let Ne=e.getTranslate()+ge*Ve.sensitivity;if(Ne>=e.minTranslate()&&(Ne=e.minTranslate()),Ne<=e.maxTranslate()&&(Ne=e.maxTranslate()),ve=!!e.params.loop||!(Ne===e.minTranslate()||Ne===e.maxTranslate()),ve&&e.params.nested&&J.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const He={time:Er(),delta:Math.abs(ge),direction:Math.sign(ge)},ie=p&&He.time<p.time+500&&He.delta<=p.delta&&He.direction===p.direction;if(!ie){p=void 0;let be=e.getTranslate()+ge*Ve.sensitivity;const pe=e.isBeginning,he=e.isEnd;if(be>=e.minTranslate()&&(be=e.minTranslate()),be<=e.maxTranslate()&&(be=e.maxTranslate()),e.setTransition(0),e.setTranslate(be),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!pe&&e.isBeginning||!he&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:He.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(u),u=void 0,y.length>=15&&y.shift();const Me=y.length?y[y.length-1]:void 0,Se=y[0];if(y.push(He),Me&&(He.delta>Me.delta||He.direction!==Me.direction))y.splice(0);else if(y.length>=15&&He.time-Se.time<500&&Se.delta-He.delta>=1&&He.delta<=6){const c1=ge>0?.8:.2;p=He,y.splice(0),u=m6(()=>{e.slideToClosest(e.params.speed,!0,void 0,c1)},0)}u||(u=m6(()=>{p=He,y.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(ie||r("scroll",J),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),Ve.releaseOnEdges&&(be===e.minTranslate()||be===e.maxTranslate()))return!0}}else{const He={time:Er(),delta:Math.abs(ge),direction:Math.sign(ge),raw:j};y.length>=2&&y.shift();const ie=y.length?y[y.length-1]:void 0;if(y.push(He),ie?(He.direction!==ie.direction||He.delta>ie.delta||He.time>ie.time+150)&&P(He):P(He),function I(j){const J=e.params.mousewheel;if(j.direction<0){if(e.isEnd&&!e.params.loop&&J.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&J.releaseOnEdges)return!0;return!1}(He))return!0}return J.preventDefault?J.preventDefault():J.returnValue=!1,!1}function $(j){let J=e.el;"container"!==e.params.mousewheel.eventsTarget&&(J=document.querySelector(e.params.mousewheel.eventsTarget)),J[j]("mouseenter",z),J[j]("mouseleave",E),J[j]("wheel",F)}function W(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",F),!0):!e.mousewheel.enabled&&($("addEventListener"),e.mousewheel.enabled=!0,!0)}function R(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,F),!0):!!e.mousewheel.enabled&&($("removeEventListener"),e.mousewheel.enabled=!1,!0)}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&R(),e.params.mousewheel.enabled&&W()}),i("destroy",()=>{e.params.cssMode&&W(),e.mousewheel.enabled&&R()}),Object.assign(e.mousewheel,{enable:W,disable:R})},function sMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const o=F=>(Array.isArray(F)?F:[F]).filter($=>!!$);function u(F){let $;return F&&"string"==typeof F&&e.isElement&&($=e.el.querySelector(F),$)?$:(F&&("string"==typeof F&&($=[...document.querySelectorAll(F)]),e.params.uniqueNavElements&&"string"==typeof F&&$.length>1&&1===e.el.querySelectorAll(F).length&&($=e.el.querySelector(F))),F&&!$?F:$)}function h(F,$){const W=e.params.navigation;(F=o(F)).forEach(R=>{R&&(R.classList[$?"add":"remove"](...W.disabledClass.split(" ")),"BUTTON"===R.tagName&&(R.disabled=$),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](W.lockClass))})}function p(){const{nextEl:F,prevEl:$}=e.navigation;if(e.params.loop)return h($,!1),void h(F,!1);h($,e.isBeginning&&!e.params.rewind),h(F,e.isEnd&&!e.params.rewind)}function y(F){F.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function w(F){F.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function z(){const F=e.params.navigation;if(e.params.navigation=ug(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!F.nextEl&&!F.prevEl)return;let $=u(F.nextEl),W=u(F.prevEl);Object.assign(e.navigation,{nextEl:$,prevEl:W}),$=o($),W=o(W);const R=(j,J)=>{j&&j.addEventListener("click","next"===J?w:y),!e.enabled&&j&&j.classList.add(...F.lockClass.split(" "))};$.forEach(j=>R(j,"next")),W.forEach(j=>R(j,"prev"))}function E(){let{nextEl:F,prevEl:$}=e.navigation;F=o(F),$=o($);const W=(R,j)=>{R.removeEventListener("click","next"===j?w:y),R.classList.remove(...e.params.navigation.disabledClass.split(" "))};F.forEach(R=>W(R,"next")),$.forEach(R=>W(R,"prev"))}i("init",()=>{!1===e.params.navigation.enabled?I():(z(),p())}),i("toEdge fromEdge lock unlock",()=>{p()}),i("destroy",()=>{E()}),i("enable disable",()=>{let{nextEl:F,prevEl:$}=e.navigation;F=o(F),$=o($),e.enabled?p():[...F,...$].filter(W=>!!W).forEach(W=>W.classList.add(e.params.navigation.lockClass))}),i("click",(F,$)=>{let{nextEl:W,prevEl:R}=e.navigation;W=o(W),R=o(R);const j=$.target;if(e.params.navigation.hideOnClick&&!R.includes(j)&&!W.includes(j)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===j||e.pagination.el.contains(j)))return;let J;W.length?J=W[0].classList.contains(e.params.navigation.hiddenClass):R.length&&(J=R[0].classList.contains(e.params.navigation.hiddenClass)),r(!0===J?"navigationShow":"navigationHide"),[...W,...R].filter(ve=>!!ve).forEach(ve=>ve.classList.toggle(e.params.navigation.hiddenClass))}});const I=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),E()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),z(),p()},disable:I,update:p,init:z,destroy:E})},function oMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:R=>R,formatFractionTotal:R=>R,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,h=0;const p=R=>(Array.isArray(R)?R:[R]).filter(j=>!!j);function y(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function w(R,j){const{bulletActiveClass:J}=e.params.pagination;R&&(R=R[("prev"===j?"previous":"next")+"ElementSibling"])&&(R.classList.add(`${J}-${j}`),(R=R[("prev"===j?"previous":"next")+"ElementSibling"])&&R.classList.add(`${J}-${j}-${j}`))}function z(R){const j=R.target.closest(no(e.params.pagination.bulletClass));if(!j)return;R.preventDefault();const J=V5(j)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===J)return;const ve=e.realIndex,Ve=e.getSlideIndexByData(J),Te=e.getSlideIndexByData(e.realIndex),Le=ge=>{const Qe=e.activeIndex;e.loopFix({direction:ge,activeSlideIndex:Ve,slideTo:!1}),Qe===e.activeIndex&&e.slideToLoop(ve,0,!1,!0)};if(Ve>e.slides.length-e.loopedSlides)Le(Ve>Te?"next":"prev");else if(e.params.centeredSlides){const ge="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));Ve<Math.floor(ge/2)&&Le("prev")}e.slideToLoop(J)}else e.slideTo(J)}function E(){const R=e.rtl,j=e.params.pagination;if(y())return;let ve,Ve,J=e.pagination.el;J=p(J);const Le=e.params.loop?Math.ceil((e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(Ve=e.previousRealIndex||0,ve=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(ve=e.snapIndex,Ve=e.previousSnapIndex):(Ve=e.previousIndex||0,ve=e.activeIndex||0),"bullets"===j.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const ge=e.pagination.bullets;let Qe,Oe,Ne;if(j.dynamicBullets&&(u=tg(ge[0],e.isHorizontal()?"width":"height",!0),J.forEach(He=>{He.style[e.isHorizontal()?"width":"height"]=u*(j.dynamicMainBullets+4)+"px"}),j.dynamicMainBullets>1&&void 0!==Ve&&(h+=ve-(Ve||0),h>j.dynamicMainBullets-1?h=j.dynamicMainBullets-1:h<0&&(h=0)),Qe=Math.max(ve-h,0),Oe=Qe+(Math.min(ge.length,j.dynamicMainBullets)-1),Ne=(Oe+Qe)/2),ge.forEach(He=>{const ie=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(be=>`${j.bulletActiveClass}${be}`)].map(be=>"string"==typeof be&&be.includes(" ")?be.split(" "):be).flat();He.classList.remove(...ie)}),J.length>1)ge.forEach(He=>{const ie=V5(He);ie===ve?He.classList.add(...j.bulletActiveClass.split(" ")):e.isElement&&He.setAttribute("part","bullet"),j.dynamicBullets&&(ie>=Qe&&ie<=Oe&&He.classList.add(...`${j.bulletActiveClass}-main`.split(" ")),ie===Qe&&w(He,"prev"),ie===Oe&&w(He,"next"))});else{const He=ge[ve];if(He&&He.classList.add(...j.bulletActiveClass.split(" ")),e.isElement&&ge.forEach((ie,be)=>{ie.setAttribute("part",be===ve?"bullet-active":"bullet")}),j.dynamicBullets){const ie=ge[Qe],be=ge[Oe];for(let pe=Qe;pe<=Oe;pe+=1)ge[pe]&&ge[pe].classList.add(...`${j.bulletActiveClass}-main`.split(" "));w(ie,"prev"),w(be,"next")}}if(j.dynamicBullets){const He=Math.min(ge.length,j.dynamicMainBullets+4),ie=(u*He-u)/2-Ne*u,be=R?"right":"left";ge.forEach(pe=>{pe.style[e.isHorizontal()?be:"top"]=`${ie}px`})}}J.forEach((ge,Qe)=>{if("fraction"===j.type&&(ge.querySelectorAll(no(j.currentClass)).forEach(Oe=>{Oe.textContent=j.formatFractionCurrent(ve+1)}),ge.querySelectorAll(no(j.totalClass)).forEach(Oe=>{Oe.textContent=j.formatFractionTotal(Le)})),"progressbar"===j.type){let Oe;Oe=j.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const Ne=(ve+1)/Le;let He=1,ie=1;"horizontal"===Oe?He=Ne:ie=Ne,ge.querySelectorAll(no(j.progressbarFillClass)).forEach(be=>{be.style.transform=`translate3d(0,0,0) scaleX(${He}) scaleY(${ie})`,be.style.transitionDuration=`${e.params.speed}ms`})}"custom"===j.type&&j.renderCustom?(ge.innerHTML=j.renderCustom(e,ve+1,Le),0===Qe&&r("paginationRender",ge)):(0===Qe&&r("paginationRender",ge),r("paginationUpdate",ge)),e.params.watchOverflow&&e.enabled&&ge.classList[e.isLocked?"add":"remove"](j.lockClass)})}function P(){const R=e.params.pagination;if(y())return;const j=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let J=e.pagination.el;J=p(J);let ve="";if("bullets"===R.type){let Ve=e.params.loop?Math.ceil(j/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&Ve>j&&(Ve=j);for(let Te=0;Te<Ve;Te+=1)ve+=R.renderBullet?R.renderBullet.call(e,Te,R.bulletClass):`<${R.bulletElement} ${e.isElement?'part="bullet"':""} class="${R.bulletClass}"></${R.bulletElement}>`}"fraction"===R.type&&(ve=R.renderFraction?R.renderFraction.call(e,R.currentClass,R.totalClass):`<span class="${R.currentClass}"></span> / <span class="${R.totalClass}"></span>`),"progressbar"===R.type&&(ve=R.renderProgressbar?R.renderProgressbar.call(e,R.progressbarFillClass):`<span class="${R.progressbarFillClass}"></span>`),e.pagination.bullets=[],J.forEach(Ve=>{"custom"!==R.type&&(Ve.innerHTML=ve||""),"bullets"===R.type&&e.pagination.bullets.push(...Ve.querySelectorAll(no(R.bulletClass)))}),"custom"!==R.type&&r("paginationRender",J[0])}function I(){e.params.pagination=ug(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const R=e.params.pagination;if(!R.el)return;let j;"string"==typeof R.el&&e.isElement&&(j=e.el.querySelector(R.el)),!j&&"string"==typeof R.el&&(j=[...document.querySelectorAll(R.el)]),j||(j=R.el),j&&0!==j.length&&(e.params.uniqueNavElements&&"string"==typeof R.el&&Array.isArray(j)&&j.length>1&&(j=[...e.el.querySelectorAll(R.el)],j.length>1&&(j=j.filter(J=>v6(J,".swiper")[0]===e.el)[0])),Array.isArray(j)&&1===j.length&&(j=j[0]),Object.assign(e.pagination,{el:j}),j=p(j),j.forEach(J=>{"bullets"===R.type&&R.clickable&&J.classList.add(...(R.clickableClass||"").split(" ")),J.classList.add(R.modifierClass+R.type),J.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass),"bullets"===R.type&&R.dynamicBullets&&(J.classList.add(`${R.modifierClass}${R.type}-dynamic`),h=0,R.dynamicMainBullets<1&&(R.dynamicMainBullets=1)),"progressbar"===R.type&&R.progressbarOpposite&&J.classList.add(R.progressbarOppositeClass),R.clickable&&J.addEventListener("click",z),e.enabled||J.classList.add(R.lockClass)}))}function F(){const R=e.params.pagination;if(y())return;let j=e.pagination.el;j&&(j=p(j),j.forEach(J=>{J.classList.remove(R.hiddenClass),J.classList.remove(R.modifierClass+R.type),J.classList.remove(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.clickable&&(J.classList.remove(...(R.clickableClass||"").split(" ")),J.removeEventListener("click",z))})),e.pagination.bullets&&e.pagination.bullets.forEach(J=>J.classList.remove(...R.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const R=e.params.pagination;let{el:j}=e.pagination;j=p(j),j.forEach(J=>{J.classList.remove(R.horizontalClass,R.verticalClass),J.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass)})}),i("init",()=>{!1===e.params.pagination.enabled?W():(I(),P(),E())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&E()}),i("snapIndexChange",()=>{E()}),i("snapGridLengthChange",()=>{P(),E()}),i("destroy",()=>{F()}),i("enable disable",()=>{let{el:R}=e.pagination;R&&(R=p(R),R.forEach(j=>j.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{E()}),i("click",(R,j)=>{const J=j.target,ve=p(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&ve&&ve.length>0&&!J.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&J===e.navigation.nextEl||e.navigation.prevEl&&J===e.navigation.prevEl))return;const Ve=ve[0].classList.contains(e.params.pagination.hiddenClass);r(!0===Ve?"paginationShow":"paginationHide"),ve.forEach(Te=>Te.classList.toggle(e.params.pagination.hiddenClass))}});const W=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=p(R),R.forEach(j=>j.classList.add(e.params.pagination.paginationDisabledClass))),F()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=p(R),R.forEach(j=>j.classList.remove(e.params.pagination.paginationDisabledClass))),I(),P(),E()},disable:W,render:P,update:E,init:I,destroy:F})},function cMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=N3();let y,w,z,E,u=!1,h=null,p=null;function P(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:Ne,rtlTranslate:He}=e,{dragEl:ie,el:be}=Ne,pe=e.params.scrollbar;let Me=w,Se=(z-w)*(e.params.loop?e.progressLoop:e.progress);He?(Se=-Se,Se>0?(Me=w-Se,Se=0):-Se+w>z&&(Me=z+Se)):Se<0?(Me=w+Se,Se=0):Se+w>z&&(Me=z-Se),e.isHorizontal()?(ie.style.transform=`translate3d(${Se}px, 0, 0)`,ie.style.width=`${Me}px`):(ie.style.transform=`translate3d(0px, ${Se}px, 0)`,ie.style.height=`${Me}px`),pe.hide&&(clearTimeout(h),be.style.opacity=1,h=setTimeout(()=>{be.style.opacity=0,be.style.transitionDuration="400ms"},1e3))}function F(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:Ne}=e,{dragEl:He,el:ie}=Ne;He.style.width="",He.style.height="",z=e.isHorizontal()?ie.offsetWidth:ie.offsetHeight,E=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),w="auto"===e.params.scrollbar.dragSize?z*E:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?He.style.width=`${w}px`:He.style.height=`${w}px`,ie.style.display=E>=1?"none":"",e.params.scrollbar.hide&&(ie.style.opacity=0),e.params.watchOverflow&&e.enabled&&Ne.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function $(Ne){return e.isHorizontal()?Ne.clientX:Ne.clientY}function W(Ne){const{scrollbar:He,rtlTranslate:ie}=e,{el:be}=He;let pe;pe=($(Ne)-ru(be)[e.isHorizontal()?"left":"top"]-(null!==y?y:w/2))/(z-w),pe=Math.max(Math.min(pe,1),0),ie&&(pe=1-pe);const he=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*pe;e.updateProgress(he),e.setTranslate(he),e.updateActiveIndex(),e.updateSlidesClasses()}function R(Ne){const He=e.params.scrollbar,{scrollbar:ie,wrapperEl:be}=e,{el:pe,dragEl:he}=ie;u=!0,y=Ne.target===he?$(Ne)-Ne.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,Ne.preventDefault(),Ne.stopPropagation(),be.style.transitionDuration="100ms",he.style.transitionDuration="100ms",W(Ne),clearTimeout(p),pe.style.transitionDuration="0ms",He.hide&&(pe.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",Ne)}function j(Ne){const{scrollbar:He,wrapperEl:ie}=e,{el:be,dragEl:pe}=He;u&&(Ne.preventDefault?Ne.preventDefault():Ne.returnValue=!1,W(Ne),ie.style.transitionDuration="0ms",be.style.transitionDuration="0ms",pe.style.transitionDuration="0ms",r("scrollbarDragMove",Ne))}function J(Ne){const He=e.params.scrollbar,{scrollbar:ie,wrapperEl:be}=e,{el:pe}=ie;u&&(u=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",be.style.transitionDuration=""),He.hide&&(clearTimeout(p),p=m6(()=>{pe.style.opacity=0,pe.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",Ne),He.snapOnRelease&&e.slideToClosest())}function ve(Ne){const{scrollbar:He,params:ie}=e,be=He.el;if(!be)return;const he=!!ie.passiveListeners&&{passive:!1,capture:!1},Me=!!ie.passiveListeners&&{passive:!0,capture:!1};if(!be)return;const Se="on"===Ne?"addEventListener":"removeEventListener";be[Se]("pointerdown",R,he),o[Se]("pointermove",j,he),o[Se]("pointerup",J,Me)}function Le(){const{scrollbar:Ne,el:He}=e;e.params.scrollbar=ug(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const ie=e.params.scrollbar;if(!ie.el)return;let be,pe;"string"==typeof ie.el&&e.isElement&&(be=e.el.querySelector(ie.el)),be||"string"!=typeof ie.el?be||(be=ie.el):be=o.querySelectorAll(ie.el),e.params.uniqueNavElements&&"string"==typeof ie.el&&be.length>1&&1===He.querySelectorAll(ie.el).length&&(be=He.querySelector(ie.el)),be.length>0&&(be=be[0]),be.classList.add(e.isHorizontal()?ie.horizontalClass:ie.verticalClass),be&&(pe=be.querySelector(`.${e.params.scrollbar.dragClass}`),pe||(pe=y4("div",e.params.scrollbar.dragClass),be.append(pe))),Object.assign(Ne,{el:be,dragEl:pe}),ie.draggable&&function Ve(){!e.params.scrollbar.el||!e.scrollbar.el||ve("on")}(),be&&be.classList[e.enabled?"remove":"add"](e.params.scrollbar.lockClass)}function ge(){const Ne=e.params.scrollbar,He=e.scrollbar.el;He&&He.classList.remove(e.isHorizontal()?Ne.horizontalClass:Ne.verticalClass),function Te(){!e.params.scrollbar.el||!e.scrollbar.el||ve("off")}()}n({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null},i("init",()=>{!1===e.params.scrollbar.enabled?Oe():(Le(),F(),P())}),i("update resize observerUpdate lock unlock",()=>{F()}),i("setTranslate",()=>{P()}),i("setTransition",(Ne,He)=>{!function I(Ne){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${Ne}ms`)}(He)}),i("enable disable",()=>{const{el:Ne}=e.scrollbar;Ne&&Ne.classList[e.enabled?"remove":"add"](e.params.scrollbar.lockClass)}),i("destroy",()=>{ge()});const Oe=()=>{e.el.classList.add(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.el&&e.scrollbar.el.classList.add(e.params.scrollbar.scrollbarDisabledClass),ge()};Object.assign(e.scrollbar,{enable:()=>{e.el.classList.remove(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.el&&e.scrollbar.el.classList.remove(e.params.scrollbar.scrollbarDisabledClass),Le(),F(),P()},disable:Oe,updateSize:F,setTranslate:P,init:Le,destroy:ge})},function lMe(t){let{swiper:e,extendParams:n,on:i}=t;n({parallax:{enabled:!1}});const r="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",o=(p,y)=>{const{rtl:w}=e,z=w?-1:1,E=p.getAttribute("data-swiper-parallax")||"0";let P=p.getAttribute("data-swiper-parallax-x"),I=p.getAttribute("data-swiper-parallax-y");const F=p.getAttribute("data-swiper-parallax-scale"),$=p.getAttribute("data-swiper-parallax-opacity"),W=p.getAttribute("data-swiper-parallax-rotate");if(P||I?(P=P||"0",I=I||"0"):e.isHorizontal()?(P=E,I="0"):(I=E,P="0"),P=P.indexOf("%")>=0?parseInt(P,10)*y*z+"%":P*y*z+"px",I=I.indexOf("%")>=0?parseInt(I,10)*y+"%":I*y+"px",typeof $<"u"&&null!==$){const j=$-($-1)*(1-Math.abs(y));p.style.opacity=j}let R=`translate3d(${P}, ${I}, 0px)`;typeof F<"u"&&null!==F&&(R+=` scale(${F-(F-1)*(1-Math.abs(y))})`),W&&typeof W<"u"&&null!==W&&(R+=` rotate(${W*y*-1}deg)`),p.style.transform=R},u=()=>{const{el:p,slides:y,progress:w,snapGrid:z}=e,P=M3(p,r);e.isElement&&P.push(...M3(e.hostEl,r)),P.forEach(I=>{o(I,w)}),y.forEach((I,F)=>{let $=I.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&($+=Math.ceil(F/2)-w*(z.length-1)),$=Math.min(Math.max($,-1),1),I.querySelectorAll(`${r}, [data-swiper-parallax-rotate]`).forEach(W=>{o(W,$)})})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&u()}),i("setTranslate",()=>{e.params.parallax.enabled&&u()}),i("setTransition",(p,y)=>{e.params.parallax.enabled&&function(p){void 0===p&&(p=e.params.speed);const{el:y,hostEl:w}=e,z=[...y.querySelectorAll(r)];e.isElement&&z.push(...w.querySelectorAll(r)),z.forEach(E=>{let P=parseInt(E.getAttribute("data-swiper-parallax-duration"),10)||p;0===p&&(P=0),E.style.transitionDuration=`${P}ms`})}(y)})},function uMe(t){let{swiper:e,extendParams:n,on:i,emit:r}=t;const o=on();n({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let p,y,u=1,h=!1;const w=[],z={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},E={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},P={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let I=1;function F(){return w.length<2?1:Math.sqrt((w[1].pageX-w[0].pageX)**2+(w[1].pageY-w[0].pageY)**2)}function R(he){const Me=function W(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}();return!!(he.target.matches(Me)||e.slides.filter(Se=>Se.contains(he.target)).length>0)}function J(he){if("mouse"===he.pointerType&&w.splice(0,w.length),!R(he))return;const Me=e.params.zoom;if(p=!1,y=!1,w.push(he),!(w.length<2)){if(p=!0,z.scaleStart=F(),!z.slideEl){z.slideEl=he.target.closest(`.${e.params.slideClass}, swiper-slide`),z.slideEl||(z.slideEl=e.slides[e.activeIndex]);let Se=z.slideEl.querySelector(`.${Me.containerClass}`);if(Se&&(Se=Se.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),z.imageEl=Se,z.imageWrapEl=Se?v6(z.imageEl,`.${Me.containerClass}`)[0]:void 0,!z.imageWrapEl)return void(z.imageEl=void 0);z.maxRatio=z.imageWrapEl.getAttribute("data-swiper-zoom")||Me.maxRatio}if(z.imageEl){const[Se,c1]=function $(){if(w.length<2)return{x:null,y:null};const he=z.imageEl.getBoundingClientRect();return[(w[0].pageX+(w[1].pageX-w[0].pageX)/2-he.x-o.scrollX)/u,(w[0].pageY+(w[1].pageY-w[0].pageY)/2-he.y-o.scrollY)/u]}();z.originX=Se,z.originY=c1,z.imageEl.style.transitionDuration="0ms"}h=!0}}function ve(he){if(!R(he))return;const Me=e.params.zoom,Se=e.zoom,c1=w.findIndex(P1=>P1.pointerId===he.pointerId);c1>=0&&(w[c1]=he),!(w.length<2)&&(y=!0,z.scaleMove=F(),z.imageEl&&(Se.scale=z.scaleMove/z.scaleStart*u,Se.scale>z.maxRatio&&(Se.scale=z.maxRatio-1+(Se.scale-z.maxRatio+1)**.5),Se.scale<Me.minRatio&&(Se.scale=Me.minRatio+1-(Me.minRatio-Se.scale+1)**.5),z.imageEl.style.transform=`translate3d(0,0,0) scale(${Se.scale})`))}function Ve(he){if(!R(he)||"mouse"===he.pointerType&&"pointerout"===he.type)return;const Me=e.params.zoom,Se=e.zoom,c1=w.findIndex(P1=>P1.pointerId===he.pointerId);c1>=0&&w.splice(c1,1),p&&y&&(p=!1,y=!1,z.imageEl&&(Se.scale=Math.max(Math.min(Se.scale,z.maxRatio),Me.minRatio),z.imageEl.style.transitionDuration=`${e.params.speed}ms`,z.imageEl.style.transform=`translate3d(0,0,0) scale(${Se.scale})`,u=Se.scale,h=!1,Se.scale>1&&z.slideEl?z.slideEl.classList.add(`${Me.zoomedSlideClass}`):Se.scale<=1&&z.slideEl&&z.slideEl.classList.remove(`${Me.zoomedSlideClass}`),1===Se.scale&&(z.originX=0,z.originY=0,z.slideEl=void 0)))}function Le(he){if(!R(he)||!function j(he){const Me=`.${e.params.zoom.containerClass}`;return!!(he.target.matches(Me)||[...e.hostEl.querySelectorAll(Me)].filter(Se=>Se.contains(he.target)).length>0)}(he))return;const Me=e.zoom;if(!z.imageEl||!E.isTouched||!z.slideEl)return;E.isMoved||(E.width=z.imageEl.offsetWidth,E.height=z.imageEl.offsetHeight,E.startX=eg(z.imageWrapEl,"x")||0,E.startY=eg(z.imageWrapEl,"y")||0,z.slideWidth=z.slideEl.offsetWidth,z.slideHeight=z.slideEl.offsetHeight,z.imageWrapEl.style.transitionDuration="0ms");const Se=E.width*Me.scale,c1=E.height*Me.scale;if(Se<z.slideWidth&&c1<z.slideHeight)return;if(E.minX=Math.min(z.slideWidth/2-Se/2,0),E.maxX=-E.minX,E.minY=Math.min(z.slideHeight/2-c1/2,0),E.maxY=-E.minY,E.touchesCurrent.x=w.length>0?w[0].pageX:he.pageX,E.touchesCurrent.y=w.length>0?w[0].pageY:he.pageY,Math.max(Math.abs(E.touchesCurrent.x-E.touchesStart.x),Math.abs(E.touchesCurrent.y-E.touchesStart.y))>5&&(e.allowClick=!1),!E.isMoved&&!h){if(e.isHorizontal()&&(Math.floor(E.minX)===Math.floor(E.startX)&&E.touchesCurrent.x<E.touchesStart.x||Math.floor(E.maxX)===Math.floor(E.startX)&&E.touchesCurrent.x>E.touchesStart.x))return void(E.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(E.minY)===Math.floor(E.startY)&&E.touchesCurrent.y<E.touchesStart.y||Math.floor(E.maxY)===Math.floor(E.startY)&&E.touchesCurrent.y>E.touchesStart.y))return void(E.isTouched=!1)}he.cancelable&&he.preventDefault(),he.stopPropagation(),E.isMoved=!0;const Q1=(Me.scale-u)/(z.maxRatio-e.params.zoom.minRatio),{originX:b1,originY:$1}=z;E.currentX=E.touchesCurrent.x-E.touchesStart.x+E.startX+Q1*(E.width-2*b1),E.currentY=E.touchesCurrent.y-E.touchesStart.y+E.startY+Q1*(E.height-2*$1),E.currentX<E.minX&&(E.currentX=E.minX+1-(E.minX-E.currentX+1)**.8),E.currentX>E.maxX&&(E.currentX=E.maxX-1+(E.currentX-E.maxX+1)**.8),E.currentY<E.minY&&(E.currentY=E.minY+1-(E.minY-E.currentY+1)**.8),E.currentY>E.maxY&&(E.currentY=E.maxY-1+(E.currentY-E.maxY+1)**.8),P.prevPositionX||(P.prevPositionX=E.touchesCurrent.x),P.prevPositionY||(P.prevPositionY=E.touchesCurrent.y),P.prevTime||(P.prevTime=Date.now()),P.x=(E.touchesCurrent.x-P.prevPositionX)/(Date.now()-P.prevTime)/2,P.y=(E.touchesCurrent.y-P.prevPositionY)/(Date.now()-P.prevTime)/2,Math.abs(E.touchesCurrent.x-P.prevPositionX)<2&&(P.x=0),Math.abs(E.touchesCurrent.y-P.prevPositionY)<2&&(P.y=0),P.prevPositionX=E.touchesCurrent.x,P.prevPositionY=E.touchesCurrent.y,P.prevTime=Date.now(),z.imageWrapEl.style.transform=`translate3d(${E.currentX}px, ${E.currentY}px,0)`}function Qe(){const he=e.zoom;z.slideEl&&e.activeIndex!==e.slides.indexOf(z.slideEl)&&(z.imageEl&&(z.imageEl.style.transform="translate3d(0,0,0) scale(1)"),z.imageWrapEl&&(z.imageWrapEl.style.transform="translate3d(0,0,0)"),z.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),he.scale=1,u=1,z.slideEl=void 0,z.imageEl=void 0,z.imageWrapEl=void 0,z.originX=0,z.originY=0)}function Oe(he){const Me=e.zoom,Se=e.params.zoom;if(!z.slideEl){he&&he.target&&(z.slideEl=he.target.closest(`.${e.params.slideClass}, swiper-slide`)),z.slideEl||(z.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?M3(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex]);let D5=z.slideEl.querySelector(`.${Se.containerClass}`);D5&&(D5=D5.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),z.imageEl=D5,z.imageWrapEl=D5?v6(z.imageEl,`.${Se.containerClass}`)[0]:void 0}if(!z.imageEl||!z.imageWrapEl)return;let c1,P1,Q1,b1,$1,An,cn,bt,ct,l3,na,Tr,y6,s0,fg,hg,dg,pg;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),z.slideEl.classList.add(`${Se.zoomedSlideClass}`),typeof E.touchesStart.x>"u"&&he?(c1=he.pageX,P1=he.pageY):(c1=E.touchesStart.x,P1=E.touchesStart.y);const P5="number"==typeof he?he:null;1===u&&P5&&(c1=void 0,P1=void 0),Me.scale=P5||z.imageWrapEl.getAttribute("data-swiper-zoom")||Se.maxRatio,u=P5||z.imageWrapEl.getAttribute("data-swiper-zoom")||Se.maxRatio,!he||1===u&&P5?(cn=0,bt=0):(dg=z.slideEl.offsetWidth,pg=z.slideEl.offsetHeight,Q1=ru(z.slideEl).left+o.scrollX,b1=ru(z.slideEl).top+o.scrollY,$1=Q1+dg/2-c1,An=b1+pg/2-P1,ct=z.imageEl.offsetWidth,l3=z.imageEl.offsetHeight,na=ct*Me.scale,Tr=l3*Me.scale,y6=Math.min(dg/2-na/2,0),s0=Math.min(pg/2-Tr/2,0),fg=-y6,hg=-s0,cn=$1*Me.scale,bt=An*Me.scale,cn<y6&&(cn=y6),cn>fg&&(cn=fg),bt<s0&&(bt=s0),bt>hg&&(bt=hg)),P5&&1===Me.scale&&(z.originX=0,z.originY=0),z.imageWrapEl.style.transitionDuration="300ms",z.imageWrapEl.style.transform=`translate3d(${cn}px, ${bt}px,0)`,z.imageEl.style.transitionDuration="300ms",z.imageEl.style.transform=`translate3d(0,0,0) scale(${Me.scale})`}function Ne(){const he=e.zoom,Me=e.params.zoom;if(!z.slideEl){z.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?M3(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex];let Se=z.slideEl.querySelector(`.${Me.containerClass}`);Se&&(Se=Se.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),z.imageEl=Se,z.imageWrapEl=Se?v6(z.imageEl,`.${Me.containerClass}`)[0]:void 0}!z.imageEl||!z.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),he.scale=1,u=1,z.imageWrapEl.style.transitionDuration="300ms",z.imageWrapEl.style.transform="translate3d(0,0,0)",z.imageEl.style.transitionDuration="300ms",z.imageEl.style.transform="translate3d(0,0,0) scale(1)",z.slideEl.classList.remove(`${Me.zoomedSlideClass}`),z.slideEl=void 0,z.originX=0,z.originY=0)}function He(he){const Me=e.zoom;Me.scale&&1!==Me.scale?Ne():Oe(he)}function ie(){return{passiveListener:!!e.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!e.params.passiveListeners||{passive:!1,capture:!0}}}function be(){const he=e.zoom;if(he.enabled)return;he.enabled=!0;const{passiveListener:Me,activeListenerWithCapture:Se}=ie();e.wrapperEl.addEventListener("pointerdown",J,Me),e.wrapperEl.addEventListener("pointermove",ve,Se),["pointerup","pointercancel","pointerout"].forEach(c1=>{e.wrapperEl.addEventListener(c1,Ve,Me)}),e.wrapperEl.addEventListener("pointermove",Le,Se)}function pe(){const he=e.zoom;if(!he.enabled)return;he.enabled=!1;const{passiveListener:Me,activeListenerWithCapture:Se}=ie();e.wrapperEl.removeEventListener("pointerdown",J,Me),e.wrapperEl.removeEventListener("pointermove",ve,Se),["pointerup","pointercancel","pointerout"].forEach(c1=>{e.wrapperEl.removeEventListener(c1,Ve,Me)}),e.wrapperEl.removeEventListener("pointermove",Le,Se)}Object.defineProperty(e.zoom,"scale",{get:()=>I,set(he){I!==he&&r("zoomChange",he,z.imageEl,z.slideEl),I=he}}),i("init",()=>{e.params.zoom.enabled&&be()}),i("destroy",()=>{pe()}),i("touchStart",(he,Me)=>{e.zoom.enabled&&function Te(he){if(!z.imageEl||E.isTouched)return;e.device.android&&he.cancelable&&he.preventDefault(),E.isTouched=!0;const Se=w.length>0?w[0]:he;E.touchesStart.x=Se.pageX,E.touchesStart.y=Se.pageY}(Me)}),i("touchEnd",(he,Me)=>{e.zoom.enabled&&function ge(){const he=e.zoom;if(!z.imageEl)return;if(!E.isTouched||!E.isMoved)return E.isTouched=!1,void(E.isMoved=!1);E.isTouched=!1,E.isMoved=!1;let Me=300,Se=300;const P1=E.currentX+P.x*Me,b1=E.currentY+P.y*Se;0!==P.x&&(Me=Math.abs((P1-E.currentX)/P.x)),0!==P.y&&(Se=Math.abs((b1-E.currentY)/P.y));const $1=Math.max(Me,Se);E.currentX=P1,E.currentY=b1;const cn=E.height*he.scale;E.minX=Math.min(z.slideWidth/2-E.width*he.scale/2,0),E.maxX=-E.minX,E.minY=Math.min(z.slideHeight/2-cn/2,0),E.maxY=-E.minY,E.currentX=Math.max(Math.min(E.currentX,E.maxX),E.minX),E.currentY=Math.max(Math.min(E.currentY,E.maxY),E.minY),z.imageWrapEl.style.transitionDuration=`${$1}ms`,z.imageWrapEl.style.transform=`translate3d(${E.currentX}px, ${E.currentY}px,0)`}()}),i("doubleTap",(he,Me)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&He(Me)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&Qe()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&Qe()}),Object.assign(e.zoom,{enable:be,disable:pe,in:Oe,out:Ne,toggle:He})},function fMe(t){let{swiper:e,extendParams:n,on:i}=t;function r(y,w){const z=function(){let F,$,W;return(R,j)=>{for($=-1,F=R.length;F-$>1;)W=F+$>>1,R[W]<=j?$=W:F=W;return F}}();let E,P;return this.x=y,this.y=w,this.lastIndex=y.length-1,this.interpolate=function(F){return F?(P=z(this.x,F),E=P-1,(F-this.x[E])*(this.y[P]-this.y[E])/(this.x[P]-this.x[E])+this.y[E]):0},this}function p(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}n({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},i("beforeInit",()=>{if(typeof window<"u"&&("string"==typeof e.params.controller.control||e.params.controller.control instanceof HTMLElement)){const y=document.querySelector(e.params.controller.control);if(y&&y.swiper)e.controller.control=y.swiper;else if(y){const w=z=>{e.controller.control=z.detail[0],e.update(),y.removeEventListener("init",w)};y.addEventListener("init",w)}}else e.controller.control=e.params.controller.control}),i("update",()=>{p()}),i("resize",()=>{p()}),i("observerUpdate",()=>{p()}),i("setTranslate",(y,w,z)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(w,z)}),i("setTransition",(y,w,z)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(w,z)}),Object.assign(e.controller,{setTranslate:function u(y,w){const z=e.controller.control;let E,P;const I=e.constructor;function F($){if($.destroyed)return;const W=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(function o(y){e.controller.spline=e.params.loop?new r(e.slidesGrid,y.slidesGrid):new r(e.snapGrid,y.snapGrid)}($),P=-e.controller.spline.interpolate(-W)),(!P||"container"===e.params.controller.by)&&(E=($.maxTranslate()-$.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(E)||!Number.isFinite(E))&&(E=1),P=(W-e.minTranslate())*E+$.minTranslate()),e.params.controller.inverse&&(P=$.maxTranslate()-P),$.updateProgress(P),$.setTranslate(P,e),$.updateActiveIndex(),$.updateSlidesClasses()}if(Array.isArray(z))for(let $=0;$<z.length;$+=1)z[$]!==w&&z[$]instanceof I&&F(z[$]);else z instanceof I&&w!==z&&F(z)},setTransition:function h(y,w){const z=e.constructor,E=e.controller.control;let P;function I(F){F.destroyed||(F.setTransition(y,e),0!==y&&(F.transitionStart(),F.params.autoHeight&&m6(()=>{F.updateAutoHeight()}),E5(F.wrapperEl,()=>{E&&F.transitionEnd()})))}if(Array.isArray(E))for(P=0;P<E.length;P+=1)E[P]!==w&&E[P]instanceof z&&I(E[P]);else E instanceof z&&w!==E&&I(E)}})},function hMe(t){let{swiper:e,extendParams:n,on:i}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let r=null;function o(ie){const be=r;0!==be.length&&(be.innerHTML="",be.innerHTML=ie)}const u=ie=>(Array.isArray(ie)?ie:[ie]).filter(be=>!!be);function p(ie){(ie=u(ie)).forEach(be=>{be.setAttribute("tabIndex","0")})}function y(ie){(ie=u(ie)).forEach(be=>{be.setAttribute("tabIndex","-1")})}function w(ie,be){(ie=u(ie)).forEach(pe=>{pe.setAttribute("role",be)})}function z(ie,be){(ie=u(ie)).forEach(pe=>{pe.setAttribute("aria-roledescription",be)})}function P(ie,be){(ie=u(ie)).forEach(pe=>{pe.setAttribute("aria-label",be)})}function $(ie){(ie=u(ie)).forEach(be=>{be.setAttribute("aria-disabled",!0)})}function W(ie){(ie=u(ie)).forEach(be=>{be.setAttribute("aria-disabled",!1)})}function R(ie){if(13!==ie.keyCode&&32!==ie.keyCode)return;const be=e.params.a11y,pe=ie.target;e.pagination&&e.pagination.el&&(pe===e.pagination.el||e.pagination.el.contains(ie.target))&&!ie.target.matches(no(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&pe===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),o(e.isEnd?be.lastSlideMessage:be.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&pe===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),o(e.isBeginning?be.firstSlideMessage:be.prevSlideMessage)),e.pagination&&pe.matches(no(e.params.pagination.bulletClass))&&pe.click())}function J(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function ve(){return J()&&e.params.pagination.clickable}const Te=(ie,be,pe)=>{p(ie),"BUTTON"!==ie.tagName&&(w(ie,"button"),ie.addEventListener("keydown",R)),P(ie,pe),function E(ie,be){(ie=u(ie)).forEach(pe=>{pe.setAttribute("aria-controls",be)})}(ie,be)},Le=()=>{e.a11y.clicked=!0},ge=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},Qe=ie=>{if(e.a11y.clicked)return;const be=ie.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!be||!e.slides.includes(be))return;const pe=e.slides.indexOf(be)===e.activeIndex,he=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(be);pe||he||ie.sourceCapabilities&&ie.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(be),0))},Oe=()=>{const ie=e.params.a11y;ie.itemRoleDescriptionMessage&&z(e.slides,ie.itemRoleDescriptionMessage),ie.slideRole&&w(e.slides,ie.slideRole);const be=e.slides.length;ie.slideLabelMessage&&e.slides.forEach((pe,he)=>{const Me=e.params.loop?parseInt(pe.getAttribute("data-swiper-slide-index"),10):he;P(pe,ie.slideLabelMessage.replace(/\{\{index\}\}/,Me+1).replace(/\{\{slidesLength\}\}/,be))})};i("beforeInit",()=>{r=y4("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&(()=>{const ie=e.params.a11y;e.el.append(r);const be=e.el;ie.containerRoleDescriptionMessage&&z(be,ie.containerRoleDescriptionMessage),ie.containerMessage&&P(be,ie.containerMessage);const pe=e.wrapperEl,he=ie.id||pe.getAttribute("id")||`swiper-wrapper-${function h(ie){return void 0===ie&&(ie=16),"x".repeat(ie).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,Me=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";(function I(ie,be){(ie=u(ie)).forEach(pe=>{pe.setAttribute("id",be)})})(pe,he),function F(ie,be){(ie=u(ie)).forEach(pe=>{pe.setAttribute("aria-live",be)})}(pe,Me),Oe();let{nextEl:Se,prevEl:c1}=e.navigation?e.navigation:{};Se=u(Se),c1=u(c1),Se&&Se.forEach(P1=>Te(P1,he,ie.nextSlideMessage)),c1&&c1.forEach(P1=>Te(P1,he,ie.prevSlideMessage)),ve()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(Q1=>{Q1.addEventListener("keydown",R)}),e.el.addEventListener("focus",Qe,!0),e.el.addEventListener("pointerdown",Le,!0),e.el.addEventListener("pointerup",ge,!0)})()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&Oe()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&function j(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:ie,prevEl:be}=e.navigation;be&&(e.isBeginning?($(be),y(be)):(W(be),p(be))),ie&&(e.isEnd?($(ie),y(ie)):(W(ie),p(ie)))}()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&function Ve(){const ie=e.params.a11y;J()&&e.pagination.bullets.forEach(be=>{e.params.pagination.clickable&&(p(be),e.params.pagination.renderBullet||(w(be,"button"),P(be,ie.paginationBulletMessage.replace(/\{\{index\}\}/,V5(be)+1)))),be.matches(no(e.params.pagination.bulletActiveClass))?be.setAttribute("aria-current","true"):be.removeAttribute("aria-current")})}()}),i("destroy",()=>{e.params.a11y.enabled&&function He(){r&&r.remove();let{nextEl:ie,prevEl:be}=e.navigation?e.navigation:{};ie=u(ie),be=u(be),ie&&ie.forEach(pe=>pe.removeEventListener("keydown",R)),be&&be.forEach(pe=>pe.removeEventListener("keydown",R)),ve()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(he=>{he.removeEventListener("keydown",R)}),e.el.removeEventListener("focus",Qe,!0),e.el.removeEventListener("pointerdown",Le,!0),e.el.removeEventListener("pointerup",ge,!0)}()})},function dMe(t){let{swiper:e,extendParams:n,on:i}=t;n({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,o={};const u=P=>P.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),h=P=>{const I=on();let F;F=P?new URL(P):I.location;const $=F.pathname.slice(1).split("/").filter(J=>""!==J),W=$.length;return{key:$[W-2],value:$[W-1]}},p=(P,I)=>{const F=on();if(!r||!e.params.history.enabled)return;let $;$=e.params.url?new URL(e.params.url):F.location;let R=u(e.slides[I].getAttribute("data-history"));if(e.params.history.root.length>0){let J=e.params.history.root;"/"===J[J.length-1]&&(J=J.slice(0,J.length-1)),R=`${J}/${P?`${P}/`:""}${R}`}else $.pathname.includes(P)||(R=`${P?`${P}/`:""}${R}`);e.params.history.keepQuery&&(R+=$.search);const j=F.history.state;j&&j.value===R||(e.params.history.replaceState?F.history.replaceState({value:R},null,R):F.history.pushState({value:R},null,R))},y=(P,I,F)=>{if(I)for(let $=0,W=e.slides.length;$<W;$+=1){const R=e.slides[$];if(u(R.getAttribute("data-history"))===I){const J=e.getSlideIndex(R);e.slideTo(J,P,F)}}else e.slideTo(0,P,F)},w=()=>{o=h(e.params.url),y(e.params.speed,o.value,!1)};i("init",()=>{e.params.history.enabled&&(()=>{const P=on();if(e.params.history){if(!P.history||!P.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);if(r=!0,o=h(e.params.url),!o.key&&!o.value)return void(e.params.history.replaceState||P.addEventListener("popstate",w));y(0,o.value,e.params.runCallbacksOnInit),e.params.history.replaceState||P.addEventListener("popstate",w)}})()}),i("destroy",()=>{e.params.history.enabled&&(()=>{const P=on();e.params.history.replaceState||P.removeEventListener("popstate",w)})()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&p(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{r&&e.params.cssMode&&p(e.params.history.key,e.activeIndex)})},function pMe(t){let{swiper:e,extendParams:n,emit:i,on:r}=t,o=!1;const u=N3(),h=on();n({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(E,P){if(e.virtual&&e.params.virtual.enabled){const I=e.slides.filter($=>$.getAttribute("data-hash")===P)[0];return I?parseInt(I.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(M3(e.slidesEl,`.${e.params.slideClass}[data-hash="${P}"], swiper-slide[data-hash="${P}"]`)[0])}}});const p=()=>{i("hashChange");const E=u.location.hash.replace("#",""),P=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex];if(E!==(P?P.getAttribute("data-hash"):"")){const F=e.params.hashNavigation.getSlideIndex(e,E);if(typeof F>"u"||Number.isNaN(F))return;e.slideTo(F)}},y=()=>{if(!o||!e.params.hashNavigation.enabled)return;const E=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],P=E?E.getAttribute("data-hash")||E.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&h.history&&h.history.replaceState?(h.history.replaceState(null,null,`#${P}`||""),i("hashSet")):(u.location.hash=P||"",i("hashSet"))};r("init",()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;o=!0;const E=u.location.hash.replace("#","");if(E){const I=e.params.hashNavigation.getSlideIndex(e,E);e.slideTo(I||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&h.addEventListener("hashchange",p)})()}),r("destroy",()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&h.removeEventListener("hashchange",p)}),r("transitionEnd _freeModeNoMomentumRelease",()=>{o&&y()}),r("slideChange",()=>{o&&e.params.cssMode&&y()})},function mMe(t){let{swiper:e,extendParams:n,on:i,emit:r,params:o}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let u,h,w,E,P,I,F,$,W,p=o&&o.autoplay?o.autoplay.delay:3e3,y=o&&o.autoplay?o.autoplay.delay:3e3,z=(new Date).getTime;function R(he){!e||e.destroyed||!e.wrapperEl||he.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",R),ge())}const j=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?E=!0:E&&(y=w,E=!1);const he=e.autoplay.paused?w:z+y-(new Date).getTime();e.autoplay.timeLeft=he,r("autoplayTimeLeft",he,he/p),h=requestAnimationFrame(()=>{j()})},ve=he=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(h),j();let Me=typeof he>"u"?e.params.autoplay.delay:he;p=e.params.autoplay.delay,y=e.params.autoplay.delay;const Se=(()=>{let he;return he=e.virtual&&e.params.virtual.enabled?e.slides.filter(Se=>Se.classList.contains("swiper-slide-active"))[0]:e.slides[e.activeIndex],he?parseInt(he.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(Se)&&Se>0&&typeof he>"u"&&(Me=Se,p=Se,y=Se),w=Me;const c1=e.params.speed,P1=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(c1,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,c1,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(c1,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,c1,!0,!0),r("autoplay")),e.params.cssMode&&(z=(new Date).getTime(),requestAnimationFrame(()=>{ve()})))};return Me>0?(clearTimeout(u),u=setTimeout(()=>{P1()},Me)):requestAnimationFrame(()=>{P1()}),Me},Ve=()=>{e.autoplay.running=!0,ve(),r("autoplayStart")},Te=()=>{e.autoplay.running=!1,clearTimeout(u),cancelAnimationFrame(h),r("autoplayStop")},Le=(he,Me)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(u),he||(W=!0);const Se=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",R):ge()};if(e.autoplay.paused=!0,Me)return $&&(w=e.params.autoplay.delay),$=!1,void Se();w=(w||e.params.autoplay.delay)-((new Date).getTime()-z),(!(e.isEnd&&w<0)||e.params.loop)&&(w<0&&(w=0),Se())},ge=()=>{e.isEnd&&w<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(z=(new Date).getTime(),W?(W=!1,ve(w)):ve(),e.autoplay.paused=!1,r("autoplayResume"))},Qe=()=>{if(e.destroyed||!e.autoplay.running)return;const he=N3();"hidden"===he.visibilityState&&(W=!0,Le(!0)),"visible"===he.visibilityState&&ge()},Oe=he=>{"mouse"===he.pointerType&&(W=!0,!e.animating&&!e.autoplay.paused&&Le(!0))},Ne=he=>{"mouse"===he.pointerType&&e.autoplay.paused&&ge()};i("init",()=>{e.params.autoplay.enabled&&(e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",Oe),e.el.addEventListener("pointerleave",Ne)),N3().addEventListener("visibilitychange",Qe),z=(new Date).getTime(),Ve())}),i("destroy",()=>{e.el.removeEventListener("pointerenter",Oe),e.el.removeEventListener("pointerleave",Ne),N3().removeEventListener("visibilitychange",Qe),e.autoplay.running&&Te()}),i("beforeTransitionStart",(he,Me,Se)=>{e.destroyed||!e.autoplay.running||(Se||!e.params.autoplay.disableOnInteraction?Le(!0,!0):Te())}),i("sliderFirstMove",()=>{if(!e.destroyed&&e.autoplay.running){if(e.params.autoplay.disableOnInteraction)return void Te();P=!0,I=!1,W=!1,F=setTimeout(()=>{W=!0,I=!0,Le(!0)},200)}}),i("touchEnd",()=>{if(!e.destroyed&&e.autoplay.running&&P){if(clearTimeout(F),clearTimeout(u),e.params.autoplay.disableOnInteraction)return I=!1,void(P=!1);I&&e.params.cssMode&&ge(),I=!1,P=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||($=!0)}),Object.assign(e.autoplay,{start:Ve,stop:Te,pause:Le,resume:ge})},function gMe(t){let{swiper:e,extendParams:n,on:i}=t;n({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,o=!1;function u(){const y=e.thumbs.swiper;if(!y||y.destroyed)return;const w=y.clickedIndex,z=y.clickedSlide;if(z&&z.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof w>"u"||null===w)return;let E;E=y.params.loop?parseInt(y.clickedSlide.getAttribute("data-swiper-slide-index"),10):w,e.params.loop?e.slideToLoop(E):e.slideTo(E)}function h(){const{thumbs:y}=e.params;if(r)return!1;r=!0;const w=e.constructor;if(y.swiper instanceof w)e.thumbs.swiper=y.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(H5(y.swiper)){const z=Object.assign({},y.swiper);Object.assign(z,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new w(z),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function p(y){const w=e.thumbs.swiper;if(!w||w.destroyed)return;const z="auto"===w.params.slidesPerView?w.slidesPerViewDynamic():w.params.slidesPerView;let E=1;const P=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(E=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(E=1),E=Math.floor(E),w.slides.forEach($=>$.classList.remove(P)),w.params.loop||w.params.virtual&&w.params.virtual.enabled)for(let $=0;$<E;$+=1)M3(w.slidesEl,`[data-swiper-slide-index="${e.realIndex+$}"]`).forEach(W=>{W.classList.add(P)});else for(let $=0;$<E;$+=1)w.slides[e.realIndex+$]&&w.slides[e.realIndex+$].classList.add(P);const I=e.params.thumbs.autoScrollOffset,F=I&&!w.params.loop;if(e.realIndex!==w.realIndex||F){const $=w.activeIndex;let W,R;if(w.params.loop){const j=w.slides.filter(J=>J.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];W=w.slides.indexOf(j),R=e.activeIndex>e.previousIndex?"next":"prev"}else W=e.realIndex,R=W>e.previousIndex?"next":"prev";F&&(W+="next"===R?I:-1*I),w.visibleSlidesIndexes&&w.visibleSlidesIndexes.indexOf(W)<0&&(w.params.centeredSlides&&(W=W>$?W-Math.floor(z/2)+1:W+Math.floor(z/2)-1),w.slideTo(W,y?0:void 0))}}e.thumbs={swiper:null},i("beforeInit",()=>{const{thumbs:y}=e.params;if(y&&y.swiper)if("string"==typeof y.swiper||y.swiper instanceof HTMLElement){const w=N3(),z=()=>{const P="string"==typeof y.swiper?w.querySelector(y.swiper):y.swiper;if(P&&P.swiper)y.swiper=P.swiper,h(),p(!0);else if(P){const I=F=>{y.swiper=F.detail[0],P.removeEventListener("init",I),h(),p(!0),y.swiper.update(),e.update()};P.addEventListener("init",I)}return P},E=()=>{e.destroyed||z()||requestAnimationFrame(E)};requestAnimationFrame(E)}else h(),p(!0)}),i("slideChange update resize observerUpdate",()=>{p()}),i("setTransition",(y,w)=>{const z=e.thumbs.swiper;!z||z.destroyed||z.setTransition(w)}),i("beforeDestroy",()=>{const y=e.thumbs.swiper;!y||y.destroyed||o&&y.destroy()}),Object.assign(e.thumbs,{init:h,update:p})},function vMe(t){let{swiper:e,extendParams:n,emit:i,once:r}=t;n({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function o(){if(e.params.cssMode)return;const p=e.getTranslate();e.setTranslate(p),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function u(){if(e.params.cssMode)return;const{touchEventsData:p,touches:y}=e;0===p.velocities.length&&p.velocities.push({position:y[e.isHorizontal()?"startX":"startY"],time:p.touchStartTime}),p.velocities.push({position:y[e.isHorizontal()?"currentX":"currentY"],time:Er()})},onTouchEnd:function h(p){let{currentPos:y}=p;if(e.params.cssMode)return;const{params:w,wrapperEl:z,rtlTranslate:E,snapGrid:P,touchEventsData:I}=e,$=Er()-I.touchStartTime;if(y<-e.minTranslate())e.slideTo(e.activeIndex);else if(y>-e.maxTranslate())e.slideTo(e.slides.length<P.length?P.length-1:e.slides.length-1);else{if(w.freeMode.momentum){if(I.velocities.length>1){const Le=I.velocities.pop(),ge=I.velocities.pop(),Oe=Le.time-ge.time;e.velocity=(Le.position-ge.position)/Oe,e.velocity/=2,Math.abs(e.velocity)<w.freeMode.minimumVelocity&&(e.velocity=0),(Oe>150||Er()-Le.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=w.freeMode.momentumVelocityRatio,I.velocities.length=0;let W=1e3*w.freeMode.momentumRatio,j=e.translate+e.velocity*W;E&&(j=-j);let ve,J=!1;const Ve=20*Math.abs(e.velocity)*w.freeMode.momentumBounceRatio;let Te;if(j<e.maxTranslate())w.freeMode.momentumBounce?(j+e.maxTranslate()<-Ve&&(j=e.maxTranslate()-Ve),ve=e.maxTranslate(),J=!0,I.allowMomentumBounce=!0):j=e.maxTranslate(),w.loop&&w.centeredSlides&&(Te=!0);else if(j>e.minTranslate())w.freeMode.momentumBounce?(j-e.minTranslate()>Ve&&(j=e.minTranslate()+Ve),ve=e.minTranslate(),J=!0,I.allowMomentumBounce=!0):j=e.minTranslate(),w.loop&&w.centeredSlides&&(Te=!0);else if(w.freeMode.sticky){let Le;for(let ge=0;ge<P.length;ge+=1)if(P[ge]>-j){Le=ge;break}j=Math.abs(P[Le]-j)<Math.abs(P[Le-1]-j)||"next"===e.swipeDirection?P[Le]:P[Le-1],j=-j}if(Te&&r("transitionEnd",()=>{e.loopFix()}),0!==e.velocity){if(W=E?Math.abs((-j-e.translate)/e.velocity):Math.abs((j-e.translate)/e.velocity),w.freeMode.sticky){const Le=Math.abs((E?-j:j)-e.translate),ge=e.slidesSizesGrid[e.activeIndex];W=Le<ge?w.speed:Le<2*ge?1.5*w.speed:2.5*w.speed}}else if(w.freeMode.sticky)return void e.slideToClosest();w.freeMode.momentumBounce&&J?(e.updateProgress(ve),e.setTransition(W),e.setTranslate(j),e.transitionStart(!0,e.swipeDirection),e.animating=!0,E5(z,()=>{!e||e.destroyed||!I.allowMomentumBounce||(i("momentumBounce"),e.setTransition(w.speed),setTimeout(()=>{e.setTranslate(ve),E5(z,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(j),e.setTransition(W),e.setTranslate(j),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,E5(z,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(j),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(w.freeMode.sticky)return void e.slideToClosest();w.freeMode&&i("_freeModeNoMomentumRelease")}(!w.freeMode.momentum||$>=w.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function yMe(t){let r,o,u,h,{swiper:e,extendParams:n,on:i}=t;n({grid:{rows:1,fill:"column"}});const p=()=>{let I=e.params.spaceBetween;return"string"==typeof I&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*e.size:"string"==typeof I&&(I=parseFloat(I)),I};i("init",()=>{h=e.params.grid&&e.params.grid.rows>1}),i("update",()=>{const{params:I,el:F}=e,$=I.grid&&I.grid.rows>1;h&&!$?(F.classList.remove(`${I.containerModifierClass}grid`,`${I.containerModifierClass}grid-column`),u=1,e.emitContainerClasses()):!h&&$&&(F.classList.add(`${I.containerModifierClass}grid`),"column"===I.grid.fill&&F.classList.add(`${I.containerModifierClass}grid-column`),e.emitContainerClasses()),h=$}),e.grid={initSlides:I=>{const{slidesPerView:F}=e.params,{rows:$,fill:W}=e.params.grid;u=Math.floor(I/$),r=Math.floor(I/$)===I/$?I:Math.ceil(I/$)*$,"auto"!==F&&"row"===W&&(r=Math.max(r,F*$)),o=r/$},updateSlide:(I,F,$,W)=>{const{slidesPerGroup:R}=e.params,j=p(),{rows:J,fill:ve}=e.params.grid;let Ve,Te,Le;if("row"===ve&&R>1){const ge=Math.floor(I/(R*J)),Qe=I-J*R*ge,Oe=0===ge?R:Math.min(Math.ceil(($-ge*J*R)/J),R);Le=Math.floor(Qe/Oe),Te=Qe-Le*Oe+ge*R,Ve=Te+Le*r/J,F.style.order=Ve}else"column"===ve?(Te=Math.floor(I/J),Le=I-Te*J,(Te>u||Te===u&&Le===J-1)&&(Le+=1,Le>=J&&(Le=0,Te+=1))):(Le=Math.floor(I/o),Te=I-Le*o);F.row=Le,F.column=Te,F.style[W("margin-top")]=0!==Le?j&&`${j}px`:""},updateWrapperSize:(I,F,$)=>{const{centeredSlides:W,roundLengths:R}=e.params,j=p(),{rows:J}=e.params.grid;if(e.virtualSize=(I+j)*r,e.virtualSize=Math.ceil(e.virtualSize/J)-j,e.wrapperEl.style[$("width")]=`${e.virtualSize+j}px`,W){const ve=[];for(let Ve=0;Ve<F.length;Ve+=1){let Te=F[Ve];R&&(Te=Math.floor(Te)),F[Ve]<e.virtualSize+F[0]&&ve.push(Te)}F.splice(0,F.length),F.push(...ve)}}}},function wMe(t){let{swiper:e}=t;Object.assign(e,{appendSlide:_Me.bind(e),prependSlide:CMe.bind(e),addSlide:xMe.bind(e),removeSlide:bMe.bind(e),removeAllSlides:MMe.bind(e)})},function zMe(t){let{swiper:e,extendParams:n,on:i}=t;n({fadeEffect:{crossFade:!1}}),n0({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:u}=e;for(let p=0;p<u.length;p+=1){const y=e.slides[p];let z=-y.swiperSlideOffset;e.params.virtualTranslate||(z-=e.translate);let E=0;e.isHorizontal()||(E=z,z=0);const P=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(y.progress),0):1+Math.min(Math.max(y.progress,-1),0),I=T5(0,y);I.style.opacity=P,I.style.transform=`translate3d(${z}px, ${E}px, 0px)`}},setTransition:u=>{const h=e.slides.map(p=>g6(p));h.forEach(p=>{p.style.transitionDuration=`${u}ms`}),su({swiper:e,duration:u,transformElements:h,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function SMe(t){let{swiper:e,extendParams:n,on:i}=t;n({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(p,y,w)=>{let z=p.querySelector(w?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),E=p.querySelector(w?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");z||(z=y4("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(w?"left":"top")).split(" ")),p.append(z)),E||(E=y4("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(w?"right":"bottom")).split(" ")),p.append(E)),z&&(z.style.opacity=Math.max(-y,0)),E&&(E.style.opacity=Math.max(y,0))};n0({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:p,wrapperEl:y,slides:w,width:z,height:E,rtlTranslate:P,size:I,browser:F}=e,$=e.params.cubeEffect,W=e.isHorizontal(),R=e.virtual&&e.params.virtual.enabled;let J,j=0;$.shadow&&(W?(J=e.wrapperEl.querySelector(".swiper-cube-shadow"),J||(J=y4("div","swiper-cube-shadow"),e.wrapperEl.append(J)),J.style.height=`${z}px`):(J=p.querySelector(".swiper-cube-shadow"),J||(J=y4("div","swiper-cube-shadow"),p.append(J))));for(let Ve=0;Ve<w.length;Ve+=1){const Te=w[Ve];let Le=Ve;R&&(Le=parseInt(Te.getAttribute("data-swiper-slide-index"),10));let ge=90*Le,Qe=Math.floor(ge/360);P&&(ge=-ge,Qe=Math.floor(-ge/360));const Oe=Math.max(Math.min(Te.progress,1),-1);let Ne=0,He=0,ie=0;Le%4==0?(Ne=4*-Qe*I,ie=0):(Le-1)%4==0?(Ne=0,ie=4*-Qe*I):(Le-2)%4==0?(Ne=I+4*Qe*I,ie=I):(Le-3)%4==0&&(Ne=-I,ie=3*I+4*I*Qe),P&&(Ne=-Ne),W||(He=Ne,Ne=0),Oe<=1&&Oe>-1&&(j=90*Le+90*Oe,P&&(j=90*-Le-90*Oe)),Te.style.transform=`rotateX(${W?0:-ge}deg) rotateY(${W?ge:0}deg) translate3d(${Ne}px, ${He}px, ${ie}px)`,$.slideShadows&&r(Te,Oe,W)}if(y.style.transformOrigin=`50% 50% -${I/2}px`,y.style["-webkit-transform-origin"]=`50% 50% -${I/2}px`,$.shadow)if(W)J.style.transform=`translate3d(0px, ${z/2+$.shadowOffset}px, ${-z/2}px) rotateX(90deg) rotateZ(0deg) scale(${$.shadowScale})`;else{const Ve=Math.abs(j)-90*Math.floor(Math.abs(j)/90),Te=1.5-(Math.sin(2*Ve*Math.PI/360)/2+Math.cos(2*Ve*Math.PI/360)/2),ge=$.shadowScale/Te;J.style.transform=`scale3d(${$.shadowScale}, 1, ${ge}) translate3d(0px, ${E/2+$.shadowOffset}px, ${-E/2/ge}px) rotateX(-90deg)`}const ve=(F.isSafari||F.isWebView)&&F.needPerspectiveFix?-I/2:0;y.style.transform=`translate3d(0px,0,${ve}px) rotateX(${e.isHorizontal()?0:j}deg) rotateY(${e.isHorizontal()?-j:0}deg)`,y.style.setProperty("--swiper-cube-translate-z",`${ve}px`)},setTransition:p=>{const{el:y,slides:w}=e;if(w.forEach(z=>{z.style.transitionDuration=`${p}ms`,z.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(E=>{E.style.transitionDuration=`${p}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const z=y.querySelector(".swiper-cube-shadow");z&&(z.style.transitionDuration=`${p}ms`)}},recreateShadows:()=>{const p=e.isHorizontal();e.slides.forEach(y=>{const w=Math.max(Math.min(y.progress,1),-1);r(y,w,p)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function HMe(t){let{swiper:e,extendParams:n,on:i}=t;n({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(p,y)=>{let w=e.isHorizontal()?p.querySelector(".swiper-slide-shadow-left"):p.querySelector(".swiper-slide-shadow-top"),z=e.isHorizontal()?p.querySelector(".swiper-slide-shadow-right"):p.querySelector(".swiper-slide-shadow-bottom");w||(w=r0("flip",p,e.isHorizontal()?"left":"top")),z||(z=r0("flip",p,e.isHorizontal()?"right":"bottom")),w&&(w.style.opacity=Math.max(-y,0)),z&&(z.style.opacity=Math.max(y,0))};n0({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:p,rtlTranslate:y}=e,w=e.params.flipEffect;for(let z=0;z<p.length;z+=1){const E=p[z];let P=E.progress;e.params.flipEffect.limitRotation&&(P=Math.max(Math.min(E.progress,1),-1));const I=E.swiperSlideOffset;let $=-180*P,W=0,R=e.params.cssMode?-I-e.translate:-I,j=0;e.isHorizontal()?y&&($=-$):(j=R,R=0,W=-$,$=0),E.style.zIndex=-Math.abs(Math.round(P))+p.length,w.slideShadows&&r(E,P);const J=`translate3d(${R}px, ${j}px, 0px) rotateX(${W}deg) rotateY(${$}deg)`;T5(0,E).style.transform=J}},setTransition:p=>{const y=e.slides.map(w=>g6(w));y.forEach(w=>{w.style.transitionDuration=`${p}ms`,w.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(z=>{z.style.transitionDuration=`${p}ms`})}),su({swiper:e,duration:p,transformElements:y})},recreateShadows:()=>{e.slides.forEach(p=>{let y=p.progress;e.params.flipEffect.limitRotation&&(y=Math.max(Math.min(p.progress,1),-1)),r(p,y)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function LMe(t){let{swiper:e,extendParams:n,on:i}=t;n({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),n0({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:u,height:h,slides:p,slidesSizesGrid:y}=e,w=e.params.coverflowEffect,z=e.isHorizontal(),E=e.translate,P=z?u/2-E:h/2-E,I=z?w.rotate:-w.rotate,F=w.depth;for(let $=0,W=p.length;$<W;$+=1){const R=p[$],j=y[$],ve=(P-R.swiperSlideOffset-j/2)/j,Ve="function"==typeof w.modifier?w.modifier(ve):ve*w.modifier;let Te=z?I*Ve:0,Le=z?0:I*Ve,ge=-F*Math.abs(Ve),Qe=w.stretch;"string"==typeof Qe&&-1!==Qe.indexOf("%")&&(Qe=parseFloat(w.stretch)/100*j);let Oe=z?0:Qe*Ve,Ne=z?Qe*Ve:0,He=1-(1-w.scale)*Math.abs(Ve);Math.abs(Ne)<.001&&(Ne=0),Math.abs(Oe)<.001&&(Oe=0),Math.abs(ge)<.001&&(ge=0),Math.abs(Te)<.001&&(Te=0),Math.abs(Le)<.001&&(Le=0),Math.abs(He)<.001&&(He=0);const ie=`translate3d(${Ne}px,${Oe}px,${ge}px)  rotateX(${Le}deg) rotateY(${Te}deg) scale(${He})`;if(T5(0,R).style.transform=ie,R.style.zIndex=1-Math.abs(Math.round(Ve)),w.slideShadows){let pe=R.querySelector(z?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),he=R.querySelector(z?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");pe||(pe=r0("coverflow",R,z?"left":"top")),he||(he=r0("coverflow",R,z?"right":"bottom")),pe&&(pe.style.opacity=Ve>0?Ve:0),he&&(he.style.opacity=-Ve>0?-Ve:0)}}},setTransition:u=>{e.slides.map(p=>g6(p)).forEach(p=>{p.style.transitionDuration=`${u}ms`,p.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(y=>{y.style.transitionDuration=`${u}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function VMe(t){let{swiper:e,extendParams:n,on:i}=t;n({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=h=>"string"==typeof h?h:`${h}px`;n0({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:h,wrapperEl:p,slidesSizesGrid:y}=e,w=e.params.creativeEffect,{progressMultiplier:z}=w,E=e.params.centeredSlides;E&&(p.style.transform=`translateX(calc(50% - ${y[0]/2-e.params.slidesOffsetBefore||0}px))`);for(let P=0;P<h.length;P+=1){const I=h[P],F=I.progress,$=Math.min(Math.max(I.progress,-w.limitProgress),w.limitProgress);let W=$;E||(W=Math.min(Math.max(I.originalProgress,-w.limitProgress),w.limitProgress));const R=I.swiperSlideOffset,j=[e.params.cssMode?-R-e.translate:-R,0,0],J=[0,0,0];let ve=!1;e.isHorizontal()||(j[1]=j[0],j[0]=0);let Ve={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};$<0?(Ve=w.next,ve=!0):$>0&&(Ve=w.prev,ve=!0),j.forEach((He,ie)=>{j[ie]=`calc(${He}px + (${r(Ve.translate[ie])} * ${Math.abs($*z)}))`}),J.forEach((He,ie)=>{J[ie]=Ve.rotate[ie]*Math.abs($*z)}),I.style.zIndex=-Math.abs(Math.round(F))+h.length;const Te=j.join(", "),Qe=W<0?1+(1-Ve.opacity)*W*z:1-(1-Ve.opacity)*W*z,Oe=`translate3d(${Te}) rotateX(${J[0]}deg) rotateY(${J[1]}deg) rotateZ(${J[2]}deg) ${W<0?`scale(${1+(1-Ve.scale)*W*z})`:`scale(${1-(1-Ve.scale)*W*z})`}`;if(ve&&Ve.shadow||!ve){let He=I.querySelector(".swiper-slide-shadow");!He&&Ve.shadow&&(He=r0("creative",I)),He&&(He.style.opacity=Math.min(Math.max(Math.abs(w.shadowPerProgress?$*(1/w.limitProgress):$),0),1))}const Ne=T5(0,I);Ne.style.transform=Oe,Ne.style.opacity=Qe,Ve.origin&&(Ne.style.transformOrigin=Ve.origin)}},setTransition:h=>{const p=e.slides.map(y=>g6(y));p.forEach(y=>{y.style.transitionDuration=`${h}ms`,y.querySelectorAll(".swiper-slide-shadow").forEach(w=>{w.style.transitionDuration=`${h}ms`})}),su({swiper:e,duration:h,transformElements:p,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function EMe(t){let{swiper:e,extendParams:n,on:i}=t;n({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),n0({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:u,activeIndex:h,rtlTranslate:p}=e,y=e.params.cardsEffect,{startTranslate:w,isTouched:z}=e.touchEventsData,E=p?-e.translate:e.translate;for(let P=0;P<u.length;P+=1){const I=u[P],F=I.progress,$=Math.min(Math.max(F,-4),4);let W=I.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(W-=u[0].swiperSlideOffset);let R=e.params.cssMode?-W-e.translate:-W,j=0;const J=-100*Math.abs($);let ve=1,Ve=-y.perSlideRotate*$,Te=y.perSlideOffset-.75*Math.abs($);const Le=e.virtual&&e.params.virtual.enabled?e.virtual.from+P:P;if((Le===h||Le===h-1)&&$>0&&$<1&&(z||e.params.cssMode)&&E<w||(Le===h||Le===h+1)&&$<0&&$>-1&&(z||e.params.cssMode)&&E>w){const ie=(1-Math.abs((Math.abs($)-.5)/.5))**.5;Ve+=-28*$*ie,ve+=-.5*ie,Te+=96*ie,j=-25*ie*Math.abs($)+"%"}if(R=$<0?`calc(${R}px ${p?"-":"+"} (${Te*Math.abs($)}%))`:$>0?`calc(${R}px ${p?"-":"+"} (-${Te*Math.abs($)}%))`:`${R}px`,!e.isHorizontal()){const ie=j;j=R,R=ie}const Ne=`\n        translate3d(${R}, ${j}, ${J}px)\n        rotateZ(${y.rotate?p?-Ve:Ve:0}deg)\n        scale(${$<0?""+(1+(1-ve)*$):""+(1-(1-ve)*$)})\n      `;if(y.slideShadows){let ie=I.querySelector(".swiper-slide-shadow");ie||(ie=r0("cards",I)),ie&&(ie.style.opacity=Math.min(Math.max((Math.abs($)-.5)/.5,0),1))}I.style.zIndex=-Math.abs(Math.round(F))+u.length,T5(0,I).style.transform=Ne}},setTransition:u=>{const h=e.slides.map(p=>g6(p));h.forEach(p=>{p.style.transitionDuration=`${u}ms`,p.querySelectorAll(".swiper-slide-shadow").forEach(y=>{y.style.transitionDuration=`${u}ms`})}),su({swiper:e,duration:u,transformElements:h})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}]);const ou=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function a0(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)&&!t.__swiper__}function cu(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:a0(e[i])&&a0(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:cu(t[i],e[i]):t[i]=e[i]})}function lu(t){return void 0===t&&(t=""),t.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}const yD=t=>{if(parseFloat(t)===Number(t))return Number(t);if("true"===t||""===t)return!0;if("false"===t)return!1;if("null"===t)return null;if("undefined"!==t){if("string"==typeof t&&t.includes("{")&&t.includes("}")&&t.includes('"')){let e;try{e=JSON.parse(t)}catch{e=t}return e}return t}},_D=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function CD(t,e,n){const i={},r={};cu(i,og);const o=[...ou,"on"],u=o.map(p=>p.replace(/_/,""));o.forEach(p=>{p=p.replace("_",""),typeof t[p]<"u"&&(r[p]=t[p])});const h=[...t.attributes];return"string"==typeof e&&typeof n<"u"&&h.push({name:e,value:a0(n)?{...n}:n}),h.forEach(p=>{const y=_D.filter(w=>0===p.name.indexOf(`${w}-`))[0];if(y){const w=lu(y),z=lu(p.name.split(`${y}-`)[1]);typeof r[w]>"u"&&(r[w]={}),!0===r[w]&&(r[w]={enabled:!0}),r[w][z]=yD(p.value)}else{const w=lu(p.name);if(!u.includes(w))return;const z=yD(p.value);r[w]&&_D.includes(p.name)&&!a0(z)?(r[w].constructor!==Object&&(r[w]={}),r[w].enabled=!!z):r[w]=z}}),cu(i,r),i.navigation?i.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==i.navigation?i.navigation:{}}:!1===i.navigation&&delete i.navigation,i.scrollbar?i.scrollbar={el:".swiper-scrollbar",...!0!==i.scrollbar?i.scrollbar:{}}:!1===i.scrollbar&&delete i.scrollbar,i.pagination?i.pagination={el:".swiper-pagination",...!0!==i.pagination?i.pagination:{}}:!1===i.pagination&&delete i.pagination,{params:i,passedParams:r}}const kMe=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;overflow:clip;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",xD=typeof window>"u"||typeof HTMLElement>"u"?class OMe{}:HTMLElement,bD='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',MD=(t,e)=>{if(typeof CSSStyleSheet<"u"&&t.adoptedStyleSheets){const n=new CSSStyleSheet;n.replaceSync(e),t.adoptedStyleSheets=[n]}else{const n=document.createElement("style");n.rel="stylesheet",n.textContent=e,t.appendChild(n)}};class wD extends xD{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return bD}static get prevButtonSvg(){return bD.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[kMe,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,n=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=n.length?Math.max(...n)+1:0,this.rendered)if(this.slideSlots>e)for(let i=e;i<this.slideSlots;i+=1){const r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);const o=document.createElement("slot");o.setAttribute("name",`slide-${i+1}`),r.appendChild(o),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<e){const i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&MD(this.shadowRoot,e),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const o=document.createElement("link");o.rel="stylesheet",o.href=i,this.shadowRoot.appendChild(o)});const n=document.createElement("div");n.classList.add("swiper"),n.part="container",n.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((i,r)=>`\n        <swiper-slide part="slide slide-${r}">\n          <slot name="slide-${r}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function PMe(t){return void 0===t&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function DMe(t){return void 0===t&&(t={}),t.pagination&&typeof t.pagination.el>"u"}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function AMe(t){return void 0===t&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(n),this.rendered=!0}initialize(){var e=this;if(this.initialized)return;this.initialized=!0;const{params:n,passedParams:i}=CD(this);this.swiperParams=n,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new Ki(this.shadowRoot.querySelector(".swiper"),{...n.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...n,touchEventsTarget:"container",onAny:function(r){"observerUpdate"===r&&e.calcSlideSlots();const o=n.eventsPrefix?`${n.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var u=arguments.length,h=new Array(u>1?u-1:0),p=1;p<u;p++)h[p-1]=arguments[p];const y=new CustomEvent(o,{detail:h,bubbles:"hashChange"!==r,cancelable:!0});e.dispatchEvent(y)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(e,n){const{params:i,passedParams:r}=CD(this,e,n);this.passedParams=r,this.swiperParams=i,function IMe(t){let{swiper:e,slides:n,passedParams:i,changedParams:r,nextEl:o,prevEl:u,scrollbarEl:h,paginationEl:p}=t;const y=r.filter(ge=>"children"!==ge&&"direction"!==ge&&"wrapperClass"!==ge),{params:w,pagination:z,navigation:E,scrollbar:P,virtual:I,thumbs:F}=e;let $,W,R,j,J,ve,Ve,Te;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&w.thumbs&&!w.thumbs.swiper&&($=!0),r.includes("controller")&&i.controller&&i.controller.control&&w.controller&&!w.controller.control&&(W=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||p)&&(w.pagination||!1===w.pagination)&&z&&!z.el&&(R=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||h)&&(w.scrollbar||!1===w.scrollbar)&&P&&!P.el&&(j=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||u)&&(i.navigation.nextEl||o)&&(w.navigation||!1===w.navigation)&&E&&!E.prevEl&&!E.nextEl&&(J=!0);const Le=ge=>{e[ge]&&(e[ge].destroy(),"navigation"===ge?(e.isElement&&(e[ge].prevEl.remove(),e[ge].nextEl.remove()),w[ge].prevEl=void 0,w[ge].nextEl=void 0,e[ge].prevEl=void 0,e[ge].nextEl=void 0):(e.isElement&&e[ge].el.remove(),w[ge].el=void 0,e[ge].el=void 0))};r.includes("loop")&&e.isElement&&(w.loop&&!i.loop?ve=!0:!w.loop&&i.loop?Ve=!0:Te=!0),y.forEach(ge=>{if(a0(w[ge])&&a0(i[ge]))cu(w[ge],i[ge]),("navigation"===ge||"pagination"===ge||"scrollbar"===ge)&&"enabled"in i[ge]&&!i[ge].enabled&&Le(ge);else{const Qe=i[ge];!0!==Qe&&!1!==Qe||"navigation"!==ge&&"pagination"!==ge&&"scrollbar"!==ge?w[ge]=i[ge]:!1===Qe&&Le(ge)}}),y.includes("controller")&&!W&&e.controller&&e.controller.control&&w.controller&&w.controller.control&&(e.controller.control=w.controller.control),r.includes("children")&&n&&I&&w.virtual.enabled&&(I.slides=n,I.update(!0)),r.includes("children")&&n&&w.loop&&(Te=!0),$&&F.init()&&F.update(!0),W&&(e.controller.control=w.controller.control),R&&(e.isElement&&(!p||"string"==typeof p)&&(p=document.createElement("div"),p.classList.add("swiper-pagination"),p.part.add("pagination"),e.el.appendChild(p)),p&&(w.pagination.el=p),z.init(),z.render(),z.update()),j&&(e.isElement&&(!h||"string"==typeof h)&&(h=document.createElement("div"),h.classList.add("swiper-scrollbar"),h.part.add("scrollbar"),e.el.appendChild(h)),h&&(w.scrollbar.el=h),P.init(),P.updateSize(),P.setTranslate()),J&&(e.isElement&&((!o||"string"==typeof o)&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!u||"string"==typeof u)&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=e.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),e.el.appendChild(u))),o&&(w.navigation.nextEl=o),u&&(w.navigation.prevEl=u),E.init(),E.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(ve||Te)&&e.loopDestroy(),(Ve||Te)&&e.loopCreate(),e.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[lu(e)],..."navigation"===e&&r[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===e&&r[e]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===e&&r[e]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(e,n,i){this.initialized&&("true"===n&&null===i&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){return ou.filter(n=>n.includes("_")).map(n=>n.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}ou.forEach(t=>{"init"!==t&&(t=t.replace("_",""),Object.defineProperty(wD.prototype,t,{configurable:!0,get(){return(this.passedParams||{})[t]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[t]=e,this.initialized&&this.updateSwiperOnPropChange(t,e)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=t=>{ou.push(...t)}),typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",wD),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class RMe extends xD{constructor(){super(),this.attachShadow({mode:"open"})}render(){const e=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(MD(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),e){const n=document.createElement("div");n.classList.add("swiper-lazy-preloader"),n.part.add("preloader"),this.shadowRoot.appendChild(n)}}initialize(){this.render()}connectedCallback(){this.initialize()}}));let BMe=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=Ai({type:t,bootstrap:[lve]}),t.\u0275inj=Ti({imports:[qx,$le,r_e,Dxe]}),e})();PU().bootstrapModule(BMe).catch(t=>console.error(t))},624:function(o0){o0.exports=function(){"use strict";var Za,Xa,U2;function io(_,X2){if(Za)if(Xa){var Re="var sharedChunk = {}; ("+Za+")(sharedChunk); ("+Xa+")(sharedChunk);",Kn={};Za(Kn),U2=X2(Kn),typeof window<"u"&&(U2.workerUrl=window.URL.createObjectURL(new Blob([Re],{type:"text/javascript"})))}else Xa=X2;else Za=X2}return io(0,function(_){function X2(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Re=Kn;function Kn(c,a){this.x=c,this.y=a}Kn.prototype={clone:function(){return new Kn(this.x,this.y)},add:function(c){return this.clone()._add(c)},sub:function(c){return this.clone()._sub(c)},multByPoint:function(c){return this.clone()._multByPoint(c)},divByPoint:function(c){return this.clone()._divByPoint(c)},mult:function(c){return this.clone()._mult(c)},div:function(c){return this.clone()._div(c)},rotate:function(c){return this.clone()._rotate(c)},rotateAround:function(c,a){return this.clone()._rotateAround(c,a)},matMult:function(c){return this.clone()._matMult(c)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(c){return this.x===c.x&&this.y===c.y},dist:function(c){return Math.sqrt(this.distSqr(c))},distSqr:function(c){var a=c.x-this.x,l=c.y-this.y;return a*a+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith:function(c){return this.angleWithSep(c.x,c.y)},angleWithSep:function(c,a){return Math.atan2(this.x*a-this.y*c,this.x*c+this.y*a)},_matMult:function(c){var a=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=a,this},_add:function(c){return this.x+=c.x,this.y+=c.y,this},_sub:function(c){return this.x-=c.x,this.y-=c.y,this},_mult:function(c){return this.x*=c,this.y*=c,this},_div:function(c){return this.x/=c,this.y/=c,this},_multByPoint:function(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint:function(c){return this.x/=c.x,this.y/=c.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var c=this.y;return this.y=this.x,this.x=-c,this},_rotate:function(c){var a=Math.cos(c),l=Math.sin(c),d=l*this.x+a*this.y;return this.x=a*this.x-l*this.y,this.y=d,this},_rotateAround:function(c,a){var l=Math.cos(c),d=Math.sin(c),g=a.y+d*(this.x-a.x)+l*(this.y-a.y);return this.x=a.x+l*(this.x-a.x)-d*(this.y-a.y),this.y=g,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},Kn.convert=function(c){return c instanceof Kn?c:Array.isArray(c)?new Kn(c[0],c[1]):c};var I1=X2(Re),Qn=ii;function ii(c,a,l,d){this.cx=3*c,this.bx=3*(l-c)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(d-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=c,this.p1y=a,this.p2x=l,this.p2y=d}ii.prototype={sampleCurveX:function(c){return((this.ax*c+this.bx)*c+this.cx)*c},sampleCurveY:function(c){return((this.ay*c+this.by)*c+this.cy)*c},sampleCurveDerivativeX:function(c){return(3*this.ax*c+2*this.bx)*c+this.cx},solveCurveX:function(c,a){if(void 0===a&&(a=1e-6),c<0)return 0;if(c>1)return 1;for(var l=c,d=0;d<8;d++){var g=this.sampleCurveX(l)-c;if(Math.abs(g)<a)return l;var x=this.sampleCurveDerivativeX(l);if(Math.abs(x)<1e-6)break;l-=g/x}var M=0,S=1;for(l=c,d=0;d<20&&(g=this.sampleCurveX(l),!(Math.abs(g-c)<a));d++)c>g?M=l:S=l,l=.5*(S-M)+M;return l},solve:function(c,a){return this.sampleCurveY(this.solveCurveX(c,a))}};var _4=X2(Qn);function Qi(c,a,l,d){const g=new _4(c,a,l,d);return function(x){return g.solve(x)}}const u3=Qi(.25,.1,.25,1);function lt(c,a,l){return Math.min(l,Math.max(a,c))}function Ya(c,a,l){const d=l-a,g=((c-a)%d+d)%d+a;return g===a?l:g}function ln(c,...a){for(const l of a)for(const d in l)c[d]=l[d];return c}let ri=1;function O3(c,a,l){const d={};for(const g in c)d[g]=a.call(l||this,c[g],g,c);return d}function ia(c,a,l){const d={};for(const g in c)a.call(l||this,c[g],g,c)&&(d[g]=c[g]);return d}function Jn(c){return Array.isArray(c)?c.map(Jn):"object"==typeof c&&c?O3(c,Jn):c}const ai={};function un(c){ai[c]||(typeof console<"u"&&console.warn(c),ai[c]=!0)}function E2(c,a,l){return(l.y-c.y)*(a.x-c.x)>(a.y-c.y)*(l.x-c.x)}function Hi(c){let a=0;for(let l,d,g=0,x=c.length,M=x-1;g<x;M=g++)l=c[g],d=c[M],a+=(d.x-l.x)*(l.y+d.y);return a}function In(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let Li=null;function Ji(c){if(null==Li){const a=c.navigator?c.navigator.userAgent:null;Li=!!c.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return Li}function er(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const w3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let f3,Pr;const Dr={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(c){const a=requestAnimationFrame(c);return{cancel:()=>cancelAnimationFrame(a)}},getImageData(c,a=0){return this.getImageCanvasContext(c).getImageData(-a,-a,c.width+2*a,c.height+2*a)},getImageCanvasContext(c){const a=window.document.createElement("canvas"),l=a.getContext("2d",{willReadFrequently:!0});if(!l)throw new Error("failed to create canvas 2d context");return a.width=c.width,a.height=c.height,l.drawImage(c,0,0,c.width,c.height),l},resolveURL:c=>(f3||(f3=document.createElement("a")),f3.href=c,f3.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==Pr&&(Pr=matchMedia("(prefers-reduced-motion: reduce)")),Pr.matches)}},mt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class tr extends Error{constructor(a,l,d,g){super(`AJAXError: ${l} (${a}): ${d}`),this.status=a,this.statusText=l,this.url=d,this.body=g}}const si=In()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,z3=c=>mt.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))];function ut(c,a){const l=new AbortController,d=new Request(c.url,{method:c.method||"GET",body:c.body,credentials:c.credentials,headers:c.headers,cache:c.cache,referrer:si(),signal:l.signal});let g=!1,x=!1;return"json"===c.type&&d.headers.set("Accept","application/json"),x||fetch(d).then(M=>{return M.ok?(S=M,void("arrayBuffer"===c.type||"image"===c.type?S.arrayBuffer():"json"===c.type?S.json():S.text()).then(V=>{x||(g=!0,a(null,V,S.headers.get("Cache-Control"),S.headers.get("Expires")))}).catch(V=>{x||a(new Error(V.message))})):M.blob().then(S=>a(new tr(M.status,M.statusText,c.url,S)));var S}).catch(M=>{20!==M.code&&a(new Error(M.message))}),{cancel:()=>{x=!0,g||l.abort()}}}const fn=function(c,a){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){if(In()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,a);if(!In())return(z3(c.url)||ut)(c,a)}if(!(/^file:/.test(l=c.url)||/^file:/.test(si())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return ut(c,a);if(In()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",c,a,void 0,!0)}var l;return function(d,g){const x=new XMLHttpRequest;x.open(d.method||"GET",d.url,!0),"arrayBuffer"!==d.type&&"image"!==d.type||(x.responseType="arraybuffer");for(const M in d.headers)x.setRequestHeader(M,d.headers[M]);return"json"===d.type&&(x.responseType="text",x.setRequestHeader("Accept","application/json")),x.withCredentials="include"===d.credentials,x.onerror=()=>{g(new Error(x.statusText))},x.onload=()=>{if((x.status>=200&&x.status<300||0===x.status)&&null!==x.response){let M=x.response;if("json"===d.type)try{M=JSON.parse(x.response)}catch(S){return g(S)}g(null,M,x.getResponseHeader("Cache-Control"),x.getResponseHeader("Expires"))}else{const M=new Blob([x.response],{type:x.getResponseHeader("Content-Type")});g(new tr(x.status,x.statusText,d.url,M))}},x.send(d.body),{cancel:()=>x.abort()}}(c,a)},C4=function(c,a){return fn(ln(c,{type:"arrayBuffer"}),a)};function nr(c){if(!c||c.indexOf("://")<=0||0===c.indexOf("data:image/")||0===c.indexOf("blob:"))return!0;const a=new URL(c),l=window.location;return a.protocol===l.protocol&&a.host===l.host}function et(c,a,l){l[c]&&-1!==l[c].indexOf(a)||(l[c]=l[c]||[],l[c].push(a))}function $2(c,a,l){if(l&&l[c]){const d=l[c].indexOf(a);-1!==d&&l[c].splice(d,1)}}class S3{constructor(a,l={}){ln(this,l),this.type=a}}class d2 extends S3{constructor(a,l={}){super("error",ln({error:a},l))}}class oi{on(a,l){return this._listeners=this._listeners||{},et(a,l,this._listeners),this}off(a,l){return $2(a,l,this._listeners),$2(a,l,this._oneTimeListeners),this}once(a,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},et(a,l,this._oneTimeListeners),this):new Promise(d=>this.once(a,d))}fire(a,l){"string"==typeof a&&(a=new S3(a,l||{}));const d=a.type;if(this.listens(d)){a.target=this;const g=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const S of g)S.call(this,a);const x=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const S of x)$2(d,S,this._oneTimeListeners),S.call(this,a);const M=this._eventedParent;M&&(ln(a,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),M.fire(a))}else a instanceof d2&&console.error(a.error);return this}listens(a){return this._listeners&&this._listeners[a]&&this._listeners[a].length>0||this._oneTimeListeners&&this._oneTimeListeners[a]&&this._oneTimeListeners[a].length>0||this._eventedParent&&this._eventedParent.listens(a)}setEventedParent(a,l){return this._eventedParent=a,this._eventedParentData=l,this}}var Fe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const R3=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function x4(c,a){const l={};for(const d in c)"ref"!==d&&(l[d]=c[d]);return R3.forEach(d=>{d in a&&(l[d]=a[d])}),l}function T2(c,a){if(Array.isArray(c)){if(!Array.isArray(a)||c.length!==a.length)return!1;for(let l=0;l<c.length;l++)if(!T2(c[l],a[l]))return!1;return!0}if("object"==typeof c&&null!==c&&null!==a){if("object"!=typeof a||Object.keys(c).length!==Object.keys(a).length)return!1;for(const l in c)if(!T2(c[l],a[l]))return!1;return!0}return c===a}const b2={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function b4(c,a,l){l.push({command:b2.addSource,args:[c,a[c]]})}function M4(c,a,l){a.push({command:b2.removeSource,args:[c]}),l[c]=!0}function ro(c,a,l,d){M4(c,l,d),b4(c,a,l)}function ao(c,a,l){let d;for(d in c[l])if(Object.prototype.hasOwnProperty.call(c[l],d)&&"data"!==d&&!T2(c[l][d],a[l][d]))return!1;for(d in a[l])if(Object.prototype.hasOwnProperty.call(a[l],d)&&"data"!==d&&!T2(c[l][d],a[l][d]))return!1;return!0}function ft(c,a,l,d,g,x){let M;for(M in a=a||{},c=c||{})Object.prototype.hasOwnProperty.call(c,M)&&(T2(c[M],a[M])||l.push({command:x,args:[d,M,a[M],g]}));for(M in a)Object.prototype.hasOwnProperty.call(a,M)&&!Object.prototype.hasOwnProperty.call(c,M)&&(T2(c[M],a[M])||l.push({command:x,args:[d,M,a[M],g]}))}function w4(c){return c.id}function z4(c,a){return c[a.id]=a,c}class r1{constructor(a,l,d,g){this.message=(a?`${a}: `:"")+d,g&&(this.identifier=g),null!=l&&l.__line__&&(this.line=l.__line__)}}function kn(c,...a){for(const l of a)for(const d in l)c[d]=l[d];return c}class Mn extends Error{constructor(a,l){super(l),this.message=l,this.key=a}}class ci{constructor(a,l=[]){this.parent=a,this.bindings={};for(const[d,g]of l)this.bindings[d]=g}concat(a){return new ci(this,a)}get(a){if(this.bindings[a])return this.bindings[a];if(this.parent)return this.parent.get(a);throw new Error(`${a} not found in scope.`)}has(a){return!!this.bindings[a]||!!this.parent&&this.parent.has(a)}}const ir={kind:"null"},o1={kind:"number"},K1={kind:"string"},B1={kind:"boolean"},hn={kind:"color"},Vi={kind:"object"},O1={kind:"value"},li={kind:"collator"},ui={kind:"formatted"},rr={kind:"padding"},H3={kind:"resolvedImage"},ar={kind:"variableAnchorOffsetCollection"};function dn(c,a){return{kind:"array",itemType:c,N:a}}function j2(c){if("array"===c.kind){const a=j2(c.itemType);return"number"==typeof c.N?`array<${a}, ${c.N}>`:"value"===c.itemType.kind?"array":`array<${a}>`}return c.kind}const ra=[ir,o1,K1,B1,hn,ui,Vi,dn(O1),rr,H3,ar];function fi(c,a){if("error"===a.kind)return null;if("array"===c.kind){if("array"===a.kind&&(0===a.N&&"value"===a.itemType.kind||!fi(c.itemType,a.itemType))&&("number"!=typeof c.N||c.N===a.N))return null}else{if(c.kind===a.kind)return null;if("value"===c.kind)for(const l of ra)if(!fi(l,a))return null}return`Expected ${j2(c)} but found ${j2(a)} instead.`}function re(c,a){return a.some(l=>l.kind===c.kind)}function U(c,a){return a.some(l=>"null"===l?null===c:"array"===l?Array.isArray(c):"object"===l?c&&!Array.isArray(c)&&"object"==typeof c:l===typeof c)}function G(c,a){return"array"===c.kind&&"array"===a.kind?c.itemType.kind===a.itemType.kind&&"number"==typeof c.N:c.kind===a.kind}const K=.96422,ue=4/29,Ce=6/29,me=3*Ce*Ce,fe=Ce*Ce*Ce,ze=Math.PI/180,Ge=180/Math.PI;function We(c){return(c%=360)<0&&(c+=360),c}function Ue([c,a,l,d]){let g,x;const M=W1((.2225045*(c=A1(c))+.7168786*(a=A1(a))+.0606169*(l=A1(l)))/1);c===a&&a===l?g=x=M:(g=W1((.4360747*c+.3850649*a+.1430804*l)/K),x=W1((.0139322*c+.0971045*a+.7141733*l)/.82521));const S=116*M-16;return[S<0?0:S,500*(g-M),200*(M-x),d]}function A1(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function W1(c){return c>fe?Math.pow(c,1/3):c/me+ue}function C1([c,a,l,d]){let g=(c+16)/116,x=isNaN(a)?g:g+a/500,M=isNaN(l)?g:g-l/200;return g=1*U1(g),x=K*U1(x),M=.82521*U1(M),[E1(3.1338561*x-1.6168667*g-.4906146*M),E1(-.9787684*x+1.9161415*g+.033454*M),E1(.0719453*x-.2289914*g+1.4052427*M),d]}function E1(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function U1(c){return c>Ce?c*c*c:me*(c-ue)}function p2(c){return parseInt(c.padEnd(2,c),16)/255}function P2(c,a){return X1(a?c/100:c,0,1)}function X1(c,a,l){return Math.min(Math.max(a,c),l)}function f2(c){return!c.some(Number.isNaN)}const S2={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class D1{constructor(a,l,d,g=1,x=!0){this.r=a,this.g=l,this.b=d,this.a=g,x||(this.r*=g,this.g*=g,this.b*=g,g||this.overwriteGetter("rgb",[a,l,d,g]))}static parse(a){if(a instanceof D1)return a;if("string"!=typeof a)return;const l=function(d){if("transparent"===(d=d.toLowerCase().trim()))return[0,0,0,0];const g=S2[d];if(g){const[M,S,V]=g;return[M/255,S/255,V/255,1]}if(d.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(d)){const M=d.length<6?1:2;let S=1;return[p2(d.slice(S,S+=M)),p2(d.slice(S,S+=M)),p2(d.slice(S,S+=M)),p2(d.slice(S,S+M)||"ff")]}if(d.startsWith("rgb")){const M=d.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(M){const[S,V,D,N,B,q,X,Y,ne,se,le,xe]=M,de=[N||" ",X||" ",se].join("");if("  "===de||"  /"===de||",,"===de||",,,"===de){const Ee=[D,q,ne].join(""),Ae="%%%"===Ee?100:""===Ee?255:0;if(Ae){const qe=[X1(+V/Ae,0,1),X1(+B/Ae,0,1),X1(+Y/Ae,0,1),le?P2(+le,xe):1];if(f2(qe))return qe}}return}}const x=d.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[M,S,V,D,N,B,q,X,Y]=x,ne=[V||" ",N||" ",q].join("");if("  "===ne||"  /"===ne||",,"===ne||",,,"===ne){const se=[+S,X1(+D,0,100),X1(+B,0,100),X?P2(+X,Y):1];if(f2(se))return function([le,xe,de,Ee]){function Ae(qe){const f1=(qe+le/30)%12,v1=xe*Math.min(de,1-de);return de-v1*Math.max(-1,Math.min(f1-3,9-f1,1))}return le=We(le),xe/=100,de/=100,[Ae(0),Ae(8),Ae(4),Ee]}(se)}}}(a);return l?new D1(...l,!1):void 0}get rgb(){const{r:a,g:l,b:d,a:g}=this,x=g||1/0;return this.overwriteGetter("rgb",[a/x,l/x,d/x,g])}get hcl(){return this.overwriteGetter("hcl",function(a){const[l,d,g,x]=Ue(a),M=Math.sqrt(d*d+g*g);return[Math.round(1e4*M)?We(Math.atan2(g,d)*Ge):NaN,M,l,x]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Ue(this.rgb))}overwriteGetter(a,l){return Object.defineProperty(this,a,{value:l}),l}toString(){const[a,l,d,g]=this.rgb;return`rgba(${[a,l,d].map(x=>Math.round(255*x)).join(",")},${g})`}}D1.black=new D1(0,0,0,1),D1.white=new D1(1,1,1,1),D1.transparent=new D1(0,0,0,0),D1.red=new D1(1,0,0,1);class D2{constructor(a,l,d){this.sensitivity=a?l?"variant":"case":l?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(a,l){return this.collator.compare(a,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class wn{constructor(a,l,d,g,x){this.text=a,this.image=l,this.scale=d,this.fontStack=g,this.textColor=x}}class Mt{constructor(a){this.sections=a}static fromString(a){return new Mt([new wn(a,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(a=>0!==a.text.length||a.image&&0!==a.image.name.length)}static factory(a){return a instanceof Mt?a:Mt.fromString(a)}toString(){return 0===this.sections.length?"":this.sections.map(a=>a.text).join("")}}class h3{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof h3)return a;if("number"==typeof a)return new h3([a,a,a,a]);if(Array.isArray(a)&&!(a.length<1||a.length>4)){for(const l of a)if("number"!=typeof l)return;switch(a.length){case 1:a=[a[0],a[0],a[0],a[0]];break;case 2:a=[a[0],a[1],a[0],a[1]];break;case 3:a=[a[0],a[1],a[2],a[1]]}return new h3(a)}}toString(){return JSON.stringify(this.values)}}const so=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class zn{constructor(a){this.values=a.slice()}static parse(a){if(a instanceof zn)return a;if(Array.isArray(a)&&!(a.length<1)&&a.length%2==0){for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if("string"!=typeof d||!so.has(d)||!Array.isArray(g)||2!==g.length||"number"!=typeof g[0]||"number"!=typeof g[1])return}return new zn(a)}}toString(){return JSON.stringify(this.values)}}class Sn{constructor(a){this.name=a.name,this.available=a.available}toString(){return this.name}static fromString(a){return a?new Sn({name:a,available:!1}):null}}function _6(c,a,l,d){return"number"==typeof c&&c>=0&&c<=255&&"number"==typeof a&&a>=0&&a<=255&&"number"==typeof l&&l>=0&&l<=255?void 0===d||"number"==typeof d&&d>=0&&d<=1?null:`Invalid rgba value [${[c,a,l,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof d?[c,a,l,d]:[c,a,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function aa(c){if(null===c||"string"==typeof c||"boolean"==typeof c||"number"==typeof c||c instanceof D1||c instanceof D2||c instanceof Mt||c instanceof h3||c instanceof zn||c instanceof Sn)return!0;if(Array.isArray(c)){for(const a of c)if(!aa(a))return!1;return!0}if("object"==typeof c){for(const a in c)if(!aa(c[a]))return!1;return!0}return!1}function gt(c){if(null===c)return ir;if("string"==typeof c)return K1;if("boolean"==typeof c)return B1;if("number"==typeof c)return o1;if(c instanceof D1)return hn;if(c instanceof D2)return li;if(c instanceof Mt)return ui;if(c instanceof h3)return rr;if(c instanceof zn)return ar;if(c instanceof Sn)return H3;if(Array.isArray(c)){const a=c.length;let l;for(const d of c){const g=gt(d);if(l){if(l===g)continue;l=O1;break}l=g}return dn(l||O1,a)}return Vi}function sr(c){const a=typeof c;return null===c?"":"string"===a||"number"===a||"boolean"===a?String(c):c instanceof D1||c instanceof Mt||c instanceof h3||c instanceof zn||c instanceof Sn?c.toString():JSON.stringify(c)}class Ar{constructor(a,l){this.type=a,this.value=l}static parse(a,l){if(2!==a.length)return l.error(`'literal' expression requires exactly one argument, but found ${a.length-1} instead.`);if(!aa(a[1]))return l.error("invalid value");const d=a[1];let g=gt(d);const x=l.expectedType;return"array"!==g.kind||0!==g.N||!x||"array"!==x.kind||"number"==typeof x.N&&0!==x.N||(g=x),new Ar(g,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class wt{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}}const Ka={string:K1,number:o1,boolean:B1,object:Vi};class pn{constructor(a,l){this.type=a,this.args=l}static parse(a,l){if(a.length<2)return l.error("Expected at least one argument.");let d,g=1;const x=a[0];if("array"===x){let S,V;if(a.length>2){const D=a[1];if("string"!=typeof D||!(D in Ka)||"object"===D)return l.error('The item type argument of "array" must be one of string, number, boolean',1);S=Ka[D],g++}else S=O1;if(a.length>3){if(null!==a[2]&&("number"!=typeof a[2]||a[2]<0||a[2]!==Math.floor(a[2])))return l.error('The length argument to "array" must be a positive integer literal',2);V=a[2],g++}d=dn(S,V)}else{if(!Ka[x])throw new Error(`Types doesn't contain name = ${x}`);d=Ka[x]}const M=[];for(;g<a.length;g++){const S=l.parse(a[g],g,O1);if(!S)return null;M.push(S)}return new pn(d,M)}evaluate(a){for(let l=0;l<this.args.length;l++){const d=this.args[l].evaluate(a);if(!fi(this.type,gt(d)))return d;if(l===this.args.length-1)throw new wt(`Expected value to be of type ${j2(this.type)}, but found ${j2(gt(d))} instead.`)}throw new Error}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const Qa={"to-boolean":B1,"to-color":hn,"to-number":o1,"to-string":K1};class hi{constructor(a,l){this.type=a,this.args=l}static parse(a,l){if(a.length<2)return l.error("Expected at least one argument.");const d=a[0];if(!Qa[d])throw new Error(`Can't parse ${d} as it is not part of the known types`);if(("to-boolean"===d||"to-string"===d)&&2!==a.length)return l.error("Expected one argument.");const g=Qa[d],x=[];for(let M=1;M<a.length;M++){const S=l.parse(a[M],M,O1);if(!S)return null;x.push(S)}return new hi(g,x)}evaluate(a){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(a);case"color":{let l,d;for(const g of this.args){if(l=g.evaluate(a),d=null,l instanceof D1)return l;if("string"==typeof l){const x=a.parseColor(l);if(x)return x}else if(Array.isArray(l)&&(d=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:_6(l[0],l[1],l[2],l[3]),!d))return new D1(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new wt(d||`Could not parse color from value '${"string"==typeof l?l:JSON.stringify(l)}'`)}case"padding":{let l;for(const d of this.args){l=d.evaluate(a);const g=h3.parse(l);if(g)return g}throw new wt(`Could not parse padding from value '${"string"==typeof l?l:JSON.stringify(l)}'`)}case"variableAnchorOffsetCollection":{let l;for(const d of this.args){l=d.evaluate(a);const g=zn.parse(l);if(g)return g}throw new wt(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof l?l:JSON.stringify(l)}'`)}case"number":{let l=null;for(const d of this.args){if(l=d.evaluate(a),null===l)return 0;const g=Number(l);if(!isNaN(g))return g}throw new wt(`Could not convert ${JSON.stringify(l)} to number.`)}case"formatted":return Mt.fromString(sr(this.args[0].evaluate(a)));case"resolvedImage":return Sn.fromString(sr(this.args[0].evaluate(a)));default:return sr(this.args[0].evaluate(a))}}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}const zt=["Unknown","Point","LineString","Polygon"];class H2{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?zt[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(a){let l=this._parseColorCache[a];return l||(l=this._parseColorCache[a]=D1.parse(a)),l}}class Nn{constructor(a,l,d=[],g,x=new ci,M=[]){this.registry=a,this.path=d,this.key=d.map(S=>`[${S}]`).join(""),this.scope=x,this.errors=M,this.expectedType=g,this._isConstant=l}parse(a,l,d,g,x={}){return l?this.concat(l,d,g)._parse(a,x):this._parse(a,x)}_parse(a,l){function d(g,x,M){return"assert"===M?new pn(x,[g]):"coerce"===M?new hi(x,[g]):g}if(null!==a&&"string"!=typeof a&&"boolean"!=typeof a&&"number"!=typeof a||(a=["literal",a]),Array.isArray(a)){if(0===a.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=a[0];if("string"!=typeof g)return this.error(`Expression name must be a string, but found ${typeof g} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const x=this.registry[g];if(x){let M=x.parse(a,this);if(!M)return null;if(this.expectedType){const S=this.expectedType,V=M.type;if("string"!==S.kind&&"number"!==S.kind&&"boolean"!==S.kind&&"object"!==S.kind&&"array"!==S.kind||"value"!==V.kind)if("color"!==S.kind&&"formatted"!==S.kind&&"resolvedImage"!==S.kind||"value"!==V.kind&&"string"!==V.kind)if("padding"!==S.kind||"value"!==V.kind&&"number"!==V.kind&&"array"!==V.kind)if("variableAnchorOffsetCollection"!==S.kind||"value"!==V.kind&&"array"!==V.kind){if(this.checkSubtype(S,V))return null}else M=d(M,S,l.typeAnnotation||"coerce");else M=d(M,S,l.typeAnnotation||"coerce");else M=d(M,S,l.typeAnnotation||"coerce");else M=d(M,S,l.typeAnnotation||"assert")}if(!(M instanceof Ar)&&"resolvedImage"!==M.type.kind&&this._isConstant(M)){const S=new H2;try{M=new Ar(M.type,M.evaluate(S))}catch(V){return this.error(V.message),null}}return M}return this.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===a?"'undefined' value invalid. Use null instead.":"object"==typeof a?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof a} instead.`)}concat(a,l,d){const g="number"==typeof a?this.path.concat(a):this.path,x=d?this.scope.concat(d):this.scope;return new Nn(this.registry,this._isConstant,g,l||null,x,this.errors)}error(a,...l){const d=`${this.key}${l.map(g=>`[${g}]`).join("")}`;this.errors.push(new Mn(d,a))}checkSubtype(a,l){const d=fi(a,l);return d&&this.error(d),d}}class j1{constructor(a,l,d){this.type=li,this.locale=d,this.caseSensitive=a,this.diacriticSensitive=l}static parse(a,l){if(2!==a.length)return l.error("Expected one argument.");const d=a[1];if("object"!=typeof d||Array.isArray(d))return l.error("Collator options argument must be an object.");const g=l.parse(void 0!==d["case-sensitive"]&&d["case-sensitive"],1,B1);if(!g)return null;const x=l.parse(void 0!==d["diacritic-sensitive"]&&d["diacritic-sensitive"],1,B1);if(!x)return null;let M=null;return d.locale&&(M=l.parse(d.locale,1,K1),!M)?null:new j1(g,x,M)}evaluate(a){return new D2(this.caseSensitive.evaluate(a),this.diacriticSensitive.evaluate(a),this.locale?this.locale.evaluate(a):null)}eachChild(a){a(this.caseSensitive),a(this.diacriticSensitive),this.locale&&a(this.locale)}outputDefined(){return!1}}const Ei=8192;function S4(c,a){c[0]=Math.min(c[0],a[0]),c[1]=Math.min(c[1],a[1]),c[2]=Math.max(c[2],a[0]),c[3]=Math.max(c[3],a[1])}function e3(c,a){return!(c[0]<=a[0]||c[2]>=a[2]||c[1]<=a[1]||c[3]>=a[3])}function l0(c,a){const l=(180+c[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,g=Math.pow(2,a.z);return[Math.round(l*g*Ei),Math.round(d*g*Ei)]}function C6(c,a,l){const d=c[0]-a[0],g=c[1]-a[1],x=c[0]-l[0],M=c[1]-l[1];return d*M-x*g==0&&d*x<=0&&g*M<=0}function M2(c,a){let l=!1;for(let M=0,S=a.length;M<S;M++){const V=a[M];for(let D=0,N=V.length;D<N-1;D++){if(C6(c,V[D],V[D+1]))return!1;(g=V[D])[1]>(d=c)[1]!=(x=V[D+1])[1]>d[1]&&d[0]<(x[0]-g[0])*(d[1]-g[1])/(x[1]-g[1])+g[0]&&(l=!l)}}var d,g,x;return l}function Ja(c,a){for(let l=0;l<a.length;l++)if(M2(c,a[l]))return!0;return!1}function At(c,a,l,d){const g=d[0]-l[0],x=d[1]-l[1],M=(c[0]-l[0])*x-g*(c[1]-l[1]),S=(a[0]-l[0])*x-g*(a[1]-l[1]);return M>0&&S<0||M<0&&S>0}function oo(c,a,l){for(const D of l)for(let N=0;N<D.length-1;++N)if((S=[(M=D[N+1])[0]-(x=D[N])[0],M[1]-x[1]])[0]*(V=[(g=a)[0]-(d=c)[0],g[1]-d[1]])[1]-S[1]*V[0]!=0&&At(d,g,x,M)&&At(x,M,d,g))return!0;var d,g,x,M,S,V;return!1}function x6(c,a){for(let l=0;l<c.length;++l)if(!M2(c[l],a))return!1;for(let l=0;l<c.length-1;++l)if(oo(c[l],c[l+1],a))return!1;return!0}function es(c,a){for(let l=0;l<a.length;l++)if(x6(c,a[l]))return!0;return!1}function q1(c,a,l){const d=[];for(let g=0;g<c.length;g++){const x=[];for(let M=0;M<c[g].length;M++){const S=l0(c[g][M],l);S4(a,S),x.push(S)}d.push(x)}return d}function ts(c,a,l){const d=[];for(let g=0;g<c.length;g++){const x=q1(c[g],a,l);d.push(x)}return d}function ns(c,a,l,d){if(c[0]<l[0]||c[0]>l[2]){const g=.5*d;let x=c[0]-l[0]>g?-d:l[0]-c[0]>g?d:0;0===x&&(x=c[0]-l[2]>g?-d:l[2]-c[0]>g?d:0),c[0]+=x}S4(a,c)}function co(c,a,l,d){const g=Math.pow(2,d.z)*Ei,x=[d.x*Ei,d.y*Ei],M=[];for(const S of c)for(const V of S){const D=[V.x+x[0],V.y+x[1]];ns(D,a,l,g),M.push(D)}return M}function lo(c,a,l,d){const g=Math.pow(2,d.z)*Ei,x=[d.x*Ei,d.y*Ei],M=[];for(const V of c){const D=[];for(const N of V){const B=[N.x+x[0],N.y+x[1]];S4(a,B),D.push(B)}M.push(D)}if(a[2]-a[0]<=g/2){(S=a)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const V of M)for(const D of V)ns(D,a,l,g)}var S;return M}class $e{constructor(a,l){this.type=B1,this.geojson=a,this.geometries=l}static parse(a,l){if(2!==a.length)return l.error(`'within' expression requires exactly one argument, but found ${a.length-1} instead.`);if(aa(a[1])){const d=a[1];if("FeatureCollection"===d.type)for(let g=0;g<d.features.length;++g){const x=d.features[g].geometry.type;if("Polygon"===x||"MultiPolygon"===x)return new $e(d,d.features[g].geometry)}else if("Feature"===d.type){const g=d.geometry.type;if("Polygon"===g||"MultiPolygon"===g)return new $e(d,d.geometry)}else if("Polygon"===d.type||"MultiPolygon"===d.type)return new $e(d,d)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(a){if(null!=a.geometry()&&null!=a.canonicalID()){if("Point"===a.geometryType())return function(l,d){const g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],M=l.canonicalID();if("Polygon"===d.type){const S=q1(d.coordinates,x,M),V=co(l.geometry(),g,x,M);if(!e3(g,x))return!1;for(const D of V)if(!M2(D,S))return!1}if("MultiPolygon"===d.type){const S=ts(d.coordinates,x,M),V=co(l.geometry(),g,x,M);if(!e3(g,x))return!1;for(const D of V)if(!Ja(D,S))return!1}return!0}(a,this.geometries);if("LineString"===a.geometryType())return function(l,d){const g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],M=l.canonicalID();if("Polygon"===d.type){const S=q1(d.coordinates,x,M),V=lo(l.geometry(),g,x,M);if(!e3(g,x))return!1;for(const D of V)if(!x6(D,S))return!1}if("MultiPolygon"===d.type){const S=ts(d.coordinates,x,M),V=lo(l.geometry(),g,x,M);if(!e3(g,x))return!1;for(const D of V)if(!es(D,S))return!1}return!0}(a,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Ir{constructor(a,l){this.type=l.type,this.name=a,this.boundExpression=l}static parse(a,l){if(2!==a.length||"string"!=typeof a[1])return l.error("'var' expression requires exactly one string literal argument.");const d=a[1];return l.scope.has(d)?new Ir(d,l.scope.get(d)):l.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(a){return this.boundExpression.evaluate(a)}eachChild(){}outputDefined(){return!1}}class N1{constructor(a,l,d,g){this.name=a,this.type=l,this._evaluate=d,this.args=g}evaluate(a){return this._evaluate(a,this.args)}eachChild(a){this.args.forEach(a)}outputDefined(){return!1}static parse(a,l){const d=a[0],g=N1.definitions[d];if(!g)return l.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const x=Array.isArray(g)?g[0]:g.type,M=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,S=M.filter(([D])=>!Array.isArray(D)||D.length===a.length-1);let V=null;for(const[D,N]of S){V=new Nn(l.registry,v2,l.path,null,l.scope);const B=[];let q=!1;for(let X=1;X<a.length;X++){const Y=a[X],ne=Array.isArray(D)?D[X-1]:D.type,se=V.parse(Y,1+B.length,ne);if(!se){q=!0;break}B.push(se)}if(!q)if(Array.isArray(D)&&D.length!==B.length)V.error(`Expected ${D.length} arguments, but found ${B.length} instead.`);else{for(let X=0;X<B.length;X++){const Y=Array.isArray(D)?D[X]:D.type,ne=B[X];V.concat(X+1).checkSubtype(Y,ne.type)}if(0===V.errors.length)return new N1(d,x,N,B)}}if(1===S.length)l.errors.push(...V.errors);else{const D=(S.length?S:M).map(([B])=>{return q=B,Array.isArray(q)?`(${q.map(j2).join(", ")})`:`(${j2(q.type)}...)`;var q}).join(" | "),N=[];for(let B=1;B<a.length;B++){const q=l.parse(a[B],1+N.length);if(!q)return null;N.push(j2(q.type))}l.error(`Expected arguments of type ${D}, but found (${N.join(", ")}) instead.`)}return null}static register(a,l){N1.definitions=l;for(const d in l)a[d]=N1}}function v2(c){if(c instanceof Ir)return v2(c.boundExpression);if(c instanceof N1&&"error"===c.name||c instanceof j1||c instanceof $e)return!1;const a=c instanceof hi||c instanceof pn;let l=!0;return c.eachChild(d=>{l=a?l&&v2(d):l&&d instanceof Ar}),!!l&&is(c)&&sa(c,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function is(c){if(c instanceof N1&&("get"===c.name&&1===c.args.length||"feature-state"===c.name||"has"===c.name&&1===c.args.length||"properties"===c.name||"geometry-type"===c.name||"id"===c.name||/^filter-/.test(c.name))||c instanceof $e)return!1;let a=!0;return c.eachChild(l=>{a&&!is(l)&&(a=!1)}),a}function rs(c){if(c instanceof N1&&"feature-state"===c.name)return!1;let a=!0;return c.eachChild(l=>{a&&!rs(l)&&(a=!1)}),a}function sa(c,a){if(c instanceof N1&&a.indexOf(c.name)>=0)return!1;let l=!0;return c.eachChild(d=>{l&&!sa(d,a)&&(l=!1)}),l}function kr(c,a){const l=c.length-1;let d,g,x=0,M=l,S=0;for(;x<=M;)if(S=Math.floor((x+M)/2),d=c[S],g=c[S+1],d<=a){if(S===l||a<g)return S;x=S+1}else{if(!(d>a))throw new wt("Input is not a number.");M=S-1}return 0}class mn{constructor(a,l,d){this.type=a,this.input=l,this.labels=[],this.outputs=[];for(const[g,x]of d)this.labels.push(g),this.outputs.push(x)}static parse(a,l){if(a.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return l.error("Expected an even number of arguments.");const d=l.parse(a[1],1,o1);if(!d)return null;const g=[];let x=null;l.expectedType&&"value"!==l.expectedType.kind&&(x=l.expectedType);for(let M=1;M<a.length;M+=2){const S=1===M?-1/0:a[M],V=a[M+1],D=M,N=M+1;if("number"!=typeof S)return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',D);if(g.length&&g[g.length-1][0]>=S)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',D);const B=l.parse(V,N,x);if(!B)return null;x=x||B.type,g.push([S,B])}return new mn(x,d,g)}evaluate(a){const l=this.labels,d=this.outputs;if(1===l.length)return d[0].evaluate(a);const g=this.input.evaluate(a);if(g<=l[0])return d[0].evaluate(a);const x=l.length;return g>=l[x-1]?d[x-1].evaluate(a):d[kr(l,g)].evaluate(a)}eachChild(a){a(this.input);for(const l of this.outputs)a(l)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function H4(c,a,l){return c+l*(a-c)}function as(c,a,l){return c.map((d,g)=>H4(d,a[g],l))}const L3={number:H4,color:function(c,a,l,d="rgb"){switch(d){case"rgb":{const[g,x,M,S]=as(c.rgb,a.rgb,l);return new D1(g,x,M,S,!1)}case"hcl":{const[g,x,M,S]=c.hcl,[V,D,N,B]=a.hcl;let q,X;if(isNaN(g)||isNaN(V))isNaN(g)?isNaN(V)?q=NaN:(q=V,1!==M&&0!==M||(X=D)):(q=g,1!==N&&0!==N||(X=x));else{let xe=V-g;V>g&&xe>180?xe-=360:V<g&&g-V>180&&(xe+=360),q=g+l*xe}const[Y,ne,se,le]=function([xe,de,Ee,Ae]){return xe=isNaN(xe)?0:xe*ze,C1([Ee,Math.cos(xe)*de,Math.sin(xe)*de,Ae])}([q,X??H4(x,D,l),H4(M,N,l),H4(S,B,l)]);return new D1(Y,ne,se,le,!1)}case"lab":{const[g,x,M,S]=C1(as(c.lab,a.lab,l));return new D1(g,x,M,S,!1)}}},array:as,padding:function(c,a,l){return new h3(as(c.values,a.values,l))},variableAnchorOffsetCollection:function(c,a,l){const d=c.values,g=a.values;if(d.length!==g.length)throw new wt(`Cannot interpolate values of different length. from: ${c.toString()}, to: ${a.toString()}`);const x=[];for(let M=0;M<d.length;M+=2){if(d[M]!==g[M])throw new wt(`Cannot interpolate values containing mismatched anchors. from[${M}]: ${d[M]}, to[${M}]: ${g[M]}`);x.push(d[M]);const[S,V]=d[M+1],[D,N]=g[M+1];x.push([H4(S,D,l),H4(V,N,l)])}return new zn(x)}};class Ut{constructor(a,l,d,g,x){this.type=a,this.operator=l,this.interpolation=d,this.input=g,this.labels=[],this.outputs=[];for(const[M,S]of x)this.labels.push(M),this.outputs.push(S)}static interpolationFactor(a,l,d,g){let x=0;if("exponential"===a.name)x=b6(l,a.base,d,g);else if("linear"===a.name)x=b6(l,1,d,g);else if("cubic-bezier"===a.name){const M=a.controlPoints;x=new _4(M[0],M[1],M[2],M[3]).solve(b6(l,1,d,g))}return x}static parse(a,l){let[d,g,x,...M]=a;if(!Array.isArray(g)||0===g.length)return l.error("Expected an interpolation type expression.",1);if("linear"===g[0])g={name:"linear"};else if("exponential"===g[0]){const D=g[1];if("number"!=typeof D)return l.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:D}}else{if("cubic-bezier"!==g[0])return l.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const D=g.slice(1);if(4!==D.length||D.some(N=>"number"!=typeof N||N<0||N>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:D}}}if(a.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if((a.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(x=l.parse(x,2,o1),!x)return null;const S=[];let V=null;"interpolate-hcl"===d||"interpolate-lab"===d?V=hn:l.expectedType&&"value"!==l.expectedType.kind&&(V=l.expectedType);for(let D=0;D<M.length;D+=2){const N=M[D],B=M[D+1],q=D+3,X=D+4;if("number"!=typeof N)return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',q);if(S.length&&S[S.length-1][0]>=N)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',q);const Y=l.parse(B,X,V);if(!Y)return null;V=V||Y.type,S.push([N,Y])}return G(V,o1)||G(V,hn)||G(V,rr)||G(V,ar)||G(V,dn(o1))?new Ut(V,d,g,x,S):l.error(`Type ${j2(V)} is not interpolatable.`)}evaluate(a){const l=this.labels,d=this.outputs;if(1===l.length)return d[0].evaluate(a);const g=this.input.evaluate(a);if(g<=l[0])return d[0].evaluate(a);const x=l.length;if(g>=l[x-1])return d[x-1].evaluate(a);const M=kr(l,g),S=Ut.interpolationFactor(this.interpolation,g,l[M],l[M+1]),V=d[M].evaluate(a),D=d[M+1].evaluate(a);switch(this.operator){case"interpolate":return L3[this.type.kind](V,D,S);case"interpolate-hcl":return L3.color(V,D,S,"hcl");case"interpolate-lab":return L3.color(V,D,S,"lab")}}eachChild(a){a(this.input);for(const l of this.outputs)a(l)}outputDefined(){return this.outputs.every(a=>a.outputDefined())}}function b6(c,a,l,d){const g=d-l,x=c-l;return 0===g?0:1===a?x/g:(Math.pow(a,x)-1)/(Math.pow(a,g)-1)}class uo{constructor(a,l){this.type=a,this.args=l}static parse(a,l){if(a.length<2)return l.error("Expectected at least one argument.");let d=null;const g=l.expectedType;g&&"value"!==g.kind&&(d=g);const x=[];for(const S of a.slice(1)){const V=l.parse(S,1+x.length,d,void 0,{typeAnnotation:"omit"});if(!V)return null;d=d||V.type,x.push(V)}if(!d)throw new Error("No output type");const M=g&&x.some(S=>fi(g,S.type));return new uo(M?O1:d,x)}evaluate(a){let l,d=null,g=0;for(const x of this.args)if(g++,d=x.evaluate(a),d&&d instanceof Sn&&!d.available&&(l||(l=d.name),d=null,g===this.args.length&&(d=l)),null!==d)break;return d}eachChild(a){this.args.forEach(a)}outputDefined(){return this.args.every(a=>a.outputDefined())}}class oa{constructor(a,l){this.type=l.type,this.bindings=[].concat(a),this.result=l}evaluate(a){return this.result.evaluate(a)}eachChild(a){for(const l of this.bindings)a(l[1]);a(this.result)}static parse(a,l){if(a.length<4)return l.error(`Expected at least 3 arguments, but found ${a.length-1} instead.`);const d=[];for(let x=1;x<a.length-1;x+=2){const M=a[x];if("string"!=typeof M)return l.error(`Expected string, but found ${typeof M} instead.`,x);if(/[^a-zA-Z0-9_]/.test(M))return l.error("Variable names must contain only alphanumeric characters or '_'.",x);const S=l.parse(a[x+1],x+1);if(!S)return null;d.push([M,S])}const g=l.parse(a[a.length-1],a.length-1,l.expectedType,d);return g?new oa(d,g):null}outputDefined(){return this.result.outputDefined()}}class ca{constructor(a,l,d){this.type=a,this.index=l,this.input=d}static parse(a,l){if(3!==a.length)return l.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const d=l.parse(a[1],1,o1),g=l.parse(a[2],2,dn(l.expectedType||O1));return d&&g?new ca(g.type.itemType,d,g):null}evaluate(a){const l=this.index.evaluate(a),d=this.input.evaluate(a);if(l<0)throw new wt(`Array index out of bounds: ${l} < 0.`);if(l>=d.length)throw new wt(`Array index out of bounds: ${l} > ${d.length-1}.`);if(l!==Math.floor(l))throw new wt(`Array index must be an integer, but found ${l} instead.`);return d[l]}eachChild(a){a(this.index),a(this.input)}outputDefined(){return!1}}class y2{constructor(a,l){this.type=B1,this.needle=a,this.haystack=l}static parse(a,l){if(3!==a.length)return l.error(`Expected 2 arguments, but found ${a.length-1} instead.`);const d=l.parse(a[1],1,O1),g=l.parse(a[2],2,O1);return d&&g?re(d.type,[B1,K1,o1,ir,O1])?new y2(d,g):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${j2(d.type)} instead`):null}evaluate(a){const l=this.needle.evaluate(a),d=this.haystack.evaluate(a);if(!d)return!1;if(!U(l,["boolean","string","number","null"]))throw new wt(`Expected first argument to be of type boolean, string, number or null, but found ${j2(gt(l))} instead.`);if(!U(d,["string","array"]))throw new wt(`Expected second argument to be of type array or string, but found ${j2(gt(d))} instead.`);return d.indexOf(l)>=0}eachChild(a){a(this.needle),a(this.haystack)}outputDefined(){return!0}}class fo{constructor(a,l,d){this.type=o1,this.needle=a,this.haystack=l,this.fromIndex=d}static parse(a,l){if(a.length<=2||a.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const d=l.parse(a[1],1,O1),g=l.parse(a[2],2,O1);if(!d||!g)return null;if(!re(d.type,[B1,K1,o1,ir,O1]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${j2(d.type)} instead`);if(4===a.length){const x=l.parse(a[3],3,o1);return x?new fo(d,g,x):null}return new fo(d,g)}evaluate(a){const l=this.needle.evaluate(a),d=this.haystack.evaluate(a);if(!U(l,["boolean","string","number","null"]))throw new wt(`Expected first argument to be of type boolean, string, number or null, but found ${j2(gt(l))} instead.`);if(!U(d,["string","array"]))throw new wt(`Expected second argument to be of type array or string, but found ${j2(gt(d))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(a);return d.indexOf(l,g)}return d.indexOf(l)}eachChild(a){a(this.needle),a(this.haystack),this.fromIndex&&a(this.fromIndex)}outputDefined(){return!1}}class ho{constructor(a,l,d,g,x,M){this.inputType=a,this.type=l,this.input=d,this.cases=g,this.outputs=x,this.otherwise=M}static parse(a,l){if(a.length<5)return l.error(`Expected at least 4 arguments, but found only ${a.length-1}.`);if(a.length%2!=1)return l.error("Expected an even number of arguments.");let d,g;l.expectedType&&"value"!==l.expectedType.kind&&(g=l.expectedType);const x={},M=[];for(let D=2;D<a.length-1;D+=2){let N=a[D];const B=a[D+1];Array.isArray(N)||(N=[N]);const q=l.concat(D);if(0===N.length)return q.error("Expected at least one branch label.");for(const Y of N){if("number"!=typeof Y&&"string"!=typeof Y)return q.error("Branch labels must be numbers or strings.");if("number"==typeof Y&&Math.abs(Y)>Number.MAX_SAFE_INTEGER)return q.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof Y&&Math.floor(Y)!==Y)return q.error("Numeric branch labels must be integer values.");if(d){if(q.checkSubtype(d,gt(Y)))return null}else d=gt(Y);if(void 0!==x[String(Y)])return q.error("Branch labels must be unique.");x[String(Y)]=M.length}const X=l.parse(B,D,g);if(!X)return null;g=g||X.type,M.push(X)}const S=l.parse(a[1],1,O1);if(!S)return null;const V=l.parse(a[a.length-1],a.length-1,g);return V?"value"!==S.type.kind&&l.concat(1).checkSubtype(d,S.type)?null:new ho(d,g,S,x,M,V):null}evaluate(a){const l=this.input.evaluate(a);return(gt(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(a)}eachChild(a){a(this.input),this.outputs.forEach(a),a(this.otherwise)}outputDefined(){return this.outputs.every(a=>a.outputDefined())&&this.otherwise.outputDefined()}}class M6{constructor(a,l,d){this.type=a,this.branches=l,this.otherwise=d}static parse(a,l){if(a.length<4)return l.error(`Expected at least 3 arguments, but found only ${a.length-1}.`);if(a.length%2!=0)return l.error("Expected an odd number of arguments.");let d;l.expectedType&&"value"!==l.expectedType.kind&&(d=l.expectedType);const g=[];for(let M=1;M<a.length-1;M+=2){const S=l.parse(a[M],M,B1);if(!S)return null;const V=l.parse(a[M+1],M+1,d);if(!V)return null;g.push([S,V]),d=d||V.type}const x=l.parse(a[a.length-1],a.length-1,d);if(!x)return null;if(!d)throw new Error("Can't infer output type");return new M6(d,g,x)}evaluate(a){for(const[l,d]of this.branches)if(l.evaluate(a))return d.evaluate(a);return this.otherwise.evaluate(a)}eachChild(a){for(const[l,d]of this.branches)a(l),a(d);a(this.otherwise)}outputDefined(){return this.branches.every(([a,l])=>l.outputDefined())&&this.otherwise.outputDefined()}}class On{constructor(a,l,d,g){this.type=a,this.input=l,this.beginIndex=d,this.endIndex=g}static parse(a,l){if(a.length<=2||a.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${a.length-1} instead.`);const d=l.parse(a[1],1,O1),g=l.parse(a[2],2,o1);if(!d||!g)return null;if(!re(d.type,[dn(O1),K1,O1]))return l.error(`Expected first argument to be of type array or string, but found ${j2(d.type)} instead`);if(4===a.length){const x=l.parse(a[3],3,o1);return x?new On(d.type,d,g,x):null}return new On(d.type,d,g)}evaluate(a){const l=this.input.evaluate(a),d=this.beginIndex.evaluate(a);if(!U(l,["string","array"]))throw new wt(`Expected first argument to be of type array or string, but found ${j2(gt(l))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(a);return l.slice(d,g)}return l.slice(d)}eachChild(a){a(this.input),a(this.beginIndex),this.endIndex&&a(this.endIndex)}outputDefined(){return!1}}function Z1(c,a){return"=="===c||"!="===c?"boolean"===a.kind||"string"===a.kind||"number"===a.kind||"null"===a.kind||"value"===a.kind:"string"===a.kind||"number"===a.kind||"value"===a.kind}function u0(c,a,l,d){return 0===d.compare(a,l)}function la(c,a,l){const d="=="!==c&&"!="!==c;return class zD{constructor(x,M,S){this.type=B1,this.lhs=x,this.rhs=M,this.collator=S,this.hasUntypedArgument="value"===x.type.kind||"value"===M.type.kind}static parse(x,M){if(3!==x.length&&4!==x.length)return M.error("Expected two or three arguments.");const S=x[0];let V=M.parse(x[1],1,O1);if(!V)return null;if(!Z1(S,V.type))return M.concat(1).error(`"${S}" comparisons are not supported for type '${j2(V.type)}'.`);let D=M.parse(x[2],2,O1);if(!D)return null;if(!Z1(S,D.type))return M.concat(2).error(`"${S}" comparisons are not supported for type '${j2(D.type)}'.`);if(V.type.kind!==D.type.kind&&"value"!==V.type.kind&&"value"!==D.type.kind)return M.error(`Cannot compare types '${j2(V.type)}' and '${j2(D.type)}'.`);d&&("value"===V.type.kind&&"value"!==D.type.kind?V=new pn(D.type,[V]):"value"!==V.type.kind&&"value"===D.type.kind&&(D=new pn(V.type,[D])));let N=null;if(4===x.length){if("string"!==V.type.kind&&"string"!==D.type.kind&&"value"!==V.type.kind&&"value"!==D.type.kind)return M.error("Cannot use collator to compare non-string types.");if(N=M.parse(x[3],3,li),!N)return null}return new zD(V,D,N)}evaluate(x){const M=this.lhs.evaluate(x),S=this.rhs.evaluate(x);if(d&&this.hasUntypedArgument){const V=gt(M),D=gt(S);if(V.kind!==D.kind||"string"!==V.kind&&"number"!==V.kind)throw new wt(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${V.kind}, ${D.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const V=gt(M),D=gt(S);if("string"!==V.kind||"string"!==D.kind)return a(x,M,S)}return this.collator?l(x,M,S,this.collator.evaluate(x)):a(x,M,S)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}}}const A5=la("==",function(c,a,l){return a===l},u0),k1=la("!=",function(c,a,l){return a!==l},function(c,a,l,d){return!u0(0,a,l,d)}),I5=la("<",function(c,a,l){return a<l},function(c,a,l,d){return d.compare(a,l)<0}),Ti=la(">",function(c,a,l){return a>l},function(c,a,l,d){return d.compare(a,l)>0}),ss=la("<=",function(c,a,l){return a<=l},function(c,a,l,d){return d.compare(a,l)<=0}),f0=la(">=",function(c,a,l){return a>=l},function(c,a,l,d){return d.compare(a,l)>=0});class os{constructor(a,l,d,g,x){this.type=K1,this.number=a,this.locale=l,this.currency=d,this.minFractionDigits=g,this.maxFractionDigits=x}static parse(a,l){if(3!==a.length)return l.error("Expected two arguments.");const d=l.parse(a[1],1,o1);if(!d)return null;const g=a[2];if("object"!=typeof g||Array.isArray(g))return l.error("NumberFormat options argument must be an object.");let x=null;if(g.locale&&(x=l.parse(g.locale,1,K1),!x))return null;let M=null;if(g.currency&&(M=l.parse(g.currency,1,K1),!M))return null;let S=null;if(g["min-fraction-digits"]&&(S=l.parse(g["min-fraction-digits"],1,o1),!S))return null;let V=null;return g["max-fraction-digits"]&&(V=l.parse(g["max-fraction-digits"],1,o1),!V)?null:new os(d,x,M,S,V)}evaluate(a){return new Intl.NumberFormat(this.locale?this.locale.evaluate(a):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(a):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(a):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(a):void 0}).format(this.number.evaluate(a))}eachChild(a){a(this.number),this.locale&&a(this.locale),this.currency&&a(this.currency),this.minFractionDigits&&a(this.minFractionDigits),this.maxFractionDigits&&a(this.maxFractionDigits)}outputDefined(){return!1}}class cs{constructor(a){this.type=ui,this.sections=a}static parse(a,l){if(a.length<2)return l.error("Expected at least one argument.");const d=a[1];if(!Array.isArray(d)&&"object"==typeof d)return l.error("First argument must be an image or text section.");const g=[];let x=!1;for(let M=1;M<=a.length-1;++M){const S=a[M];if(x&&"object"==typeof S&&!Array.isArray(S)){x=!1;let V=null;if(S["font-scale"]&&(V=l.parse(S["font-scale"],1,o1),!V))return null;let D=null;if(S["text-font"]&&(D=l.parse(S["text-font"],1,dn(K1)),!D))return null;let N=null;if(S["text-color"]&&(N=l.parse(S["text-color"],1,hn),!N))return null;const B=g[g.length-1];B.scale=V,B.font=D,B.textColor=N}else{const V=l.parse(a[M],1,O1);if(!V)return null;const D=V.type.kind;if("string"!==D&&"value"!==D&&"null"!==D&&"resolvedImage"!==D)return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,g.push({content:V,scale:null,font:null,textColor:null})}}return new cs(g)}evaluate(a){return new Mt(this.sections.map(l=>{const d=l.content.evaluate(a);return gt(d)===H3?new wn("",d,null,null,null):new wn(sr(d),null,l.scale?l.scale.evaluate(a):null,l.font?l.font.evaluate(a).join(","):null,l.textColor?l.textColor.evaluate(a):null)}))}eachChild(a){for(const l of this.sections)a(l.content),l.scale&&a(l.scale),l.font&&a(l.font),l.textColor&&a(l.textColor)}outputDefined(){return!1}}class L4{constructor(a){this.type=H3,this.input=a}static parse(a,l){if(2!==a.length)return l.error("Expected two arguments.");const d=l.parse(a[1],1,K1);return d?new L4(d):l.error("No image name provided.")}evaluate(a){const l=this.input.evaluate(a),d=Sn.fromString(l);return d&&a.availableImages&&(d.available=a.availableImages.indexOf(l)>-1),d}eachChild(a){a(this.input)}outputDefined(){return!1}}class V4{constructor(a){this.type=o1,this.input=a}static parse(a,l){if(2!==a.length)return l.error(`Expected 1 argument, but found ${a.length-1} instead.`);const d=l.parse(a[1],1);return d?"array"!==d.type.kind&&"string"!==d.type.kind&&"value"!==d.type.kind?l.error(`Expected argument of type string or array, but found ${j2(d.type)} instead.`):new V4(d):null}evaluate(a){const l=this.input.evaluate(a);if("string"==typeof l||Array.isArray(l))return l.length;throw new wt(`Expected value to be of type string or array, but found ${j2(gt(l))} instead.`)}eachChild(a){a(this.input)}outputDefined(){return!1}}const or={"==":A5,"!=":k1,">":Ti,"<":I5,">=":f0,"<=":ss,array:pn,at:ca,boolean:pn,case:M6,coalesce:uo,collator:j1,format:cs,image:L4,in:y2,"index-of":fo,interpolate:Ut,"interpolate-hcl":Ut,"interpolate-lab":Ut,length:V4,let:oa,literal:Ar,match:ho,number:pn,"number-format":os,object:pn,slice:On,step:mn,string:pn,"to-boolean":hi,"to-color":hi,"to-number":hi,"to-string":hi,var:Ir,within:$e};function po(c,[a,l,d,g]){a=a.evaluate(c),l=l.evaluate(c),d=d.evaluate(c);const x=g?g.evaluate(c):1,M=_6(a,l,d,x);if(M)throw new wt(M);return new D1(a/255,l/255,d/255,x,!1)}function w6(c,a){return c in a}function a2(c,a){const l=a[c];return void 0===l?null:l}function Pi(c){return{type:c}}function mo(c){return{result:"success",value:c}}function $t(c){return{result:"error",value:c}}function Nr(c){return"data-driven"===c["property-type"]||"cross-faded-data-driven"===c["property-type"]}function h0(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function N2(c){return!!c.expression&&c.expression.interpolated}function w2(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":null===c?"null":typeof c}function go(c){return"object"==typeof c&&null!==c&&!Array.isArray(c)}function vo(c){return c}function ls(c,a){const l="color"===a.type,d=c.stops&&"object"==typeof c.stops[0][0],g=d||!(d||void 0!==c.property),x=c.type||(N2(a)?"exponential":"interval");if(l||"padding"===a.type){const N=l?D1.parse:h3.parse;(c=kn({},c)).stops&&(c.stops=c.stops.map(B=>[B[0],N(B[1])])),c.default=N(c.default?c.default:a.default)}if(c.colorSpace&&"rgb"!==(M=c.colorSpace)&&"hcl"!==M&&"lab"!==M)throw new Error(`Unknown color space: "${c.colorSpace}"`);var M;let S,V,D;if("exponential"===x)S=us;else if("interval"===x)S=d0;else if("categorical"===x){S=yo,V=Object.create(null);for(const N of c.stops)V[N[0]]=N[1];D=typeof c.stops[0][0]}else{if("identity"!==x)throw new Error(`Unknown function type "${x}"`);S=k5}if(d){const N={},B=[];for(let Y=0;Y<c.stops.length;Y++){const ne=c.stops[Y],se=ne[0].zoom;void 0===N[se]&&(N[se]={zoom:se,type:c.type,property:c.property,default:c.default,stops:[]},B.push(se)),N[se].stops.push([ne[0].value,ne[1]])}const q=[];for(const Y of B)q.push([N[Y].zoom,ls(N[Y],a)]);const X={name:"linear"};return{kind:"composite",interpolationType:X,interpolationFactor:Ut.interpolationFactor.bind(void 0,X),zoomStops:q.map(Y=>Y[0]),evaluate:({zoom:Y},ne)=>us({stops:q,base:c.base},a,Y).evaluate(Y,ne)}}if(g){const N="exponential"===x?{name:"exponential",base:void 0!==c.base?c.base:1}:null;return{kind:"camera",interpolationType:N,interpolationFactor:Ut.interpolationFactor.bind(void 0,N),zoomStops:c.stops.map(B=>B[0]),evaluate:({zoom:B})=>S(c,a,B,V,D)}}return{kind:"source",evaluate(N,B){const q=B&&B.properties?B.properties[c.property]:void 0;return void 0===q?cr(c.default,a.default):S(c,a,q,V,D)}}}function cr(c,a,l){return void 0!==c?c:void 0!==a?a:void 0!==l?l:void 0}function yo(c,a,l,d,g){return cr(typeof l===g?d[l]:void 0,c.default,a.default)}function d0(c,a,l){if("number"!==w2(l))return cr(c.default,a.default);const d=c.stops.length;if(1===d||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[d-1][0])return c.stops[d-1][1];const g=kr(c.stops.map(x=>x[0]),l);return c.stops[g][1]}function us(c,a,l){const d=void 0!==c.base?c.base:1;if("number"!==w2(l))return cr(c.default,a.default);const g=c.stops.length;if(1===g||l<=c.stops[0][0])return c.stops[0][1];if(l>=c.stops[g-1][0])return c.stops[g-1][1];const x=kr(c.stops.map(N=>N[0]),l),M=function(N,B,q,X){const Y=X-q,ne=N-q;return 0===Y?0:1===B?ne/Y:(Math.pow(B,ne)-1)/(Math.pow(B,Y)-1)}(l,d,c.stops[x][0],c.stops[x+1][0]),S=c.stops[x][1],V=c.stops[x+1][1],D=L3[a.type]||vo;return"function"==typeof S.evaluate?{evaluate(...N){const B=S.evaluate.apply(void 0,N),q=V.evaluate.apply(void 0,N);if(void 0!==B&&void 0!==q)return D(B,q,M,c.colorSpace)}}:D(S,V,M,c.colorSpace)}function k5(c,a,l){switch(a.type){case"color":l=D1.parse(l);break;case"formatted":l=Mt.fromString(l.toString());break;case"resolvedImage":l=Sn.fromString(l.toString());break;case"padding":l=h3.parse(l);break;default:w2(l)===a.type||"enum"===a.type&&a.values[l]||(l=void 0)}return cr(l,c.default,a.default)}N1.register(or,{error:[{kind:"error"},[K1],(c,[a])=>{throw new wt(a.evaluate(c))}],typeof:[K1,[O1],(c,[a])=>j2(gt(a.evaluate(c)))],"to-rgba":[dn(o1,4),[hn],(c,[a])=>{const[l,d,g,x]=a.evaluate(c).rgb;return[255*l,255*d,255*g,x]}],rgb:[hn,[o1,o1,o1],po],rgba:[hn,[o1,o1,o1,o1],po],has:{type:B1,overloads:[[[K1],(c,[a])=>w6(a.evaluate(c),c.properties())],[[K1,Vi],(c,[a,l])=>w6(a.evaluate(c),l.evaluate(c))]]},get:{type:O1,overloads:[[[K1],(c,[a])=>a2(a.evaluate(c),c.properties())],[[K1,Vi],(c,[a,l])=>a2(a.evaluate(c),l.evaluate(c))]]},"feature-state":[O1,[K1],(c,[a])=>a2(a.evaluate(c),c.featureState||{})],properties:[Vi,[],c=>c.properties()],"geometry-type":[K1,[],c=>c.geometryType()],id:[O1,[],c=>c.id()],zoom:[o1,[],c=>c.globals.zoom],"heatmap-density":[o1,[],c=>c.globals.heatmapDensity||0],"line-progress":[o1,[],c=>c.globals.lineProgress||0],accumulated:[O1,[],c=>void 0===c.globals.accumulated?null:c.globals.accumulated],"+":[o1,Pi(o1),(c,a)=>{let l=0;for(const d of a)l+=d.evaluate(c);return l}],"*":[o1,Pi(o1),(c,a)=>{let l=1;for(const d of a)l*=d.evaluate(c);return l}],"-":{type:o1,overloads:[[[o1,o1],(c,[a,l])=>a.evaluate(c)-l.evaluate(c)],[[o1],(c,[a])=>-a.evaluate(c)]]},"/":[o1,[o1,o1],(c,[a,l])=>a.evaluate(c)/l.evaluate(c)],"%":[o1,[o1,o1],(c,[a,l])=>a.evaluate(c)%l.evaluate(c)],ln2:[o1,[],()=>Math.LN2],pi:[o1,[],()=>Math.PI],e:[o1,[],()=>Math.E],"^":[o1,[o1,o1],(c,[a,l])=>Math.pow(a.evaluate(c),l.evaluate(c))],sqrt:[o1,[o1],(c,[a])=>Math.sqrt(a.evaluate(c))],log10:[o1,[o1],(c,[a])=>Math.log(a.evaluate(c))/Math.LN10],ln:[o1,[o1],(c,[a])=>Math.log(a.evaluate(c))],log2:[o1,[o1],(c,[a])=>Math.log(a.evaluate(c))/Math.LN2],sin:[o1,[o1],(c,[a])=>Math.sin(a.evaluate(c))],cos:[o1,[o1],(c,[a])=>Math.cos(a.evaluate(c))],tan:[o1,[o1],(c,[a])=>Math.tan(a.evaluate(c))],asin:[o1,[o1],(c,[a])=>Math.asin(a.evaluate(c))],acos:[o1,[o1],(c,[a])=>Math.acos(a.evaluate(c))],atan:[o1,[o1],(c,[a])=>Math.atan(a.evaluate(c))],min:[o1,Pi(o1),(c,a)=>Math.min(...a.map(l=>l.evaluate(c)))],max:[o1,Pi(o1),(c,a)=>Math.max(...a.map(l=>l.evaluate(c)))],abs:[o1,[o1],(c,[a])=>Math.abs(a.evaluate(c))],round:[o1,[o1],(c,[a])=>{const l=a.evaluate(c);return l<0?-Math.round(-l):Math.round(l)}],floor:[o1,[o1],(c,[a])=>Math.floor(a.evaluate(c))],ceil:[o1,[o1],(c,[a])=>Math.ceil(a.evaluate(c))],"filter-==":[B1,[K1,O1],(c,[a,l])=>c.properties()[a.value]===l.value],"filter-id-==":[B1,[O1],(c,[a])=>c.id()===a.value],"filter-type-==":[B1,[K1],(c,[a])=>c.geometryType()===a.value],"filter-<":[B1,[K1,O1],(c,[a,l])=>{const d=c.properties()[a.value],g=l.value;return typeof d==typeof g&&d<g}],"filter-id-<":[B1,[O1],(c,[a])=>{const l=c.id(),d=a.value;return typeof l==typeof d&&l<d}],"filter->":[B1,[K1,O1],(c,[a,l])=>{const d=c.properties()[a.value],g=l.value;return typeof d==typeof g&&d>g}],"filter-id->":[B1,[O1],(c,[a])=>{const l=c.id(),d=a.value;return typeof l==typeof d&&l>d}],"filter-<=":[B1,[K1,O1],(c,[a,l])=>{const d=c.properties()[a.value],g=l.value;return typeof d==typeof g&&d<=g}],"filter-id-<=":[B1,[O1],(c,[a])=>{const l=c.id(),d=a.value;return typeof l==typeof d&&l<=d}],"filter->=":[B1,[K1,O1],(c,[a,l])=>{const d=c.properties()[a.value],g=l.value;return typeof d==typeof g&&d>=g}],"filter-id->=":[B1,[O1],(c,[a])=>{const l=c.id(),d=a.value;return typeof l==typeof d&&l>=d}],"filter-has":[B1,[O1],(c,[a])=>a.value in c.properties()],"filter-has-id":[B1,[],c=>null!==c.id()&&void 0!==c.id()],"filter-type-in":[B1,[dn(K1)],(c,[a])=>a.value.indexOf(c.geometryType())>=0],"filter-id-in":[B1,[dn(O1)],(c,[a])=>a.value.indexOf(c.id())>=0],"filter-in-small":[B1,[K1,dn(O1)],(c,[a,l])=>l.value.indexOf(c.properties()[a.value])>=0],"filter-in-large":[B1,[K1,dn(O1)],(c,[a,l])=>function(d,g,x,M){for(;x<=M;){const S=x+M>>1;if(g[S]===d)return!0;g[S]>d?M=S-1:x=S+1}return!1}(c.properties()[a.value],l.value,0,l.value.length-1)],all:{type:B1,overloads:[[[B1,B1],(c,[a,l])=>a.evaluate(c)&&l.evaluate(c)],[Pi(B1),(c,a)=>{for(const l of a)if(!l.evaluate(c))return!1;return!0}]]},any:{type:B1,overloads:[[[B1,B1],(c,[a,l])=>a.evaluate(c)||l.evaluate(c)],[Pi(B1),(c,a)=>{for(const l of a)if(l.evaluate(c))return!0;return!1}]]},"!":[B1,[B1],(c,[a])=>!a.evaluate(c)],"is-supported-script":[B1,[K1],(c,[a])=>{const l=c.globals&&c.globals.isSupportedScript;return!l||l(a.evaluate(c))}],upcase:[K1,[K1],(c,[a])=>a.evaluate(c).toUpperCase()],downcase:[K1,[K1],(c,[a])=>a.evaluate(c).toLowerCase()],concat:[K1,Pi(O1),(c,a)=>a.map(l=>sr(l.evaluate(c))).join("")],"resolved-locale":[K1,[li],(c,[a])=>a.evaluate(c).resolvedLocale()]});class vt{constructor(a,l){var d;this.expression=a,this._warningHistory={},this._evaluator=new H2,this._defaultValue=l?"color"===(d=l).type&&go(d.default)?new D1(0,0,0,0):"color"===d.type?D1.parse(d.default)||null:"padding"===d.type?h3.parse(d.default)||null:"variableAnchorOffsetCollection"===d.type?zn.parse(d.default)||null:void 0===d.default?null:d.default:null,this._enumValues=l&&"enum"===l.type?l.values:null}evaluateWithoutErrorHandling(a,l,d,g,x,M){return this._evaluator.globals=a,this._evaluator.feature=l,this._evaluator.featureState=d,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=M,this.expression.evaluate(this._evaluator)}evaluate(a,l,d,g,x,M){this._evaluator.globals=a,this._evaluator.feature=l||null,this._evaluator.featureState=d||null,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=M||null;try{const S=this.expression.evaluate(this._evaluator);if(null==S||"number"==typeof S&&S!=S)return this._defaultValue;if(this._enumValues&&!(S in this._enumValues))throw new wt(`Expected value to be one of ${Object.keys(this._enumValues).map(V=>JSON.stringify(V)).join(", ")}, but found ${JSON.stringify(S)} instead.`);return S}catch(S){return this._warningHistory[S.message]||(this._warningHistory[S.message]=!0,typeof console<"u"&&console.warn(S.message)),this._defaultValue}}}function _o(c){return Array.isArray(c)&&c.length>0&&"string"==typeof c[0]&&c[0]in or}function o2(c,a){const l=new Nn(or,v2,[],a?function(g){const x={color:hn,string:K1,number:o1,enum:K1,boolean:B1,formatted:ui,padding:rr,resolvedImage:H3,variableAnchorOffsetCollection:ar};return"array"===g.type?dn(x[g.value]||O1,g.length):x[g.type]}(a):void 0),d=l.parse(c,void 0,void 0,void 0,a&&"string"===a.type?{typeAnnotation:"coerce"}:void 0);return d?mo(new vt(d,a)):$t(l.errors)}class fs{constructor(a,l){this.kind=a,this._styleExpression=l,this.isStateDependent="constant"!==a&&!rs(l.expression)}evaluateWithoutErrorHandling(a,l,d,g,x,M){return this._styleExpression.evaluateWithoutErrorHandling(a,l,d,g,x,M)}evaluate(a,l,d,g,x,M){return this._styleExpression.evaluate(a,l,d,g,x,M)}}class L2{constructor(a,l,d,g){this.kind=a,this.zoomStops=d,this._styleExpression=l,this.isStateDependent="camera"!==a&&!rs(l.expression),this.interpolationType=g}evaluateWithoutErrorHandling(a,l,d,g,x,M){return this._styleExpression.evaluateWithoutErrorHandling(a,l,d,g,x,M)}evaluate(a,l,d,g,x,M){return this._styleExpression.evaluate(a,l,d,g,x,M)}interpolationFactor(a,l,d){return this.interpolationType?Ut.interpolationFactor(this.interpolationType,a,l,d):0}}function O2(c,a){const l=o2(c,a);if("error"===l.result)return l;const d=l.value.expression,g=is(d);if(!g&&!Nr(a))return $t([new Mn("","data expressions not supported")]);const x=sa(d,["zoom"]);if(!x&&!h0(a))return $t([new Mn("","zoom expressions not supported")]);const M=ua(d);return M||x?M instanceof Mn?$t([M]):M instanceof Ut&&!N2(a)?$t([new Mn("",'"interpolate" expressions cannot be used with this property')]):mo(M?new L2(g?"camera":"composite",l.value,M.labels,M instanceof Ut?M.interpolation:void 0):new fs(g?"constant":"source",l.value)):$t([new Mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class di{constructor(a,l){this._parameters=a,this._specification=l,kn(this,ls(this._parameters,this._specification))}static deserialize(a){return new di(a._parameters,a._specification)}static serialize(a){return{_parameters:a._parameters,_specification:a._specification}}}function ua(c){let a=null;if(c instanceof oa)a=ua(c.result);else if(c instanceof uo){for(const l of c.args)if(a=ua(l),a)break}else(c instanceof mn||c instanceof Ut)&&c.input instanceof N1&&"zoom"===c.input.name&&(a=c);return a instanceof Mn||c.eachChild(l=>{const d=ua(l);d instanceof Mn?a=d:!a&&d?a=new Mn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):a&&d&&a!==d&&(a=new Mn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),a}function Co(c){if(!0===c||!1===c)return!0;if(!Array.isArray(c)||0===c.length)return!1;switch(c[0]){case"has":return c.length>=2&&"$id"!==c[1]&&"$type"!==c[1];case"in":return c.length>=3&&("string"!=typeof c[1]||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==c.length||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const a of c.slice(1))if(!Co(a)&&"boolean"!=typeof a)return!1;return!0;default:return!0}}const p0={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function hs(c){if(null==c)return{filter:()=>!0,needGeometry:!1};Co(c)||(c=V3(c));const a=o2(c,p0);if("error"===a.result)throw new Error(a.value.map(l=>`${l.key}: ${l.message}`).join(", "));return{filter:(l,d,g)=>a.value.evaluate(l,d,{},g),needGeometry:xo(c)}}function E4(c,a){return c<a?-1:c>a?1:0}function xo(c){if(!Array.isArray(c))return!1;if("within"===c[0])return!0;for(let a=1;a<c.length;a++)if(xo(c[a]))return!0;return!1}function V3(c){if(!c)return!0;const a=c[0];return c.length<=1?"any"!==a:"=="===a?ds(c[1],c[2],"=="):"!="===a?x1(ds(c[1],c[2],"==")):"<"===a||">"===a||"<="===a||">="===a?ds(c[1],c[2],a):"any"===a?(l=c.slice(1),["any"].concat(l.map(V3))):"all"===a?["all"].concat(c.slice(1).map(V3)):"none"===a?["all"].concat(c.slice(1).map(V3).map(x1)):"in"===a?w1(c[1],c.slice(2)):"!in"===a?x1(w1(c[1],c.slice(2))):"has"===a?fa(c[1]):"!has"===a?x1(fa(c[1])):"within"!==a||c;var l}function ds(c,a,l){switch(c){case"$type":return[`filter-type-${l}`,a];case"$id":return[`filter-id-${l}`,a];default:return[`filter-${l}`,c,a]}}function w1(c,a){if(0===a.length)return!1;switch(c){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(l=>typeof l!=typeof a[0])?["filter-in-large",c,["literal",a.sort(E4)]]:["filter-in-small",c,["literal",a]]}}function fa(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function x1(c){return["!",c]}function T4(c){const a=typeof c;if("number"===a||"boolean"===a||"string"===a||null==c)return JSON.stringify(c);if(Array.isArray(c)){let g="[";for(const x of c)g+=`${T4(x)},`;return`${g}]`}const l=Object.keys(c).sort();let d="{";for(let g=0;g<l.length;g++)d+=`${JSON.stringify(l[g])}:${T4(c[l[g]])},`;return`${d}}`}function bo(c){let a="";for(const l of R3)a+=`/${T4(c[l])}`;return a}function P4(c){const a=c.value;return a?[new r1(c.key,a,"constants have been deprecated as of v8")]:[]}function St(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function Or(c){if(Array.isArray(c))return c.map(Or);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const a={};for(const l in c)a[l]=Or(c[l]);return a}return St(c)}function E3(c){const a=c.key,l=c.value,d=c.valueSpec||{},g=c.objectElementValidators||{},x=c.style,M=c.styleSpec,S=c.validateSpec;let V=[];const D=w2(l);if("object"!==D)return[new r1(a,l,`object expected, ${D} found`)];for(const N in l){const B=N.split(".")[0],q=d[B]||d["*"];let X;if(g[B])X=g[B];else if(d[B])X=S;else if(g["*"])X=g["*"];else{if(!d["*"]){V.push(new r1(a,l[N],`unknown property "${N}"`));continue}X=S}V=V.concat(X({key:(a&&`${a}.`)+N,value:l[N],valueSpec:q,style:x,styleSpec:M,object:l,objectKey:N,validateSpec:S},l))}for(const N in d)g[N]||d[N].required&&void 0===d[N].default&&void 0===l[N]&&V.push(new r1(a,l,`missing required property "${N}"`));return V}function F3(c){const a=c.value,l=c.valueSpec,d=c.style,g=c.styleSpec,x=c.key,M=c.arrayElementValidator||c.validateSpec;if("array"!==w2(a))return[new r1(x,a,`array expected, ${w2(a)} found`)];if(l.length&&a.length!==l.length)return[new r1(x,a,`array length ${l.length} expected, length ${a.length} found`)];if(l["min-length"]&&a.length<l["min-length"])return[new r1(x,a,`array length at least ${l["min-length"]} expected, length ${a.length} found`)];let S={type:l.value,values:l.values};g.$version<7&&(S.function=l.function),"object"===w2(l.value)&&(S=l.value);let V=[];for(let D=0;D<a.length;D++)V=V.concat(M({array:a,arrayIndex:D,value:a[D],valueSpec:S,validateSpec:c.validateSpec,style:d,styleSpec:g,key:`${x}[${D}]`}));return V}function Rr(c){const a=c.key,l=c.value,d=c.valueSpec;let g=w2(l);return"number"===g&&l!=l&&(g="NaN"),"number"!==g?[new r1(a,l,`number expected, ${g} found`)]:"minimum"in d&&l<d.minimum?[new r1(a,l,`${l} is less than the minimum value ${d.minimum}`)]:"maximum"in d&&l>d.maximum?[new r1(a,l,`${l} is greater than the maximum value ${d.maximum}`)]:[]}function t3(c){const a=c.valueSpec,l=St(c.value.type);let d,g,x,M={};const S="categorical"!==l&&void 0===c.value.property,V=!S,D="array"===w2(c.value.stops)&&"array"===w2(c.value.stops[0])&&"object"===w2(c.value.stops[0][0]),N=E3({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(X){if("identity"===l)return[new r1(X.key,X.value,'identity function may not have a "stops" property')];let Y=[];const ne=X.value;return Y=Y.concat(F3({key:X.key,value:ne,valueSpec:X.valueSpec,validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec,arrayElementValidator:B})),"array"===w2(ne)&&0===ne.length&&Y.push(new r1(X.key,ne,"array must have at least one stop")),Y},default:function(X){return X.validateSpec({key:X.key,value:X.value,valueSpec:a,validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec})}}});return"identity"===l&&S&&N.push(new r1(c.key,c.value,'missing required property "property"')),"identity"===l||c.value.stops||N.push(new r1(c.key,c.value,'missing required property "stops"')),"exponential"===l&&c.valueSpec.expression&&!N2(c.valueSpec)&&N.push(new r1(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(V&&!Nr(c.valueSpec)?N.push(new r1(c.key,c.value,"property functions not supported")):S&&!h0(c.valueSpec)&&N.push(new r1(c.key,c.value,"zoom functions not supported"))),"categorical"!==l&&!D||void 0!==c.value.property||N.push(new r1(c.key,c.value,'"property" property is required')),N;function B(X){let Y=[];const ne=X.value,se=X.key;if("array"!==w2(ne))return[new r1(se,ne,`array expected, ${w2(ne)} found`)];if(2!==ne.length)return[new r1(se,ne,`array length 2 expected, length ${ne.length} found`)];if(D){if("object"!==w2(ne[0]))return[new r1(se,ne,`object expected, ${w2(ne[0])} found`)];if(void 0===ne[0].zoom)return[new r1(se,ne,"object stop key must have zoom")];if(void 0===ne[0].value)return[new r1(se,ne,"object stop key must have value")];if(x&&x>St(ne[0].zoom))return[new r1(se,ne[0].zoom,"stop zoom values must appear in ascending order")];St(ne[0].zoom)!==x&&(x=St(ne[0].zoom),g=void 0,M={}),Y=Y.concat(E3({key:`${se}[0]`,value:ne[0],valueSpec:{zoom:{}},validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec,objectElementValidators:{zoom:Rr,value:q}}))}else Y=Y.concat(q({key:`${se}[0]`,value:ne[0],valueSpec:{},validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec},ne));return _o(Or(ne[1]))?Y.concat([new r1(`${se}[1]`,ne[1],"expressions are not allowed in function stops.")]):Y.concat(X.validateSpec({key:`${se}[1]`,value:ne[1],valueSpec:a,validateSpec:X.validateSpec,style:X.style,styleSpec:X.styleSpec}))}function q(X,Y){const ne=w2(X.value),se=St(X.value),le=null!==X.value?X.value:Y;if(d){if(ne!==d)return[new r1(X.key,le,`${ne} stop domain type must match previous stop domain type ${d}`)]}else d=ne;if("number"!==ne&&"string"!==ne&&"boolean"!==ne)return[new r1(X.key,le,"stop domain value must be a number, string, or boolean")];if("number"!==ne&&"categorical"!==l){let xe=`number expected, ${ne} found`;return Nr(a)&&void 0===l&&(xe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new r1(X.key,le,xe)]}return"categorical"!==l||"number"!==ne||isFinite(se)&&Math.floor(se)===se?"categorical"!==l&&"number"===ne&&void 0!==g&&se<g?[new r1(X.key,le,"stop domain values must appear in ascending order")]:(g=se,"categorical"===l&&se in M?[new r1(X.key,le,"stop domain values must be unique")]:(M[se]=!0,[])):[new r1(X.key,le,`integer expected, found ${se}`)]}}function Yt(c){const a=("property"===c.expressionContext?O2:o2)(Or(c.value),c.valueSpec);if("error"===a.result)return a.value.map(d=>new r1(`${c.key}${d.key}`,c.value,d.message));const l=a.value.expression||a.value._styleExpression.expression;if("property"===c.expressionContext&&"text-font"===c.propertyKey&&!l.outputDefined())return[new r1(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===c.expressionContext&&"layout"===c.propertyType&&!rs(l))return[new r1(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===c.expressionContext&&!rs(l))return[new r1(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&0===c.expressionContext.indexOf("cluster")){if(!sa(l,["zoom","feature-state"]))return[new r1(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===c.expressionContext&&!is(l))return[new r1(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function h2(c){const a=c.key,l=c.value,d=c.valueSpec,g=[];return Array.isArray(d.values)?-1===d.values.indexOf(St(l))&&g.push(new r1(a,l,`expected one of [${d.values.join(", ")}], ${JSON.stringify(l)} found`)):-1===Object.keys(d.values).indexOf(St(l))&&g.push(new r1(a,l,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(l)} found`)),g}function Fr(c){return Co(Or(c.value))?Yt(kn({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ps(c)}function ps(c){const a=c.value,l=c.key;if("array"!==w2(a))return[new r1(l,a,`array expected, ${w2(a)} found`)];const d=c.styleSpec;let g,x=[];if(a.length<1)return[new r1(l,a,"filter array must have at least 1 element")];switch(x=x.concat(h2({key:`${l}[0]`,value:a[0],valueSpec:d.filter_operator,style:c.style,styleSpec:c.styleSpec})),St(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&"$type"===St(a[1])&&x.push(new r1(l,a,`"$type" cannot be use with operator "${a[0]}"`));case"==":case"!=":3!==a.length&&x.push(new r1(l,a,`filter array for operator "${a[0]}" must have 3 elements`));case"in":case"!in":a.length>=2&&(g=w2(a[1]),"string"!==g&&x.push(new r1(`${l}[1]`,a[1],`string expected, ${g} found`)));for(let M=2;M<a.length;M++)g=w2(a[M]),"$type"===St(a[1])?x=x.concat(h2({key:`${l}[${M}]`,value:a[M],valueSpec:d.geometry_type,style:c.style,styleSpec:c.styleSpec})):"string"!==g&&"number"!==g&&"boolean"!==g&&x.push(new r1(`${l}[${M}]`,a[M],`string, number, or boolean expected, ${g} found`));break;case"any":case"all":case"none":for(let M=1;M<a.length;M++)x=x.concat(ps({key:`${l}[${M}]`,value:a[M],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":g=w2(a[1]),2!==a.length?x.push(new r1(l,a,`filter array for "${a[0]}" operator must have 2 elements`)):"string"!==g&&x.push(new r1(`${l}[1]`,a[1],`string expected, ${g} found`));break;case"within":g=w2(a[1]),2!==a.length?x.push(new r1(l,a,`filter array for "${a[0]}" operator must have 2 elements`)):"object"!==g&&x.push(new r1(`${l}[1]`,a[1],`object expected, ${g} found`))}return x}function D4(c,a){const l=c.key,d=c.validateSpec,g=c.style,x=c.styleSpec,M=c.value,S=c.objectKey,V=x[`${a}_${c.layerType}`];if(!V)return[];const D=S.match(/^(.*)-transition$/);if("paint"===a&&D&&V[D[1]]&&V[D[1]].transition)return d({key:l,value:M,valueSpec:x.transition,style:g,styleSpec:x});const N=c.valueSpec||V[S];if(!N)return[new r1(l,M,`unknown property "${S}"`)];let B;if("string"===w2(M)&&Nr(N)&&!N.tokens&&(B=/^{([^}]+)}$/.exec(M)))return[new r1(l,M,`"${S}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(B[1])} }\`.`)];const q=[];return"symbol"===c.layerType&&("text-field"===S&&g&&!g.glyphs&&q.push(new r1(l,M,'use of "text-field" requires a style "glyphs" property')),"text-font"===S&&go(Or(M))&&"identity"===St(M.type)&&q.push(new r1(l,M,'"text-font" does not support identity functions'))),q.concat(d({key:c.key,value:M,valueSpec:N,style:g,styleSpec:x,expressionContext:"property",propertyType:a,propertyKey:S}))}function A4(c){return D4(c,"paint")}function T3(c){return D4(c,"layout")}function lr(c){let a=[];const l=c.value,d=c.key,g=c.style,x=c.styleSpec;l.type||l.ref||a.push(new r1(d,l,'either "type" or "ref" is required'));let M=St(l.type);const S=St(l.ref);if(l.id){const V=St(l.id);for(let D=0;D<c.arrayIndex;D++){const N=g.layers[D];St(N.id)===V&&a.push(new r1(d,l.id,`duplicate layer id "${l.id}", previously used at line ${N.id.__line__}`))}}if("ref"in l){let V;["type","source","source-layer","filter","layout"].forEach(D=>{D in l&&a.push(new r1(d,l[D],`"${D}" is prohibited for ref layers`))}),g.layers.forEach(D=>{St(D.id)===S&&(V=D)}),V?V.ref?a.push(new r1(d,l.ref,"ref cannot reference another ref layer")):M=St(V.type):a.push(new r1(d,l.ref,`ref layer "${S}" not found`))}else if("background"!==M)if(l.source){const V=g.sources&&g.sources[l.source],D=V&&St(V.type);V?"vector"===D&&"raster"===M?a.push(new r1(d,l.source,`layer "${l.id}" requires a raster source`)):"raster"===D&&"raster"!==M?a.push(new r1(d,l.source,`layer "${l.id}" requires a vector source`)):"vector"!==D||l["source-layer"]?"raster-dem"===D&&"hillshade"!==M?a.push(new r1(d,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==M||!l.paint||!l.paint["line-gradient"]||"geojson"===D&&V.lineMetrics||a.push(new r1(d,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):a.push(new r1(d,l,`layer "${l.id}" must specify a "source-layer"`)):a.push(new r1(d,l.source,`source "${l.source}" not found`))}else a.push(new r1(d,l,'missing required property "source"'));return a=a.concat(E3({key:d,value:l,valueSpec:x.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${d}.type`,value:l.type,valueSpec:x.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:l,objectKey:"type"}),filter:Fr,layout:V=>E3({layer:l,key:V.key,value:V.value,style:V.style,styleSpec:V.styleSpec,validateSpec:V.validateSpec,objectElementValidators:{"*":D=>T3(kn({layerType:M},D))}}),paint:V=>E3({layer:l,key:V.key,value:V.value,style:V.style,styleSpec:V.styleSpec,validateSpec:V.validateSpec,objectElementValidators:{"*":D=>A4(kn({layerType:M},D))}})}})),a}function Di(c){const a=c.value,l=c.key,d=w2(a);return"string"!==d?[new r1(l,a,`string expected, ${d} found`)]:[]}const Mo={promoteId:function({key:c,value:a}){if("string"===w2(a))return Di({key:c,value:a});{const l=[];for(const d in a)l.push(...Di({key:`${c}.${d}`,value:a[d]}));return l}}};function Br(c){const a=c.value,l=c.key,d=c.styleSpec,g=c.style,x=c.validateSpec;if(!a.type)return[new r1(l,a,'"type" is required')];const M=St(a.type);let S;switch(M){case"vector":case"raster":case"raster-dem":return S=E3({key:l,value:a,valueSpec:d[`source_${M.replace("-","_")}`],style:c.style,styleSpec:d,objectElementValidators:Mo,validateSpec:x}),S;case"geojson":if(S=E3({key:l,value:a,valueSpec:d.source_geojson,style:g,styleSpec:d,validateSpec:x,objectElementValidators:Mo}),a.cluster)for(const V in a.clusterProperties){const[D,N]=a.clusterProperties[V],B="string"==typeof D?[D,["accumulated"],["get",V]]:D;S.push(...Yt({key:`${l}.${V}.map`,value:N,validateSpec:x,expressionContext:"cluster-map"})),S.push(...Yt({key:`${l}.${V}.reduce`,value:B,validateSpec:x,expressionContext:"cluster-reduce"}))}return S;case"video":return E3({key:l,value:a,valueSpec:d.source_video,style:g,validateSpec:x,styleSpec:d});case"image":return E3({key:l,value:a,valueSpec:d.source_image,style:g,validateSpec:x,styleSpec:d});case"canvas":return[new r1(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return h2({key:`${l}.type`,value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:g,validateSpec:x,styleSpec:d})}}function wo(c){const a=c.value,l=c.styleSpec,d=l.light,g=c.style;let x=[];const M=w2(a);if(void 0===a)return x;if("object"!==M)return x=x.concat([new r1("light",a,`object expected, ${M} found`)]),x;for(const S in a){const V=S.match(/^(.*)-transition$/);x=x.concat(V&&d[V[1]]&&d[V[1]].transition?c.validateSpec({key:S,value:a[S],valueSpec:l.transition,validateSpec:c.validateSpec,style:g,styleSpec:l}):d[S]?c.validateSpec({key:S,value:a[S],valueSpec:d[S],validateSpec:c.validateSpec,style:g,styleSpec:l}):[new r1(S,a[S],`unknown property "${S}"`)])}return x}function zo(c){const a=c.value,l=c.styleSpec,d=l.terrain,g=c.style;let x=[];const M=w2(a);if(void 0===a)return x;if("object"!==M)return x=x.concat([new r1("terrain",a,`object expected, ${M} found`)]),x;for(const S in a)x=x.concat(d[S]?c.validateSpec({key:S,value:a[S],valueSpec:d[S],validateSpec:c.validateSpec,style:g,styleSpec:l}):[new r1(S,a[S],`unknown property "${S}"`)]);return x}function I4(c){let a=[];const l=c.value,d=c.key;if(Array.isArray(l)){const g=[],x=[];for(const M in l)l[M].id&&g.includes(l[M].id)&&a.push(new r1(d,l,`all the sprites' ids must be unique, but ${l[M].id} is duplicated`)),g.push(l[M].id),l[M].url&&x.includes(l[M].url)&&a.push(new r1(d,l,`all the sprites' URLs must be unique, but ${l[M].url} is duplicated`)),x.push(l[M].url),a=a.concat(E3({key:`${d}[${M}]`,value:l[M],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return a}return Di({key:d,value:l})}const So={"*":()=>[],array:F3,boolean:function(c){const a=c.value,l=c.key,d=w2(a);return"boolean"!==d?[new r1(l,a,`boolean expected, ${d} found`)]:[]},number:Rr,color:function(c){const a=c.key,l=c.value,d=w2(l);return"string"!==d?[new r1(a,l,`color expected, ${d} found`)]:D1.parse(String(l))?[]:[new r1(a,l,`color expected, "${l}" found`)]},constants:P4,enum:h2,filter:Fr,function:t3,layer:lr,object:E3,source:Br,light:wo,terrain:zo,string:Di,formatted:function(c){return 0===Di(c).length?[]:Yt(c)},resolvedImage:function(c){return 0===Di(c).length?[]:Yt(c)},padding:function(c){const a=c.key,l=c.value;if("array"===w2(l)){if(l.length<1||l.length>4)return[new r1(a,l,`padding requires 1 to 4 values; ${l.length} values found`)];const d={type:"number"};let g=[];for(let x=0;x<l.length;x++)g=g.concat(c.validateSpec({key:`${a}[${x}]`,value:l[x],validateSpec:c.validateSpec,valueSpec:d}));return g}return Rr({key:a,value:l,valueSpec:{}})},variableAnchorOffsetCollection:function(c){const a=c.key,l=c.value,d=w2(l),g=c.styleSpec;if("array"!==d||l.length<1||l.length%2!=0)return[new r1(a,l,"variableAnchorOffsetCollection requires a non-empty array of even length")];let x=[];for(let M=0;M<l.length;M+=2)x=x.concat(h2({key:`${a}[${M}]`,value:l[M],valueSpec:g.layout_symbol["text-anchor"]})),x=x.concat(F3({key:`${a}[${M+1}]`,value:l[M+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:g}));return x},sprite:I4};function k4(c){const a=c.value,l=c.valueSpec,d=c.styleSpec;return c.validateSpec=k4,l.expression&&go(St(a))?t3(c):l.expression&&_o(Or(a))?Yt(c):l.type&&So[l.type]?So[l.type](c):E3(kn({},c,{valueSpec:l.type?d[l.type]:l}))}function ha(c){const a=c.value,l=c.key,d=Di(c);return d.length||(-1===a.indexOf("{fontstack}")&&d.push(new r1(l,a,'"glyphs" url must include a "{fontstack}" token')),-1===a.indexOf("{range}")&&d.push(new r1(l,a,'"glyphs" url must include a "{range}" token'))),d}function n3(c,a=Fe){let l=[];return l=l.concat(k4({key:"",value:c,valueSpec:a.$root,styleSpec:a,style:c,validateSpec:k4,objectElementValidators:{glyphs:ha,"*":()=>[]}})),c.constants&&(l=l.concat(P4({key:"constants",value:c.constants,style:c,styleSpec:a,validateSpec:k4}))),da(l)}function It(c){return function(a){return c({...a,validateSpec:k4})}}function da(c){return[].concat(c).sort((a,l)=>a.line-l.line)}function jt(c){return function(...a){return da(c.apply(this,a))}}n3.source=jt(It(Br)),n3.sprite=jt(It(I4)),n3.glyphs=jt(It(ha)),n3.light=jt(It(wo)),n3.terrain=jt(It(zo)),n3.layer=jt(It(lr)),n3.filter=jt(It(Fr)),n3.paintProperty=jt(It(A4)),n3.layoutProperty=jt(It(T3));const pa=n3,z6=pa.light,ma=pa.paintProperty,m0=pa.layoutProperty;function ms(c,a){let l=!1;if(a&&a.length)for(const d of a)c.fire(new d2(new Error(d.message))),l=!0;return l}class ga{constructor(a,l,d){const g=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;const M=new Int32Array(this.arrayBuffer);a=M[0],this.d=(l=M[1])+2*(d=M[2]);for(let V=0;V<this.d*this.d;V++){const D=M[3+V],N=M[3+V+1];g.push(D===N?null:M.subarray(D,N))}const S=M[3+g.length+1];this.keys=M.subarray(M[3+g.length],S),this.bboxes=M.subarray(S),this.insert=this._insertReadonly}else{this.d=l+2*d;for(let M=0;M<this.d*this.d;M++)g.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=a,this.padding=d,this.scale=l/a,this.uid=0;const x=d/l*a;this.min=-x,this.max=a+x}insert(a,l,d,g,x){this._forEachCell(l,d,g,x,this._insertCell,this.uid++,void 0,void 0),this.keys.push(a),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(x)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(a,l,d,g,x,M){this.cells[x].push(M)}query(a,l,d,g,x){const M=this.min,S=this.max;if(a<=M&&l<=M&&S<=d&&S<=g&&!x)return Array.prototype.slice.call(this.keys);{const V=[];return this._forEachCell(a,l,d,g,this._queryCell,V,{},x),V}}_queryCell(a,l,d,g,x,M,S,V){const D=this.cells[x];if(null!==D){const N=this.keys,B=this.bboxes;for(let q=0;q<D.length;q++){const X=D[q];if(void 0===S[X]){const Y=4*X;(V?V(B[Y+0],B[Y+1],B[Y+2],B[Y+3]):a<=B[Y+2]&&l<=B[Y+3]&&d>=B[Y+0]&&g>=B[Y+1])?(S[X]=!0,M.push(N[X])):S[X]=!1}}}}_forEachCell(a,l,d,g,x,M,S,V){const D=this._convertToCellCoord(a),N=this._convertToCellCoord(l),B=this._convertToCellCoord(d),q=this._convertToCellCoord(g);for(let X=D;X<=B;X++)for(let Y=N;Y<=q;Y++){const ne=this.d*Y+X;if((!V||V(this._convertFromCellCoord(X),this._convertFromCellCoord(Y),this._convertFromCellCoord(X+1),this._convertFromCellCoord(Y+1)))&&x.call(this,a,l,d,g,ne,M,S,V))return}}_convertFromCellCoord(a){return(a-this.padding)/this.scale}_convertToCellCoord(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const a=this.cells,l=3+this.cells.length+1+1;let d=0;for(let M=0;M<this.cells.length;M++)d+=this.cells[M].length;const g=new Int32Array(l+d+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;let x=l;for(let M=0;M<a.length;M++){const S=a[M];g[3+M]=x,g.set(S,x),x+=S.length}return g[3+a.length]=x,g.set(this.keys,x),x+=this.keys.length,g[3+a.length+1]=x,g.set(this.bboxes,x),x+=this.bboxes.length,g.buffer}static serialize(a,l){const d=a.toArrayBuffer();return l&&l.push(d),{buffer:d}}static deserialize(a){return new ga(a.buffer)}}const B3={};function p1(c,a,l={}){if(B3[c])throw new Error(`${c} is already registered.`);Object.defineProperty(a,"_classRegistryKey",{value:c,writeable:!1}),B3[c]={klass:a,omit:l.omit||[],shallow:l.shallow||[]}}p1("Object",Object),p1("TransferableGridIndex",ga),p1("Color",D1),p1("Error",Error),p1("AJAXError",tr),p1("ResolvedImage",Sn),p1("StylePropertyFunction",di),p1("StyleExpression",vt,{omit:["_evaluator"]}),p1("ZoomDependentExpression",L2),p1("ZoomConstantExpression",fs),p1("CompoundExpression",N1,{omit:["_evaluate"]});for(const c in or)or[c]._classRegistryKey||p1(`Expression_${c}`,or[c]);function N4(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&"ArrayBuffer"===c.constructor.name)}function va(c,a){if(null==c||"boolean"==typeof c||"number"==typeof c||"string"==typeof c||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob)return c;if(N4(c)||er(c))return a&&a.push(c),c;if(ArrayBuffer.isView(c)){const l=c;return a&&a.push(l.buffer),l}if(c instanceof ImageData)return a&&a.push(c.data.buffer),c;if(Array.isArray(c)){const l=[];for(const d of c)l.push(va(d,a));return l}if("object"==typeof c){const l=c.constructor,d=l._classRegistryKey;if(!d)throw new Error("can't serialize object of unregistered class");if(!B3[d])throw new Error(`${d} is not registered.`);const g=l.serialize?l.serialize(c,a):{};if(l.serialize){if(a&&g===a[a.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const x in c){if(!c.hasOwnProperty(x)||B3[d].omit.indexOf(x)>=0)continue;const M=c[x];g[x]=B3[d].shallow.indexOf(x)>=0?M:va(M,a)}c instanceof Error&&(g.message=c.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==d&&(g.$name=d),g}throw new Error("can't serialize object of type "+typeof c)}function tt(c){if(null==c||"boolean"==typeof c||"number"==typeof c||"string"==typeof c||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||N4(c)||er(c)||ArrayBuffer.isView(c)||c instanceof ImageData)return c;if(Array.isArray(c))return c.map(tt);if("object"==typeof c){const a=c.$name||"Object";if(!B3[a])throw new Error(`can't deserialize unregistered class ${a}`);const{klass:l}=B3[a];if(!l)throw new Error(`can't deserialize unregistered class ${a}`);if(l.deserialize)return l.deserialize(c);const d=Object.create(l.prototype);for(const g of Object.keys(c)){if("$name"===g)continue;const x=c[g];d[g]=B3[a].shallow.indexOf(g)>=0?x:tt(x)}return d}throw new Error("can't deserialize object of type "+typeof c)}class Ho{constructor(){this.first=!0}update(a,l){const d=Math.floor(a);return this.first?(this.first=!1,this.lastIntegerZoom=d,this.lastIntegerZoomTime=0,this.lastZoom=a,this.lastFloorZoom=d,!0):(this.lastFloorZoom>d?(this.lastIntegerZoom=d+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<d&&(this.lastIntegerZoom=d,this.lastIntegerZoomTime=l),a!==this.lastZoom&&(this.lastZoom=a,this.lastFloorZoom=d,!0))}}const l1={"Latin-1 Supplement":c=>c>=128&&c<=255,Arabic:c=>c>=1536&&c<=1791,"Arabic Supplement":c=>c>=1872&&c<=1919,"Arabic Extended-A":c=>c>=2208&&c<=2303,"Hangul Jamo":c=>c>=4352&&c<=4607,"Unified Canadian Aboriginal Syllabics":c=>c>=5120&&c<=5759,Khmer:c=>c>=6016&&c<=6143,"Unified Canadian Aboriginal Syllabics Extended":c=>c>=6320&&c<=6399,"General Punctuation":c=>c>=8192&&c<=8303,"Letterlike Symbols":c=>c>=8448&&c<=8527,"Number Forms":c=>c>=8528&&c<=8591,"Miscellaneous Technical":c=>c>=8960&&c<=9215,"Control Pictures":c=>c>=9216&&c<=9279,"Optical Character Recognition":c=>c>=9280&&c<=9311,"Enclosed Alphanumerics":c=>c>=9312&&c<=9471,"Geometric Shapes":c=>c>=9632&&c<=9727,"Miscellaneous Symbols":c=>c>=9728&&c<=9983,"Miscellaneous Symbols and Arrows":c=>c>=11008&&c<=11263,"CJK Radicals Supplement":c=>c>=11904&&c<=12031,"Kangxi Radicals":c=>c>=12032&&c<=12255,"Ideographic Description Characters":c=>c>=12272&&c<=12287,"CJK Symbols and Punctuation":c=>c>=12288&&c<=12351,Hiragana:c=>c>=12352&&c<=12447,Katakana:c=>c>=12448&&c<=12543,Bopomofo:c=>c>=12544&&c<=12591,"Hangul Compatibility Jamo":c=>c>=12592&&c<=12687,Kanbun:c=>c>=12688&&c<=12703,"Bopomofo Extended":c=>c>=12704&&c<=12735,"CJK Strokes":c=>c>=12736&&c<=12783,"Katakana Phonetic Extensions":c=>c>=12784&&c<=12799,"Enclosed CJK Letters and Months":c=>c>=12800&&c<=13055,"CJK Compatibility":c=>c>=13056&&c<=13311,"CJK Unified Ideographs Extension A":c=>c>=13312&&c<=19903,"Yijing Hexagram Symbols":c=>c>=19904&&c<=19967,"CJK Unified Ideographs":c=>c>=19968&&c<=40959,"Yi Syllables":c=>c>=40960&&c<=42127,"Yi Radicals":c=>c>=42128&&c<=42191,"Hangul Jamo Extended-A":c=>c>=43360&&c<=43391,"Hangul Syllables":c=>c>=44032&&c<=55215,"Hangul Jamo Extended-B":c=>c>=55216&&c<=55295,"Private Use Area":c=>c>=57344&&c<=63743,"CJK Compatibility Ideographs":c=>c>=63744&&c<=64255,"Arabic Presentation Forms-A":c=>c>=64336&&c<=65023,"Vertical Forms":c=>c>=65040&&c<=65055,"CJK Compatibility Forms":c=>c>=65072&&c<=65103,"Small Form Variants":c=>c>=65104&&c<=65135,"Arabic Presentation Forms-B":c=>c>=65136&&c<=65279,"Halfwidth and Fullwidth Forms":c=>c>=65280&&c<=65519};function gs(c){for(const a of c)if(O4(a.charCodeAt(0)))return!0;return!1}function Ai(c){for(const a of c)if(!g0(a.charCodeAt(0)))return!1;return!0}function g0(c){return!(l1.Arabic(c)||l1["Arabic Supplement"](c)||l1["Arabic Extended-A"](c)||l1["Arabic Presentation Forms-A"](c)||l1["Arabic Presentation Forms-B"](c))}function O4(c){return!(746!==c&&747!==c&&(c<4352||!(l1["Bopomofo Extended"](c)||l1.Bopomofo(c)||l1["CJK Compatibility Forms"](c)&&!(c>=65097&&c<=65103)||l1["CJK Compatibility Ideographs"](c)||l1["CJK Compatibility"](c)||l1["CJK Radicals Supplement"](c)||l1["CJK Strokes"](c)||!(!l1["CJK Symbols and Punctuation"](c)||c>=12296&&c<=12305||c>=12308&&c<=12319||12336===c)||l1["CJK Unified Ideographs Extension A"](c)||l1["CJK Unified Ideographs"](c)||l1["Enclosed CJK Letters and Months"](c)||l1["Hangul Compatibility Jamo"](c)||l1["Hangul Jamo Extended-A"](c)||l1["Hangul Jamo Extended-B"](c)||l1["Hangul Jamo"](c)||l1["Hangul Syllables"](c)||l1.Hiragana(c)||l1["Ideographic Description Characters"](c)||l1.Kanbun(c)||l1["Kangxi Radicals"](c)||l1["Katakana Phonetic Extensions"](c)||l1.Katakana(c)&&12540!==c||!(!l1["Halfwidth and Fullwidth Forms"](c)||65288===c||65289===c||65293===c||c>=65306&&c<=65310||65339===c||65341===c||65343===c||c>=65371&&c<=65503||65507===c||c>=65512&&c<=65519)||!(!l1["Small Form Variants"](c)||c>=65112&&c<=65118||c>=65123&&c<=65126)||l1["Unified Canadian Aboriginal Syllabics"](c)||l1["Unified Canadian Aboriginal Syllabics Extended"](c)||l1["Vertical Forms"](c)||l1["Yijing Hexagram Symbols"](c)||l1["Yi Syllables"](c)||l1["Yi Radicals"](c))))}function Y2(c){return!(O4(c)||(a=c,l1["Latin-1 Supplement"](a)&&(167===a||169===a||174===a||177===a||188===a||189===a||190===a||215===a||247===a)||l1["General Punctuation"](a)&&(8214===a||8224===a||8225===a||8240===a||8241===a||8251===a||8252===a||8258===a||8263===a||8264===a||8265===a||8273===a)||l1["Letterlike Symbols"](a)||l1["Number Forms"](a)||l1["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||9003===a||a>=9085&&a<=9114||a>=9150&&a<=9165||9167===a||a>=9169&&a<=9179||a>=9186&&a<=9215)||l1["Control Pictures"](a)&&9251!==a||l1["Optical Character Recognition"](a)||l1["Enclosed Alphanumerics"](a)||l1["Geometric Shapes"](a)||l1["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||l1["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||l1["CJK Symbols and Punctuation"](a)||l1.Katakana(a)||l1["Private Use Area"](a)||l1["CJK Compatibility Forms"](a)||l1["Small Form Variants"](a)||l1["Halfwidth and Fullwidth Forms"](a)||8734===a||8756===a||8757===a||a>=9984&&a<=10087||a>=10102&&a<=10131||65532===a||65533===a));var a}function Hn(c){return c>=1424&&c<=2303||l1["Arabic Presentation Forms-A"](c)||l1["Arabic Presentation Forms-B"](c)}function _2(c,a){return!(!a&&Hn(c)||c>=2304&&c<=3583||c>=3840&&c<=4255||l1.Khmer(c))}function Kt(c){for(const a of c)if(Hn(a.charCodeAt(0)))return!0;return!1}const gn="deferred",pi="loading",Rn="loaded";let vs=null,Fn="unavailable",U3=null;const Lo=function(c){c&&"string"==typeof c&&c.indexOf("NetworkError")>-1&&(Fn="error"),vs&&vs(c)};function Vo(){nt.fire(new S3("pluginStateChange",{pluginStatus:Fn,pluginURL:U3}))}const nt=new oi,m1=function(){return Fn},J1=function(){if(Fn!==gn||!U3)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Fn=pi,Vo(),U3&&C4({url:U3},c=>{c?Lo(c):(Fn=Rn,Vo())})},m2={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Fn===Rn||null!=m2.applyArabicShaping,isLoading:()=>Fn===pi,setState(c){if(!In())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Fn=c.pluginStatus,U3=c.pluginURL},isParsed(){if(!In())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=m2.applyArabicShaping&&null!=m2.processBidirectionalText&&null!=m2.processStyledBidirectionalText},getPluginURL(){if(!In())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return U3}};class g2{constructor(a,l){this.zoom=a,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.zoomHistory=l.zoomHistory,this.transition=l.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ho,this.transition={})}isSupportedScript(a){return function(l,d){for(const g of l)if(!_2(g.charCodeAt(0),d))return!1;return!0}(a,m2.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const a=this.zoom,l=a-Math.floor(a),d=this.crossFadingFactor();return a>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*d}:{fromScale:.5,toScale:1,t:1-(1-d)*l}}}class ur{constructor(a,l){this.property=a,this.value=l,this.expression=function(d,g){if(go(d))return new di(d,g);if(_o(d)){const x=O2(d,g);if("error"===x.result)throw new Error(x.value.map(M=>`${M.key}: ${M.message}`).join(", "));return x.value}{let x=d;return"color"===g.type&&"string"==typeof d?x=D1.parse(d):"padding"!==g.type||"number"!=typeof d&&!Array.isArray(d)?"variableAnchorOffsetCollection"===g.type&&Array.isArray(d)&&(x=zn.parse(d)):x=h3.parse(d),{kind:"constant",evaluate:()=>x}}}(void 0===l?a.specification.default:l,a.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(a,l,d){return this.property.possiblyEvaluate(this,a,l,d)}}class Ht{constructor(a){this.property=a,this.value=new ur(a,void 0)}transitioned(a,l){return new it(this.property,this.value,l,ln({},a.transition,this.transition),a.now)}untransitioned(){return new it(this.property,this.value,null,{},0)}}class Ur{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitionablePropertyValues)}getValue(a){return Jn(this._values[a].value.value)}setValue(a,l){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new Ht(this._values[a].property)),this._values[a].value=new ur(this._values[a].property,null===l?void 0:Jn(l))}getTransition(a){return Jn(this._values[a].transition)}setTransition(a,l){Object.prototype.hasOwnProperty.call(this._values,a)||(this._values[a]=new Ht(this._values[a].property)),this._values[a].transition=Jn(l)||void 0}serialize(){const a={};for(const l of Object.keys(this._values)){const d=this.getValue(l);void 0!==d&&(a[l]=d);const g=this.getTransition(l);void 0!==g&&(a[`${l}-transition`]=g)}return a}transitioned(a,l){const d=new Ii(this._properties);for(const g of Object.keys(this._values))d._values[g]=this._values[g].transitioned(a,l._values[g]);return d}untransitioned(){const a=new Ii(this._properties);for(const l of Object.keys(this._values))a._values[l]=this._values[l].untransitioned();return a}}class it{constructor(a,l,d,g,x){this.property=a,this.value=l,this.begin=x+g.delay||0,this.end=this.begin+g.duration||0,a.specification.transition&&(g.delay||g.duration)&&(this.prior=d)}possiblyEvaluate(a,l,d){const g=a.now||0,x=this.value.possiblyEvaluate(a,l,d),M=this.prior;if(M){if(g>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(g<this.begin)return M.possiblyEvaluate(a,l,d);{const S=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(M.possiblyEvaluate(a,l,d),x,function(V){if(V<=0)return 0;if(V>=1)return 1;const D=V*V,N=D*V;return 4*(V<.5?N:3*(V-D)+N-.75)}(S))}}return x}}class Ii{constructor(a){this._properties=a,this._values=Object.create(a.defaultTransitioningPropertyValues)}possiblyEvaluate(a,l,d){const g=new ki(this._properties);for(const x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(a,l,d);return g}hasTransition(){for(const a of Object.keys(this._values))if(this._values[a].prior)return!0;return!1}}class R4{constructor(a){this._properties=a,this._values=Object.create(a.defaultPropertyValues)}hasValue(a){return void 0!==this._values[a].value}getValue(a){return Jn(this._values[a].value)}setValue(a,l){this._values[a]=new ur(this._values[a].property,null===l?void 0:Jn(l))}serialize(){const a={};for(const l of Object.keys(this._values)){const d=this.getValue(l);void 0!==d&&(a[l]=d)}return a}possiblyEvaluate(a,l,d){const g=new ki(this._properties);for(const x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(a,l,d);return g}}class F1{constructor(a,l,d){this.property=a,this.value=l,this.parameters=d}isConstant(){return"constant"===this.value.kind}constantOr(a){return"constant"===this.value.kind?this.value.value:a}evaluate(a,l,d,g){return this.property.evaluate(this.value,this.parameters,a,l,d,g)}}class ki{constructor(a){this._properties=a,this._values=Object.create(a.defaultPossiblyEvaluatedValues)}get(a){return this._values[a]}}class M1{constructor(a){this.specification=a}possiblyEvaluate(a,l){if(a.isDataDriven())throw new Error("Value should not be data driven");return a.expression.evaluate(l)}interpolate(a,l,d){const g=L3[this.specification.type];return g?g(a,l,d):a}}class T1{constructor(a,l){this.specification=a,this.overrides=l}possiblyEvaluate(a,l,d,g){return new F1(this,"constant"===a.expression.kind||"camera"===a.expression.kind?{kind:"constant",value:a.expression.evaluate(l,null,{},d,g)}:a.expression,l)}interpolate(a,l,d){if("constant"!==a.value.kind||"constant"!==l.value.kind)return a;if(void 0===a.value.value||void 0===l.value.value)return new F1(this,{kind:"constant",value:void 0},a.parameters);const g=L3[this.specification.type];if(g){const x=g(a.value.value,l.value.value,d);return new F1(this,{kind:"constant",value:x},a.parameters)}return a}evaluate(a,l,d,g,x,M){return"constant"===a.kind?a.value:a.evaluate(l,d,g,x,M)}}class rt extends T1{possiblyEvaluate(a,l,d,g){if(void 0===a.value)return new F1(this,{kind:"constant",value:void 0},l);if("constant"===a.expression.kind){const x=a.expression.evaluate(l,null,{},d,g),M="resolvedImage"===a.property.specification.type&&"string"!=typeof x?x.name:x,S=this._calculate(M,M,M,l);return new F1(this,{kind:"constant",value:S},l)}if("camera"===a.expression.kind){const x=this._calculate(a.expression.evaluate({zoom:l.zoom-1}),a.expression.evaluate({zoom:l.zoom}),a.expression.evaluate({zoom:l.zoom+1}),l);return new F1(this,{kind:"constant",value:x},l)}return new F1(this,a.expression,l)}evaluate(a,l,d,g,x,M){if("source"===a.kind){const S=a.evaluate(l,d,g,x,M);return this._calculate(S,S,S,l)}return"composite"===a.kind?this._calculate(a.evaluate({zoom:Math.floor(l.zoom)-1},d,g),a.evaluate({zoom:Math.floor(l.zoom)},d,g),a.evaluate({zoom:Math.floor(l.zoom)+1},d,g),l):a.value}_calculate(a,l,d,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:a,to:l}:{from:d,to:l}}interpolate(a){return a}}class $r{constructor(a){this.specification=a}possiblyEvaluate(a,l,d,g){if(void 0!==a.value){if("constant"===a.expression.kind){const x=a.expression.evaluate(l,null,{},d,g);return this._calculate(x,x,x,l)}return this._calculate(a.expression.evaluate(new g2(Math.floor(l.zoom-1),l)),a.expression.evaluate(new g2(Math.floor(l.zoom),l)),a.expression.evaluate(new g2(Math.floor(l.zoom+1),l)),l)}}_calculate(a,l,d,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:a,to:l}:{from:d,to:l}}interpolate(a){return a}}class fr{constructor(a){this.specification=a}possiblyEvaluate(a,l,d,g){return!!a.expression.evaluate(l,null,{},d,g)}interpolate(){return!1}}class ht{constructor(a){this.properties=a,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const l in a){const d=a[l];d.specification.overridable&&this.overridableProperties.push(l);const g=this.defaultPropertyValues[l]=new ur(d,void 0),x=this.defaultTransitionablePropertyValues[l]=new Ht(d);this.defaultTransitioningPropertyValues[l]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=g.possiblyEvaluate({})}}}p1("DataDrivenProperty",T1),p1("DataConstantProperty",M1),p1("CrossFadedDataDrivenProperty",rt),p1("CrossFadedProperty",$r),p1("ColorRampProperty",fr);const $3="-transition";class j3 extends oi{constructor(a,l){if(super(),this.id=a.id,this.type=a.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==a.type&&(this.metadata=a.metadata,this.minzoom=a.minzoom,this.maxzoom=a.maxzoom,"background"!==a.type&&(this.source=a.source,this.sourceLayer=a["source-layer"],this.filter=a.filter),l.layout&&(this._unevaluatedLayout=new R4(l.layout)),l.paint)){this._transitionablePaint=new Ur(l.paint);for(const d in a.paint)this.setPaintProperty(d,a.paint[d],{validate:!1});for(const d in a.layout)this.setLayoutProperty(d,a.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ki(l.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(a){return"visibility"===a?this.visibility:this._unevaluatedLayout.getValue(a)}setLayoutProperty(a,l,d={}){null!=l&&this._validate(m0,`layers.${this.id}.layout.${a}`,a,l,d)||("visibility"!==a?this._unevaluatedLayout.setValue(a,l):this.visibility=l)}getPaintProperty(a){return a.endsWith($3)?this._transitionablePaint.getTransition(a.slice(0,-11)):this._transitionablePaint.getValue(a)}setPaintProperty(a,l,d={}){if(null!=l&&this._validate(ma,`layers.${this.id}.paint.${a}`,a,l,d))return!1;if(a.endsWith($3))return this._transitionablePaint.setTransition(a.slice(0,-11),l||void 0),!1;{const g=this._transitionablePaint._values[a],x="cross-faded-data-driven"===g.property.specification["property-type"],M=g.value.isDataDriven(),S=g.value;this._transitionablePaint.setValue(a,l),this._handleSpecialPaintPropertyUpdate(a);const V=this._transitionablePaint._values[a].value;return V.isDataDriven()||M||x||this._handleOverridablePaintPropertyUpdate(a,S,V)}}_handleSpecialPaintPropertyUpdate(a){}_handleOverridablePaintPropertyUpdate(a,l,d){return!1}isHidden(a){return!!(this.minzoom&&a<this.minzoom)||!!(this.maxzoom&&a>=this.maxzoom)||"none"===this.visibility}updateTransitions(a){this._transitioningPaint=this._transitionablePaint.transitioned(a,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(a,l){a.getCrossfadeParameters&&(this._crossfadeParameters=a.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(a,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(a,void 0,l)}serialize(){const a={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(a.layout=a.layout||{},a.layout.visibility=this.visibility),ia(a,(l,d)=>!(void 0===l||"layout"===d&&!Object.keys(l).length||"paint"===d&&!Object.keys(l).length))}_validate(a,l,d,g,x={}){return(!x||!1!==x.validate)&&ms(this,a.call(pa,{key:l,layerType:this.type,objectKey:d,value:g,styleSpec:Fe,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const a in this.paint._values){const l=this.paint.get(a);if(l instanceof F1&&Nr(l.property.specification)&&("source"===l.value.kind||"composite"===l.value.kind)&&l.value.isStateDependent)return!0}return!1}}const hr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class d3{constructor(a,l){this._structArray=a,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class R2{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(a,l){return a._trim(),l&&(a.isTransferred=!0,l.push(a.arrayBuffer)),{length:a.length,arrayBuffer:a.arrayBuffer}}static deserialize(a){const l=Object.create(this.prototype);return l.arrayBuffer=a.arrayBuffer,l.length=a.length,l.capacity=a.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(a){this.reserve(a),this.length=a}reserve(a){if(a>this.capacity){this.capacity=Math.max(a,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function K2(c,a=1){let l=0,d=0;return{members:c.map(g=>{const x=hr[g.type].BYTES_PER_ELEMENT,M=l=l2(l,Math.max(a,x)),S=g.components||1;return d=Math.max(d,x),l+=x*S,{name:g.name,type:g.type,components:S,offset:M}}),size:l2(l,Math.max(d,a)),alignment:a}}function l2(c,a){return Math.ceil(c/a)*a}class q3 extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l){const d=this.length;return this.resize(d+1),this.emplace(d,a,l)}emplace(a,l,d){const g=2*a;return this.int16[g+0]=l,this.int16[g+1]=d,a}}q3.prototype.bytesPerElement=4,p1("StructArrayLayout2i4",q3);class jr extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const x=3*a;return this.int16[x+0]=l,this.int16[x+1]=d,this.int16[x+2]=g,a}}jr.prototype.bytesPerElement=6,p1("StructArrayLayout3i6",jr);class F4 extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g){const x=this.length;return this.resize(x+1),this.emplace(x,a,l,d,g)}emplace(a,l,d,g,x){const M=4*a;return this.int16[M+0]=l,this.int16[M+1]=d,this.int16[M+2]=g,this.int16[M+3]=x,a}}F4.prototype.bytesPerElement=8,p1("StructArrayLayout4i8",F4);class p3 extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,x,M){const S=this.length;return this.resize(S+1),this.emplace(S,a,l,d,g,x,M)}emplace(a,l,d,g,x,M,S){const V=6*a;return this.int16[V+0]=l,this.int16[V+1]=d,this.int16[V+2]=g,this.int16[V+3]=x,this.int16[V+4]=M,this.int16[V+5]=S,a}}p3.prototype.bytesPerElement=12,p1("StructArrayLayout2i4i12",p3);class dr extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,x,M){const S=this.length;return this.resize(S+1),this.emplace(S,a,l,d,g,x,M)}emplace(a,l,d,g,x,M,S){const V=4*a,D=8*a;return this.int16[V+0]=l,this.int16[V+1]=d,this.uint8[D+4]=g,this.uint8[D+5]=x,this.uint8[D+6]=M,this.uint8[D+7]=S,a}}dr.prototype.bytesPerElement=8,p1("StructArrayLayout2i4ub8",dr);class mi extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l){const d=this.length;return this.resize(d+1),this.emplace(d,a,l)}emplace(a,l,d){const g=2*a;return this.float32[g+0]=l,this.float32[g+1]=d,a}}mi.prototype.bytesPerElement=8,p1("StructArrayLayout2f8",mi);class gi extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,x,M,S,V,D,N){const B=this.length;return this.resize(B+1),this.emplace(B,a,l,d,g,x,M,S,V,D,N)}emplace(a,l,d,g,x,M,S,V,D,N,B){const q=10*a;return this.uint16[q+0]=l,this.uint16[q+1]=d,this.uint16[q+2]=g,this.uint16[q+3]=x,this.uint16[q+4]=M,this.uint16[q+5]=S,this.uint16[q+6]=V,this.uint16[q+7]=D,this.uint16[q+8]=N,this.uint16[q+9]=B,a}}gi.prototype.bytesPerElement=20,p1("StructArrayLayout10ui20",gi);class dt extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,x,M,S,V,D,N,B,q){const X=this.length;return this.resize(X+1),this.emplace(X,a,l,d,g,x,M,S,V,D,N,B,q)}emplace(a,l,d,g,x,M,S,V,D,N,B,q,X){const Y=12*a;return this.int16[Y+0]=l,this.int16[Y+1]=d,this.int16[Y+2]=g,this.int16[Y+3]=x,this.uint16[Y+4]=M,this.uint16[Y+5]=S,this.uint16[Y+6]=V,this.uint16[Y+7]=D,this.int16[Y+8]=N,this.int16[Y+9]=B,this.int16[Y+10]=q,this.int16[Y+11]=X,a}}dt.prototype.bytesPerElement=24,p1("StructArrayLayout4i4ui4i24",dt);class S6 extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const x=3*a;return this.float32[x+0]=l,this.float32[x+1]=d,this.float32[x+2]=g,a}}S6.prototype.bytesPerElement=12,p1("StructArrayLayout3f12",S6);class vn extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(a){const l=this.length;return this.resize(l+1),this.emplace(l,a)}emplace(a,l){return this.uint32[1*a+0]=l,a}}vn.prototype.bytesPerElement=4,p1("StructArrayLayout1ul4",vn);class Lt extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,x,M,S,V,D){const N=this.length;return this.resize(N+1),this.emplace(N,a,l,d,g,x,M,S,V,D)}emplace(a,l,d,g,x,M,S,V,D,N){const B=10*a,q=5*a;return this.int16[B+0]=l,this.int16[B+1]=d,this.int16[B+2]=g,this.int16[B+3]=x,this.int16[B+4]=M,this.int16[B+5]=S,this.uint32[q+3]=V,this.uint16[B+8]=D,this.uint16[B+9]=N,a}}Lt.prototype.bytesPerElement=20,p1("StructArrayLayout6i1ul2ui20",Lt);class ya extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,x,M){const S=this.length;return this.resize(S+1),this.emplace(S,a,l,d,g,x,M)}emplace(a,l,d,g,x,M,S){const V=6*a;return this.int16[V+0]=l,this.int16[V+1]=d,this.int16[V+2]=g,this.int16[V+3]=x,this.int16[V+4]=M,this.int16[V+5]=S,a}}ya.prototype.bytesPerElement=12,p1("StructArrayLayout2i2i2i12",ya);class Ni extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(a,l,d,g,x){const M=this.length;return this.resize(M+1),this.emplace(M,a,l,d,g,x)}emplace(a,l,d,g,x,M){const S=4*a,V=8*a;return this.float32[S+0]=l,this.float32[S+1]=d,this.float32[S+2]=g,this.int16[V+6]=x,this.int16[V+7]=M,a}}Ni.prototype.bytesPerElement=16,p1("StructArrayLayout2f1f2i16",Ni);class qr extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d,g){const x=this.length;return this.resize(x+1),this.emplace(x,a,l,d,g)}emplace(a,l,d,g,x){const M=12*a,S=3*a;return this.uint8[M+0]=l,this.uint8[M+1]=d,this.float32[S+1]=g,this.float32[S+2]=x,a}}qr.prototype.bytesPerElement=12,p1("StructArrayLayout2ub2f12",qr);class i3 extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const x=3*a;return this.uint16[x+0]=l,this.uint16[x+1]=d,this.uint16[x+2]=g,a}}i3.prototype.bytesPerElement=6,p1("StructArrayLayout3ui6",i3);class _a extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d,g,x,M,S,V,D,N,B,q,X,Y,ne,se,le){const xe=this.length;return this.resize(xe+1),this.emplace(xe,a,l,d,g,x,M,S,V,D,N,B,q,X,Y,ne,se,le)}emplace(a,l,d,g,x,M,S,V,D,N,B,q,X,Y,ne,se,le,xe){const de=24*a,Ee=12*a,Ae=48*a;return this.int16[de+0]=l,this.int16[de+1]=d,this.uint16[de+2]=g,this.uint16[de+3]=x,this.uint32[Ee+2]=M,this.uint32[Ee+3]=S,this.uint32[Ee+4]=V,this.uint16[de+10]=D,this.uint16[de+11]=N,this.uint16[de+12]=B,this.float32[Ee+7]=q,this.float32[Ee+8]=X,this.uint8[Ae+36]=Y,this.uint8[Ae+37]=ne,this.uint8[Ae+38]=se,this.uint32[Ee+10]=le,this.int16[de+22]=xe,a}}_a.prototype.bytesPerElement=48,p1("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",_a);class x2 extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d,g,x,M,S,V,D,N,B,q,X,Y,ne,se,le,xe,de,Ee,Ae,qe,f1,v1,u1,s1,t1,g1){const i1=this.length;return this.resize(i1+1),this.emplace(i1,a,l,d,g,x,M,S,V,D,N,B,q,X,Y,ne,se,le,xe,de,Ee,Ae,qe,f1,v1,u1,s1,t1,g1)}emplace(a,l,d,g,x,M,S,V,D,N,B,q,X,Y,ne,se,le,xe,de,Ee,Ae,qe,f1,v1,u1,s1,t1,g1,i1){const Ke=32*a,S1=16*a;return this.int16[Ke+0]=l,this.int16[Ke+1]=d,this.int16[Ke+2]=g,this.int16[Ke+3]=x,this.int16[Ke+4]=M,this.int16[Ke+5]=S,this.int16[Ke+6]=V,this.int16[Ke+7]=D,this.uint16[Ke+8]=N,this.uint16[Ke+9]=B,this.uint16[Ke+10]=q,this.uint16[Ke+11]=X,this.uint16[Ke+12]=Y,this.uint16[Ke+13]=ne,this.uint16[Ke+14]=se,this.uint16[Ke+15]=le,this.uint16[Ke+16]=xe,this.uint16[Ke+17]=de,this.uint16[Ke+18]=Ee,this.uint16[Ke+19]=Ae,this.uint16[Ke+20]=qe,this.uint16[Ke+21]=f1,this.uint16[Ke+22]=v1,this.uint32[S1+12]=u1,this.float32[S1+13]=s1,this.float32[S1+14]=t1,this.uint16[Ke+30]=g1,this.uint16[Ke+31]=i1,a}}x2.prototype.bytesPerElement=64,p1("StructArrayLayout8i15ui1ul2f2ui64",x2);class C extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a){const l=this.length;return this.resize(l+1),this.emplace(l,a)}emplace(a,l){return this.float32[1*a+0]=l,a}}C.prototype.bytesPerElement=4,p1("StructArrayLayout1f4",C);class s extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const x=3*a;return this.uint16[6*a+0]=l,this.float32[x+1]=d,this.float32[x+2]=g,a}}s.prototype.bytesPerElement=12,p1("StructArrayLayout1ui2f12",s);class f extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l,d){const g=this.length;return this.resize(g+1),this.emplace(g,a,l,d)}emplace(a,l,d,g){const x=4*a;return this.uint32[2*a+0]=l,this.uint16[x+2]=d,this.uint16[x+3]=g,a}}f.prototype.bytesPerElement=8,p1("StructArrayLayout1ul2ui8",f);class m extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a,l){const d=this.length;return this.resize(d+1),this.emplace(d,a,l)}emplace(a,l,d){const g=2*a;return this.uint16[g+0]=l,this.uint16[g+1]=d,a}}m.prototype.bytesPerElement=4,p1("StructArrayLayout2ui4",m);class v extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(a){const l=this.length;return this.resize(l+1),this.emplace(l,a)}emplace(a,l){return this.uint16[1*a+0]=l,a}}v.prototype.bytesPerElement=2,p1("StructArrayLayout1ui2",v);class b extends R2{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(a,l,d,g){const x=this.length;return this.resize(x+1),this.emplace(x,a,l,d,g)}emplace(a,l,d,g,x){const M=4*a;return this.float32[M+0]=l,this.float32[M+1]=d,this.float32[M+2]=g,this.float32[M+3]=x,a}}b.prototype.bytesPerElement=16,p1("StructArrayLayout4f16",b);class H extends d3{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new I1(this.anchorPointX,this.anchorPointY)}}H.prototype.size=20;class L extends Lt{get(a){return new H(this,a)}}p1("CollisionBoxArray",L);class T extends d3{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(a){this._structArray.uint8[this._pos1+37]=a}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(a){this._structArray.uint8[this._pos1+38]=a}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(a){this._structArray.uint32[this._pos4+10]=a}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}T.prototype.size=48;class A extends _a{get(a){return new T(this,a)}}p1("PlacedSymbolArray",A);class k extends d3{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(a){this._structArray.uint32[this._pos4+12]=a}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}k.prototype.size=64;class O extends x2{get(a){return new k(this,a)}}p1("SymbolInstanceArray",O);class Z extends C{getoffsetX(a){return this.float32[1*a+0]}}p1("GlyphOffsetArray",Z);class te extends jr{getx(a){return this.int16[3*a+0]}gety(a){return this.int16[3*a+1]}gettileUnitDistanceFromAnchor(a){return this.int16[3*a+2]}}p1("SymbolLineVertexArray",te);class ee extends d3{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}ee.prototype.size=12;class ae extends s{get(a){return new ee(this,a)}}p1("TextAnchorOffsetArray",ae);class Q extends d3{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Q.prototype.size=8;class ye extends f{get(a){return new Q(this,a)}}p1("FeatureIndexArray",ye);class De extends q3{}class ce extends q3{}class _e extends q3{}class Ie extends p3{}class ke extends dr{}class je extends mi{}class Ze extends gi{}class Be extends dt{}class Je extends S6{}class h1 extends vn{}class e2 extends ya{}class a1 extends qr{}class H1 extends i3{}class y1 extends m{}const q2=K2([{name:"a_pos",components:2,type:"Int16"}],4),{members:r2}=q2;class z1{constructor(a=[]){this.segments=a}prepareSegment(a,l,d,g){let x=this.segments[this.segments.length-1];return a>z1.MAX_VERTEX_ARRAY_LENGTH&&un(`Max vertices per segment is ${z1.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${a}`),(!x||x.vertexLength+a>z1.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==g)&&(x={vertexOffset:l.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},void 0!==g&&(x.sortKey=g),this.segments.push(x)),x}get(){return this.segments}destroy(){for(const a of this.segments)for(const l in a.vaos)a.vaos[l].destroy()}static simpleSegment(a,l,d,g){return new z1([{vertexOffset:a,primitiveOffset:l,vertexLength:d,primitiveLength:g,vaos:{},sortKey:0}])}}function t2(c,a){return 256*(c=lt(Math.floor(c),0,255))+lt(Math.floor(a),0,255)}z1.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,p1("SegmentVector",z1);const Q2=K2([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var z2={exports:{}},qt=function(c,a){var l,d,g,x,M,S,V,D;for(d=c.length-(l=3&c.length),g=a,M=3432918353,S=461845907,D=0;D<d;)V=255&c.charCodeAt(D)|(255&c.charCodeAt(++D))<<8|(255&c.charCodeAt(++D))<<16|(255&c.charCodeAt(++D))<<24,++D,g=27492+(65535&(x=5*(65535&(g=(g^=V=(65535&(V=(V=(65535&V)*M+(((V>>>16)*M&65535)<<16)&4294967295)<<15|V>>>17))*S+(((V>>>16)*S&65535)<<16)&4294967295)<<13|g>>>19))+((5*(g>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(V=0,l){case 3:V^=(255&c.charCodeAt(D+2))<<16;case 2:V^=(255&c.charCodeAt(D+1))<<8;case 1:g^=V=(65535&(V=(V=(65535&(V^=255&c.charCodeAt(D)))*M+(((V>>>16)*M&65535)<<16)&4294967295)<<15|V>>>17))*S+(((V>>>16)*S&65535)<<16)&4294967295}return g^=c.length,g=2246822507*(65535&(g^=g>>>16))+((2246822507*(g>>>16)&65535)<<16)&4294967295,g=3266489909*(65535&(g^=g>>>13))+((3266489909*(g>>>16)&65535)<<16)&4294967295,(g^=g>>>16)>>>0},G3=function(c,a){for(var l,d=c.length,g=a^d,x=0;d>=4;)l=1540483477*(65535&(l=255&c.charCodeAt(x)|(255&c.charCodeAt(++x))<<8|(255&c.charCodeAt(++x))<<16|(255&c.charCodeAt(++x))<<24))+((1540483477*(l>>>16)&65535)<<16),g=1540483477*(65535&g)+((1540483477*(g>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),d-=4,++x;switch(d){case 3:g^=(255&c.charCodeAt(x+2))<<16;case 2:g^=(255&c.charCodeAt(x+1))<<8;case 1:g=1540483477*(65535&(g^=255&c.charCodeAt(x)))+((1540483477*(g>>>16)&65535)<<16)}return g=1540483477*(65535&(g^=g>>>13))+((1540483477*(g>>>16)&65535)<<16),(g^=g>>>15)>>>0};z2.exports=qt,z2.exports.murmur3=qt,z2.exports.murmur2=G3;var vi=X2(z2.exports);class P3{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(a,l,d,g){this.ids.push(pr(a)),this.positions.push(l,d,g)}getPositions(a){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const l=pr(a);let d=0,g=this.ids.length-1;for(;d<g;){const M=d+g>>1;this.ids[M]>=l?g=M:d=M+1}const x=[];for(;this.ids[d]===l;)x.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return x}static serialize(a,l){const d=new Float64Array(a.ids),g=new Uint32Array(a.positions);return W3(d,g,0,d.length-1),l&&l.push(d.buffer,g.buffer),{ids:d,positions:g}}static deserialize(a){const l=new P3;return l.ids=a.ids,l.positions=a.positions,l.indexed=!0,l}}function pr(c){const a=+c;return!isNaN(a)&&a<=Number.MAX_SAFE_INTEGER?a:vi(String(c))}function W3(c,a,l,d){for(;l<d;){const g=c[l+d>>1];let x=l-1,M=d+1;for(;;){do{x++}while(c[x]<g);do{M--}while(c[M]>g);if(x>=M)break;Oi(c,x,M),Oi(a,3*x,3*M),Oi(a,3*x+1,3*M+1),Oi(a,3*x+2,3*M+2)}M-l<d-M?(W3(c,a,l,M),l=M+1):(W3(c,a,M+1,d),d=M)}}function Oi(c,a,l){const d=c[a];c[a]=c[l],c[l]=d}p1("FeaturePositionMap",P3);class Nt{constructor(a,l){this.gl=a.gl,this.location=l}}class Ot extends Nt{constructor(a,l){super(a,l),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1f(this.location,a))}}class Qt extends Nt{constructor(a,l){super(a,l),this.current=[0,0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]&&a[3]===this.current[3]||(this.current=a,this.gl.uniform4f(this.location,a[0],a[1],a[2],a[3]))}}class B4 extends Nt{constructor(a,l){super(a,l),this.current=D1.transparent}set(a){a.r===this.current.r&&a.g===this.current.g&&a.b===this.current.b&&a.a===this.current.a||(this.current=a,this.gl.uniform4f(this.location,a.r,a.g,a.b,a.a))}}const Vt=new Float32Array(16);function Gt(c){return[t2(255*c.r,255*c.g),t2(255*c.b,255*c.a)]}class Bn{constructor(a,l,d){this.value=a,this.uniformNames=l.map(g=>`u_${g}`),this.type=d}setUniform(a,l,d){a.set(d.constantOr(this.value))}getBinding(a,l,d){return"color"===this.type?new B4(a,l):new Ot(a,l)}}class at{constructor(a,l){this.uniformNames=l.map(d=>`u_${d}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(a,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=a.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=a.tlbr}setUniform(a,l,d,g){const x="u_pattern_to"===g?this.patternTo:"u_pattern_from"===g?this.patternFrom:"u_pixel_ratio_to"===g?this.pixelRatioTo:"u_pixel_ratio_from"===g?this.pixelRatioFrom:null;x&&a.set(x)}getBinding(a,l,d){return"u_pattern"===d.substr(0,9)?new Qt(a,l):new Ot(a,l)}}class yi{constructor(a,l,d,g){this.expression=a,this.type=d,this.maxValue=0,this.paintVertexAttributes=l.map(x=>({name:`a_${x}`,type:"Float32",components:"color"===d?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(a,l,d,g,x){const M=this.paintVertexArray.length,S=this.expression.evaluate(new g2(0),l,{},g,[],x);this.paintVertexArray.resize(a),this._setPaintValue(M,a,S)}updatePaintArray(a,l,d,g){const x=this.expression.evaluate({zoom:0},d,g);this._setPaintValue(a,l,x)}_setPaintValue(a,l,d){if("color"===this.type){const g=Gt(d);for(let x=a;x<l;x++)this.paintVertexArray.emplace(x,g[0],g[1])}else{for(let g=a;g<l;g++)this.paintVertexArray.emplace(g,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class D3{constructor(a,l,d,g,x,M){this.expression=a,this.uniformNames=l.map(S=>`u_${S}_t`),this.type=d,this.useIntegerZoom=g,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=l.map(S=>({name:`a_${S}`,type:"Float32",components:"color"===d?4:2,offset:0})),this.paintVertexArray=new M}populatePaintArray(a,l,d,g,x){const M=this.expression.evaluate(new g2(this.zoom),l,{},g,[],x),S=this.expression.evaluate(new g2(this.zoom+1),l,{},g,[],x),V=this.paintVertexArray.length;this.paintVertexArray.resize(a),this._setPaintValue(V,a,M,S)}updatePaintArray(a,l,d,g){const x=this.expression.evaluate({zoom:this.zoom},d,g),M=this.expression.evaluate({zoom:this.zoom+1},d,g);this._setPaintValue(a,l,x,M)}_setPaintValue(a,l,d,g){if("color"===this.type){const x=Gt(d),M=Gt(g);for(let S=a;S<l;S++)this.paintVertexArray.emplace(S,x[0],x[1],M[0],M[1])}else{for(let x=a;x<l;x++)this.paintVertexArray.emplace(x,d,g);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(g))}}upload(a){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=a.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(a,l){const d=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,g=lt(this.expression.interpolationFactor(d,this.zoom,this.zoom+1),0,1);a.set(g)}getBinding(a,l,d){return new Ot(a,l)}}class mr{constructor(a,l,d,g,x,M){this.expression=a,this.type=l,this.useIntegerZoom=d,this.zoom=g,this.layerId=M,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x}populatePaintArray(a,l,d){const g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(a),this.zoomOutPaintVertexArray.resize(a),this._setPaintValues(g,a,l.patterns&&l.patterns[this.layerId],d)}updatePaintArray(a,l,d,g,x){this._setPaintValues(a,l,d.patterns&&d.patterns[this.layerId],x)}_setPaintValues(a,l,d,g){if(!g||!d)return;const{min:x,mid:M,max:S}=d,V=g[x],D=g[M],N=g[S];if(V&&D&&N)for(let B=a;B<l;B++)this.zoomInPaintVertexArray.emplace(B,D.tl[0],D.tl[1],D.br[0],D.br[1],V.tl[0],V.tl[1],V.br[0],V.br[1],D.pixelRatio,V.pixelRatio),this.zoomOutPaintVertexArray.emplace(B,D.tl[0],D.tl[1],D.br[0],D.br[1],N.tl[0],N.tl[1],N.br[0],N.br[1],D.pixelRatio,N.pixelRatio)}upload(a){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=a.createVertexBuffer(this.zoomInPaintVertexArray,Q2.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=a.createVertexBuffer(this.zoomOutPaintVertexArray,Q2.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class H6{constructor(a,l,d){this.binders={},this._buffers=[];const g=[];for(const x in a.paint._values){if(!d(x))continue;const M=a.paint.get(x);if(!(M instanceof F1&&Nr(M.property.specification)))continue;const S=L6(x,a.type),V=M.value,D=M.property.specification.type,N=M.property.useIntegerZoom,B=M.property.specification["property-type"],q="cross-faded"===B||"cross-faded-data-driven"===B;if("constant"===V.kind)this.binders[x]=q?new at(V.value,S):new Bn(V.value,S,D),g.push(`/u_${x}`);else if("source"===V.kind||q){const X=Wr(x,D,"source");this.binders[x]=q?new mr(V,D,N,l,X,a.id):new yi(V,S,D,X),g.push(`/a_${x}`)}else{const X=Wr(x,D,"composite");this.binders[x]=new D3(V,S,D,N,l,X),g.push(`/z_${x}`)}}this.cacheKey=g.sort().join("")}getMaxValue(a){const l=this.binders[a];return l instanceof yi||l instanceof D3?l.maxValue:0}populatePaintArrays(a,l,d,g,x){for(const M in this.binders){const S=this.binders[M];(S instanceof yi||S instanceof D3||S instanceof mr)&&S.populatePaintArray(a,l,d,g,x)}}setConstantPatternPositions(a,l){for(const d in this.binders){const g=this.binders[d];g instanceof at&&g.setConstantPatternPositions(a,l)}}updatePaintArrays(a,l,d,g,x){let M=!1;for(const S in a){const V=l.getPositions(S);for(const D of V){const N=d.feature(D.index);for(const B in this.binders){const q=this.binders[B];if((q instanceof yi||q instanceof D3||q instanceof mr)&&!0===q.expression.isStateDependent){const X=g.paint.get(B);q.expression=X.value,q.updatePaintArray(D.start,D.end,N,a[S],x),M=!0}}}}return M}defines(){const a=[];for(const l in this.binders){const d=this.binders[l];(d instanceof Bn||d instanceof at)&&a.push(...d.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return a}getBinderAttributes(){const a=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof yi||d instanceof D3)for(let g=0;g<d.paintVertexAttributes.length;g++)a.push(d.paintVertexAttributes[g].name);else if(d instanceof mr)for(let g=0;g<Q2.members.length;g++)a.push(Q2.members[g].name)}return a}getBinderUniforms(){const a=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof Bn||d instanceof at||d instanceof D3)for(const g of d.uniformNames)a.push(g)}return a}getPaintVertexBuffers(){return this._buffers}getUniforms(a,l){const d=[];for(const g in this.binders){const x=this.binders[g];if(x instanceof Bn||x instanceof at||x instanceof D3)for(const M of x.uniformNames)if(l[M]){const S=x.getBinding(a,l[M],M);d.push({name:M,property:g,binding:S})}}return d}setUniforms(a,l,d,g){for(const{name:x,property:M,binding:S}of l)this.binders[M].setUniform(S,g,d.get(M),x)}updatePaintBuffers(a){this._buffers=[];for(const l in this.binders){const d=this.binders[l];if(a&&d instanceof mr){const g=2===a.fromScale?d.zoomInPaintVertexBuffer:d.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(d instanceof yi||d instanceof D3)&&d.paintVertexBuffer&&this._buffers.push(d.paintVertexBuffer)}}upload(a){for(const l in this.binders){const d=this.binders[l];(d instanceof yi||d instanceof D3||d instanceof mr)&&d.upload(a)}this.updatePaintBuffers()}destroy(){for(const a in this.binders){const l=this.binders[a];(l instanceof yi||l instanceof D3||l instanceof mr)&&l.destroy()}}}class Gr{constructor(a,l,d=(()=>!0)){this.programConfigurations={};for(const g of a)this.programConfigurations[g.id]=new H6(g,l,d);this.needsUpload=!1,this._featureMap=new P3,this._bufferOffset=0}populatePaintArrays(a,l,d,g,x,M){for(const S in this.programConfigurations)this.programConfigurations[S].populatePaintArrays(a,l,g,x,M);void 0!==l.id&&this._featureMap.add(l.id,d,this._bufferOffset,a),this._bufferOffset=a,this.needsUpload=!0}updatePaintArrays(a,l,d,g){for(const x of d)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(a,this._featureMap,l,x,g)||this.needsUpload}get(a){return this.programConfigurations[a]}upload(a){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(a);this.needsUpload=!1}}destroy(){for(const a in this.programConfigurations)this.programConfigurations[a].destroy()}}function L6(c,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${a}-`,"").replace(/-/g,"_")]}function Wr(c,a,l){const g={"line-pattern":{source:Ze,composite:Ze},"fill-pattern":{source:Ze,composite:Ze},"fill-extrusion-pattern":{source:Ze,composite:Ze}}[c];return g&&g[l]||{color:{source:mi,composite:b},number:{source:C,composite:mi}}[a][l]}p1("ConstantBinder",Bn),p1("CrossFadedConstantBinder",at),p1("SourceExpressionBinder",yi),p1("CrossFadedCompositeBinder",mr),p1("CompositeExpressionBinder",D3),p1("ProgramConfiguration",H6,{omit:["_buffers"]}),p1("ProgramConfigurationSet",Gr);const st=8192,ys=Math.pow(2,14)-1,V6=-ys-1;function Ri(c){const a=st/c.extent,l=c.loadGeometry();for(let d=0;d<l.length;d++){const g=l[d];for(let x=0;x<g.length;x++){const M=g[x],S=Math.round(M.x*a),V=Math.round(M.y*a);M.x=lt(S,V6,ys),M.y=lt(V,V6,ys),(S<M.x||S>M.x+1||V<M.y||V>M.y+1)&&un("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function yn(c,a){return{type:c.type,id:c.id,properties:c.properties,geometry:a?Ri(c):[]}}function Zr(c,a,l,d,g){c.emplaceBack(2*a+(d+1)/2,2*l+(g+1)/2)}class v0{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(l=>l.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new ce,this.indexArray=new H1,this.segments=new z1,this.programConfigurations=new Gr(a.layers,a.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(a,l,d){const g=this.layers[0],x=[];let M=null,S=!1;"circle"===g.type&&(M=g.layout.get("circle-sort-key"),S=!M.isConstant());for(const{feature:V,id:D,index:N,sourceLayerIndex:B}of a){const q=this.layers[0]._featureFilter.needGeometry,X=yn(V,q);if(!this.layers[0]._featureFilter.filter(new g2(this.zoom),X,d))continue;const Y=S?M.evaluate(X,{},d):void 0,ne={id:D,properties:V.properties,type:V.type,sourceLayerIndex:B,index:N,geometry:q?X.geometry:Ri(V),patterns:{},sortKey:Y};x.push(ne)}S&&x.sort((V,D)=>V.sortKey-D.sortKey);for(const V of x){const{geometry:D,index:N,sourceLayerIndex:B}=V,q=a[N].feature;this.addFeature(V,D,N,d),l.featureIndex.insert(q,D,N,B,this.index)}}update(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,r2),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(a,l,d,g){for(const x of l)for(const M of x){const S=M.x,V=M.y;if(S<0||S>=st||V<0||V>=st)continue;const D=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,a.sortKey),N=D.vertexLength;Zr(this.layoutVertexArray,S,V,-1,-1),Zr(this.layoutVertexArray,S,V,1,-1),Zr(this.layoutVertexArray,S,V,1,1),Zr(this.layoutVertexArray,S,V,-1,1),this.indexArray.emplaceBack(N,N+1,N+2),this.indexArray.emplaceBack(N,N+3,N+2),D.vertexLength+=4,D.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,{},g)}}function N5(c,a){for(let l=0;l<c.length;l++)if(A2(a,c[l]))return!0;for(let l=0;l<a.length;l++)if(A2(c,a[l]))return!0;return!!Eo(c,a)}function O5(c,a,l){return!!A2(c,a)||!!_i(a,c,l)}function y0(c,a){if(1===c.length)return C0(a,c[0]);for(let l=0;l<a.length;l++){const d=a[l];for(let g=0;g<d.length;g++)if(A2(c,d[g]))return!0}for(let l=0;l<c.length;l++)if(C0(a,c[l]))return!0;for(let l=0;l<a.length;l++)if(Eo(c,a[l]))return!0;return!1}function uu(c,a,l){if(c.length>1){if(Eo(c,a))return!0;for(let d=0;d<a.length;d++)if(_i(a[d],c,l))return!0}for(let d=0;d<c.length;d++)if(_i(c[d],a,l))return!0;return!1}function Eo(c,a){if(0===c.length||0===a.length)return!1;for(let l=0;l<c.length-1;l++){const d=c[l],g=c[l+1];for(let x=0;x<a.length-1;x++)if(fu(d,g,a[x],a[x+1]))return!0}return!1}function fu(c,a,l,d){return E2(c,l,d)!==E2(a,l,d)&&E2(c,a,l)!==E2(c,a,d)}function _i(c,a,l){const d=l*l;if(1===a.length)return c.distSqr(a[0])<d;for(let g=1;g<a.length;g++)if(_0(c,a[g-1],a[g])<d)return!0;return!1}function _0(c,a,l){const d=a.distSqr(l);if(0===d)return c.distSqr(a);const g=((c.x-a.x)*(l.x-a.x)+(c.y-a.y)*(l.y-a.y))/d;return c.distSqr(g<0?a:g>1?l:l.sub(a)._mult(g)._add(a))}function C0(c,a){let l,d,g,x=!1;for(let M=0;M<c.length;M++){l=c[M];for(let S=0,V=l.length-1;S<l.length;V=S++)d=l[S],g=l[V],d.y>a.y!=g.y>a.y&&a.x<(g.x-d.x)*(a.y-d.y)/(g.y-d.y)+d.x&&(x=!x)}return x}function A2(c,a){let l=!1;for(let d=0,g=c.length-1;d<c.length;g=d++){const x=c[d],M=c[g];x.y>a.y!=M.y>a.y&&a.x<(M.x-x.x)*(a.y-x.y)/(M.y-x.y)+x.x&&(l=!l)}return l}function x0(c,a,l){const d=l[0],g=l[2];if(c.x<d.x&&a.x<d.x||c.x>g.x&&a.x>g.x||c.y<d.y&&a.y<d.y||c.y>g.y&&a.y>g.y)return!1;const x=E2(c,a,l[0]);return x!==E2(c,a,l[1])||x!==E2(c,a,l[2])||x!==E2(c,a,l[3])}function U4(c,a,l){const d=a.paint.get(c).value;return"constant"===d.kind?d.value:l.programConfigurations.get(a.id).getMaxValue(c)}function Un(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function E6(c,a,l,d,g){if(!a[0]&&!a[1])return c;const x=I1.convert(a)._mult(g);"viewport"===l&&x._rotate(-d);const M=[];for(let S=0;S<c.length;S++)M.push(c[S].sub(x));return M}let b0,Ca;p1("CircleBucket",v0,{omit:["layers"]});var Z3={get paint(){return Ca=Ca||new ht({"circle-radius":new T1(Fe.paint_circle["circle-radius"]),"circle-color":new T1(Fe.paint_circle["circle-color"]),"circle-blur":new T1(Fe.paint_circle["circle-blur"]),"circle-opacity":new T1(Fe.paint_circle["circle-opacity"]),"circle-translate":new M1(Fe.paint_circle["circle-translate"]),"circle-translate-anchor":new M1(Fe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new M1(Fe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new M1(Fe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new T1(Fe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new T1(Fe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new T1(Fe.paint_circle["circle-stroke-opacity"])})},get layout(){return b0=b0||new ht({"circle-sort-key":new T1(Fe.layout_circle["circle-sort-key"])})}},a3=1e-6,_s=typeof Float32Array<"u"?Float32Array:Array;function M0(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function Xr(c,a,l){var d=a[0],g=a[1],x=a[2],M=a[3],S=a[4],V=a[5],D=a[6],N=a[7],B=a[8],q=a[9],X=a[10],Y=a[11],ne=a[12],se=a[13],le=a[14],xe=a[15],de=l[0],Ee=l[1],Ae=l[2],qe=l[3];return c[0]=de*d+Ee*S+Ae*B+qe*ne,c[1]=de*g+Ee*V+Ae*q+qe*se,c[2]=de*x+Ee*D+Ae*X+qe*le,c[3]=de*M+Ee*N+Ae*Y+qe*xe,c[4]=(de=l[4])*d+(Ee=l[5])*S+(Ae=l[6])*B+(qe=l[7])*ne,c[5]=de*g+Ee*V+Ae*q+qe*se,c[6]=de*x+Ee*D+Ae*X+qe*le,c[7]=de*M+Ee*N+Ae*Y+qe*xe,c[8]=(de=l[8])*d+(Ee=l[9])*S+(Ae=l[10])*B+(qe=l[11])*ne,c[9]=de*g+Ee*V+Ae*q+qe*se,c[10]=de*x+Ee*D+Ae*X+qe*le,c[11]=de*M+Ee*N+Ae*Y+qe*xe,c[12]=(de=l[12])*d+(Ee=l[13])*S+(Ae=l[14])*B+(qe=l[15])*ne,c[13]=de*g+Ee*V+Ae*q+qe*se,c[14]=de*x+Ee*D+Ae*X+qe*le,c[15]=de*M+Ee*N+Ae*Y+qe*xe,c}Math.hypot||(Math.hypot=function(){for(var c=0,a=arguments.length;a--;)c+=arguments[a]*arguments[a];return Math.sqrt(c)});var Cs,hu=Xr;function To(c,a,l){var d=a[0],g=a[1],x=a[2],M=a[3];return c[0]=l[0]*d+l[4]*g+l[8]*x+l[12]*M,c[1]=l[1]*d+l[5]*g+l[9]*x+l[13]*M,c[2]=l[2]*d+l[6]*g+l[10]*x+l[14]*M,c[3]=l[3]*d+l[7]*g+l[11]*x+l[15]*M,c}Cs=new _s(4),_s!=Float32Array&&(Cs[0]=0,Cs[1]=0,Cs[2]=0,Cs[3]=0);class R5 extends j3{constructor(a){super(a,Z3)}createBucket(a){return new v0(a)}queryRadius(a){const l=a;return U4("circle-radius",this,l)+U4("circle-stroke-width",this,l)+Un(this.paint.get("circle-translate"))}queryIntersectsFeature(a,l,d,g,x,M,S,V){const D=E6(a,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),M.angle,S),N=this.paint.get("circle-radius").evaluate(l,d)+this.paint.get("circle-stroke-width").evaluate(l,d),B="map"===this.paint.get("circle-pitch-alignment"),q=B?D:(ne=V,D.map(se=>w0(se,ne))),X=B?N*S:N;var ne;for(const Y of g)for(const ne of Y){const se=B?ne:w0(ne,V);let le=X;const xe=To([],[ne.x,ne.y,0,1],V);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?le*=xe[3]/M.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(le*=M.cameraToCenterDistance/xe[3]),O5(q,se,le))return!0}return!1}}function w0(c,a){const l=To([],[c.x,c.y,0,1],a);return new I1(l[0]/l[3],l[1]/l[3])}class F5 extends v0{}let Y1;p1("HeatmapBucket",F5,{omit:["layers"]});var B5={get paint(){return Y1=Y1||new ht({"heatmap-radius":new T1(Fe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new T1(Fe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new M1(Fe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new fr(Fe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new M1(Fe.paint_heatmap["heatmap-opacity"])})}};function U5(c,{width:a,height:l},d,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==a*l*d)throw new RangeError(`mismatched image size. expected: ${g.length} but got: ${a*l*d}`)}else g=new Uint8Array(a*l*d);return c.width=a,c.height=l,c.data=g,c}function $5(c,{width:a,height:l},d){if(a===c.width&&l===c.height)return;const g=U5({},{width:a,height:l},d);z0(c,g,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,a),height:Math.min(c.height,l)},d),c.width=a,c.height=l,c.data=g.data}function z0(c,a,l,d,g,x){if(0===g.width||0===g.height)return a;if(g.width>c.width||g.height>c.height||l.x>c.width-g.width||l.y>c.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>a.width||g.height>a.height||d.x>a.width-g.width||d.y>a.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const M=c.data,S=a.data;if(M===S)throw new Error("srcData equals dstData, so image is already copied");for(let V=0;V<g.height;V++){const D=((l.y+V)*c.width+l.x)*x,N=((d.y+V)*a.width+d.x)*x;for(let B=0;B<g.width*x;B++)S[N+B]=M[D+B]}return a}class Po{constructor(a,l){U5(this,a,1,l)}resize(a){$5(this,a,1)}clone(){return new Po({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,l,d,g,x){z0(a,l,d,g,x,1)}}class A3{constructor(a,l){U5(this,a,4,l)}resize(a){$5(this,a,4)}replace(a,l){l?this.data.set(a):this.data=a instanceof Uint8ClampedArray?new Uint8Array(a.buffer):a}clone(){return new A3({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(a,l,d,g,x){z0(a,l,d,g,x,4)}}function xa(c){const a={},l=c.resolution||256,d=c.clips?c.clips.length:1,g=c.image||new A3({width:l,height:d});if(Math.log(l)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${l}`);const x=(M,S,V)=>{a[c.evaluationKey]=V;const D=c.expression.evaluate(a);g.data[M+S+0]=Math.floor(255*D.r/D.a),g.data[M+S+1]=Math.floor(255*D.g/D.a),g.data[M+S+2]=Math.floor(255*D.b/D.a),g.data[M+S+3]=Math.floor(255*D.a)};if(c.clips)for(let M=0,S=0;M<d;++M,S+=4*l)for(let V=0,D=0;V<l;V++,D+=4){const N=V/(l-1),{start:B,end:q}=c.clips[M];x(S,D,B*(1-N)+q*N)}else for(let M=0,S=0;M<l;M++,S+=4)x(0,S,M/(l-1));return g}p1("AlphaImage",Po),p1("RGBAImage",A3);class du extends j3{createBucket(a){return new F5(a)}constructor(a){super(a,B5),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){"heatmap-color"===a&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=xa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let j5;var pu={get paint(){return j5=j5||new ht({"hillshade-illumination-direction":new M1(Fe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new M1(Fe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new M1(Fe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new M1(Fe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new M1(Fe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new M1(Fe.paint_hillshade["hillshade-accent-color"])})}};class mu extends j3{constructor(a){super(a,pu)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const gu=K2([{name:"a_pos",components:2,type:"Int16"}],4),{members:Xe}=gu;var C2={exports:{}};function xs(c,a,l){l=l||2;var d,g,x,M,S,V,D,N=a&&a.length,B=N?a[0]*l:c.length,q=T6(c,0,B,l,!0),X=[];if(!q||q.next===q.prev)return X;if(N&&(q=function(ne,se,le,xe){var de,Ee,Ae,qe=[];for(de=0,Ee=se.length;de<Ee;de++)(Ae=T6(ne,se[de]*xe,de<Ee-1?se[de+1]*xe:ne.length,xe,!1))===Ae.next&&(Ae.steiner=!0),qe.push(Yr(Ae));for(qe.sort(vu),de=0;de<qe.length;de++)le=mg(qe[de],le);return le}(c,a,q,l)),c.length>80*l){d=x=c[0],g=M=c[1];for(var Y=l;Y<B;Y+=l)(S=c[Y])<d&&(d=S),(V=c[Y+1])<g&&(g=V),S>x&&(x=S),V>M&&(M=V);D=0!==(D=Math.max(x-d,M-g))?32767/D:0}return bs(q,X,l,d,g,D,0),X}function T6(c,a,l,d,g){var x,M;if(g===k6(c,a,l,d)>0)for(x=a;x<l;x+=d)M=V0(x,c[x],c[x+1],M);else for(x=l-d;x>=a;x-=d)M=V0(x,c[x],c[x+1],M);return M&&P6(M,M.next)&&(wa(M),M=M.next),M}function Et(c,a){if(!c)return c;a||(a=c);var l,d=c;do{if(l=!1,d.steiner||!P6(d,d.next)&&0!==I2(d.prev,d,d.next))d=d.next;else{if(wa(d),(d=a=d.prev)===d.next)break;l=!0}}while(l||d!==a);return a}function bs(c,a,l,d,g,x,M){if(c){!M&&x&&function(N,B,q,X){var Y=N;do{0===Y.z&&(Y.z=$n(Y.x,Y.y,B,q,X)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next}while(Y!==N);Y.prevZ.nextZ=null,Y.prevZ=null,function(ne){var se,le,xe,de,Ee,Ae,qe,f1,v1=1;do{for(le=ne,ne=null,Ee=null,Ae=0;le;){for(Ae++,xe=le,qe=0,se=0;se<v1&&(qe++,xe=xe.nextZ);se++);for(f1=v1;qe>0||f1>0&&xe;)0!==qe&&(0===f1||!xe||le.z<=xe.z)?(de=le,le=le.nextZ,qe--):(de=xe,xe=xe.nextZ,f1--),Ee?Ee.nextZ=de:ne=de,de.prevZ=Ee,Ee=de;le=xe}Ee.nextZ=null,v1*=2}while(Ae>1)}(Y)}(c,d,g,x);for(var S,V,D=c;c.prev!==c.next;)if(S=c.prev,V=c.next,x?gr(c,d,g,x):Do(c))a.push(S.i/l|0),a.push(c.i/l|0),a.push(V.i/l|0),wa(c),c=V.next,D=V.next;else if((c=V)===D){M?1===M?bs(c=S0(Et(c),a,l),a,l,d,g,x,2):2===M&&H0(c,a,l,d,g,x):bs(Et(c),a,l,d,g,x,1);break}}}function Do(c){var a=c.prev,l=c,d=c.next;if(I2(a,l,d)>=0)return!1;for(var g=a.x,x=l.x,M=d.x,S=a.y,V=l.y,D=d.y,N=g<x?g<M?g:M:x<M?x:M,B=S<V?S<D?S:D:V<D?V:D,q=g>x?g>M?g:M:x>M?x:M,X=S>V?S>D?S:D:V>D?V:D,Y=d.next;Y!==a;){if(Y.x>=N&&Y.x<=q&&Y.y>=B&&Y.y<=X&&ba(g,S,x,V,M,D,Y.x,Y.y)&&I2(Y.prev,Y,Y.next)>=0)return!1;Y=Y.next}return!0}function gr(c,a,l,d){var g=c.prev,x=c,M=c.next;if(I2(g,x,M)>=0)return!1;for(var S=g.x,V=x.x,D=M.x,N=g.y,B=x.y,q=M.y,X=S<V?S<D?S:D:V<D?V:D,Y=N<B?N<q?N:q:B<q?B:q,ne=S>V?S>D?S:D:V>D?V:D,se=N>B?N>q?N:q:B>q?B:q,le=$n(X,Y,a,l,d),xe=$n(ne,se,a,l,d),de=c.prevZ,Ee=c.nextZ;de&&de.z>=le&&Ee&&Ee.z<=xe;){if(de.x>=X&&de.x<=ne&&de.y>=Y&&de.y<=se&&de!==g&&de!==M&&ba(S,N,V,B,D,q,de.x,de.y)&&I2(de.prev,de,de.next)>=0||(de=de.prevZ,Ee.x>=X&&Ee.x<=ne&&Ee.y>=Y&&Ee.y<=se&&Ee!==g&&Ee!==M&&ba(S,N,V,B,D,q,Ee.x,Ee.y)&&I2(Ee.prev,Ee,Ee.next)>=0))return!1;Ee=Ee.nextZ}for(;de&&de.z>=le;){if(de.x>=X&&de.x<=ne&&de.y>=Y&&de.y<=se&&de!==g&&de!==M&&ba(S,N,V,B,D,q,de.x,de.y)&&I2(de.prev,de,de.next)>=0)return!1;de=de.prevZ}for(;Ee&&Ee.z<=xe;){if(Ee.x>=X&&Ee.x<=ne&&Ee.y>=Y&&Ee.y<=se&&Ee!==g&&Ee!==M&&ba(S,N,V,B,D,q,Ee.x,Ee.y)&&I2(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.nextZ}return!0}function S0(c,a,l){var d=c;do{var g=d.prev,x=d.next.next;!P6(g,x)&&L0(g,d,d.next,x)&&Ma(g,x)&&Ma(x,g)&&(a.push(g.i/l|0),a.push(d.i/l|0),a.push(x.i/l|0),wa(d),wa(d.next),d=c=x),d=d.next}while(d!==c);return Et(d)}function H0(c,a,l,d,g,x){var M=c;do{for(var S=M.next.next;S!==M.prev;){if(M.i!==S.i&&Ms(M,S)){var V=I6(M,S);return M=Et(M,M.next),V=Et(V,V.next),bs(M,a,l,d,g,x,0),void bs(V,a,l,d,g,x,0)}S=S.next}M=M.next}while(M!==c)}function vu(c,a){return c.x-a.x}function mg(c,a){var l=function(g,x){var M,S=x,V=g.x,D=g.y,N=-1/0;do{if(D<=S.y&&D>=S.next.y&&S.next.y!==S.y){var B=S.x+(D-S.y)*(S.next.x-S.x)/(S.next.y-S.y);if(B<=V&&B>N&&(N=B,M=S.x<S.next.x?S:S.next,B===V))return M}S=S.next}while(S!==x);if(!M)return null;var q,X=M,Y=M.x,ne=M.y,se=1/0;S=M;do{V>=S.x&&S.x>=Y&&V!==S.x&&ba(D<ne?V:N,D,Y,ne,D<ne?N:V,D,S.x,S.y)&&(q=Math.abs(D-S.y)/(V-S.x),Ma(S,g)&&(q<se||q===se&&(S.x>M.x||S.x===M.x&&q5(M,S)))&&(M=S,se=q)),S=S.next}while(S!==X);return M}(c,a);if(!l)return a;var d=I6(l,c);return Et(d,d.next),Et(l,l.next)}function q5(c,a){return I2(c.prev,c,a.prev)<0&&I2(a.next,c,c.next)<0}function $n(c,a,l,d,g){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-l)*g|0)|c<<8))|c<<4))|c<<2))|c<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-d)*g|0)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function Yr(c){var a=c,l=c;do{(a.x<l.x||a.x===l.x&&a.y<l.y)&&(l=a),a=a.next}while(a!==c);return l}function ba(c,a,l,d,g,x,M,S){return(g-M)*(a-S)>=(c-M)*(x-S)&&(c-M)*(d-S)>=(l-M)*(a-S)&&(l-M)*(x-S)>=(g-M)*(d-S)}function Ms(c,a){return c.next.i!==a.i&&c.prev.i!==a.i&&!function(l,d){var g=l;do{if(g.i!==l.i&&g.next.i!==l.i&&g.i!==d.i&&g.next.i!==d.i&&L0(g,g.next,l,d))return!0;g=g.next}while(g!==l);return!1}(c,a)&&(Ma(c,a)&&Ma(a,c)&&function(l,d){var g=l,x=!1,M=(l.x+d.x)/2,S=(l.y+d.y)/2;do{g.y>S!=g.next.y>S&&g.next.y!==g.y&&M<(g.next.x-g.x)*(S-g.y)/(g.next.y-g.y)+g.x&&(x=!x),g=g.next}while(g!==l);return x}(c,a)&&(I2(c.prev,c,a.prev)||I2(c,a.prev,a))||P6(c,a)&&I2(c.prev,c,c.next)>0&&I2(a.prev,a,a.next)>0)}function I2(c,a,l){return(a.y-c.y)*(l.x-a.x)-(a.x-c.x)*(l.y-a.y)}function P6(c,a){return c.x===a.x&&c.y===a.y}function L0(c,a,l,d){var g=A6(I2(c,a,l)),x=A6(I2(c,a,d)),M=A6(I2(l,d,c)),S=A6(I2(l,d,a));return g!==x&&M!==S||!(0!==g||!D6(c,l,a))||!(0!==x||!D6(c,d,a))||!(0!==M||!D6(l,c,d))||!(0!==S||!D6(l,a,d))}function D6(c,a,l){return a.x<=Math.max(c.x,l.x)&&a.x>=Math.min(c.x,l.x)&&a.y<=Math.max(c.y,l.y)&&a.y>=Math.min(c.y,l.y)}function A6(c){return c>0?1:c<0?-1:0}function Ma(c,a){return I2(c.prev,c,c.next)<0?I2(c,a,c.next)>=0&&I2(c,c.prev,a)>=0:I2(c,a,c.prev)<0||I2(c,c.next,a)<0}function I6(c,a){var l=new E0(c.i,c.x,c.y),d=new E0(a.i,a.x,a.y),g=c.next,x=a.prev;return c.next=a,a.prev=c,l.next=g,g.prev=l,d.next=l,l.prev=d,x.next=d,d.prev=x,d}function V0(c,a,l,d){var g=new E0(c,a,l);return d?(g.next=d.next,g.prev=d,d.next.prev=g,d.next=g):(g.prev=g,g.next=g),g}function wa(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function E0(c,a,l){this.i=c,this.x=a,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k6(c,a,l,d){for(var g=0,x=a,M=l-d;x<l;x+=d)g+=(c[M]-c[x])*(c[x+1]+c[M+1]),M=x;return g}C2.exports=xs,C2.exports.default=xs,xs.deviation=function(c,a,l,d){var g=a&&a.length,x=Math.abs(k6(c,0,g?a[0]*l:c.length,l));if(g)for(var M=0,S=a.length;M<S;M++)x-=Math.abs(k6(c,a[M]*l,M<S-1?a[M+1]*l:c.length,l));var V=0;for(M=0;M<d.length;M+=3){var D=d[M]*l,N=d[M+1]*l,B=d[M+2]*l;V+=Math.abs((c[D]-c[B])*(c[N+1]-c[D+1])-(c[D]-c[N])*(c[B+1]-c[D+1]))}return 0===x&&0===V?0:Math.abs((V-x)/x)},xs.flatten=function(c){for(var a=c[0][0].length,l={vertices:[],holes:[],dimensions:a},d=0,g=0;g<c.length;g++){for(var x=0;x<c[g].length;x++)for(var M=0;M<a;M++)l.vertices.push(c[g][x][M]);g>0&&l.holes.push(d+=c[g-1].length)}return l};var N6=X2(C2.exports);function G5(c,a,l,d,g){T0(c,a,l||0,d||c.length-1,g||W5)}function T0(c,a,l,d,g){for(;d>l;){if(d-l>600){var x=d-l+1,M=a-l+1,S=Math.log(x),V=.5*Math.exp(2*S/3),D=.5*Math.sqrt(S*V*(x-V)/x)*(M-x/2<0?-1:1);T0(c,a,Math.max(l,Math.floor(a-M*V/x+D)),Math.min(d,Math.floor(a+(x-M)*V/x+D)),g)}var N=c[a],B=l,q=d;for(ws(c,l,a),g(c[d],N)>0&&ws(c,l,d);B<q;){for(ws(c,B,q),B++,q--;g(c[B],N)<0;)B++;for(;g(c[q],N)>0;)q--}0===g(c[l],N)?ws(c,l,q):ws(c,++q,d),q<=a&&(l=q+1),a<=q&&(d=q-1)}}function ws(c,a,l){var d=c[a];c[a]=c[l],c[l]=d}function W5(c,a){return c<a?-1:c>a?1:0}function Ao(c,a){const l=c.length;if(l<=1)return[c];const d=[];let g,x;for(let M=0;M<l;M++){const S=Hi(c[M]);0!==S&&(c[M].area=Math.abs(S),void 0===x&&(x=S<0),x===S<0?(g&&d.push(g),g=[c[M]]):g.push(c[M]))}if(g&&d.push(g),a>1)for(let M=0;M<d.length;M++)d[M].length<=a||(G5(d[M],a,1,d[M].length-1,yu),d[M]=d[M].slice(0,a));return d}function yu(c,a){return a.area-c.area}function P0(c,a,l){const d=l.patternDependencies;let g=!1;for(const x of a){const M=x.paint.get(`${c}-pattern`);M.isConstant()||(g=!0);const S=M.constantOr(null);S&&(g=!0,d[S.to]=!0,d[S.from]=!0)}return g}function jn(c,a,l,d,g){const x=g.patternDependencies;for(const M of a){const S=M.paint.get(`${c}-pattern`).value;if("constant"!==S.kind){let V=S.evaluate({zoom:d-1},l,{},g.availableImages),D=S.evaluate({zoom:d},l,{},g.availableImages),N=S.evaluate({zoom:d+1},l,{},g.availableImages);V=V&&V.name?V.name:V,D=D&&D.name?D.name:D,N=N&&N.name?N.name:N,x[V]=!0,x[D]=!0,x[N]=!0,l.patterns[M.id]={min:V,mid:D,max:N}}}return l}class Kr{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(l=>l.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new _e,this.indexArray=new H1,this.indexArray2=new y1,this.programConfigurations=new Gr(a.layers,a.zoom),this.segments=new z1,this.segments2=new z1,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(a,l,d){this.hasPattern=P0("fill",this.layers,l);const g=this.layers[0].layout.get("fill-sort-key"),x=!g.isConstant(),M=[];for(const{feature:S,id:V,index:D,sourceLayerIndex:N}of a){const B=this.layers[0]._featureFilter.needGeometry,q=yn(S,B);if(!this.layers[0]._featureFilter.filter(new g2(this.zoom),q,d))continue;const X=x?g.evaluate(q,{},d,l.availableImages):void 0,Y={id:V,properties:S.properties,type:S.type,sourceLayerIndex:N,index:D,geometry:B?q.geometry:Ri(S),patterns:{},sortKey:X};M.push(Y)}x&&M.sort((S,V)=>S.sortKey-V.sortKey);for(const S of M){const{geometry:V,index:D,sourceLayerIndex:N}=S;if(this.hasPattern){const B=jn("fill",this.layers,S,this.zoom,l);this.patternFeatures.push(B)}else this.addFeature(S,V,D,d,{});l.featureIndex.insert(a[D].feature,V,D,N,this.index)}}update(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)}addFeatures(a,l,d){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,l,d)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Xe),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.indexBuffer2=a.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(a,l,d,g,x){for(const M of Ao(l,500)){let S=0;for(const X of M)S+=X.length;const V=this.segments.prepareSegment(S,this.layoutVertexArray,this.indexArray),D=V.vertexLength,N=[],B=[];for(const X of M){if(0===X.length)continue;X!==M[0]&&B.push(N.length/2);const Y=this.segments2.prepareSegment(X.length,this.layoutVertexArray,this.indexArray2),ne=Y.vertexLength;this.layoutVertexArray.emplaceBack(X[0].x,X[0].y),this.indexArray2.emplaceBack(ne+X.length-1,ne),N.push(X[0].x),N.push(X[0].y);for(let se=1;se<X.length;se++)this.layoutVertexArray.emplaceBack(X[se].x,X[se].y),this.indexArray2.emplaceBack(ne+se-1,ne+se),N.push(X[se].x),N.push(X[se].y);Y.vertexLength+=X.length,Y.primitiveLength+=X.length}const q=N6(N,B);for(let X=0;X<q.length;X+=3)this.indexArray.emplaceBack(D+q[X],D+q[X+1],D+q[X+2]);V.vertexLength+=S,V.primitiveLength+=q.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,x,g)}}let yt,Z5;p1("FillBucket",Kr,{omit:["layers","patternFeatures"]});var _u={get paint(){return Z5=Z5||new ht({"fill-antialias":new M1(Fe.paint_fill["fill-antialias"]),"fill-opacity":new T1(Fe.paint_fill["fill-opacity"]),"fill-color":new T1(Fe.paint_fill["fill-color"]),"fill-outline-color":new T1(Fe.paint_fill["fill-outline-color"]),"fill-translate":new M1(Fe.paint_fill["fill-translate"]),"fill-translate-anchor":new M1(Fe.paint_fill["fill-translate-anchor"]),"fill-pattern":new rt(Fe.paint_fill["fill-pattern"])})},get layout(){return yt=yt||new ht({"fill-sort-key":new T1(Fe.layout_fill["fill-sort-key"])})}};class Cu extends j3{constructor(a){super(a,_u)}recalculate(a,l){super.recalculate(a,l);const d=this.paint._values["fill-outline-color"];"constant"===d.value.kind&&void 0===d.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new Kr(a)}queryRadius(){return Un(this.paint.get("fill-translate"))}queryIntersectsFeature(a,l,d,g,x,M,S){return y0(E6(a,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),M.angle,S),g)}isTileClipped(){return!0}}const xu=K2([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),X5=K2([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Y5}=xu;var Fi={},$4=Re,K5=Qr;function Qr(c,a,l,d,g){this.properties={},this.extent=l,this.type=0,this._pbf=c,this._geometry=-1,this._keys=d,this._values=g,c.readFields(O6,this,a)}function O6(c,a,l){1==c?a.id=l.readVarint():2==c?function(d,g){for(var x=d.readVarint()+d.pos;d.pos<x;){var M=g._keys[d.readVarint()],S=g._values[d.readVarint()];g.properties[M]=S}}(l,a):3==c?a.type=l.readVarint():4==c&&(a._geometry=l.pos)}function R6(c){for(var a,l,d=0,g=0,x=c.length,M=x-1;g<x;M=g++)d+=((l=c[M]).x-(a=c[g]).x)*(a.y+l.y);return d}Qr.types=["Unknown","Point","LineString","Polygon"],Qr.prototype.loadGeometry=function(){var c=this._pbf;c.pos=this._geometry;for(var a,l=c.readVarint()+c.pos,d=1,g=0,x=0,M=0,S=[];c.pos<l;){if(g<=0){var V=c.readVarint();d=7&V,g=V>>3}if(g--,1===d||2===d)x+=c.readSVarint(),M+=c.readSVarint(),1===d&&(a&&S.push(a),a=[]),a.push(new $4(x,M));else{if(7!==d)throw new Error("unknown command "+d);a&&a.push(a[0].clone())}}return a&&S.push(a),S},Qr.prototype.bbox=function(){var c=this._pbf;c.pos=this._geometry;for(var a=c.readVarint()+c.pos,l=1,d=0,g=0,x=0,M=1/0,S=-1/0,V=1/0,D=-1/0;c.pos<a;){if(d<=0){var N=c.readVarint();l=7&N,d=N>>3}if(d--,1===l||2===l)(g+=c.readSVarint())<M&&(M=g),g>S&&(S=g),(x+=c.readSVarint())<V&&(V=x),x>D&&(D=x);else if(7!==l)throw new Error("unknown command "+l)}return[M,V,S,D]},Qr.prototype.toGeoJSON=function(c,a,l){var d,g,x=this.extent*Math.pow(2,l),M=this.extent*c,S=this.extent*a,V=this.loadGeometry(),D=Qr.types[this.type];function N(X){for(var Y=0;Y<X.length;Y++){var ne=X[Y];X[Y]=[360*(ne.x+M)/x-180,360/Math.PI*Math.atan(Math.exp((180-360*(ne.y+S)/x)*Math.PI/180))-90]}}switch(this.type){case 1:var B=[];for(d=0;d<V.length;d++)B[d]=V[d][0];N(V=B);break;case 2:for(d=0;d<V.length;d++)N(V[d]);break;case 3:for(V=function(X){var Y=X.length;if(Y<=1)return[X];for(var ne,se,le=[],xe=0;xe<Y;xe++){var de=R6(X[xe]);0!==de&&(void 0===se&&(se=de<0),se===de<0?(ne&&le.push(ne),ne=[X[xe]]):ne.push(X[xe]))}return ne&&le.push(ne),le}(V),d=0;d<V.length;d++)for(g=0;g<V[d].length;g++)N(V[d][g])}1===V.length?V=V[0]:D="Multi"+D;var q={type:"Feature",geometry:{type:D,coordinates:V},properties:this.properties};return"id"in this&&(q.id=this.id),q};var D0=K5,A0=I0;function I0(c,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=c,this._keys=[],this._values=[],this._features=[],c.readFields(bu,this,a),this.length=this._features.length}function bu(c,a,l){15===c?a.version=l.readVarint():1===c?a.name=l.readString():5===c?a.extent=l.readVarint():2===c?a._features.push(l.pos):3===c?a._keys.push(l.readString()):4===c&&a._values.push(function(d){for(var g=null,x=d.readVarint()+d.pos;d.pos<x;){var M=d.readVarint()>>3;g=1===M?d.readString():2===M?d.readFloat():3===M?d.readDouble():4===M?d.readVarint64():5===M?d.readVarint():6===M?d.readSVarint():7===M?d.readBoolean():null}return g}(l))}I0.prototype.feature=function(c){if(c<0||c>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[c];var a=this._pbf.readVarint()+this._pbf.pos;return new D0(this._pbf,a,this.extent,this._keys,this._values)};var zs=A0;function Io(c,a,l){if(3===c){var d=new zs(l,l.readVarint()+l.pos);d.length&&(a[d.name]=d)}}Fi.VectorTile=function(c,a){this.layers=c.readFields(Io,{},a)},Fi.VectorTileFeature=K5,Fi.VectorTileLayer=A0;const Mu=Fi.VectorTileFeature.types,Q5=Math.pow(2,13);function za(c,a,l,d,g,x,M,S){c.emplaceBack(a,l,2*Math.floor(d*Q5)+M,g*Q5*2,x*Q5*2,Math.round(S))}class J5{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(l=>l.id),this.index=a.index,this.hasPattern=!1,this.layoutVertexArray=new Ie,this.centroidVertexArray=new De,this.indexArray=new H1,this.programConfigurations=new Gr(a.layers,a.zoom),this.segments=new z1,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(a,l,d){this.features=[],this.hasPattern=P0("fill-extrusion",this.layers,l);for(const{feature:g,id:x,index:M,sourceLayerIndex:S}of a){const V=this.layers[0]._featureFilter.needGeometry,D=yn(g,V);if(!this.layers[0]._featureFilter.filter(new g2(this.zoom),D,d))continue;const N={id:x,sourceLayerIndex:S,index:M,geometry:V?D.geometry:Ri(g),properties:g.properties,type:g.type,patterns:{}};this.hasPattern?this.features.push(jn("fill-extrusion",this.layers,N,this.zoom,l)):this.addFeature(N,N.geometry,M,d,{}),l.featureIndex.insert(g,N.geometry,M,S,this.index,!0)}}addFeatures(a,l,d){for(const g of this.features){const{geometry:x}=g;this.addFeature(g,x,g.index,l,d)}}update(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,Y5),this.centroidVertexBuffer=a.createVertexBuffer(this.centroidVertexArray,X5.members,!0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(a,l,d,g,x){const M={x:0,y:0,vertexCount:0};for(const S of Ao(l,500)){let V=0;for(const Y of S)V+=Y.length;let D=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const Y of S){if(0===Y.length||((c=Y).every(a=>a.x<0)||c.every(a=>a.x>st)||c.every(a=>a.y<0)||c.every(a=>a.y>st)))continue;let ne=0;for(let se=0;se<Y.length;se++){const le=Y[se];if(se>=1){const xe=Y[se-1];if(!wu(le,xe)){D.vertexLength+4>z1.MAX_VERTEX_ARRAY_LENGTH&&(D=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const de=le.sub(xe)._perp()._unit(),Ee=xe.dist(le);ne+Ee>32768&&(ne=0),za(this.layoutVertexArray,le.x,le.y,de.x,de.y,0,0,ne),za(this.layoutVertexArray,le.x,le.y,de.x,de.y,0,1,ne),M.x+=2*le.x,M.y+=2*le.y,M.vertexCount+=2,ne+=Ee,za(this.layoutVertexArray,xe.x,xe.y,de.x,de.y,0,0,ne),za(this.layoutVertexArray,xe.x,xe.y,de.x,de.y,0,1,ne),M.x+=2*xe.x,M.y+=2*xe.y,M.vertexCount+=2;const Ae=D.vertexLength;this.indexArray.emplaceBack(Ae,Ae+2,Ae+1),this.indexArray.emplaceBack(Ae+1,Ae+2,Ae+3),D.vertexLength+=4,D.primitiveLength+=2}}}}if(D.vertexLength+V>z1.MAX_VERTEX_ARRAY_LENGTH&&(D=this.segments.prepareSegment(V,this.layoutVertexArray,this.indexArray)),"Polygon"!==Mu[a.type])continue;const N=[],B=[],q=D.vertexLength;for(const Y of S)if(0!==Y.length){Y!==S[0]&&B.push(N.length/2);for(let ne=0;ne<Y.length;ne++){const se=Y[ne];za(this.layoutVertexArray,se.x,se.y,0,0,1,1,0),M.x+=se.x,M.y+=se.y,M.vertexCount+=1,N.push(se.x),N.push(se.y)}}const X=N6(N,B);for(let Y=0;Y<X.length;Y+=3)this.indexArray.emplaceBack(q+X[Y],q+X[Y+2],q+X[Y+1]);D.primitiveLength+=X.length/3,D.vertexLength+=V}var c;for(let S=0;S<M.vertexCount;S++)this.centroidVertexArray.emplaceBack(Math.floor(M.x/M.vertexCount),Math.floor(M.y/M.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,x,g)}}function wu(c,a){return c.x===a.x&&(c.x<0||c.x>st)||c.y===a.y&&(c.y<0||c.y>st)}let Su;p1("FillExtrusionBucket",J5,{omit:["layers","features"]});var gg={get paint(){return Su=Su||new ht({"fill-extrusion-opacity":new M1(Fe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new T1(Fe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new M1(Fe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new M1(Fe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new rt(Fe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new T1(Fe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new T1(Fe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new M1(Fe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class k0 extends j3{constructor(a){super(a,gg)}createBucket(a){return new J5(a)}queryRadius(){return Un(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(a,l,d,g,x,M,S,V){const D=E6(a,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),M.angle,S),N=this.paint.get("fill-extrusion-height").evaluate(l,d),B=this.paint.get("fill-extrusion-base").evaluate(l,d),q=function(Y,ne,se,le){const xe=[];for(const de of Y){const Ee=[de.x,de.y,0,1];To(Ee,Ee,ne),xe.push(new I1(Ee[0]/Ee[3],Ee[1]/Ee[3]))}return xe}(D,V),X=function(Y,ne,se,le){const xe=[],de=[],Ee=le[8]*ne,Ae=le[9]*ne,qe=le[10]*ne,f1=le[11]*ne,v1=le[8]*se,u1=le[9]*se,s1=le[10]*se,t1=le[11]*se;for(const g1 of Y){const i1=[],Ke=[];for(const S1 of g1){const _1=S1.x,n2=S1.y,F2=le[0]*_1+le[4]*n2+le[12],B2=le[1]*_1+le[5]*n2+le[13],Rt=le[2]*_1+le[6]*n2+le[14],s3=le[3]*_1+le[7]*n2+le[15],tn=Rt+qe,Ft=s3+f1,Zt=F2+v1,Ln=B2+u1,v3=Rt+s1,o3=s3+t1,Tt=new I1((F2+Ee)/Ft,(B2+Ae)/Ft);Tt.z=tn/Ft,i1.push(Tt);const Bt=new I1(Zt/o3,Ln/o3);Bt.z=v3/o3,Ke.push(Bt)}xe.push(i1),de.push(Ke)}return[xe,de]}(g,B,N,V);return function(Y,ne,se){let le=1/0;y0(se,ne)&&(le=el(se,ne[0]));for(let xe=0;xe<ne.length;xe++){const de=ne[xe],Ee=Y[xe];for(let Ae=0;Ae<de.length-1;Ae++){const qe=de[Ae],f1=[qe,de[Ae+1],Ee[Ae+1],Ee[Ae],qe];N5(se,f1)&&(le=Math.min(le,el(se,f1)))}}return le!==1/0&&le}(X[0],X[1],q)}}function Jr(c,a){return c.x*a.x+c.y*a.y}function el(c,a){if(1===c.length){let l=0;const d=a[l++];let g;for(;!g||d.equals(g);)if(g=a[l++],!g)return 1/0;for(;l<a.length;l++){const x=a[l],M=c[0],S=g.sub(d),V=x.sub(d),D=M.sub(d),N=Jr(S,S),B=Jr(S,V),q=Jr(V,V),X=Jr(D,S),Y=Jr(D,V),ne=N*q-B*B,se=(q*X-B*Y)/ne,le=(N*Y-B*X)/ne,xe=d.z*(1-se-le)+g.z*se+x.z*le;if(isFinite(xe))return xe}return 1/0}{let l=1/0;for(const d of a)l=Math.min(l,d.z);return l}}const ko=K2([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:N0}=ko,F6=K2([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:vg}=F6,tl=Fi.VectorTileFeature.types,nl=Math.cos(Math.PI/180*37.5),il=Math.pow(2,14)/.5;class Ci{constructor(a){this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(l=>l.id),this.index=a.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new ke,this.layoutVertexArray2=new je,this.indexArray=new H1,this.programConfigurations=new Gr(a.layers,a.zoom),this.segments=new z1,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(a,l,d){this.hasPattern=P0("line",this.layers,l);const g=this.layers[0].layout.get("line-sort-key"),x=!g.isConstant(),M=[];for(const{feature:S,id:V,index:D,sourceLayerIndex:N}of a){const B=this.layers[0]._featureFilter.needGeometry,q=yn(S,B);if(!this.layers[0]._featureFilter.filter(new g2(this.zoom),q,d))continue;const X=x?g.evaluate(q,{},d):void 0,Y={id:V,properties:S.properties,type:S.type,sourceLayerIndex:N,index:D,geometry:B?q.geometry:Ri(S),patterns:{},sortKey:X};M.push(Y)}x&&M.sort((S,V)=>S.sortKey-V.sortKey);for(const S of M){const{geometry:V,index:D,sourceLayerIndex:N}=S;if(this.hasPattern){const B=jn("line",this.layers,S,this.zoom,l);this.patternFeatures.push(B)}else this.addFeature(S,V,D,d,{});l.featureIndex.insert(a[D].feature,V,D,N,this.index)}}update(a,l,d){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(a,l,this.stateDependentLayers,d)}addFeatures(a,l,d){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,l,d)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(a){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=a.createVertexBuffer(this.layoutVertexArray2,vg)),this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,N0),this.indexBuffer=a.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(a),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(a){if(a.properties&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(a.properties,"mapbox_clip_end"))return{start:+a.properties.mapbox_clip_start,end:+a.properties.mapbox_clip_end}}addFeature(a,l,d,g,x){const M=this.layers[0].layout,S=M.get("line-join").evaluate(a,{}),V=M.get("line-cap"),D=M.get("line-miter-limit"),N=M.get("line-round-limit");this.lineClips=this.lineFeatureClips(a);for(const B of l)this.addLine(B,a,S,V,D,N);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,a,d,x,g)}addLine(a,l,d,g,x,M){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let le=0;le<a.length-1;le++)this.totalDistance+=a[le].dist(a[le+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const S="Polygon"===tl[l.type];let V=a.length;for(;V>=2&&a[V-1].equals(a[V-2]);)V--;let D=0;for(;D<V-1&&a[D].equals(a[D+1]);)D++;if(V<(S?3:2))return;"bevel"===d&&(x=1.05);const N=this.overscaling<=16?15*st/(512*this.overscaling):0,B=this.segments.prepareSegment(10*V,this.layoutVertexArray,this.indexArray);let q,X,Y,ne,se;this.e1=this.e2=-1,S&&(q=a[V-2],se=a[D].sub(q)._unit()._perp());for(let le=D;le<V;le++){if(Y=le===V-1?S?a[D+1]:void 0:a[le+1],Y&&a[le].equals(Y))continue;se&&(ne=se),q&&(X=q),q=a[le],se=Y?Y.sub(q)._unit()._perp():ne,ne=ne||se;let xe=ne.add(se);0===xe.x&&0===xe.y||xe._unit();const de=ne.x*se.x+ne.y*se.y,Ee=xe.x*se.x+xe.y*se.y,Ae=0!==Ee?1/Ee:1/0,qe=2*Math.sqrt(2-2*Ee),f1=Ee<nl&&X&&Y,v1=ne.x*se.y-ne.y*se.x>0;if(f1&&le>D){const t1=q.dist(X);if(t1>2*N){const g1=q.sub(q.sub(X)._mult(N/t1)._round());this.updateDistance(X,g1),this.addCurrentVertex(g1,ne,0,0,B),X=g1}}const u1=X&&Y;let s1=u1?d:S?"butt":g;if(u1&&"round"===s1&&(Ae<M?s1="miter":Ae<=2&&(s1="fakeround")),"miter"===s1&&Ae>x&&(s1="bevel"),"bevel"===s1&&(Ae>2&&(s1="flipbevel"),Ae<x&&(s1="miter")),X&&this.updateDistance(X,q),"miter"===s1)xe._mult(Ae),this.addCurrentVertex(q,xe,0,0,B);else if("flipbevel"===s1){if(Ae>100)xe=se.mult(-1);else{const t1=Ae*ne.add(se).mag()/ne.sub(se).mag();xe._perp()._mult(t1*(v1?-1:1))}this.addCurrentVertex(q,xe,0,0,B),this.addCurrentVertex(q,xe.mult(-1),0,0,B)}else if("bevel"===s1||"fakeround"===s1){const t1=-Math.sqrt(Ae*Ae-1),g1=v1?t1:0,i1=v1?0:t1;if(X&&this.addCurrentVertex(q,ne,g1,i1,B),"fakeround"===s1){const Ke=Math.round(180*qe/Math.PI/20);for(let S1=1;S1<Ke;S1++){let _1=S1/Ke;if(.5!==_1){const F2=_1-.5;_1+=_1*F2*(_1-1)*((1.0904+de*(de*(3.55645-1.43519*de)-3.2452))*F2*F2+(.848013+de*(.215638*de-1.06021)))}const n2=se.sub(ne)._mult(_1)._add(ne)._unit()._mult(v1?-1:1);this.addHalfVertex(q,n2.x,n2.y,!1,v1,0,B)}}Y&&this.addCurrentVertex(q,se,-g1,-i1,B)}else if("butt"===s1)this.addCurrentVertex(q,xe,0,0,B);else if("square"===s1){const t1=X?1:-1;this.addCurrentVertex(q,xe,t1,t1,B)}else"round"===s1&&(X&&(this.addCurrentVertex(q,ne,0,0,B),this.addCurrentVertex(q,ne,1,1,B,!0)),Y&&(this.addCurrentVertex(q,se,-1,-1,B,!0),this.addCurrentVertex(q,se,0,0,B)));if(f1&&le<V-1){const t1=q.dist(Y);if(t1>2*N){const g1=q.add(Y.sub(q)._mult(N/t1)._round());this.updateDistance(q,g1),this.addCurrentVertex(g1,se,0,0,B),q=g1}}}}addCurrentVertex(a,l,d,g,x,M=!1){const S=l.y*g-l.x,V=-l.y-l.x*g;this.addHalfVertex(a,l.x+l.y*d,l.y-l.x*d,M,!1,d,x),this.addHalfVertex(a,S,V,M,!0,-g,x),this.distance>il/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(a,l,d,g,x,M))}addHalfVertex({x:a,y:l},d,g,x,M,S,V){const D=.5*(this.lineClips?this.scaledDistance*(il-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((a<<1)+(x?1:0),(l<<1)+(M?1:0),Math.round(63*d)+128,Math.round(63*g)+128,1+(0===S?0:S<0?-1:1)|(63&D)<<2,D>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const N=V.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,N),V.primitiveLength++),M?this.e2=N:this.e1=N}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(a,l){this.distance+=a.dist(l),this.updateScaledDistance()}}let rl,No;p1("LineBucket",Ci,{omit:["layers","patternFeatures"]});var B6={get paint(){return No=No||new ht({"line-opacity":new T1(Fe.paint_line["line-opacity"]),"line-color":new T1(Fe.paint_line["line-color"]),"line-translate":new M1(Fe.paint_line["line-translate"]),"line-translate-anchor":new M1(Fe.paint_line["line-translate-anchor"]),"line-width":new T1(Fe.paint_line["line-width"]),"line-gap-width":new T1(Fe.paint_line["line-gap-width"]),"line-offset":new T1(Fe.paint_line["line-offset"]),"line-blur":new T1(Fe.paint_line["line-blur"]),"line-dasharray":new $r(Fe.paint_line["line-dasharray"]),"line-pattern":new rt(Fe.paint_line["line-pattern"]),"line-gradient":new fr(Fe.paint_line["line-gradient"])})},get layout(){return rl=rl||new ht({"line-cap":new M1(Fe.layout_line["line-cap"]),"line-join":new T1(Fe.layout_line["line-join"]),"line-miter-limit":new M1(Fe.layout_line["line-miter-limit"]),"line-round-limit":new M1(Fe.layout_line["line-round-limit"]),"line-sort-key":new T1(Fe.layout_line["line-sort-key"])})}};class al extends T1{possiblyEvaluate(a,l){return l=new g2(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(a,l)}evaluate(a,l,d,g){return l=ln({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(a,l,d,g)}}let Sa;class O0 extends j3{constructor(a){super(a,B6),this.gradientVersion=0,Sa||(Sa=new al(B6.paint.properties["line-width"].specification),Sa.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(a){"line-gradient"===a&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof mn,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(a,l){super.recalculate(a,l),this.paint._values["line-floorwidth"]=Sa.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new Ci(a)}queryRadius(a){const l=a,d=sl(U4("line-width",this,l),U4("line-gap-width",this,l)),g=U4("line-offset",this,l);return d/2+Math.abs(g)+Un(this.paint.get("line-translate"))}queryIntersectsFeature(a,l,d,g,x,M,S){const V=E6(a,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),M.angle,S),D=S/2*sl(this.paint.get("line-width").evaluate(l,d),this.paint.get("line-gap-width").evaluate(l,d)),N=this.paint.get("line-offset").evaluate(l,d);return N&&(g=function(B,q){const X=[];for(let Y=0;Y<B.length;Y++){const ne=B[Y],se=[];for(let le=0;le<ne.length;le++){const xe=ne[le-1],de=ne[le],Ee=ne[le+1],Ae=0===le?new I1(0,0):de.sub(xe)._unit()._perp(),qe=le===ne.length-1?new I1(0,0):Ee.sub(de)._unit()._perp(),f1=Ae._add(qe)._unit(),v1=f1.x*qe.x+f1.y*qe.y;0!==v1&&f1._mult(1/v1),se.push(f1._mult(q)._add(de))}X.push(se)}return X}(g,N*S)),function(B,q,X){for(let Y=0;Y<q.length;Y++){const ne=q[Y];if(B.length>=3)for(let se=0;se<ne.length;se++)if(A2(B,ne[se]))return!0;if(uu(B,ne,X))return!0}return!1}(V,g,D)}isTileClipped(){return!0}}function sl(c,a){return a>0?a+2*c:c}const ol=K2([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),cl=K2([{name:"a_projected_pos",components:3,type:"Float32"}],4);K2([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const ll=K2([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);K2([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const R0=K2([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Hu=K2([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function U6(c,a,l){return c.sections.forEach(d=>{d.text=function(g,x,M){const S=x.layout.get("text-transform").evaluate(M,{});return"uppercase"===S?g=g.toLocaleUpperCase():"lowercase"===S&&(g=g.toLocaleLowerCase()),m2.applyArabicShaping&&(g=m2.applyArabicShaping(g)),g}(d.text,a,l)}),c}K2([{name:"triangle",components:3,type:"Uint16"}]),K2([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),K2([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),K2([{type:"Float32",name:"offsetX"}]),K2([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),K2([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Bi={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var Wt=24,F0=k2,B0=function(c,a,l,d,g){var x,M,S=8*g-d-1,V=(1<<S)-1,D=V>>1,N=-7,B=l?g-1:0,q=l?-1:1,X=c[a+B];for(B+=q,x=X&(1<<-N)-1,X>>=-N,N+=S;N>0;x=256*x+c[a+B],B+=q,N-=8);for(M=x&(1<<-N)-1,x>>=-N,N+=d;N>0;M=256*M+c[a+B],B+=q,N-=8);if(0===x)x=1-D;else{if(x===V)return M?NaN:1/0*(X?-1:1);M+=Math.pow(2,d),x-=D}return(X?-1:1)*M*Math.pow(2,x-d)},Ss=function(c,a,l,d,g,x){var M,S,V,D=8*x-g-1,N=(1<<D)-1,B=N>>1,q=23===g?Math.pow(2,-24)-Math.pow(2,-77):0,X=d?0:x-1,Y=d?1:-1,ne=a<0||0===a&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(S=isNaN(a)?1:0,M=N):(M=Math.floor(Math.log(a)/Math.LN2),a*(V=Math.pow(2,-M))<1&&(M--,V*=2),(a+=M+B>=1?q/V:q*Math.pow(2,1-B))*V>=2&&(M++,V/=2),M+B>=N?(S=0,M=N):M+B>=1?(S=(a*V-1)*Math.pow(2,g),M+=B):(S=a*Math.pow(2,B-1)*Math.pow(2,g),M=0));g>=8;c[l+X]=255&S,X+=Y,S/=256,g-=8);for(M=M<<g|S,D+=g;D>0;c[l+X]=255&M,X+=Y,M/=256,D-=8);c[l+X-Y]|=128*ne};function k2(c){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(c)?c:new Uint8Array(c||0),this.pos=0,this.type=0,this.length=this.buf.length}k2.Varint=0,k2.Fixed64=1,k2.Bytes=2,k2.Fixed32=5;var qn=4294967296,ul=1/qn,U0=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ui(c){return c.type===k2.Bytes?c.readVarint()+c.pos:c.pos+1}function $0(c,a,l){var d=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));l.realloc(d);for(var g=l.pos-1;g>=c;g--)l.buf[g+d]=l.buf[g]}function $6(c,a){for(var l=0;l<c.length;l++)a.writeVarint(c[l])}function Ls(c,a){for(var l=0;l<c.length;l++)a.writeSVarint(c[l])}function Vs(c,a){for(var l=0;l<c.length;l++)a.writeFloat(c[l])}function Es(c,a){for(var l=0;l<c.length;l++)a.writeDouble(c[l])}function fl(c,a){for(var l=0;l<c.length;l++)a.writeBoolean(c[l])}function j0(c,a){for(var l=0;l<c.length;l++)a.writeFixed32(c[l])}function Ts(c,a){for(var l=0;l<c.length;l++)a.writeSFixed32(c[l])}function yg(c,a){for(var l=0;l<c.length;l++)a.writeFixed64(c[l])}function Lu(c,a){for(var l=0;l<c.length;l++)a.writeSFixed64(c[l])}function q0(c,a){return(c[a]|c[a+1]<<8|c[a+2]<<16)+16777216*c[a+3]}function Oo(c,a,l){c[l]=a,c[l+1]=a>>>8,c[l+2]=a>>>16,c[l+3]=a>>>24}function Vu(c,a){return(c[a]|c[a+1]<<8|c[a+2]<<16)+(c[a+3]<<24)}k2.prototype={destroy:function(){this.buf=null},readFields:function(c,a,l){for(l=l||this.length;this.pos<l;){var d=this.readVarint(),g=d>>3,x=this.pos;this.type=7&d,c(g,a,this),this.pos===x&&this.skip(d)}return a},readMessage:function(c,a){return this.readFields(c,a,this.readVarint()+this.pos)},readFixed32:function(){var c=q0(this.buf,this.pos);return this.pos+=4,c},readSFixed32:function(){var c=Vu(this.buf,this.pos);return this.pos+=4,c},readFixed64:function(){var c=q0(this.buf,this.pos)+q0(this.buf,this.pos+4)*qn;return this.pos+=8,c},readSFixed64:function(){var c=q0(this.buf,this.pos)+Vu(this.buf,this.pos+4)*qn;return this.pos+=8,c},readFloat:function(){var c=B0(this.buf,this.pos,!0,23,4);return this.pos+=4,c},readDouble:function(){var c=B0(this.buf,this.pos,!0,52,8);return this.pos+=8,c},readVarint:function(c){var a,l,d=this.buf;return a=127&(l=d[this.pos++]),l<128?a:(a|=(127&(l=d[this.pos++]))<<7,l<128?a:(a|=(127&(l=d[this.pos++]))<<14,l<128?a:(a|=(127&(l=d[this.pos++]))<<21,l<128?a:function(g,x,M){var S,V,D=M.buf;if(S=(112&(V=D[M.pos++]))>>4,V<128||(S|=(127&(V=D[M.pos++]))<<3,V<128)||(S|=(127&(V=D[M.pos++]))<<10,V<128)||(S|=(127&(V=D[M.pos++]))<<17,V<128)||(S|=(127&(V=D[M.pos++]))<<24,V<128)||(S|=(1&(V=D[M.pos++]))<<31,V<128))return function Hs(c,a,l){return l?4294967296*a+(c>>>0):4294967296*(a>>>0)+(c>>>0)}(g,S,x);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(l=d[this.pos]))<<28,c,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var c=this.readVarint();return c%2==1?(c+1)/-2:c/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var c=this.readVarint()+this.pos,a=this.pos;return this.pos=c,c-a>=12&&U0?U0.decode(this.buf.subarray(a,c)):function(l,d,g){for(var x="",M=d;M<g;){var S,V,D,N=l[M],B=null,q=N>239?4:N>223?3:N>191?2:1;if(M+q>g)break;1===q?N<128&&(B=N):2===q?128==(192&(S=l[M+1]))&&(B=(31&N)<<6|63&S)<=127&&(B=null):3===q?(V=l[M+2],128==(192&(S=l[M+1]))&&128==(192&V)&&((B=(15&N)<<12|(63&S)<<6|63&V)<=2047||B>=55296&&B<=57343)&&(B=null)):4===q&&(V=l[M+2],D=l[M+3],128==(192&(S=l[M+1]))&&128==(192&V)&&128==(192&D)&&((B=(15&N)<<18|(63&S)<<12|(63&V)<<6|63&D)<=65535||B>=1114112)&&(B=null)),null===B?(B=65533,q=1):B>65535&&(B-=65536,x+=String.fromCharCode(B>>>10&1023|55296),B=56320|1023&B),x+=String.fromCharCode(B),M+=q}return x}(this.buf,a,c)},readBytes:function(){var c=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,c);return this.pos=c,a},readPackedVarint:function(c,a){if(this.type!==k2.Bytes)return c.push(this.readVarint(a));var l=Ui(this);for(c=c||[];this.pos<l;)c.push(this.readVarint(a));return c},readPackedSVarint:function(c){if(this.type!==k2.Bytes)return c.push(this.readSVarint());var a=Ui(this);for(c=c||[];this.pos<a;)c.push(this.readSVarint());return c},readPackedBoolean:function(c){if(this.type!==k2.Bytes)return c.push(this.readBoolean());var a=Ui(this);for(c=c||[];this.pos<a;)c.push(this.readBoolean());return c},readPackedFloat:function(c){if(this.type!==k2.Bytes)return c.push(this.readFloat());var a=Ui(this);for(c=c||[];this.pos<a;)c.push(this.readFloat());return c},readPackedDouble:function(c){if(this.type!==k2.Bytes)return c.push(this.readDouble());var a=Ui(this);for(c=c||[];this.pos<a;)c.push(this.readDouble());return c},readPackedFixed32:function(c){if(this.type!==k2.Bytes)return c.push(this.readFixed32());var a=Ui(this);for(c=c||[];this.pos<a;)c.push(this.readFixed32());return c},readPackedSFixed32:function(c){if(this.type!==k2.Bytes)return c.push(this.readSFixed32());var a=Ui(this);for(c=c||[];this.pos<a;)c.push(this.readSFixed32());return c},readPackedFixed64:function(c){if(this.type!==k2.Bytes)return c.push(this.readFixed64());var a=Ui(this);for(c=c||[];this.pos<a;)c.push(this.readFixed64());return c},readPackedSFixed64:function(c){if(this.type!==k2.Bytes)return c.push(this.readSFixed64());var a=Ui(this);for(c=c||[];this.pos<a;)c.push(this.readSFixed64());return c},skip:function(c){var a=7&c;if(a===k2.Varint)for(;this.buf[this.pos++]>127;);else if(a===k2.Bytes)this.pos=this.readVarint()+this.pos;else if(a===k2.Fixed32)this.pos+=4;else{if(a!==k2.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(c,a){this.writeVarint(c<<3|a)},realloc:function(c){for(var a=this.length||16;a<this.pos+c;)a*=2;if(a!==this.length){var l=new Uint8Array(a);l.set(this.buf),this.buf=l,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(c){this.realloc(4),Oo(this.buf,c,this.pos),this.pos+=4},writeSFixed32:function(c){this.realloc(4),Oo(this.buf,c,this.pos),this.pos+=4},writeFixed64:function(c){this.realloc(8),Oo(this.buf,-1&c,this.pos),Oo(this.buf,Math.floor(c*ul),this.pos+4),this.pos+=8},writeSFixed64:function(c){this.realloc(8),Oo(this.buf,-1&c,this.pos),Oo(this.buf,Math.floor(c*ul),this.pos+4),this.pos+=8},writeVarint:function(c){(c=+c||0)>268435455||c<0?function(a,l){var d,g,x,S;if(a>=0?(d=a%4294967296|0,g=a/4294967296|0):(g=~(-a/4294967296),4294967295^(d=~(-a%4294967296))?d=d+1|0:(d=0,g=g+1|0)),a>=0x10000000000000000||a<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),x=d,(S=l).buf[S.pos++]=127&x|128,x>>>=7,S.buf[S.pos++]=127&x|128,x>>>=7,S.buf[S.pos++]=127&x|128,x>>>=7,S.buf[S.pos++]=127&x|128,S.buf[S.pos]=127&(x>>>=7),function(x,M){var S=(7&x)<<4;M.buf[M.pos++]|=S|((x>>>=3)?128:0),x&&(M.buf[M.pos++]=127&x|((x>>>=7)?128:0),x&&(M.buf[M.pos++]=127&x|((x>>>=7)?128:0),x&&(M.buf[M.pos++]=127&x|((x>>>=7)?128:0),x&&(M.buf[M.pos++]=127&x|((x>>>=7)?128:0),x&&(M.buf[M.pos++]=127&x)))))}(g,l)}(c,this):(this.realloc(4),this.buf[this.pos++]=127&c|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=127&(c>>>=7)|(c>127?128:0),c<=127||(this.buf[this.pos++]=c>>>7&127))))},writeSVarint:function(c){this.writeVarint(c<0?2*-c-1:2*c)},writeBoolean:function(c){this.writeVarint(!!c)},writeString:function(c){c=String(c),this.realloc(4*c.length),this.pos++;var a=this.pos;this.pos=function(d,g,x){for(var M,S,V=0;V<g.length;V++){if((M=g.charCodeAt(V))>55295&&M<57344){if(!S){M>56319||V+1===g.length?(d[x++]=239,d[x++]=191,d[x++]=189):S=M;continue}if(M<56320){d[x++]=239,d[x++]=191,d[x++]=189,S=M;continue}M=S-55296<<10|M-56320|65536,S=null}else S&&(d[x++]=239,d[x++]=191,d[x++]=189,S=null);M<128?d[x++]=M:(M<2048?d[x++]=M>>6|192:(M<65536?d[x++]=M>>12|224:(d[x++]=M>>18|240,d[x++]=M>>12&63|128),d[x++]=M>>6&63|128),d[x++]=63&M|128)}return x}(this.buf,c,this.pos);var l=this.pos-a;l>=128&&$0(a,l,this),this.pos=a-1,this.writeVarint(l),this.pos+=l},writeFloat:function(c){this.realloc(4),Ss(this.buf,c,this.pos,!0,23,4),this.pos+=4},writeDouble:function(c){this.realloc(8),Ss(this.buf,c,this.pos,!0,52,8),this.pos+=8},writeBytes:function(c){var a=c.length;this.writeVarint(a),this.realloc(a);for(var l=0;l<a;l++)this.buf[this.pos++]=c[l]},writeRawMessage:function(c,a){this.pos++;var l=this.pos;c(a,this);var d=this.pos-l;d>=128&&$0(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeMessage:function(c,a,l){this.writeTag(c,k2.Bytes),this.writeRawMessage(a,l)},writePackedVarint:function(c,a){a.length&&this.writeMessage(c,$6,a)},writePackedSVarint:function(c,a){a.length&&this.writeMessage(c,Ls,a)},writePackedBoolean:function(c,a){a.length&&this.writeMessage(c,fl,a)},writePackedFloat:function(c,a){a.length&&this.writeMessage(c,Vs,a)},writePackedDouble:function(c,a){a.length&&this.writeMessage(c,Es,a)},writePackedFixed32:function(c,a){a.length&&this.writeMessage(c,j0,a)},writePackedSFixed32:function(c,a){a.length&&this.writeMessage(c,Ts,a)},writePackedFixed64:function(c,a){a.length&&this.writeMessage(c,yg,a)},writePackedSFixed64:function(c,a){a.length&&this.writeMessage(c,Lu,a)},writeBytesField:function(c,a){this.writeTag(c,k2.Bytes),this.writeBytes(a)},writeFixed32Field:function(c,a){this.writeTag(c,k2.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(c,a){this.writeTag(c,k2.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(c,a){this.writeTag(c,k2.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(c,a){this.writeTag(c,k2.Fixed64),this.writeSFixed64(a)},writeVarintField:function(c,a){this.writeTag(c,k2.Varint),this.writeVarint(a)},writeSVarintField:function(c,a){this.writeTag(c,k2.Varint),this.writeSVarint(a)},writeStringField:function(c,a){this.writeTag(c,k2.Bytes),this.writeString(a)},writeFloatField:function(c,a){this.writeTag(c,k2.Fixed32),this.writeFloat(a)},writeDoubleField:function(c,a){this.writeTag(c,k2.Fixed64),this.writeDouble(a)},writeBooleanField:function(c,a){this.writeVarintField(c,!!a)}};var hl=X2(F0);const dl=3;function _g(c,a,l){1===c&&l.readMessage(Ps,a)}function Ps(c,a,l){if(3===c){const{id:d,bitmap:g,width:x,height:M,left:S,top:V,advance:D}=l.readMessage(Eu,{});a.push({id:d,bitmap:new Po({width:x+2*dl,height:M+2*dl},g),metrics:{width:x,height:M,left:S,top:V,advance:D}})}}function Eu(c,a,l){1===c?a.id=l.readVarint():2===c?a.bitmap=l.readBytes():3===c?a.width=l.readVarint():4===c?a.height=l.readVarint():5===c?a.left=l.readSVarint():6===c?a.top=l.readSVarint():7===c&&(a.advance=l.readVarint())}const pl=dl;function Jt(c){let a=0,l=0;for(const M of c)a+=M.w*M.h,l=Math.max(l,M.w);c.sort((M,S)=>S.h-M.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),l),h:1/0}];let g=0,x=0;for(const M of c)for(let S=d.length-1;S>=0;S--){const V=d[S];if(!(M.w>V.w||M.h>V.h)){if(M.x=V.x,M.y=V.y,x=Math.max(x,M.y+M.h),g=Math.max(g,M.x+M.w),M.w===V.w&&M.h===V.h){const D=d.pop();S<d.length&&(d[S]=D)}else M.h===V.h?(V.x+=M.w,V.w-=M.w):M.w===V.w?(V.y+=M.h,V.h-=M.h):(d.push({x:V.x+M.w,y:V.y,w:V.w-M.w,h:M.h}),V.y+=M.h,V.h-=M.h);break}}return{w:g,h:x,fill:a/(g*x)||0}}const m3=1;class Ha{constructor(a,{pixelRatio:l,version:d,stretchX:g,stretchY:x,content:M}){this.paddedRect=a,this.pixelRatio=l,this.stretchX=g,this.stretchY=x,this.content=M,this.version=d}get tl(){return[this.paddedRect.x+m3,this.paddedRect.y+m3]}get br(){return[this.paddedRect.x+this.paddedRect.w-m3,this.paddedRect.y+this.paddedRect.h-m3]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*m3)/this.pixelRatio,(this.paddedRect.h-2*m3)/this.pixelRatio]}}class ml{constructor(a,l){const d={},g={};this.haveRenderCallbacks=[];const x=[];this.addImages(a,d,x),this.addImages(l,g,x);const{w:M,h:S}=Jt(x),V=new A3({width:M||1,height:S||1});for(const D in a){const N=a[D],B=d[D].paddedRect;A3.copy(N.data,V,{x:0,y:0},{x:B.x+m3,y:B.y+m3},N.data)}for(const D in l){const N=l[D],B=g[D].paddedRect,q=B.x+m3,X=B.y+m3,Y=N.data.width,ne=N.data.height;A3.copy(N.data,V,{x:0,y:0},{x:q,y:X},N.data),A3.copy(N.data,V,{x:0,y:ne-1},{x:q,y:X-1},{width:Y,height:1}),A3.copy(N.data,V,{x:0,y:0},{x:q,y:X+ne},{width:Y,height:1}),A3.copy(N.data,V,{x:Y-1,y:0},{x:q-1,y:X},{width:1,height:ne}),A3.copy(N.data,V,{x:0,y:0},{x:q+Y,y:X},{width:1,height:ne})}this.image=V,this.iconPositions=d,this.patternPositions=g}addImages(a,l,d){for(const g in a){const x=a[g],M={x:0,y:0,w:x.data.width+2*m3,h:x.data.height+2*m3};d.push(M),l[g]=new Ha(M,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(a,l){a.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in a.updatedImages)this.patchUpdatedImage(this.iconPositions[d],a.getImage(d),l),this.patchUpdatedImage(this.patternPositions[d],a.getImage(d),l)}patchUpdatedImage(a,l,d){if(!a||!l||a.version===l.version)return;a.version=l.version;const[g,x]=a.tl;d.update(l.data,void 0,{x:g,y:x})}}var _n;p1("ImagePosition",Ha),p1("ImageAtlas",ml),_.WritingMode=void 0,(_n=_.WritingMode||(_.WritingMode={}))[_n.none=0]="none",_n[_n.horizontal=1]="horizontal",_n[_n.vertical=2]="vertical",_n[_n.horizontalOnly=3]="horizontalOnly";const vr=-17;class Ds{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(a,l){const d=new Ds;return d.scale=a||1,d.fontStack=l,d}static forImage(a){const l=new Ds;return l.imageName=a,l}}class e4{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(a,l){const d=new e4;for(let g=0;g<a.sections.length;g++){const x=a.sections[g];x.image?d.addImageSection(x):d.addTextSection(x,l)}return d}length(){return this.text.length}getSection(a){return this.sections[this.sectionIndex[a]]}getSectionIndex(a){return this.sectionIndex[a]}getCharCode(a){return this.text.charCodeAt(a)}verticalizePunctuation(){this.text=function(a){let l="";for(let d=0;d<a.length;d++){const g=a.charCodeAt(d+1)||null,x=a.charCodeAt(d-1)||null;l+=g&&Y2(g)&&!Bi[a[d+1]]||x&&Y2(x)&&!Bi[a[d-1]]||!Bi[a[d]]?a[d]:Bi[a[d]]}return l}(this.text)}trim(){let a=0;for(let d=0;d<this.text.length&&j6[this.text.charCodeAt(d)];d++)a++;let l=this.text.length;for(let d=this.text.length-1;d>=0&&d>=a&&j6[this.text.charCodeAt(d)];d--)l--;this.text=this.text.substring(a,l),this.sectionIndex=this.sectionIndex.slice(a,l)}substring(a,l){const d=new e4;return d.text=this.text.substring(a,l),d.sectionIndex=this.sectionIndex.slice(a,l),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((a,l)=>Math.max(a,this.sections[l].scale),0)}addTextSection(a,l){this.text+=a.text,this.sections.push(Ds.forText(a.scale,a.fontStack||l));const d=this.sections.length-1;for(let g=0;g<a.text.length;++g)this.sectionIndex.push(d)}addImageSection(a){const l=a.image?a.image.name:"";if(0===l.length)return void un("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Ds.forImage(l)),this.sectionIndex.push(this.sections.length-1)):un("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function j4(c,a,l,d,g,x,M,S,V,D,N,B,q,X,Y,ne){const se=e4.fromFeature(c,g);let le;B===_.WritingMode.vertical&&se.verticalizePunctuation();const{processBidirectionalText:xe,processStyledBidirectionalText:de}=m2;if(xe&&1===se.sections.length){le=[];const qe=xe(se.toString(),vl(se,D,x,a,d,X,Y));for(const f1 of qe){const v1=new e4;v1.text=f1,v1.sections=se.sections;for(let u1=0;u1<f1.length;u1++)v1.sectionIndex.push(0);le.push(v1)}}else if(de){le=[];const qe=de(se.text,se.sectionIndex,vl(se,D,x,a,d,X,Y));for(const f1 of qe){const v1=new e4;v1.text=f1[0],v1.sectionIndex=f1[1],v1.sections=se.sections,le.push(v1)}}else le=function(qe,f1){const v1=[],u1=qe.text;let s1=0;for(const t1 of f1)v1.push(qe.substring(s1,t1)),s1=t1;return s1<u1.length&&v1.push(qe.substring(s1,u1.length)),v1}(se,vl(se,D,x,a,d,X,Y));const Ee=[],Ae={positionedLines:Ee,text:se.toString(),top:N[1],bottom:N[1],left:N[0],right:N[0],writingMode:B,iconsInText:!1,verticalizable:!1};return function(qe,f1,v1,u1,s1,t1,g1,i1,Ke,S1,_1,n2){let F2=0,B2=vr,Rt=0,s3=0;const tn="right"===i1?1:"left"===i1?0:.5;let Ft=0;for(const Tt of s1){Tt.trim();const Bt=Tt.getMaxScale(),nn=(Bt-1)*Wt,Vn={positionedGlyphs:[],lineOffset:0};qe.positionedLines[Ft]=Vn;const rn=Vn.positionedGlyphs;let y3=0;if(!Tt.length()){B2+=t1,++Ft;continue}for(let Wn=0;Wn<Tt.length();Wn++){const c2=Tt.getSection(Wn),c3=Tt.getSectionIndex(Wn),En=Tt.getCharCode(Wn);let Xt=0,_3=null,Y3=null,xi=null,_r=Wt;const K3=!(Ke===_.WritingMode.horizontal||!_1&&!O4(En)||_1&&(j6[En]||(Zt=En,l1.Arabic(Zt)||l1["Arabic Supplement"](Zt)||l1["Arabic Extended-A"](Zt)||l1["Arabic Presentation Forms-A"](Zt)||l1["Arabic Presentation Forms-B"](Zt))));if(c2.imageName){const xn=u1[c2.imageName];if(!xn)continue;xi=c2.imageName,qe.iconsInText=qe.iconsInText||!0,Y3=xn.paddedRect;const C3=xn.displaySize;c2.scale=c2.scale*Wt/n2,_3={width:C3[0],height:C3[1],left:m3,top:-pl,advance:K3?C3[1]:C3[0]},Xt=nn+(Wt-C3[1]*c2.scale),_r=_3.advance;const s4=K3?C3[0]*c2.scale-Wt*Bt:C3[1]*c2.scale-Wt*Bt;s4>0&&s4>y3&&(y3=s4)}else{const xn=v1[c2.fontStack],C3=xn&&xn[En];if(C3&&C3.rect)Y3=C3.rect,_3=C3.metrics;else{const s4=f1[c2.fontStack],Go=s4&&s4[En];if(!Go)continue;_3=Go.metrics}Xt=(Bt-c2.scale)*Wt}K3?(qe.verticalizable=!0,rn.push({glyph:En,imageName:xi,x:F2,y:B2+Xt,vertical:K3,scale:c2.scale,fontStack:c2.fontStack,sectionIndex:c3,metrics:_3,rect:Y3}),F2+=_r*c2.scale+S1):(rn.push({glyph:En,imageName:xi,x:F2,y:B2+Xt,vertical:K3,scale:c2.scale,fontStack:c2.fontStack,sectionIndex:c3,metrics:_3,rect:Y3}),F2+=_3.advance*c2.scale+S1)}0!==rn.length&&(Rt=Math.max(F2-S1,Rt),Pu(rn,0,rn.length-1,tn,y3)),F2=0;const _t=t1*Bt+y3;Vn.lineOffset=Math.max(y3,nn),B2+=_t,s3=Math.max(_t,s3),++Ft}var Zt;const Ln=B2-vr,{horizontalAlign:v3,verticalAlign:o3}=G6(g1);(function(Tt,Bt,nn,Vn,rn,y3,_t,Wn,c2){const c3=(Bt-nn)*rn;let En=0;En=y3!==_t?-Wn*Vn-vr:(-Vn*c2+.5)*_t;for(const Xt of Tt)for(const _3 of Xt.positionedGlyphs)_3.x+=c3,_3.y+=En})(qe.positionedLines,tn,v3,o3,Rt,s3,t1,Ln,s1.length),qe.top+=-o3*Ln,qe.bottom=qe.top+Ln,qe.left+=-v3*Rt,qe.right=qe.left+Rt}(Ae,a,l,d,le,M,S,V,B,D,q,ne),!function(qe){for(const f1 of qe)if(0!==f1.positionedGlyphs.length)return!1;return!0}(Ee)&&Ae}const j6={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Cg={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function gl(c,a,l,d,g,x){if(a.imageName){const M=d[a.imageName];return M?M.displaySize[0]*a.scale*Wt/x+g:0}{const M=l[a.fontStack],S=M&&M[c];return S?S.metrics.advance*a.scale+g:0}}function Tu(c,a,l,d){const g=Math.pow(c-a,2);return d?c<a?g/2:2*g:g+Math.abs(l)*l}function X3(c,a,l){let d=0;return 10===c&&(d-=1e4),l&&(d+=150),40!==c&&65288!==c||(d+=50),41!==a&&65289!==a||(d+=50),d}function q6(c,a,l,d,g,x){let M=null,S=Tu(a,l,g,x);for(const V of d){const D=Tu(a-V.x,l,g,x)+V.badness;D<=S&&(M=V,S=D)}return{index:c,x:a,priorBreak:M,badness:S}}function La(c){return c?La(c.priorBreak).concat(c.index):[]}function vl(c,a,l,d,g,x,M){if("point"!==x)return[];if(!c)return[];const S=[],V=function(q,X,Y,ne,se,le){let xe=0;for(let de=0;de<q.length();de++){const Ee=q.getSection(de);xe+=gl(q.getCharCode(de),Ee,ne,se,X,le)}return xe/Math.max(1,Math.ceil(xe/Y))}(c,a,l,d,g,M),D=c.text.indexOf("\u200b")>=0;let N=0;for(let q=0;q<c.length();q++){const X=c.getSection(q),Y=c.getCharCode(q);if(j6[Y]||(N+=gl(Y,X,d,g,a,M)),q<c.length()-1){const ne=!((B=Y)<11904||!(l1["Bopomofo Extended"](B)||l1.Bopomofo(B)||l1["CJK Compatibility Forms"](B)||l1["CJK Compatibility Ideographs"](B)||l1["CJK Compatibility"](B)||l1["CJK Radicals Supplement"](B)||l1["CJK Strokes"](B)||l1["CJK Symbols and Punctuation"](B)||l1["CJK Unified Ideographs Extension A"](B)||l1["CJK Unified Ideographs"](B)||l1["Enclosed CJK Letters and Months"](B)||l1["Halfwidth and Fullwidth Forms"](B)||l1.Hiragana(B)||l1["Ideographic Description Characters"](B)||l1["Kangxi Radicals"](B)||l1["Katakana Phonetic Extensions"](B)||l1.Katakana(B)||l1["Vertical Forms"](B)||l1["Yi Radicals"](B)||l1["Yi Syllables"](B)));(Cg[Y]||ne||X.imageName)&&S.push(q6(q+1,N,V,S,X3(Y,c.getCharCode(q+1),ne&&D),!1))}}var B;return La(q6(c.length(),N,V,S,0,!0))}function G6(c){let a=.5,l=.5;switch(c){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:a,verticalAlign:l}}function Pu(c,a,l,d,g){if(!d&&!g)return;const x=c[l],M=(c[l].x+x.metrics.advance*x.scale)*d;for(let S=a;S<=l;S++)c[S].x-=M,c[S].y+=g}function Du(c,a,l){const{horizontalAlign:d,verticalAlign:g}=G6(l),x=a[0]-c.displaySize[0]*d,M=a[1]-c.displaySize[1]*g;return{image:c,top:M,bottom:M+c.displaySize[1],left:x,right:x+c.displaySize[0]}}function yl(c,a,l,d,g,x){const M=c.image;let S;if(M.content){const se=M.content,le=M.pixelRatio||1;S=[se[0]/le,se[1]/le,M.displaySize[0]-se[2]/le,M.displaySize[1]-se[3]/le]}const V=a.left*x,D=a.right*x;let N,B,q,X;"width"===l||"both"===l?(X=g[0]+V-d[3],B=g[0]+D+d[1]):(X=g[0]+(V+D-M.displaySize[0])/2,B=X+M.displaySize[0]);const Y=a.top*x,ne=a.bottom*x;return"height"===l||"both"===l?(N=g[1]+Y-d[0],q=g[1]+ne+d[2]):(N=g[1]+(Y+ne-M.displaySize[1])/2,q=N+M.displaySize[1]),{image:M,top:N,right:B,bottom:q,left:X,collisionPadding:S}}const Ro=255,yr=128,q4=Ro*yr;function W6(c,a){const{expression:l}=a;if("constant"===l.kind)return{kind:"constant",layoutSize:l.evaluate(new g2(c+1))};if("source"===l.kind)return{kind:"source"};{const{zoomStops:d,interpolationType:g}=l;let x=0;for(;x<d.length&&d[x]<=c;)x++;x=Math.max(0,x-1);let M=x;for(;M<d.length&&d[M]<c+1;)M++;M=Math.min(d.length-1,M);const S=d[x],V=d[M];return"composite"===l.kind?{kind:"composite",minZoom:S,maxZoom:V,interpolationType:g}:{kind:"camera",minZoom:S,maxZoom:V,minSize:l.evaluate(new g2(S)),maxSize:l.evaluate(new g2(V)),interpolationType:g}}}function As(c,a,l){let d="never";const g=c.get(a);return g?d=g:c.get(l)&&(d="always"),d}const Au=Fi.VectorTileFeature.types,Z6=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function X6(c,a,l,d,g,x,M,S,V,D,N,B,q){const X=S?Math.min(q4,Math.round(S[0])):0,Y=S?Math.min(q4,Math.round(S[1])):0;c.emplaceBack(a,l,Math.round(32*d),Math.round(32*g),x,M,(X<<1)+(V?1:0),Y,16*D,16*N,256*B,256*q)}function Is(c,a,l){c.emplaceBack(a.x,a.y,l),c.emplaceBack(a.x,a.y,l),c.emplaceBack(a.x,a.y,l),c.emplaceBack(a.x,a.y,l)}function Iu(c){for(const a of c.sections)if(Kt(a.text))return!0;return!1}class Y6{constructor(a){this.layoutVertexArray=new Be,this.indexArray=new H1,this.programConfigurations=a,this.segments=new z1,this.dynamicLayoutVertexArray=new Je,this.opacityVertexArray=new h1,this.hasVisibleVertices=!1,this.placedSymbolArray=new A}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(a,l,d,g){this.isEmpty()||(d&&(this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,ol.members),this.indexBuffer=a.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=a.createVertexBuffer(this.dynamicLayoutVertexArray,cl.members,!0),this.opacityVertexBuffer=a.createVertexBuffer(this.opacityVertexArray,Z6,!0),this.opacityVertexBuffer.itemSize=1),(d||g)&&this.programConfigurations.upload(a))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}p1("SymbolBuffers",Y6);class Fo{constructor(a,l,d){this.layoutVertexArray=new a,this.layoutAttributes=l,this.indexArray=new d,this.segments=new z1,this.collisionVertexArray=new a1}upload(a){this.layoutVertexBuffer=a.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=a.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=a.createVertexBuffer(this.collisionVertexArray,ll.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}p1("CollisionBuffers",Fo);class t4{constructor(a){this.collisionBoxArray=a.collisionBoxArray,this.zoom=a.zoom,this.overscaling=a.overscaling,this.layers=a.layers,this.layerIds=this.layers.map(M=>M.id),this.index=a.index,this.pixelRatio=a.pixelRatio,this.sourceLayerIndex=a.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=M0([]),this.placementViewportMatrix=M0([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=W6(this.zoom,l["text-size"]),this.iconSizeData=W6(this.zoom,l["icon-size"]);const d=this.layers[0].layout,g=d.get("symbol-sort-key"),x=d.get("symbol-z-order");this.canOverlap="never"!==As(d,"text-overlap","text-allow-overlap")||"never"!==As(d,"icon-overlap","icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==x&&!g.isConstant(),this.sortFeaturesByY=("viewport-y"===x||"auto"===x&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===d.get("symbol-placement")&&(this.writingModes=d.get("text-writing-mode").map(M=>_.WritingMode[M])),this.stateDependentLayerIds=this.layers.filter(M=>M.isStateDependent()).map(M=>M.id),this.sourceID=a.sourceID}createArrays(){this.text=new Y6(new Gr(this.layers,this.zoom,a=>/^text/.test(a))),this.icon=new Y6(new Gr(this.layers,this.zoom,a=>/^icon/.test(a))),this.glyphOffsetArray=new Z,this.lineVertexArray=new te,this.symbolInstances=new O,this.textAnchorOffsets=new ae}calculateGlyphDependencies(a,l,d,g,x){for(let M=0;M<a.length;M++)if(l[a.charCodeAt(M)]=!0,(d||g)&&x){const S=Bi[a.charAt(M)];S&&(l[S.charCodeAt(0)]=!0)}}populate(a,l,d){const g=this.layers[0],x=g.layout,M=x.get("text-font"),S=x.get("text-field"),V=x.get("icon-image"),D=("constant"!==S.value.kind||S.value.value instanceof Mt&&!S.value.value.isEmpty()||S.value.value.toString().length>0)&&("constant"!==M.value.kind||M.value.value.length>0),N="constant"!==V.value.kind||!!V.value.value||Object.keys(V.parameters).length>0,B=x.get("symbol-sort-key");if(this.features=[],!D&&!N)return;const q=l.iconDependencies,X=l.glyphDependencies,Y=l.availableImages,ne=new g2(this.zoom);for(const{feature:se,id:le,index:xe,sourceLayerIndex:de}of a){const Ee=g._featureFilter.needGeometry,Ae=yn(se,Ee);if(!g._featureFilter.filter(ne,Ae,d))continue;let qe,f1;if(Ee||(Ae.geometry=Ri(se)),D){const u1=g.getValueAndResolveTokens("text-field",Ae,d,Y),s1=Mt.factory(u1);Iu(s1)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===m1()||this.hasRTLText&&m2.isParsed())&&(qe=U6(s1,g,Ae))}if(N){const u1=g.getValueAndResolveTokens("icon-image",Ae,d,Y);f1=u1 instanceof Sn?u1:Sn.fromString(u1)}if(!qe&&!f1)continue;const v1=this.sortFeaturesByKey?B.evaluate(Ae,{},d):void 0;if(this.features.push({id:le,text:qe,icon:f1,index:xe,sourceLayerIndex:de,geometry:Ae.geometry,properties:se.properties,type:Au[se.type],sortKey:v1}),f1&&(q[f1.name]=!0),qe){const u1=M.evaluate(Ae,{},d).join(","),s1="viewport"!==x.get("text-rotation-alignment")&&"point"!==x.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(_.WritingMode.vertical)>=0;for(const t1 of qe.sections)if(t1.image)q[t1.image.name]=!0;else{const g1=gs(qe.toString()),i1=t1.fontStack||u1,Ke=X[i1]=X[i1]||{};this.calculateGlyphDependencies(t1.text,Ke,s1,this.allowVerticalPlacement,g1)}}}"line"===x.get("symbol-placement")&&(this.features=function(se){const le={},xe={},de=[];let Ee=0;function Ae(u1){de.push(se[u1]),Ee++}function qe(u1,s1,t1){const g1=xe[u1];return delete xe[u1],xe[s1]=g1,de[g1].geometry[0].pop(),de[g1].geometry[0]=de[g1].geometry[0].concat(t1[0]),g1}function f1(u1,s1,t1){const g1=le[s1];return delete le[s1],le[u1]=g1,de[g1].geometry[0].shift(),de[g1].geometry[0]=t1[0].concat(de[g1].geometry[0]),g1}function v1(u1,s1,t1){const g1=t1?s1[0][s1[0].length-1]:s1[0][0];return`${u1}:${g1.x}:${g1.y}`}for(let u1=0;u1<se.length;u1++){const s1=se[u1],t1=s1.geometry,g1=s1.text?s1.text.toString():null;if(!g1){Ae(u1);continue}const i1=v1(g1,t1),Ke=v1(g1,t1,!0);if(i1 in xe&&Ke in le&&xe[i1]!==le[Ke]){const S1=f1(i1,Ke,t1),_1=qe(i1,Ke,de[S1].geometry);delete le[i1],delete xe[Ke],xe[v1(g1,de[_1].geometry,!0)]=_1,de[S1].geometry=null}else i1 in xe?qe(i1,Ke,t1):Ke in le?f1(i1,Ke,t1):(Ae(u1),le[i1]=Ee-1,xe[Ke]=Ee-1)}return de.filter(u1=>u1.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((se,le)=>se.sortKey-le.sortKey)}update(a,l,d){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(a,l,this.layers,d),this.icon.programConfigurations.updatePaintArrays(a,l,this.layers,d))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(a){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(a),this.iconCollisionBox.upload(a)),this.text.upload(a,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(a,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(a,l){const d=this.lineVertexArray.length;if(void 0!==a.segment){let g=a.dist(l[a.segment+1]),x=a.dist(l[a.segment]);const M={};for(let S=a.segment+1;S<l.length;S++)M[S]={x:l[S].x,y:l[S].y,tileUnitDistanceFromAnchor:g},S<l.length-1&&(g+=l[S+1].dist(l[S]));for(let S=a.segment||0;S>=0;S--)M[S]={x:l[S].x,y:l[S].y,tileUnitDistanceFromAnchor:x},S>0&&(x+=l[S-1].dist(l[S]));for(let S=0;S<l.length;S++){const V=M[S];this.lineVertexArray.emplaceBack(V.x,V.y,V.tileUnitDistanceFromAnchor)}}return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(a,l,d,g,x,M,S,V,D,N,B,q){const X=a.indexArray,Y=a.layoutVertexArray,ne=a.segments.prepareSegment(4*l.length,Y,X,this.canOverlap?M.sortKey:void 0),se=this.glyphOffsetArray.length,le=ne.vertexLength,xe=this.allowVerticalPlacement&&S===_.WritingMode.vertical?Math.PI/2:0,de=M.text&&M.text.sections;for(let Ee=0;Ee<l.length;Ee++){const{tl:Ae,tr:qe,bl:f1,br:v1,tex:u1,pixelOffsetTL:s1,pixelOffsetBR:t1,minFontScaleX:g1,minFontScaleY:i1,glyphOffset:Ke,isSDF:S1,sectionIndex:_1}=l[Ee],n2=ne.vertexLength,F2=Ke[1];X6(Y,V.x,V.y,Ae.x,F2+Ae.y,u1.x,u1.y,d,S1,s1.x,s1.y,g1,i1),X6(Y,V.x,V.y,qe.x,F2+qe.y,u1.x+u1.w,u1.y,d,S1,t1.x,s1.y,g1,i1),X6(Y,V.x,V.y,f1.x,F2+f1.y,u1.x,u1.y+u1.h,d,S1,s1.x,t1.y,g1,i1),X6(Y,V.x,V.y,v1.x,F2+v1.y,u1.x+u1.w,u1.y+u1.h,d,S1,t1.x,t1.y,g1,i1),Is(a.dynamicLayoutVertexArray,V,xe),X.emplaceBack(n2,n2+1,n2+2),X.emplaceBack(n2+1,n2+2,n2+3),ne.vertexLength+=4,ne.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ke[0]),Ee!==l.length-1&&_1===l[Ee+1].sectionIndex||a.programConfigurations.populatePaintArrays(Y.length,M,M.index,{},q,de&&de[_1])}a.placedSymbolArray.emplaceBack(V.x,V.y,se,this.glyphOffsetArray.length-se,le,D,N,V.segment,d?d[0]:0,d?d[1]:0,g[0],g[1],S,0,!1,0,B)}_addCollisionDebugVertex(a,l,d,g,x,M){return l.emplaceBack(0,0),a.emplaceBack(d.x,d.y,g,x,Math.round(M.x),Math.round(M.y))}addCollisionDebugVertices(a,l,d,g,x,M,S){const V=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),D=V.vertexLength,N=x.layoutVertexArray,B=x.collisionVertexArray,q=S.anchorX,X=S.anchorY;this._addCollisionDebugVertex(N,B,M,q,X,new I1(a,l)),this._addCollisionDebugVertex(N,B,M,q,X,new I1(d,l)),this._addCollisionDebugVertex(N,B,M,q,X,new I1(d,g)),this._addCollisionDebugVertex(N,B,M,q,X,new I1(a,g)),V.vertexLength+=4;const Y=x.indexArray;Y.emplaceBack(D,D+1),Y.emplaceBack(D+1,D+2),Y.emplaceBack(D+2,D+3),Y.emplaceBack(D+3,D),V.primitiveLength+=4}addDebugCollisionBoxes(a,l,d,g){for(let x=a;x<l;x++){const M=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(M.x1,M.y1,M.x2,M.y2,g?this.textCollisionBox:this.iconCollisionBox,M.anchorPoint,d)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Fo(e2,R0.members,y1),this.iconCollisionBox=new Fo(e2,R0.members,y1);for(let a=0;a<this.symbolInstances.length;a++){const l=this.symbolInstances.get(a);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(a,l,d,g,x,M,S,V,D){const N={};for(let B=l;B<d;B++){const q=a.get(B);N.textBox={x1:q.x1,y1:q.y1,x2:q.x2,y2:q.y2,anchorPointX:q.anchorPointX,anchorPointY:q.anchorPointY},N.textFeatureIndex=q.featureIndex;break}for(let B=g;B<x;B++){const q=a.get(B);N.verticalTextBox={x1:q.x1,y1:q.y1,x2:q.x2,y2:q.y2,anchorPointX:q.anchorPointX,anchorPointY:q.anchorPointY},N.verticalTextFeatureIndex=q.featureIndex;break}for(let B=M;B<S;B++){const q=a.get(B);N.iconBox={x1:q.x1,y1:q.y1,x2:q.x2,y2:q.y2,anchorPointX:q.anchorPointX,anchorPointY:q.anchorPointY},N.iconFeatureIndex=q.featureIndex;break}for(let B=V;B<D;B++){const q=a.get(B);N.verticalIconBox={x1:q.x1,y1:q.y1,x2:q.x2,y2:q.y2,anchorPointX:q.anchorPointX,anchorPointY:q.anchorPointY},N.verticalIconFeatureIndex=q.featureIndex;break}return N}deserializeCollisionBoxes(a){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(a,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(a,l){const d=a.placedSymbolArray.get(l),g=d.vertexStartIndex+4*d.numGlyphs;for(let x=d.vertexStartIndex;x<g;x+=4)a.indexArray.emplaceBack(x,x+1,x+2),a.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(a){if(this.sortedAngle===a&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const l=Math.sin(a),d=Math.cos(a),g=[],x=[],M=[];for(let S=0;S<this.symbolInstances.length;++S){M.push(S);const V=this.symbolInstances.get(S);g.push(0|Math.round(l*V.anchorX+d*V.anchorY)),x.push(V.featureIndex)}return M.sort((S,V)=>g[S]-g[V]||x[V]-x[S]),M}addToSortKeyRanges(a,l){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===l?d.symbolInstanceEnd=a+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:a,symbolInstanceEnd:a+1})}sortFeatures(a){if(this.sortFeaturesByY&&this.sortedAngle!==a&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(a),this.sortedAngle=a,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const d=this.symbolInstances.get(l);this.featureSortOrder.push(d.featureIndex),[d.rightJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.leftJustifiedTextSymbolIndex].forEach((g,x,M)=>{g>=0&&M.indexOf(g)===x&&this.addIndicesForPlacedSymbol(this.text,g)}),d.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,d.verticalPlacedTextSymbolIndex),d.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.placedIconSymbolIndex),d.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,d.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let G0,_l;p1("SymbolBucket",t4,{omit:["layers","collisionBoxArray","features","compareText"]}),t4.MAX_GLYPHS=65535,t4.addDynamicAttributes=Is;var W0={get paint(){return _l=_l||new ht({"icon-opacity":new T1(Fe.paint_symbol["icon-opacity"]),"icon-color":new T1(Fe.paint_symbol["icon-color"]),"icon-halo-color":new T1(Fe.paint_symbol["icon-halo-color"]),"icon-halo-width":new T1(Fe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new T1(Fe.paint_symbol["icon-halo-blur"]),"icon-translate":new M1(Fe.paint_symbol["icon-translate"]),"icon-translate-anchor":new M1(Fe.paint_symbol["icon-translate-anchor"]),"text-opacity":new T1(Fe.paint_symbol["text-opacity"]),"text-color":new T1(Fe.paint_symbol["text-color"],{runtimeType:hn,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new T1(Fe.paint_symbol["text-halo-color"]),"text-halo-width":new T1(Fe.paint_symbol["text-halo-width"]),"text-halo-blur":new T1(Fe.paint_symbol["text-halo-blur"]),"text-translate":new M1(Fe.paint_symbol["text-translate"]),"text-translate-anchor":new M1(Fe.paint_symbol["text-translate-anchor"])})},get layout(){return G0=G0||new ht({"symbol-placement":new M1(Fe.layout_symbol["symbol-placement"]),"symbol-spacing":new M1(Fe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new M1(Fe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new T1(Fe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new M1(Fe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new M1(Fe.layout_symbol["icon-allow-overlap"]),"icon-overlap":new M1(Fe.layout_symbol["icon-overlap"]),"icon-ignore-placement":new M1(Fe.layout_symbol["icon-ignore-placement"]),"icon-optional":new M1(Fe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new M1(Fe.layout_symbol["icon-rotation-alignment"]),"icon-size":new T1(Fe.layout_symbol["icon-size"]),"icon-text-fit":new M1(Fe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new M1(Fe.layout_symbol["icon-text-fit-padding"]),"icon-image":new T1(Fe.layout_symbol["icon-image"]),"icon-rotate":new T1(Fe.layout_symbol["icon-rotate"]),"icon-padding":new T1(Fe.layout_symbol["icon-padding"]),"icon-keep-upright":new M1(Fe.layout_symbol["icon-keep-upright"]),"icon-offset":new T1(Fe.layout_symbol["icon-offset"]),"icon-anchor":new T1(Fe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new M1(Fe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new M1(Fe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new M1(Fe.layout_symbol["text-rotation-alignment"]),"text-field":new T1(Fe.layout_symbol["text-field"]),"text-font":new T1(Fe.layout_symbol["text-font"]),"text-size":new T1(Fe.layout_symbol["text-size"]),"text-max-width":new T1(Fe.layout_symbol["text-max-width"]),"text-line-height":new M1(Fe.layout_symbol["text-line-height"]),"text-letter-spacing":new T1(Fe.layout_symbol["text-letter-spacing"]),"text-justify":new T1(Fe.layout_symbol["text-justify"]),"text-radial-offset":new T1(Fe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new M1(Fe.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new T1(Fe.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new T1(Fe.layout_symbol["text-anchor"]),"text-max-angle":new M1(Fe.layout_symbol["text-max-angle"]),"text-writing-mode":new M1(Fe.layout_symbol["text-writing-mode"]),"text-rotate":new T1(Fe.layout_symbol["text-rotate"]),"text-padding":new M1(Fe.layout_symbol["text-padding"]),"text-keep-upright":new M1(Fe.layout_symbol["text-keep-upright"]),"text-transform":new T1(Fe.layout_symbol["text-transform"]),"text-offset":new T1(Fe.layout_symbol["text-offset"]),"text-allow-overlap":new M1(Fe.layout_symbol["text-allow-overlap"]),"text-overlap":new M1(Fe.layout_symbol["text-overlap"]),"text-ignore-placement":new M1(Fe.layout_symbol["text-ignore-placement"]),"text-optional":new M1(Fe.layout_symbol["text-optional"])})}};class Va{constructor(a){if(void 0===a.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=a.property.overrides?a.property.overrides.runtimeType:ir,this.defaultValue=a}evaluate(a){if(a.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(a.formattedSection))return l.getOverride(a.formattedSection)}return a.feature&&a.featureState?this.defaultValue.evaluate(a.feature,a.featureState):this.defaultValue.property.specification.default}eachChild(a){this.defaultValue.isConstant()||a(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}p1("FormatSectionOverride",Va,{omit:["defaultValue"]});class G4 extends j3{constructor(a){super(a,W0)}recalculate(a,l){if(super.recalculate(a,l),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const d=this.layout.get("text-writing-mode");if(d){const g=[];for(const x of d)g.indexOf(x)<0&&g.push(x);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(a,l,d,g){const x=this.layout.get(a).evaluate(l,{},d,g),M=this._unevaluatedLayout._values[a];return M.isDataDriven()||_o(M.value)||!x?x:(S=l.properties,x.replace(/{([^{}]+)}/g,(D,N)=>N in S?String(S[N]):""));var S}createBucket(a){return new t4(a)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const a of W0.paint.overridableProperties){if(!G4.hasPaintOverride(this.layout,a))continue;const l=this.paint.get(a),d=new Va(l),g=new vt(d,l.property.specification);let x=null;x="constant"===l.value.kind||"source"===l.value.kind?new fs("source",g):new L2("composite",g,l.value.zoomStops),this.paint._values[a]=new F1(l.property,x,l.parameters)}}_handleOverridablePaintPropertyUpdate(a,l,d){return!(!this.layout||l.isDataDriven()||d.isDataDriven())&&G4.hasPaintOverride(this.layout,a)}static hasPaintOverride(a,l){const d=a.get("text-field"),g=W0.paint.properties[l];let x=!1;const M=S=>{for(const V of S)if(g.overrides&&g.overrides.hasOverride(V))return void(x=!0)};if("constant"===d.value.kind&&d.value.value instanceof Mt)M(d.value.value.sections);else if("source"===d.value.kind){const S=D=>{x||(D instanceof Ar&&gt(D.value)===ui?M(D.value.sections):D instanceof cs?M(D.sections):D.eachChild(S))},V=d.value;V._styleExpression&&S(V._styleExpression.expression)}return x}}let Cl;var xg={get paint(){return Cl=Cl||new ht({"background-color":new M1(Fe.paint_background["background-color"]),"background-pattern":new $r(Fe.paint_background["background-pattern"]),"background-opacity":new M1(Fe.paint_background["background-opacity"])})}};class xl extends j3{constructor(a){super(a,xg)}}let bl;var bg={get paint(){return bl=bl||new ht({"raster-opacity":new M1(Fe.paint_raster["raster-opacity"]),"raster-hue-rotate":new M1(Fe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new M1(Fe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new M1(Fe.paint_raster["raster-brightness-max"]),"raster-saturation":new M1(Fe.paint_raster["raster-saturation"]),"raster-contrast":new M1(Fe.paint_raster["raster-contrast"]),"raster-resampling":new M1(Fe.paint_raster["raster-resampling"]),"raster-fade-duration":new M1(Fe.paint_raster["raster-fade-duration"])})}};class ku extends j3{constructor(a){super(a,bg)}}class Nu extends j3{constructor(a){super(a,{}),this.onAdd=l=>{this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},this.onRemove=l=>{this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},this.implementation=a}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Ou{constructor(a){this._callback=a,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const ks=6371008.8;class n4{constructor(a,l){if(isNaN(a)||isNaN(l))throw new Error(`Invalid LngLat object: (${a}, ${l})`);if(this.lng=+a,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new n4(Ya(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(a){const l=Math.PI/180,d=this.lat*l,g=a.lat*l,x=Math.sin(d)*Math.sin(g)+Math.cos(d)*Math.cos(g)*Math.cos((a.lng-this.lng)*l);return ks*Math.acos(Math.min(x,1))}static convert(a){if(a instanceof n4)return a;if(Array.isArray(a)&&(2===a.length||3===a.length))return new n4(Number(a[0]),Number(a[1]));if(!Array.isArray(a)&&"object"==typeof a&&null!==a)return new n4(Number("lng"in a?a.lng:a.lon),Number(a.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ml=2*Math.PI*ks;function Z0(c){return Ml*Math.cos(c*Math.PI/180)}function Ru(c){return(180+c)/360}function X0(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function Fu(c,a){return c/Z0(a)}function Y0(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}class K6{constructor(a,l,d=0){this.x=+a,this.y=+l,this.z=+d}static fromLngLat(a,l=0){const d=n4.convert(a);return new K6(Ru(d.lng),X0(d.lat),Fu(l,d.lat))}toLngLat(){return new n4(360*this.x-180,Y0(this.y))}toAltitude(){return this.z*Z0(Y0(this.y))}meterInMercatorCoordinateUnits(){return 1/Ml*(a=Y0(this.y),1/Math.cos(a*Math.PI/180));var a}}function Q6(c,a,l){var d=2*Math.PI*6378137/256/Math.pow(2,l);return[c*d-2*Math.PI*6378137/2,a*d-2*Math.PI*6378137/2]}class wl{constructor(a,l,d){if(a<0||a>25||d<0||d>=Math.pow(2,a)||l<0||l>=Math.pow(2,a))throw new Error(`x=${l}, y=${d}, z=${a} outside of bounds. 0<=x<${Math.pow(2,a)}, 0<=y<${Math.pow(2,a)} 0<=z<=25 `);this.z=a,this.x=l,this.y=d,this.key=J6(0,a,a,l,d)}equals(a){return this.z===a.z&&this.x===a.x&&this.y===a.y}url(a,l,d){const g=(M=this.y,S=this.z,V=Q6(256*(x=this.x),256*(M=Math.pow(2,S)-M-1),S),D=Q6(256*(x+1),256*(M+1),S),V[0]+","+V[1]+","+D[0]+","+D[1]);var x,M,S,V,D;const N=function(B,q,X){let Y,ne="";for(let se=B;se>0;se--)Y=1<<se-1,ne+=(q&Y?1:0)+(X&Y?2:0);return ne}(this.z,this.x,this.y);return a[(this.x+this.y)%a.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===d?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,N).replace(/{bbox-epsg-3857}/g,g)}isChildOf(a){const l=this.z-a.z;return l>0&&a.x===this.x>>l&&a.y===this.y>>l}getTilePoint(a){const l=Math.pow(2,this.z);return new I1((a.x*l-this.x)*st,(a.y*l-this.y)*st)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Bu{constructor(a,l){this.wrap=a,this.canonical=l,this.key=J6(a,l.z,l.z,l.x,l.y)}}class g3{constructor(a,l,d,g,x){if(a<d)throw new Error(`overscaledZ should be >= z; overscaledZ = ${a}; z = ${d}`);this.overscaledZ=a,this.wrap=l,this.canonical=new wl(d,+g,+x),this.key=J6(l,a,d,g,x)}clone(){return new g3(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(a){return this.overscaledZ===a.overscaledZ&&this.wrap===a.wrap&&this.canonical.equals(a.canonical)}scaledTo(a){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const l=this.canonical.z-a;return a>this.canonical.z?new g3(a,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new g3(a,this.wrap,a,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(a,l){if(a>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${a}; overscaledZ = ${this.overscaledZ}`);const d=this.canonical.z-a;return a>this.canonical.z?J6(this.wrap*+l,a,this.canonical.z,this.canonical.x,this.canonical.y):J6(this.wrap*+l,a,a,this.canonical.x>>d,this.canonical.y>>d)}isChildOf(a){if(a.wrap!==this.wrap)return!1;const l=this.canonical.z-a.canonical.z;return 0===a.overscaledZ||a.overscaledZ<this.overscaledZ&&a.canonical.x===this.canonical.x>>l&&a.canonical.y===this.canonical.y>>l}children(a){if(this.overscaledZ>=a)return[new g3(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,d=2*this.canonical.x,g=2*this.canonical.y;return[new g3(l,this.wrap,l,d,g),new g3(l,this.wrap,l,d+1,g),new g3(l,this.wrap,l,d,g+1),new g3(l,this.wrap,l,d+1,g+1)]}isLessThan(a){return this.wrap<a.wrap||!(this.wrap>a.wrap)&&(this.overscaledZ<a.overscaledZ||!(this.overscaledZ>a.overscaledZ)&&(this.canonical.x<a.canonical.x||!(this.canonical.x>a.canonical.x)&&this.canonical.y<a.canonical.y))}wrapped(){return new g3(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(a){return new g3(this.overscaledZ,a,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Bu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(a){return this.canonical.getTilePoint(new K6(a.x-this.wrap,a.y))}}function J6(c,a,l,d,g){(c*=2)<0&&(c=-1*c-1);const x=1<<l;return(x*x*c+x*g+d).toString(36)+l.toString(36)+a.toString(36)}p1("CanonicalTileID",wl),p1("OverscaledTileID",g3,{omit:["posMatrix"]});class Uu{constructor(a,l,d){if(this.uid=a,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(d&&"mapbox"!==d&&"terrarium"!==d)return void un(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const g=this.dim=l.height-2;this.data=new Uint32Array(l.data.buffer),this.encoding=d||"mapbox";for(let x=0;x<g;x++)this.data[this._idx(-1,x)]=this.data[this._idx(0,x)],this.data[this._idx(g,x)]=this.data[this._idx(g-1,x)],this.data[this._idx(x,-1)]=this.data[this._idx(x,0)],this.data[this._idx(x,g)]=this.data[this._idx(x,g-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(g,-1)]=this.data[this._idx(g-1,0)],this.data[this._idx(-1,g)]=this.data[this._idx(0,g-1)],this.data[this._idx(g,g)]=this.data[this._idx(g-1,g-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let x=0;x<g;x++)for(let M=0;M<g;M++){const S=this.get(x,M);S>this.max&&(this.max=S),S<this.min&&(this.min=S)}}get(a,l){const d=new Uint8Array(this.data.buffer),g=4*this._idx(a,l);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(d[g],d[g+1],d[g+2])}getUnpackVector(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(a,l){if(a<-1||a>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(a+1)}_unpackMapbox(a,l,d){return(256*a*256+256*l+d)/10-1e4}_unpackTerrarium(a,l,d){return 256*a+l+d/256-32768}getPixels(){return new A3({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(a,l,d){if(this.dim!==a.dim)throw new Error("dem dimension mismatch");let g=l*this.dim,x=l*this.dim+this.dim,M=d*this.dim,S=d*this.dim+this.dim;switch(l){case-1:g=x-1;break;case 1:x=g+1}switch(d){case-1:M=S-1;break;case 1:S=M+1}const V=-l*this.dim,D=-d*this.dim;for(let N=M;N<S;N++)for(let B=g;B<x;B++)this.data[this._idx(B,N)]=a.data[this._idx(B+V,N+D)]}}p1("DEMData",Uu);class $u{constructor(a){this._stringToNumber={},this._numberToString=[];for(let l=0;l<a.length;l++){const d=a[l];this._stringToNumber[d]=l,this._numberToString[l]=d}}encode(a){return this._stringToNumber[a]}decode(a){if(a>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${a} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[a]}}class ju{constructor(a,l,d,g,x){this.type="Feature",this._vectorTileFeature=a,a._z=l,a._x=d,a._y=g,this.properties=a.properties,this.id=x}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(a){this._geometry=a}toJSON(){const a={geometry:this.geometry};for(const l in this)"_geometry"!==l&&"_vectorTileFeature"!==l&&(a[l]=this[l]);return a}}class qu{constructor(a,l){this.tileID=a,this.x=a.canonical.x,this.y=a.canonical.y,this.z=a.canonical.z,this.grid=new ga(st,16,0),this.grid3D=new ga(st,16,0),this.featureIndexArray=new ye,this.promoteId=l}insert(a,l,d,g,x,M){const S=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,g,x);const V=M?this.grid3D:this.grid;for(let D=0;D<l.length;D++){const N=l[D],B=[1/0,1/0,-1/0,-1/0];for(let q=0;q<N.length;q++){const X=N[q];B[0]=Math.min(B[0],X.x),B[1]=Math.min(B[1],X.y),B[2]=Math.max(B[2],X.x),B[3]=Math.max(B[3],X.y)}B[0]<st&&B[1]<st&&B[2]>=0&&B[3]>=0&&V.insert(S,B[0],B[1],B[2],B[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Fi.VectorTile(new hl(this.rawTileData)).layers,this.sourceLayerCoder=new $u(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(a,l,d,g){this.loadVTLayers();const x=a.params||{},M=st/a.tileSize/a.scale,S=hs(x.filter),V=a.queryGeometry,D=a.queryPadding*M,N=Bo(V),B=this.grid.query(N.minX-D,N.minY-D,N.maxX+D,N.maxY+D),q=Bo(a.cameraQueryGeometry),X=this.grid3D.query(q.minX-D,q.minY-D,q.maxX+D,q.maxY+D,(se,le,xe,de)=>function(Ee,Ae,qe,f1,v1){for(const s1 of Ee)if(Ae<=s1.x&&qe<=s1.y&&f1>=s1.x&&v1>=s1.y)return!0;const u1=[new I1(Ae,qe),new I1(Ae,v1),new I1(f1,v1),new I1(f1,qe)];if(Ee.length>2)for(const s1 of u1)if(A2(Ee,s1))return!0;for(let s1=0;s1<Ee.length-1;s1++)if(x0(Ee[s1],Ee[s1+1],u1))return!0;return!1}(a.cameraQueryGeometry,se-D,le-D,xe+D,de+D));for(const se of X)B.push(se);B.sort(ec);const Y={};let ne;for(let se=0;se<B.length;se++){const le=B[se];if(le===ne)continue;ne=le;const xe=this.featureIndexArray.get(le);let de=null;this.loadMatchingFeature(Y,xe.bucketIndex,xe.sourceLayerIndex,xe.featureIndex,S,x.layers,x.availableImages,l,d,g,(Ee,Ae,qe)=>(de||(de=Ri(Ee)),Ae.queryIntersectsFeature(V,Ee,qe,de,this.z,a.transform,M,a.pixelPosMatrix)))}return Y}loadMatchingFeature(a,l,d,g,x,M,S,V,D,N,B){const q=this.bucketLayerIDs[l];if(M&&!function(se,le){for(let xe=0;xe<se.length;xe++)if(le.indexOf(se[xe])>=0)return!0;return!1}(M,q))return;const X=this.sourceLayerCoder.decode(d),Y=this.vtLayers[X].feature(g);if(x.needGeometry){const se=yn(Y,!0);if(!x.filter(new g2(this.tileID.overscaledZ),se,this.tileID.canonical))return}else if(!x.filter(new g2(this.tileID.overscaledZ),Y))return;const ne=this.getId(Y,X);for(let se=0;se<q.length;se++){const le=q[se];if(M&&M.indexOf(le)<0)continue;const xe=V[le];if(!xe)continue;let de={};ne&&N&&(de=N.getState(xe.sourceLayer||"_geojsonTileLayer",ne));const Ee=ln({},D[le]);Ee.paint=zl(Ee.paint,xe.paint,Y,de,S),Ee.layout=zl(Ee.layout,xe.layout,Y,de,S);const Ae=!B||B(Y,xe,de);if(!Ae)continue;const qe=new ju(Y,this.z,this.x,this.y,ne);qe.layer=Ee;let f1=a[le];void 0===f1&&(f1=a[le]=[]),f1.push({featureIndex:g,feature:qe,intersectionZ:Ae})}}lookupSymbolFeatures(a,l,d,g,x,M,S,V){const D={};this.loadVTLayers();const N=hs(x);for(const B of a)this.loadMatchingFeature(D,d,g,B,N,M,S,V,l);return D}hasLayer(a){for(const l of this.bucketLayerIDs)for(const d of l)if(a===d)return!0;return!1}getId(a,l){let d=a.id;return this.promoteId&&(d=a.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[l]],"boolean"==typeof d&&(d=Number(d))),d}}function zl(c,a,l,d,g){return O3(c,(x,M)=>{const S=a instanceof ki?a.get(M):null;return S&&S.evaluate?S.evaluate(l,d,g):S})}function Bo(c){let a=1/0,l=1/0,d=-1/0,g=-1/0;for(const x of c)a=Math.min(a,x.x),l=Math.min(l,x.y),d=Math.max(d,x.x),g=Math.max(g,x.y);return{minX:a,minY:l,maxX:d,maxY:g}}function ec(c,a){return a-c}function K0(c,a,l,d,g){const x=[];for(let M=0;M<c.length;M++){const S=c[M];let V;for(let D=0;D<S.length-1;D++){let N=S[D],B=S[D+1];N.x<a&&B.x<a||(N.x<a?N=new I1(a,N.y+(a-N.x)/(B.x-N.x)*(B.y-N.y))._round():B.x<a&&(B=new I1(a,N.y+(a-N.x)/(B.x-N.x)*(B.y-N.y))._round()),N.y<l&&B.y<l||(N.y<l?N=new I1(N.x+(l-N.y)/(B.y-N.y)*(B.x-N.x),l)._round():B.y<l&&(B=new I1(N.x+(l-N.y)/(B.y-N.y)*(B.x-N.x),l)._round()),N.x>=d&&B.x>=d||(N.x>=d?N=new I1(d,N.y+(d-N.x)/(B.x-N.x)*(B.y-N.y))._round():B.x>=d&&(B=new I1(d,N.y+(d-N.x)/(B.x-N.x)*(B.y-N.y))._round()),N.y>=g&&B.y>=g||(N.y>=g?N=new I1(N.x+(g-N.y)/(B.y-N.y)*(B.x-N.x),g)._round():B.y>=g&&(B=new I1(N.x+(g-N.y)/(B.y-N.y)*(B.x-N.x),g)._round()),V&&N.equals(V[V.length-1])||(V=[N],x.push(V)),V.push(B)))))}}return x}p1("FeatureIndex",qu,{omit:["rawTileData","sourceLayerCoder"]});class i4 extends I1{constructor(a,l,d,g){super(a,l),this.angle=d,void 0!==g&&(this.segment=g)}clone(){return new i4(this.x,this.y,this.angle,this.segment)}}function Q0(c,a,l,d,g){if(void 0===a.segment||0===l)return!0;let x=a,M=a.segment+1,S=0;for(;S>-l/2;){if(M--,M<0)return!1;S-=c[M].dist(x),x=c[M]}S+=c[M].dist(c[M+1]),M++;const V=[];let D=0;for(;S<l/2;){const N=c[M],B=c[M+1];if(!B)return!1;let q=c[M-1].angleTo(N)-N.angleTo(B);for(q=Math.abs((q+3*Math.PI)%(2*Math.PI)-Math.PI),V.push({distance:S,angleDelta:q}),D+=q;S-V[0].distance>d;)D-=V.shift().angleDelta;if(D>g)return!1;M++,S+=N.dist(B)}return!0}function Ea(c){let a=0;for(let l=0;l<c.length-1;l++)a+=c[l].dist(c[l+1]);return a}function J0(c,a,l){return c?.6*a*l:0}function e8(c,a){return Math.max(c?c.right-c.left:0,a?a.right-a.left:0)}function tc(c,a,l,d,g,x){const M=J0(l,g,x),S=e8(l,d)*x;let V=0;const D=Ea(c)/2;for(let N=0;N<c.length-1;N++){const B=c[N],q=c[N+1],X=B.dist(q);if(V+X>D){const Y=(D-V)/X,ne=L3.number(B.x,q.x,Y),se=L3.number(B.y,q.y,Y),le=new i4(ne,se,q.angleTo(B),N);return le._round(),!M||Q0(c,le,S,M,a)?le:void 0}V+=X}}function nc(c,a,l,d,g,x,M,S,V){const D=J0(d,x,M),N=e8(d,g),B=N*M,q=0===c[0].x||c[0].x===V||0===c[0].y||c[0].y===V;return a-B<a/4&&(a=B+a/4),r4(c,q?a/2*S%a:(N/2+2*x)*M*S%a,a,D,l,B,q,!1,V)}function r4(c,a,l,d,g,x,M,S,V){const D=x/2,N=Ea(c);let B=0,q=a-l,X=[];for(let Y=0;Y<c.length-1;Y++){const ne=c[Y],se=c[Y+1],le=ne.dist(se),xe=se.angleTo(ne);for(;q+l<B+le;){q+=l;const de=(q-B)/le,Ee=L3.number(ne.x,se.x,de),Ae=L3.number(ne.y,se.y,de);if(Ee>=0&&Ee<V&&Ae>=0&&Ae<V&&q-D>=0&&q+D<=N){const qe=new i4(Ee,Ae,xe,Y);qe._round(),d&&!Q0(c,qe,x,d,g)||X.push(qe)}}B+=le}return S||X.length||M||(X=r4(c,B/2,l,d,g,x,M,!0,V)),X}p1("Anchor",i4);const Ns=m3;function Sl(c,a,l,d){const g=[],x=c.image,M=x.pixelRatio,S=x.paddedRect.w-2*Ns,V=x.paddedRect.h-2*Ns,D=c.right-c.left,N=c.bottom-c.top,B=x.stretchX||[[0,S]],q=x.stretchY||[[0,V]],X=(t1,g1)=>t1+g1[1]-g1[0],Y=B.reduce(X,0),ne=q.reduce(X,0),se=S-Y,le=V-ne;let xe=0,de=Y,Ee=0,Ae=ne,qe=0,f1=se,v1=0,u1=le;if(x.content&&d){const t1=x.content;xe=ic(B,0,t1[0]),Ee=ic(q,0,t1[1]),de=ic(B,t1[0],t1[2]),Ae=ic(q,t1[1],t1[3]),qe=t1[0]-xe,v1=t1[1]-Ee,f1=t1[2]-t1[0]-de,u1=t1[3]-t1[1]-Ae}const s1=(t1,g1,i1,Ke)=>{const S1=Os(t1.stretch-xe,de,D,c.left),_1=rc(t1.fixed-qe,f1,t1.stretch,Y),n2=Os(g1.stretch-Ee,Ae,N,c.top),F2=rc(g1.fixed-v1,u1,g1.stretch,ne),B2=Os(i1.stretch-xe,de,D,c.left),Rt=rc(i1.fixed-qe,f1,i1.stretch,Y),s3=Os(Ke.stretch-Ee,Ae,N,c.top),tn=rc(Ke.fixed-v1,u1,Ke.stretch,ne),Ft=new I1(S1,n2),Zt=new I1(B2,n2),Ln=new I1(B2,s3),v3=new I1(S1,s3),o3=new I1(_1/M,F2/M),Tt=new I1(Rt/M,tn/M),Bt=a*Math.PI/180;if(Bt){const rn=Math.sin(Bt),y3=Math.cos(Bt),_t=[y3,-rn,rn,y3];Ft._matMult(_t),Zt._matMult(_t),v3._matMult(_t),Ln._matMult(_t)}const nn=t1.stretch+t1.fixed,Vn=g1.stretch+g1.fixed;return{tl:Ft,tr:Zt,bl:v3,br:Ln,tex:{x:x.paddedRect.x+Ns+nn,y:x.paddedRect.y+Ns+Vn,w:i1.stretch+i1.fixed-nn,h:Ke.stretch+Ke.fixed-Vn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:o3,pixelOffsetBR:Tt,minFontScaleX:f1/M/D,minFontScaleY:u1/M/N,isSDF:l}};if(d&&(x.stretchX||x.stretchY)){const t1=t8(B,se,Y),g1=t8(q,le,ne);for(let i1=0;i1<t1.length-1;i1++){const Ke=t1[i1],S1=t1[i1+1];for(let _1=0;_1<g1.length-1;_1++)g.push(s1(Ke,g1[_1],S1,g1[_1+1]))}}else g.push(s1({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:V+1}));return g}function ic(c,a,l){let d=0;for(const g of c)d+=Math.max(a,Math.min(l,g[1]))-Math.max(a,Math.min(l,g[0]));return d}function t8(c,a,l){const d=[{fixed:-Ns,stretch:0}];for(const[g,x]of c){const M=d[d.length-1];d.push({fixed:g-M.stretch,stretch:M.stretch}),d.push({fixed:g-M.stretch,stretch:M.stretch+(x-g)})}return d.push({fixed:a+Ns,stretch:l}),d}function Os(c,a,l,d){return c/a*l+d}function rc(c,a,l,d){return c-a*l/d}class ac{constructor(a,l,d,g,x,M,S,V,D,N){if(this.boxStartIndex=a.length,D){let B=M.top,q=M.bottom;const X=M.collisionPadding;X&&(B-=X[1],q+=X[3]);let Y=q-B;Y>0&&(Y=Math.max(10,Y),this.circleDiameter=Y)}else{let B=M.top*S-V[0],q=M.bottom*S+V[2],X=M.left*S-V[3],Y=M.right*S+V[1];const ne=M.collisionPadding;if(ne&&(X-=ne[0]*S,B-=ne[1]*S,Y+=ne[2]*S,q+=ne[3]*S),N){const se=new I1(X,B),le=new I1(Y,B),xe=new I1(X,q),de=new I1(Y,q),Ee=N*Math.PI/180;se._rotate(Ee),le._rotate(Ee),xe._rotate(Ee),de._rotate(Ee),X=Math.min(se.x,le.x,xe.x,de.x),Y=Math.max(se.x,le.x,xe.x,de.x),B=Math.min(se.y,le.y,xe.y,de.y),q=Math.max(se.y,le.y,xe.y,de.y)}a.emplaceBack(l.x,l.y,X,B,Y,q,d,g,x)}this.boxEndIndex=a.length}}class Gu{constructor(a=[],l=Hl){if(this.data=a,this.length=this.data.length,this.compare=l,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(a){this.data.push(a),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const a=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),a}peek(){return this.data[0]}_up(a){const{data:l,compare:d}=this,g=l[a];for(;a>0;){const x=a-1>>1,M=l[x];if(d(g,M)>=0)break;l[a]=M,a=x}l[a]=g}_down(a){const{data:l,compare:d}=this,g=this.length>>1,x=l[a];for(;a<g;){let M=1+(a<<1),S=l[M];const V=M+1;if(V<this.length&&d(l[V],S)<0&&(M=V,S=l[V]),d(S,x)>=0)break;l[a]=S,a=M}l[a]=x}}function Hl(c,a){return c<a?-1:c>a?1:0}function Wu(c,a=1,l=!1){let d=1/0,g=1/0,x=-1/0,M=-1/0;const S=c[0];for(let X=0;X<S.length;X++){const Y=S[X];(!X||Y.x<d)&&(d=Y.x),(!X||Y.y<g)&&(g=Y.y),(!X||Y.x>x)&&(x=Y.x),(!X||Y.y>M)&&(M=Y.y)}const V=Math.min(x-d,M-g);let D=V/2;const N=new Gu([],Zu);if(0===V)return new I1(d,g);for(let X=d;X<x;X+=V)for(let Y=g;Y<M;Y+=V)N.push(new Cn(X+D,Y+D,D,c));let B=function(X){let Y=0,ne=0,se=0;const le=X[0];for(let xe=0,de=le.length,Ee=de-1;xe<de;Ee=xe++){const Ae=le[xe],qe=le[Ee],f1=Ae.x*qe.y-qe.x*Ae.y;ne+=(Ae.x+qe.x)*f1,se+=(Ae.y+qe.y)*f1,Y+=3*f1}return new Cn(ne/Y,se/Y,0,X)}(c),q=N.length;for(;N.length;){const X=N.pop();(X.d>B.d||!B.d)&&(B=X,l&&console.log("found best %d after %d probes",Math.round(1e4*X.d)/1e4,q)),X.max-B.d<=a||(D=X.h/2,N.push(new Cn(X.p.x-D,X.p.y-D,D,c)),N.push(new Cn(X.p.x+D,X.p.y-D,D,c)),N.push(new Cn(X.p.x-D,X.p.y+D,D,c)),N.push(new Cn(X.p.x+D,X.p.y+D,D,c)),q+=4)}return l&&(console.log(`num probes: ${q}`),console.log(`best distance: ${B.d}`)),B.p}function Zu(c,a){return a.max-c.max}function Cn(c,a,l,d){this.p=new I1(c,a),this.h=l,this.d=function(g,x){let M=!1,S=1/0;for(let V=0;V<x.length;V++){const D=x[V];for(let N=0,B=D.length,q=B-1;N<B;q=N++){const X=D[N],Y=D[q];X.y>g.y!=Y.y>g.y&&g.x<(Y.x-X.x)*(g.y-X.y)/(Y.y-X.y)+X.x&&(M=!M),S=Math.min(S,_0(g,X,Y))}}return(M?1:-1)*Math.sqrt(S)}(this.p,d),this.max=this.d+this.h*Math.SQRT2}var en;_.TextAnchorEnum=void 0,(en=_.TextAnchorEnum||(_.TextAnchorEnum={}))[en.center=1]="center",en[en.left=2]="left",en[en.right=3]="right",en[en.top=4]="top",en[en.bottom=5]="bottom",en[en["top-left"]=6]="top-left",en[en["top-right"]=7]="top-right",en[en["bottom-left"]=8]="bottom-left",en[en["bottom-right"]=9]="bottom-right";const a4=7,Uo=Number.POSITIVE_INFINITY;function Gn(c,a){return a[1]!==Uo?function(l,d,g){let x=0,M=0;switch(d=Math.abs(d),g=Math.abs(g),l){case"top-right":case"top-left":case"top":M=g-a4;break;case"bottom-right":case"bottom-left":case"bottom":M=-g+a4}switch(l){case"top-right":case"bottom-right":case"right":x=-d;break;case"top-left":case"bottom-left":case"left":x=d}return[x,M]}(c,a[0],a[1]):function(l,d){let g=0,x=0;d<0&&(d=0);const M=d/Math.SQRT2;switch(l){case"top-right":case"top-left":x=M-a4;break;case"bottom-right":case"bottom-left":x=-M+a4;break;case"bottom":x=-d+a4;break;case"top":x=d-a4}switch(l){case"top-right":case"bottom-right":g=-M;break;case"top-left":case"bottom-left":g=M;break;case"left":g=d;break;case"right":g=-d}return[g,x]}(c,a[0])}function Rs(c,a,l){var d;const g=c.layout,x=null===(d=g.get("text-variable-anchor-offset"))||void 0===d?void 0:d.evaluate(a,{},l);if(x){const S=x.values,V=[];for(let D=0;D<S.length;D+=2){const N=V[D]=S[D],B=S[D+1].map(q=>q*Wt);N.startsWith("top")?B[1]-=a4:N.startsWith("bottom")&&(B[1]+=a4),V[D+1]=B}return new zn(V)}const M=g.get("text-variable-anchor");if(M){let S;S=void 0!==c._unevaluatedLayout.getValue("text-radial-offset")?[g.get("text-radial-offset").evaluate(a,{},l)*Wt,Uo]:g.get("text-offset").evaluate(a,{},l).map(D=>D*Wt);const V=[];for(const D of M)V.push(D,Gn(D,S));return new zn(V)}return null}function sc(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Ll(c,a,l,d,g,x,M,S,V,D,N){let B=x.textMaxSize.evaluate(a,{});void 0===B&&(B=M);const q=c.layers[0].layout,X=q.get("icon-offset").evaluate(a,{},N),Y=n8(l.horizontal),ne=M/24,se=c.tilePixelRatio*ne,le=c.tilePixelRatio*B/24,xe=c.tilePixelRatio*S,de=c.tilePixelRatio*q.get("symbol-spacing"),Ee=q.get("text-padding")*c.tilePixelRatio,Ae=function(Ke,S1,_1,n2=1){const F2=Ke.get("icon-padding").evaluate(S1,{},_1),B2=F2&&F2.values;return[B2[0]*n2,B2[1]*n2,B2[2]*n2,B2[3]*n2]}(q,a,N,c.tilePixelRatio),qe=q.get("text-max-angle")/180*Math.PI,f1="viewport"!==q.get("text-rotation-alignment")&&"point"!==q.get("symbol-placement"),v1="map"===q.get("icon-rotation-alignment")&&"point"!==q.get("symbol-placement"),u1=q.get("symbol-placement"),s1=de/2,t1=q.get("icon-text-fit");let g1;d&&"none"!==t1&&(c.allowVerticalPlacement&&l.vertical&&(g1=yl(d,l.vertical,t1,q.get("icon-text-fit-padding"),X,ne)),Y&&(d=yl(d,Y,t1,q.get("icon-text-fit-padding"),X,ne)));const i1=(Ke,S1)=>{S1.x<0||S1.x>=st||S1.y<0||S1.y>=st||function(_1,n2,F2,B2,Rt,s3,tn,Ft,Zt,Ln,v3,o3,Tt,Bt,nn,Vn,rn,y3,_t,Wn,c2,c3,En,Xt,_3){const Y3=_1.addToLineVertexArray(n2,F2);let xi,_r,K3,xn,C3=0,s4=0,Go=0,Pl=0,o8=-1,x3=-1;const Tn={};let Dl=vi("");if(_1.allowVerticalPlacement&&B2.vertical){const Pn=Ft.layout.get("text-rotate").evaluate(c2,{},Xt)+90;K3=new ac(Zt,n2,Ln,v3,o3,B2.vertical,Tt,Bt,nn,Pn),tn&&(xn=new ac(Zt,n2,Ln,v3,o3,tn,rn,y3,nn,Pn))}if(Rt){const Pn=Ft.layout.get("icon-rotate").evaluate(c2,{}),bi="none"!==Ft.layout.get("icon-text-fit"),Fs=Sl(Rt,Pn,En,bi),xr=tn?Sl(tn,Pn,En,bi):void 0;_r=new ac(Zt,n2,Ln,v3,o3,Rt,rn,y3,!1,Pn),C3=4*Fs.length;const o4=_1.iconSizeData;let Mi=null;"source"===o4.kind?(Mi=[yr*Ft.layout.get("icon-size").evaluate(c2,{})],Mi[0]>q4&&un(`${_1.layerIds[0]}: Value for "icon-size" is >= ${Ro}. Reduce your "icon-size".`)):"composite"===o4.kind&&(Mi=[yr*c3.compositeIconSizes[0].evaluate(c2,{},Xt),yr*c3.compositeIconSizes[1].evaluate(c2,{},Xt)],(Mi[0]>q4||Mi[1]>q4)&&un(`${_1.layerIds[0]}: Value for "icon-size" is >= ${Ro}. Reduce your "icon-size".`)),_1.addSymbols(_1.icon,Fs,Mi,Wn,_t,c2,_.WritingMode.none,n2,Y3.lineStartIndex,Y3.lineLength,-1,Xt),o8=_1.icon.placedSymbolArray.length-1,xr&&(s4=4*xr.length,_1.addSymbols(_1.icon,xr,Mi,Wn,_t,c2,_.WritingMode.vertical,n2,Y3.lineStartIndex,Y3.lineLength,-1,Xt),x3=_1.icon.placedSymbolArray.length-1)}const Al=Object.keys(B2.horizontal);for(const Pn of Al){const bi=B2.horizontal[Pn];if(!xi){Dl=vi(bi.text);const xr=Ft.layout.get("text-rotate").evaluate(c2,{},Xt);xi=new ac(Zt,n2,Ln,v3,o3,bi,Tt,Bt,nn,xr)}const Fs=1===bi.positionedLines.length;if(Go+=Vl(_1,n2,bi,s3,Ft,nn,c2,Vn,Y3,B2.vertical?_.WritingMode.horizontal:_.WritingMode.horizontalOnly,Fs?Al:[Pn],Tn,o8,c3,Xt),Fs)break}B2.vertical&&(Pl+=Vl(_1,n2,B2.vertical,s3,Ft,nn,c2,Vn,Y3,_.WritingMode.vertical,["vertical"],Tn,x3,c3,Xt));const Yu=xi?xi.boxStartIndex:_1.collisionBoxArray.length,Ku=xi?xi.boxEndIndex:_1.collisionBoxArray.length,Qu=K3?K3.boxStartIndex:_1.collisionBoxArray.length,Ju=K3?K3.boxEndIndex:_1.collisionBoxArray.length,Il=_r?_r.boxStartIndex:_1.collisionBoxArray.length,ef=_r?_r.boxEndIndex:_1.collisionBoxArray.length,tf=xn?xn.boxStartIndex:_1.collisionBoxArray.length,nf=xn?xn.boxEndIndex:_1.collisionBoxArray.length;let $i=-1;const Ta=(Pn,bi)=>Pn&&Pn.circleDiameter?Math.max(Pn.circleDiameter,bi):bi;$i=Ta(xi,$i),$i=Ta(K3,$i),$i=Ta(_r,$i),$i=Ta(xn,$i);const Cr=$i>-1?1:0;Cr&&($i*=_3/Wt),_1.glyphOffsetArray.length>=t4.MAX_GLYPHS&&un("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==c2.sortKey&&_1.addToSortKeyRanges(_1.symbolInstances.length,c2.sortKey);const Wo=Rs(Ft,c2,Xt),[kl,Nl]=function(Pn,bi){const Fs=Pn.length,xr=bi?.values;if(xr?.length>0)for(let o4=0;o4<xr.length;o4+=2){const Mi=xr[o4+1];Pn.emplaceBack(_.TextAnchorEnum[xr[o4]],Mi[0],Mi[1])}return[Fs,Pn.length]}(_1.textAnchorOffsets,Wo);_1.symbolInstances.emplaceBack(n2.x,n2.y,Tn.right>=0?Tn.right:-1,Tn.center>=0?Tn.center:-1,Tn.left>=0?Tn.left:-1,Tn.vertical||-1,o8,x3,Dl,Yu,Ku,Qu,Ju,Il,ef,tf,nf,Ln,Go,Pl,C3,s4,Cr,0,Tt,$i,kl,Nl)}(c,S1,Ke,l,d,g,g1,c.layers[0],c.collisionBoxArray,a.index,a.sourceLayerIndex,c.index,se,[Ee,Ee,Ee,Ee],f1,V,xe,Ae,v1,X,a,x,D,N,M)};if("line"===u1)for(const Ke of K0(a.geometry,0,0,st,st)){const S1=nc(Ke,de,qe,l.vertical||Y,d,24,le,c.overscaling,st);for(const _1 of S1)Y&&Xu(c,Y.text,s1,_1)||i1(Ke,_1)}else if("line-center"===u1){for(const Ke of a.geometry)if(Ke.length>1){const S1=tc(Ke,qe,l.vertical||Y,d,24,le);S1&&i1(Ke,S1)}}else if("Polygon"===a.type)for(const Ke of Ao(a.geometry,0)){const S1=Wu(Ke,16);i1(Ke[0],new i4(S1.x,S1.y,0))}else if("LineString"===a.type)for(const Ke of a.geometry)i1(Ke,new i4(Ke[0].x,Ke[0].y,0));else if("Point"===a.type)for(const Ke of a.geometry)for(const S1 of Ke)i1([S1],new i4(S1.x,S1.y,0))}function Vl(c,a,l,d,g,x,M,S,V,D,N,B,q,X,Y){const ne=function(xe,de,Ee,Ae,qe,f1,v1,u1){const s1=Ae.layout.get("text-rotate").evaluate(f1,{})*Math.PI/180,t1=[];for(const g1 of de.positionedLines)for(const i1 of g1.positionedGlyphs){if(!i1.rect)continue;const Ke=i1.rect||{};let S1=pl+1,_1=!0,n2=1,F2=0;const B2=(qe||u1)&&i1.vertical,Rt=i1.metrics.advance*i1.scale/2;if(u1&&de.verticalizable&&(F2=g1.lineOffset/2-(i1.imageName?-(Wt-i1.metrics.width*i1.scale)/2:(i1.scale-1)*Wt)),i1.imageName){const _t=v1[i1.imageName];_1=_t.sdf,n2=_t.pixelRatio,S1=m3/n2}const s3=qe?[i1.x+Rt,i1.y]:[0,0];let tn=qe?[0,0]:[i1.x+Rt+Ee[0],i1.y+Ee[1]-F2],Ft=[0,0];B2&&(Ft=tn,tn=[0,0]);const Zt=(i1.metrics.left-S1)*i1.scale-Rt+tn[0],Ln=(-i1.metrics.top-S1)*i1.scale+tn[1],v3=Zt+Ke.w*i1.scale/n2,o3=Ln+Ke.h*i1.scale/n2,Tt=new I1(Zt,Ln),Bt=new I1(v3,Ln),nn=new I1(Zt,o3),Vn=new I1(v3,o3);if(B2){const _t=new I1(-Rt,Rt-vr),Wn=-Math.PI/2,c2=Wt/2-Rt,c3=new I1(5-vr-c2,-(i1.imageName?c2:0)),En=new I1(...Ft);Tt._rotateAround(Wn,_t)._add(c3)._add(En),Bt._rotateAround(Wn,_t)._add(c3)._add(En),nn._rotateAround(Wn,_t)._add(c3)._add(En),Vn._rotateAround(Wn,_t)._add(c3)._add(En)}if(s1){const _t=Math.sin(s1),Wn=Math.cos(s1),c2=[Wn,-_t,_t,Wn];Tt._matMult(c2),Bt._matMult(c2),nn._matMult(c2),Vn._matMult(c2)}const rn=new I1(0,0),y3=new I1(0,0);t1.push({tl:Tt,tr:Bt,bl:nn,br:Vn,tex:Ke,writingMode:de.writingMode,glyphOffset:s3,sectionIndex:i1.sectionIndex,isSDF:_1,pixelOffsetTL:rn,pixelOffsetBR:y3,minFontScaleX:0,minFontScaleY:0})}return t1}(0,l,S,g,x,M,d,c.allowVerticalPlacement),se=c.textSizeData;let le=null;"source"===se.kind?(le=[yr*g.layout.get("text-size").evaluate(M,{})],le[0]>q4&&un(`${c.layerIds[0]}: Value for "text-size" is >= ${Ro}. Reduce your "text-size".`)):"composite"===se.kind&&(le=[yr*X.compositeTextSizes[0].evaluate(M,{},Y),yr*X.compositeTextSizes[1].evaluate(M,{},Y)],(le[0]>q4||le[1]>q4)&&un(`${c.layerIds[0]}: Value for "text-size" is >= ${Ro}. Reduce your "text-size".`)),c.addSymbols(c.text,ne,le,S,x,M,D,a,V.lineStartIndex,V.lineLength,q,Y);for(const xe of N)B[xe]=c.text.placedSymbolArray.length-1;return 4*ne.length}function n8(c){for(const a in c)return c[a];return null}function Xu(c,a,l,d){const g=c.compareText;if(a in g){const x=g[a];for(let M=x.length-1;M>=0;M--)if(d.dist(x[M])<l)return!0}else g[a]=[];return g[a].push(d),!1}const i8=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class r8{static from(a){if(!(a instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[l,d]=new Uint8Array(a,0,2);if(219!==l)throw new Error("Data does not appear to be in a KDBush format.");const g=d>>4;if(1!==g)throw new Error(`Got v${g} data when expected v1.`);const x=i8[15&d];if(!x)throw new Error("Unrecognized array type.");const[M]=new Uint16Array(a,2,1),[S]=new Uint32Array(a,4,1);return new r8(S,M,x,a)}constructor(a,l=64,d=Float64Array,g){if(isNaN(a)||a<0)throw new Error(`Unpexpected numItems value: ${a}.`);this.numItems=+a,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=d,this.IndexArrayType=a<65536?Uint16Array:Uint32Array;const x=i8.indexOf(this.ArrayType),M=2*a*this.ArrayType.BYTES_PER_ELEMENT,S=a*this.IndexArrayType.BYTES_PER_ELEMENT,V=(8-S%8)%8;if(x<0)throw new Error(`Unexpected typed array class: ${d}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+S+V,2*a),this._pos=2*a,this._finished=!0):(this.data=new ArrayBuffer(8+M+S+V),this.ids=new this.IndexArrayType(this.data,8,a),this.coords=new this.ArrayType(this.data,8+S+V,2*a),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=a)}add(a,l){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=a,this.coords[this._pos++]=l,d}finish(){const a=this._pos>>1;if(a!==this.numItems)throw new Error(`Added ${a} items when expected ${this.numItems}.`);return oc(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(a,l,d,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:M,nodeSize:S}=this,V=[0,x.length-1,0],D=[];for(;V.length;){const N=V.pop()||0,B=V.pop()||0,q=V.pop()||0;if(B-q<=S){for(let se=q;se<=B;se++){const le=M[2*se],xe=M[2*se+1];le>=a&&le<=d&&xe>=l&&xe<=g&&D.push(x[se])}continue}const X=q+B>>1,Y=M[2*X],ne=M[2*X+1];Y>=a&&Y<=d&&ne>=l&&ne<=g&&D.push(x[X]),(0===N?a<=Y:l<=ne)&&(V.push(q),V.push(X-1),V.push(1-N)),(0===N?d>=Y:g>=ne)&&(V.push(X+1),V.push(B),V.push(1-N))}return D}within(a,l,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:x,nodeSize:M}=this,S=[0,g.length-1,0],V=[],D=d*d;for(;S.length;){const N=S.pop()||0,B=S.pop()||0,q=S.pop()||0;if(B-q<=M){for(let se=q;se<=B;se++)cc(x[2*se],x[2*se+1],a,l)<=D&&V.push(g[se]);continue}const X=q+B>>1,Y=x[2*X],ne=x[2*X+1];cc(Y,ne,a,l)<=D&&V.push(g[X]),(0===N?a-d<=Y:l-d<=ne)&&(S.push(q),S.push(X-1),S.push(1-N)),(0===N?a+d>=Y:l+d>=ne)&&(S.push(X+1),S.push(B),S.push(1-N))}return V}}function oc(c,a,l,d,g,x){if(g-d<=l)return;const M=d+g>>1;El(c,a,M,d,g,x),oc(c,a,l,d,M-1,1-x),oc(c,a,l,M+1,g,1-x)}function El(c,a,l,d,g,x){for(;g>d;){if(g-d>600){const D=g-d+1,N=l-d+1,B=Math.log(D),q=.5*Math.exp(2*B/3),X=.5*Math.sqrt(B*q*(D-q)/D)*(N-D/2<0?-1:1);El(c,a,l,Math.max(d,Math.floor(l-N*q/D+X)),Math.min(g,Math.floor(l+(D-N)*q/D+X)),x)}const M=a[2*l+x];let S=d,V=g;for($o(c,a,d,l),a[2*g+x]>M&&$o(c,a,d,g);S<V;){for($o(c,a,S,V),S++,V--;a[2*S+x]<M;)S++;for(;a[2*V+x]>M;)V--}a[2*d+x]===M?$o(c,a,d,V):(V++,$o(c,a,V,g)),V<=l&&(d=V+1),l<=V&&(g=V-1)}}function $o(c,a,l,d){jo(c,l,d),jo(a,2*l,2*d),jo(a,2*l+1,2*d+1)}function jo(c,a,l){const d=c[a];c[a]=c[l],c[l]=d}function cc(c,a,l,d){const g=c-l,x=a-d;return g*g+x*x}var a8;_.PerformanceMarkers=void 0,(a8=_.PerformanceMarkers||(_.PerformanceMarkers={})).create="create",a8.load="load",a8.fullLoad="fullLoad";let W4=null,qo=[];const s8=1e3/60,lc="loadTime",uc="fullLoadTime",Tl={mark(c){performance.mark(c)},frame(c){const a=c;null!=W4&&qo.push(a-W4),W4=a},clearMetrics(){W4=null,qo=[],performance.clearMeasures(lc),performance.clearMeasures(uc);for(const c in _.PerformanceMarkers)performance.clearMarks(_.PerformanceMarkers[c])},getPerformanceMetrics(){performance.measure(lc,_.PerformanceMarkers.create,_.PerformanceMarkers.load),performance.measure(uc,_.PerformanceMarkers.create,_.PerformanceMarkers.fullLoad);const c=performance.getEntriesByName(lc)[0].duration,a=performance.getEntriesByName(uc)[0].duration,l=qo.length,d=1/(qo.reduce((x,M)=>x+M,0)/l/1e3),g=qo.filter(x=>x>s8).reduce((x,M)=>x+(M-s8)/s8,0);return{loadTime:c,fullLoadTime:a,fps:d,percentDroppedFrames:g/(l+g)*100,totalFrames:l}}};_.AJAXError=tr,_.ARRAY_TYPE=_s,_.Actor=class{constructor(c,a,l){this.receive=d=>{const g=d.data,x=g.id;if(x&&(!g.targetMapId||this.mapId===g.targetMapId))if("<cancel>"===g.type){delete this.tasks[x];const M=this.cancelCallbacks[x];delete this.cancelCallbacks[x],M&&M()}else In()||g.mustQueue?(this.tasks[x]=g,this.taskQueue.push(x),this.invoker.trigger()):this.processTask(x,g)},this.process=()=>{if(!this.taskQueue.length)return;const d=this.taskQueue.shift(),g=this.tasks[d];delete this.tasks[d],this.taskQueue.length&&this.invoker.trigger(),g&&this.processTask(d,g)},this.target=c,this.parent=a,this.mapId=l,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new Ou(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=In()?c:window}send(c,a,l,d,g=!1){const x=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(this.callbacks[x]=l);const M=Ji(this.globalScope)?void 0:[];return this.target.postMessage({id:x,type:c,hasCallback:!!l,targetMapId:d,mustQueue:g,sourceMapId:this.mapId,data:va(a,M)},M),{cancel:()=>{l&&delete this.callbacks[x],this.target.postMessage({id:x,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}processTask(c,a){if("<response>"===a.type){const l=this.callbacks[c];delete this.callbacks[c],l&&(a.error?l(tt(a.error)):l(null,tt(a.data)))}else{let l=!1;const d=Ji(this.globalScope)?void 0:[],g=a.hasCallback?(S,V)=>{l=!0,delete this.cancelCallbacks[c],this.target.postMessage({id:c,type:"<response>",sourceMapId:this.mapId,error:S?va(S):null,data:va(V,d)},d)}:S=>{l=!0};let x=null;const M=tt(a.data);if(this.parent[a.type])x=this.parent[a.type](a.sourceMapId,M,g);else if(this.parent.getWorkerSource){const S=a.type.split(".");x=this.parent.getWorkerSource(a.sourceMapId,S[0],M.source)[S[1]](M,g)}else g(new Error(`Could not find function ${a.type}`));!l&&x&&x.cancel&&(this.cancelCallbacks[c]=x.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},_.AlphaImage=Po,_.CanonicalTileID=wl,_.CollisionBoxArray=L,_.CollisionCircleLayoutArray=class extends Ni{},_.Color=D1,_.DEMData=Uu,_.DataConstantProperty=M1,_.DictionaryCoder=$u,_.EXTENT=st,_.ErrorEvent=d2,_.EvaluationParameters=g2,_.Event=S3,_.Evented=oi,_.FeatureIndex=qu,_.FillBucket=Kr,_.FillExtrusionBucket=J5,_.GeoJSONFeature=ju,_.ImageAtlas=ml,_.ImagePosition=Ha,_.KDBush=r8,_.LineBucket=Ci,_.LineStripIndexArray=class extends v{},_.LngLat=n4,_.MercatorCoordinate=K6,_.ONE_EM=Wt,_.OverscaledTileID=g3,_.PerformanceUtils=Tl,_.Point=I1,_.Pos3dArray=class extends jr{},_.PosArray=De,_.Properties=ht,_.Protobuf=hl,_.QuadTriangleArray=class extends i3{},_.RGBAImage=A3,_.RasterBoundsArray=class extends F4{},_.RequestPerformance=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return 0===c.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},_.SegmentVector=z1,_.SymbolBucket=t4,_.Transitionable=Ur,_.TriangleIndexArray=H1,_.Uniform1f=Ot,_.Uniform1i=class extends Nt{constructor(c,a){super(c,a),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},_.Uniform2f=class extends Nt{constructor(c,a){super(c,a),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},_.Uniform3f=class extends Nt{constructor(c,a){super(c,a),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},_.Uniform4f=Qt,_.UniformColor=B4,_.UniformMatrix4f=class extends Nt{constructor(c,a){super(c,a),this.current=Vt}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let a=1;a<16;a++)if(c[a]!==this.current[a]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},_.UnwrappedTileID=Bu,_.ValidationError=r1,_.ZoomHistory=Ho,_.addDynamicAttributes=Is,_.arrayBufferToImage=function(c,a){const l=new Image;l.onload=()=>{a(null,l),URL.revokeObjectURL(l.src),l.onload=null,window.requestAnimationFrame(()=>{l.src=w3})},l.onerror=()=>a(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const d=new Blob([new Uint8Array(c)],{type:"image/png"});l.src=c.byteLength?URL.createObjectURL(d):w3},_.arrayBufferToImageBitmap=function(c,a){const l=new Blob([new Uint8Array(c)],{type:"image/png"});createImageBitmap(l).then(d=>{a(null,d)}).catch(d=>{a(new Error(`Could not load image because of ${d.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},_.asyncAll=function(c,a,l){if(!c.length)return l(null,[]);let d=c.length;const g=new Array(c.length);let x=null;c.forEach((M,S)=>{a(M,(V,D)=>{V&&(x=V),g[S]=D,0==--d&&l(x,g)})})},_.bezier=Qi,_.browser=Dr,_.clamp=lt,_.clipLine=K0,_.clone=function(c){var a=new _s(16);return a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15],a},_.clone$1=Jn,_.collisionCircleLayout=Hu,_.config=mt,_.copy=function(c,a){return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c},_.create=function(){var c=new _s(16);return _s!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},_.createExpression=o2,_.createFilter=hs,_.createLayout=K2,_.createStyleLayer=function(c){if("custom"===c.type)return new Nu(c);switch(c.type){case"background":return new xl(c);case"circle":return new R5(c);case"fill":return new Cu(c);case"fill-extrusion":return new k0(c);case"heatmap":return new du(c);case"hillshade":return new mu(c);case"line":return new O0(c);case"raster":return new ku(c);case"symbol":return new G4(c)}},_.deepEqual=function c(a,l){if(Array.isArray(a)){if(!Array.isArray(l)||a.length!==l.length)return!1;for(let d=0;d<a.length;d++)if(!c(a[d],l[d]))return!1;return!0}if("object"==typeof a&&null!==a&&null!==l){if("object"!=typeof l||Object.keys(a).length!==Object.keys(l).length)return!1;for(const d in a)if(!c(a[d],l[d]))return!1;return!0}return a===l},_.defaultEasing=u3,_.derefLayers=function(c){c=c.slice();const a=Object.create(null);for(let l=0;l<c.length;l++)a[c[l].id]=c[l];for(let l=0;l<c.length;l++)"ref"in c[l]&&(c[l]=x4(c[l],a[c[l].ref]));return c},_.diffStyles=function(c,a){if(!c)return[{command:b2.setStyle,args:[a]}];let l=[];try{if(!T2(c.version,a.version))return[{command:b2.setStyle,args:[a]}];T2(c.center,a.center)||l.push({command:b2.setCenter,args:[a.center]}),T2(c.zoom,a.zoom)||l.push({command:b2.setZoom,args:[a.zoom]}),T2(c.bearing,a.bearing)||l.push({command:b2.setBearing,args:[a.bearing]}),T2(c.pitch,a.pitch)||l.push({command:b2.setPitch,args:[a.pitch]}),T2(c.sprite,a.sprite)||l.push({command:b2.setSprite,args:[a.sprite]}),T2(c.glyphs,a.glyphs)||l.push({command:b2.setGlyphs,args:[a.glyphs]}),T2(c.transition,a.transition)||l.push({command:b2.setTransition,args:[a.transition]}),T2(c.light,a.light)||l.push({command:b2.setLight,args:[a.light]});const d={},g=[];!function(M,S,V,D){let N;for(N in S=S||{},M=M||{})Object.prototype.hasOwnProperty.call(M,N)&&(Object.prototype.hasOwnProperty.call(S,N)||M4(N,V,D));for(N in S)Object.prototype.hasOwnProperty.call(S,N)&&(Object.prototype.hasOwnProperty.call(M,N)?T2(M[N],S[N])||("geojson"===M[N].type&&"geojson"===S[N].type&&ao(M,S,N)?V.push({command:b2.setGeoJSONSourceData,args:[N,S[N].data]}):ro(N,S,V,D)):b4(N,S,V))}(c.sources,a.sources,g,d);const x=[];c.layers&&c.layers.forEach(M=>{d[M.source]?l.push({command:b2.removeLayer,args:[M.id]}):x.push(M)}),l=l.concat(g),function(M,S,V){S=S||[];const D=(M=M||[]).map(w4),N=S.map(w4),B=M.reduce(z4,{}),q=S.reduce(z4,{}),X=D.slice(),Y=Object.create(null);let ne,se,le,xe,de,Ee,Ae;for(ne=0,se=0;ne<D.length;ne++)le=D[ne],Object.prototype.hasOwnProperty.call(q,le)?se++:(V.push({command:b2.removeLayer,args:[le]}),X.splice(X.indexOf(le,se),1));for(ne=0,se=0;ne<N.length;ne++)le=N[N.length-1-ne],X[X.length-1-ne]!==le&&(Object.prototype.hasOwnProperty.call(B,le)?(V.push({command:b2.removeLayer,args:[le]}),X.splice(X.lastIndexOf(le,X.length-se),1)):se++,Ee=X[X.length-ne],V.push({command:b2.addLayer,args:[q[le],Ee]}),X.splice(X.length-ne,0,le),Y[le]=!0);for(ne=0;ne<N.length;ne++)if(le=N[ne],xe=B[le],de=q[le],!Y[le]&&!T2(xe,de))if(T2(xe.source,de.source)&&T2(xe["source-layer"],de["source-layer"])&&T2(xe.type,de.type)){for(Ae in ft(xe.layout,de.layout,V,le,null,b2.setLayoutProperty),ft(xe.paint,de.paint,V,le,null,b2.setPaintProperty),T2(xe.filter,de.filter)||V.push({command:b2.setFilter,args:[le,de.filter]}),T2(xe.minzoom,de.minzoom)&&T2(xe.maxzoom,de.maxzoom)||V.push({command:b2.setLayerZoomRange,args:[le,de.minzoom,de.maxzoom]}),xe)Object.prototype.hasOwnProperty.call(xe,Ae)&&"layout"!==Ae&&"paint"!==Ae&&"filter"!==Ae&&"metadata"!==Ae&&"minzoom"!==Ae&&"maxzoom"!==Ae&&(0===Ae.indexOf("paint.")?ft(xe[Ae],de[Ae],V,le,Ae.slice(6),b2.setPaintProperty):T2(xe[Ae],de[Ae])||V.push({command:b2.setLayerProperty,args:[le,Ae,de[Ae]]}));for(Ae in de)Object.prototype.hasOwnProperty.call(de,Ae)&&!Object.prototype.hasOwnProperty.call(xe,Ae)&&"layout"!==Ae&&"paint"!==Ae&&"filter"!==Ae&&"metadata"!==Ae&&"minzoom"!==Ae&&"maxzoom"!==Ae&&(0===Ae.indexOf("paint.")?ft(xe[Ae],de[Ae],V,le,Ae.slice(6),b2.setPaintProperty):T2(xe[Ae],de[Ae])||V.push({command:b2.setLayerProperty,args:[le,Ae,de[Ae]]}))}else V.push({command:b2.removeLayer,args:[le]}),Ee=X[X.lastIndexOf(le)+1],V.push({command:b2.addLayer,args:[de,Ee]})}(x,a.layers,l)}catch(d){console.warn("Unable to compute style diff:",d),l=[{command:b2.setStyle,args:[a]}]}return l},_.dot=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]},_.earthRadius=ks,_.emitValidationErrors=ms,_.emptyStyle=function(){const c={},a=Fe.$version;for(const l in Fe.$root){const d=Fe.$root[l];if(d.required){let g=null;g="version"===l?a:"array"===d.type?[]:{},null!=g&&(c[l]=g)}}return c},_.equals=function(c,a){var l=c[0],d=c[1],g=c[2],x=c[3],M=c[4],S=c[5],V=c[6],D=c[7],N=c[8],B=c[9],q=c[10],X=c[11],Y=c[12],ne=c[13],se=c[14],le=c[15],xe=a[0],de=a[1],Ee=a[2],Ae=a[3],qe=a[4],f1=a[5],v1=a[6],u1=a[7],s1=a[8],t1=a[9],g1=a[10],i1=a[11],Ke=a[12],S1=a[13],_1=a[14],n2=a[15];return Math.abs(l-xe)<=a3*Math.max(1,Math.abs(l),Math.abs(xe))&&Math.abs(d-de)<=a3*Math.max(1,Math.abs(d),Math.abs(de))&&Math.abs(g-Ee)<=a3*Math.max(1,Math.abs(g),Math.abs(Ee))&&Math.abs(x-Ae)<=a3*Math.max(1,Math.abs(x),Math.abs(Ae))&&Math.abs(M-qe)<=a3*Math.max(1,Math.abs(M),Math.abs(qe))&&Math.abs(S-f1)<=a3*Math.max(1,Math.abs(S),Math.abs(f1))&&Math.abs(V-v1)<=a3*Math.max(1,Math.abs(V),Math.abs(v1))&&Math.abs(D-u1)<=a3*Math.max(1,Math.abs(D),Math.abs(u1))&&Math.abs(N-s1)<=a3*Math.max(1,Math.abs(N),Math.abs(s1))&&Math.abs(B-t1)<=a3*Math.max(1,Math.abs(B),Math.abs(t1))&&Math.abs(q-g1)<=a3*Math.max(1,Math.abs(q),Math.abs(g1))&&Math.abs(X-i1)<=a3*Math.max(1,Math.abs(X),Math.abs(i1))&&Math.abs(Y-Ke)<=a3*Math.max(1,Math.abs(Y),Math.abs(Ke))&&Math.abs(ne-S1)<=a3*Math.max(1,Math.abs(ne),Math.abs(S1))&&Math.abs(se-_1)<=a3*Math.max(1,Math.abs(se),Math.abs(_1))&&Math.abs(le-n2)<=a3*Math.max(1,Math.abs(le),Math.abs(n2))},_.evaluateSizeForFeature=function(c,{uSize:a,uSizeT:l},{lowerSize:d,upperSize:g}){return"source"===c.kind?d/yr:"composite"===c.kind?L3.number(d/yr,g/yr,l):a},_.evaluateSizeForZoom=function(c,a){let l=0,d=0;if("constant"===c.kind)d=c.layoutSize;else if("source"!==c.kind){const{interpolationType:g,minZoom:x,maxZoom:M}=c,S=g?lt(Ut.interpolationFactor(g,a,x,M),0,1):0;"camera"===c.kind?d=L3.number(c.minSize,c.maxSize,S):l=S}return{uSizeT:l,uSize:d}},_.evented=nt,_.extend=ln,_.filterObject=ia,_.findLineIntersection=function(c,a,l,d){const g=a.y-c.y,x=a.x-c.x,M=d.y-l.y,S=d.x-l.x,V=M*x-S*g;if(0===V)return null;const D=(S*(c.y-l.y)-M*(c.x-l.x))/V;return new I1(c.x+D*x,c.y+D*g)},_.fromScaling=function(c,a){return c[0]=a[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=a[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=a[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},_.getAnchorAlignment=G6,_.getAnchorJustification=sc,_.getArrayBuffer=C4,_.getDefaultExportFromCjs=X2,_.getJSON=function(c,a){return fn(ln(c,{type:"json"}),a)},_.getOverlapMode=As,_.getProtocolAction=z3,_.getRTLTextPluginStatus=m1,_.getReferrer=si,_.getVideo=function(c,a){const l=window.document.createElement("video");l.muted=!0,l.onloadstart=function(){a(null,l)};for(let d=0;d<c.length;d++){const g=window.document.createElement("source");nr(c[d])||(l.crossOrigin="Anonymous"),g.src=c[d],l.appendChild(g)}return{cancel:()=>{}}},_.groupByLayout=function(c,a){const l={};for(let g=0;g<c.length;g++){const x=a&&a[c[g].id]||bo(c[g]);a&&(a[c[g].id]=x);let M=l[x];M||(M=l[x]=[]),M.push(c[g])}const d=[];for(const g in l)d.push(l[g]);return d},_.identity=M0,_.interpolate=L3,_.invert=function(c,a){var l=a[0],d=a[1],g=a[2],x=a[3],M=a[4],S=a[5],V=a[6],D=a[7],N=a[8],B=a[9],q=a[10],X=a[11],Y=a[12],ne=a[13],se=a[14],le=a[15],xe=l*S-d*M,de=l*V-g*M,Ee=l*D-x*M,Ae=d*V-g*S,qe=d*D-x*S,f1=g*D-x*V,v1=N*ne-B*Y,u1=N*se-q*Y,s1=N*le-X*Y,t1=B*se-q*ne,g1=B*le-X*ne,i1=q*le-X*se,Ke=xe*i1-de*g1+Ee*t1+Ae*s1-qe*u1+f1*v1;return Ke?(c[0]=(S*i1-V*g1+D*t1)*(Ke=1/Ke),c[1]=(g*g1-d*i1-x*t1)*Ke,c[2]=(ne*f1-se*qe+le*Ae)*Ke,c[3]=(q*qe-B*f1-X*Ae)*Ke,c[4]=(V*s1-M*i1-D*u1)*Ke,c[5]=(l*i1-g*s1+x*u1)*Ke,c[6]=(se*Ee-Y*f1-le*de)*Ke,c[7]=(N*f1-q*Ee+X*de)*Ke,c[8]=(M*g1-S*s1+D*v1)*Ke,c[9]=(d*s1-l*g1-x*v1)*Ke,c[10]=(Y*qe-ne*Ee+le*xe)*Ke,c[11]=(B*Ee-N*qe-X*xe)*Ke,c[12]=(S*u1-M*t1-V*v1)*Ke,c[13]=(l*t1-d*u1+g*v1)*Ke,c[14]=(ne*de-Y*Ae-se*xe)*Ke,c[15]=(N*Ae-B*de+q*xe)*Ke,c):null},_.isImageBitmap=er,_.isSafari=Ji,_.isWorker=In,_.keysDifference=function(c,a){const l=[];for(const d in c)d in a||l.push(d);return l},_.lazyLoadRTLTextPlugin=function(){m2.isLoading()||m2.isLoaded()||"deferred"!==m1()||J1()},_.makeRequest=fn,_.mapObject=O3,_.mercatorXfromLng=Ru,_.mercatorYfromLat=X0,_.mercatorZfromAltitude=Fu,_.mul=hu,_.mul$1=function(c,a,l){return c[0]=a[0]*l[0],c[1]=a[1]*l[1],c[2]=a[2]*l[2],c[3]=a[3]*l[3],c},_.multiply=Xr,_.nextPowerOfTwo=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},_.operations=b2,_.ortho=function(c,a,l,d,g,x,M){var S=1/(a-l),V=1/(d-g),D=1/(x-M);return c[0]=-2*S,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*V,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*D,c[11]=0,c[12]=(a+l)*S,c[13]=(g+d)*V,c[14]=(M+x)*D,c[15]=1,c},_.parseCacheControl=function(c){const a={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,d,g,x)=>{const M=g||x;return a[d]=!M||M.toLowerCase(),""}),a["max-age"]){const l=parseInt(a["max-age"],10);isNaN(l)?delete a["max-age"]:a["max-age"]=l}return a},_.parseGlyphPbf=function(c){return new hl(c).readFields(_g,[])},_.pbf=F0,_.performSymbolLayout=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=st/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const a=c.bucket.layers[0],l=a.layout,d=a._unevaluatedLayout._values,g={layoutIconSize:d["icon-size"].possiblyEvaluate(new g2(c.bucket.zoom+1),c.canonical),layoutTextSize:d["text-size"].possiblyEvaluate(new g2(c.bucket.zoom+1),c.canonical),textMaxSize:d["text-size"].possiblyEvaluate(new g2(18))};if("composite"===c.bucket.textSizeData.kind){const{minZoom:D,maxZoom:N}=c.bucket.textSizeData;g.compositeTextSizes=[d["text-size"].possiblyEvaluate(new g2(D),c.canonical),d["text-size"].possiblyEvaluate(new g2(N),c.canonical)]}if("composite"===c.bucket.iconSizeData.kind){const{minZoom:D,maxZoom:N}=c.bucket.iconSizeData;g.compositeIconSizes=[d["icon-size"].possiblyEvaluate(new g2(D),c.canonical),d["icon-size"].possiblyEvaluate(new g2(N),c.canonical)]}const x=l.get("text-line-height")*Wt,M="viewport"!==l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),S=l.get("text-keep-upright"),V=l.get("text-size");for(const D of c.bucket.features){const N=l.get("text-font").evaluate(D,{},c.canonical).join(","),B=V.evaluate(D,{},c.canonical),q=g.layoutTextSize.evaluate(D,{},c.canonical),X=g.layoutIconSize.evaluate(D,{},c.canonical),Y={horizontal:{},vertical:void 0},ne=D.text;let se,le=[0,0];if(ne){const Ee=ne.toString(),Ae=l.get("text-letter-spacing").evaluate(D,{},c.canonical)*Wt,qe=Ai(Ee)?Ae:0,f1=l.get("text-anchor").evaluate(D,{},c.canonical),v1=Rs(a,D,c.canonical);if(!v1){const i1=l.get("text-radial-offset").evaluate(D,{},c.canonical);le=i1?Gn(f1,[i1*Wt,Uo]):l.get("text-offset").evaluate(D,{},c.canonical).map(Ke=>Ke*Wt)}let u1=M?"center":l.get("text-justify").evaluate(D,{},c.canonical);const s1=l.get("symbol-placement"),t1="point"===s1?l.get("text-max-width").evaluate(D,{},c.canonical)*Wt:0,g1=()=>{c.bucket.allowVerticalPlacement&&gs(Ee)&&(Y.vertical=j4(ne,c.glyphMap,c.glyphPositions,c.imagePositions,N,t1,x,f1,"left",qe,le,_.WritingMode.vertical,!0,s1,q,B))};if(!M&&v1){const i1=new Set;if("auto"===u1)for(let S1=0;S1<v1.values.length;S1+=2)i1.add(sc(v1.values[S1]));else i1.add(u1);let Ke=!1;for(const S1 of i1)if(!Y.horizontal[S1])if(Ke)Y.horizontal[S1]=Y.horizontal[0];else{const _1=j4(ne,c.glyphMap,c.glyphPositions,c.imagePositions,N,t1,x,"center",S1,qe,le,_.WritingMode.horizontal,!1,s1,q,B);_1&&(Y.horizontal[S1]=_1,Ke=1===_1.positionedLines.length)}g1()}else{"auto"===u1&&(u1=sc(f1));const i1=j4(ne,c.glyphMap,c.glyphPositions,c.imagePositions,N,t1,x,f1,u1,qe,le,_.WritingMode.horizontal,!1,s1,q,B);i1&&(Y.horizontal[u1]=i1),g1(),gs(Ee)&&M&&S&&(Y.vertical=j4(ne,c.glyphMap,c.glyphPositions,c.imagePositions,N,t1,x,f1,u1,qe,le,_.WritingMode.vertical,!1,s1,q,B))}}let xe=!1;if(D.icon&&D.icon.name){const Ee=c.imageMap[D.icon.name];Ee&&(se=Du(c.imagePositions[D.icon.name],l.get("icon-offset").evaluate(D,{},c.canonical),l.get("icon-anchor").evaluate(D,{},c.canonical)),xe=!!Ee.sdf,void 0===c.bucket.sdfIcons?c.bucket.sdfIcons=xe:c.bucket.sdfIcons!==xe&&un("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ee.pixelRatio!==c.bucket.pixelRatio||0!==l.get("icon-rotate").constantOr(1))&&(c.bucket.iconsNeedLinear=!0))}const de=n8(Y.horizontal)||Y.vertical;c.bucket.iconsInText=!!de&&de.iconsInText,(de||se)&&Ll(c.bucket,D,Y,se,c.imageMap,g,q,X,le,xe,c.canonical)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},_.perspective=function(c,a,l,d,g){var x,M=1/Math.tan(a/2);return c[0]=M/l,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=M,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,null!=g&&g!==1/0?(c[10]=(g+d)*(x=1/(d-g)),c[14]=2*g*d*x):(c[10]=-1,c[14]=-2*d),c},_.pick=function(c,a){const l={};for(let d=0;d<a.length;d++){const g=a[d];g in c&&(l[g]=c[g])}return l},_.plugin=m2,_.pointGeometry=Re,_.polygonIntersectsPolygon=N5,_.potpack=Jt,_.register=p1,_.registerForPluginStateChange=function(c){return c({pluginStatus:Fn,pluginURL:U3}),nt.on("pluginStateChange",c),c},_.renderColorRamp=xa,_.rotateX=function(c,a,l){var d=Math.sin(l),g=Math.cos(l),x=a[4],M=a[5],S=a[6],V=a[7],D=a[8],N=a[9],B=a[10],q=a[11];return a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]),c[4]=x*g+D*d,c[5]=M*g+N*d,c[6]=S*g+B*d,c[7]=V*g+q*d,c[8]=D*g-x*d,c[9]=N*g-M*d,c[10]=B*g-S*d,c[11]=q*g-V*d,c},_.rotateZ=function(c,a,l){var d=Math.sin(l),g=Math.cos(l),x=a[0],M=a[1],S=a[2],V=a[3],D=a[4],N=a[5],B=a[6],q=a[7];return a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]),c[0]=x*g+D*d,c[1]=M*g+N*d,c[2]=S*g+B*d,c[3]=V*g+q*d,c[4]=D*g-x*d,c[5]=N*g-M*d,c[6]=B*g-S*d,c[7]=q*g-V*d,c},_.sameOrigin=nr,_.scale=function(c,a,l){var d=l[0],g=l[1],x=l[2];return c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d,c[3]=a[3]*d,c[4]=a[4]*g,c[5]=a[5]*g,c[6]=a[6]*g,c[7]=a[7]*g,c[8]=a[8]*x,c[9]=a[9]*x,c[10]=a[10]*x,c[11]=a[11]*x,c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c},_.setRTLTextPlugin=function(c,a,l=!1){if(Fn===gn||Fn===pi||Fn===Rn)throw new Error("setRTLTextPlugin cannot be called multiple times.");U3=Dr.resolveURL(c),Fn=gn,vs=a,Vo(),l||J1()},_.sphericalToCartesian=function([c,a,l]){return a+=90,a*=Math.PI/180,l*=Math.PI/180,{x:c*Math.cos(a)*Math.sin(l),y:c*Math.sin(a)*Math.sin(l),z:c*Math.cos(l)}},_.toEvaluationFeature=yn,_.transformMat4=To,_.translate=function(c,a,l){var d,g,x,M,S,V,D,N,B,q,X,Y,ne=l[0],se=l[1],le=l[2];return a===c?(c[12]=a[0]*ne+a[4]*se+a[8]*le+a[12],c[13]=a[1]*ne+a[5]*se+a[9]*le+a[13],c[14]=a[2]*ne+a[6]*se+a[10]*le+a[14],c[15]=a[3]*ne+a[7]*se+a[11]*le+a[15]):(g=a[1],x=a[2],M=a[3],S=a[4],V=a[5],D=a[6],N=a[7],B=a[8],q=a[9],X=a[10],Y=a[11],c[0]=d=a[0],c[1]=g,c[2]=x,c[3]=M,c[4]=S,c[5]=V,c[6]=D,c[7]=N,c[8]=B,c[9]=q,c[10]=X,c[11]=Y,c[12]=d*ne+S*se+B*le+a[12],c[13]=g*ne+V*se+q*le+a[13],c[14]=x*ne+D*se+X*le+a[14],c[15]=M*ne+N*se+Y*le+a[15]),c},_.triggerPluginCompletionEvent=Lo,_.unicodeBlockLookup=l1,_.uniqueId=function(){return ri++},_.v8Spec=Fe,_.validateCustomStyleLayer=function(c){const a=[],l=c.id;return void 0===l&&a.push({message:`layers.${l}: missing required property "id"`}),void 0===c.render&&a.push({message:`layers.${l}: missing required method "render"`}),c.renderingMode&&"2d"!==c.renderingMode&&"3d"!==c.renderingMode&&a.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),a},_.validateLight=z6,_.validateStyle=pa,_.vectorTile=Fi,_.warnOnce=un,_.wrap=Ya}),io(0,function(_){class X2{constructor(U){this.keyCache={},U&&this.replace(U)}replace(U){this._layerConfigs={},this._layers={},this.update(U,[])}update(U,G){for(const oe of U){this._layerConfigs[oe.id]=oe;const ue=this._layers[oe.id]=_.createStyleLayer(oe);ue._featureFilter=_.createFilter(ue.filter),this.keyCache[oe.id]&&delete this.keyCache[oe.id]}for(const oe of G)delete this.keyCache[oe],delete this._layerConfigs[oe],delete this._layers[oe];this.familiesBySource={};const K=_.groupByLayout(Object.values(this._layerConfigs),this.keyCache);for(const oe of K){const ue=oe.map(We=>this._layers[We.id]),Ce=ue[0];if("none"===Ce.visibility)continue;const me=Ce.source||"";let fe=this.familiesBySource[me];fe||(fe=this.familiesBySource[me]={});const ze=Ce.sourceLayer||"_geojsonTileLayer";let Ge=fe[ze];Ge||(Ge=fe[ze]=[]),Ge.push(ue)}}}class Re{constructor(U){const G={},K=[];for(const me in U){const fe=U[me],ze=G[me]={};for(const Ge in fe){const We=fe[+Ge];if(!We||0===We.bitmap.width||0===We.bitmap.height)continue;const Ue={x:0,y:0,w:We.bitmap.width+2,h:We.bitmap.height+2};K.push(Ue),ze[Ge]={rect:Ue,metrics:We.metrics}}}const{w:oe,h:ue}=_.potpack(K),Ce=new _.AlphaImage({width:oe||1,height:ue||1});for(const me in U){const fe=U[me];for(const ze in fe){const Ge=fe[+ze];if(!Ge||0===Ge.bitmap.width||0===Ge.bitmap.height)continue;const We=G[me][ze].rect;_.AlphaImage.copy(Ge.bitmap,Ce,{x:0,y:0},{x:We.x+1,y:We.y+1},Ge.bitmap)}}this.image=Ce,this.positions=G}}_.register("GlyphAtlas",Re);class Kn{constructor(U){this.tileID=new _.OverscaledTileID(U.tileID.overscaledZ,U.tileID.wrap,U.tileID.canonical.z,U.tileID.canonical.x,U.tileID.canonical.y),this.uid=U.uid,this.zoom=U.zoom,this.pixelRatio=U.pixelRatio,this.tileSize=U.tileSize,this.source=U.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=U.showCollisionBoxes,this.collectResourceTiming=!!U.collectResourceTiming,this.returnDependencies=!!U.returnDependencies,this.promoteId=U.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(U,G,K,oe,ue){this.status="parsing",this.data=U,this.collisionBoxArray=new _.CollisionBoxArray;const Ce=new _.DictionaryCoder(Object.keys(U.layers).sort()),me=new _.FeatureIndex(this.tileID,this.promoteId);me.bucketLayerIDs=[];const fe={},ze={featureIndex:me,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:K},Ge=G.familiesBySource[this.source];for(const X1 in Ge){const f2=U.layers[X1];if(!f2)continue;1===f2.version&&_.warnOnce(`Vector tile source "${this.source}" layer "${X1}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const S2=Ce.encode(X1),D1=[];for(let D2=0;D2<f2.length;D2++){const wn=f2.feature(D2),Mt=me.getId(wn,X1);D1.push({feature:wn,id:Mt,index:D2,sourceLayerIndex:S2})}for(const D2 of Ge[X1]){const wn=D2[0];wn.source!==this.source&&_.warnOnce(`layer.source = ${wn.source} does not equal this.source = ${this.source}`),wn.minzoom&&this.zoom<Math.floor(wn.minzoom)||wn.maxzoom&&this.zoom>=wn.maxzoom||"none"!==wn.visibility&&(I1(D2,this.zoom,K),(fe[wn.id]=wn.createBucket({index:me.bucketLayerIDs.length,layers:D2,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:S2,sourceID:this.source})).populate(D1,ze,this.tileID.canonical),me.bucketLayerIDs.push(D2.map(Mt=>Mt.id)))}}let We,Ue,A1,W1;const C1=_.mapObject(ze.glyphDependencies,X1=>Object.keys(X1).map(Number));this.inFlightDependencies.forEach(X1=>X1?.cancel()),this.inFlightDependencies=[];const E1=++this.dependencySentinel;Object.keys(C1).length?this.inFlightDependencies.push(oe.send("getGlyphs",{uid:this.uid,stacks:C1,source:this.source,tileID:this.tileID,type:"glyphs"},(X1,f2)=>{E1===this.dependencySentinel&&(We||(We=X1,Ue=f2,P2.call(this)))})):Ue={};const U1=Object.keys(ze.iconDependencies);U1.length?this.inFlightDependencies.push(oe.send("getImages",{icons:U1,source:this.source,tileID:this.tileID,type:"icons"},(X1,f2)=>{E1===this.dependencySentinel&&(We||(We=X1,A1=f2,P2.call(this)))})):A1={};const p2=Object.keys(ze.patternDependencies);function P2(){if(We)return ue(We);if(Ue&&A1&&W1){const X1=new Re(Ue),f2=new _.ImageAtlas(A1,W1);for(const S2 in fe){const D1=fe[S2];D1 instanceof _.SymbolBucket?(I1(D1.layers,this.zoom,K),_.performSymbolLayout({bucket:D1,glyphMap:Ue,glyphPositions:X1.positions,imageMap:A1,imagePositions:f2.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):D1.hasPattern&&(D1 instanceof _.LineBucket||D1 instanceof _.FillBucket||D1 instanceof _.FillExtrusionBucket)&&(I1(D1.layers,this.zoom,K),D1.addFeatures(ze,this.tileID.canonical,f2.patternPositions))}this.status="done",ue(null,{buckets:Object.values(fe).filter(S2=>!S2.isEmpty()),featureIndex:me,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:X1.image,imageAtlas:f2,glyphMap:this.returnDependencies?Ue:null,iconMap:this.returnDependencies?A1:null,glyphPositions:this.returnDependencies?X1.positions:null})}}p2.length?this.inFlightDependencies.push(oe.send("getImages",{icons:p2,source:this.source,tileID:this.tileID,type:"patterns"},(X1,f2)=>{E1===this.dependencySentinel&&(We||(We=X1,W1=f2,P2.call(this)))})):W1={},P2.call(this)}}function I1(re,U,G){const K=new _.EvaluationParameters(U);for(const oe of re)oe.recalculate(K,G)}function Qn(re,U){const G=_.getArrayBuffer(re.request,(K,oe,ue,Ce)=>{K?U(K):oe&&U(null,{vectorTile:new _.vectorTile.VectorTile(new _.Protobuf(oe)),rawData:oe,cacheControl:ue,expires:Ce})});return()=>{G.cancel(),U()}}class ii{constructor(U,G,K,oe){this.actor=U,this.layerIndex=G,this.availableImages=K,this.loadVectorData=oe||Qn,this.fetching={},this.loading={},this.loaded={}}loadTile(U,G){const K=U.uid;this.loading||(this.loading={});const oe=!!(U&&U.request&&U.request.collectResourceTiming)&&new _.RequestPerformance(U.request),ue=this.loading[K]=new Kn(U);ue.abort=this.loadVectorData(U,(Ce,me)=>{if(delete this.loading[K],Ce||!me)return ue.status="done",this.loaded[K]=ue,G(Ce);const fe=me.rawData,ze={};me.expires&&(ze.expires=me.expires),me.cacheControl&&(ze.cacheControl=me.cacheControl);const Ge={};if(oe){const We=oe.finish();We&&(Ge.resourceTiming=JSON.parse(JSON.stringify(We)))}ue.vectorTile=me.vectorTile,ue.parse(me.vectorTile,this.layerIndex,this.availableImages,this.actor,(We,Ue)=>{if(delete this.fetching[K],We||!Ue)return G(We);G(null,_.extend({rawTileData:fe.slice(0)},Ue,ze,Ge))}),this.loaded=this.loaded||{},this.loaded[K]=ue,this.fetching[K]={rawTileData:fe,cacheControl:ze,resourceTiming:Ge}})}reloadTile(U,G){const K=this.loaded,oe=U.uid;if(K&&K[oe]){const ue=K[oe];ue.showCollisionBoxes=U.showCollisionBoxes,"parsing"===ue.status?ue.parse(ue.vectorTile,this.layerIndex,this.availableImages,this.actor,(Ce,me)=>{if(Ce||!me)return G(Ce,me);let fe;if(this.fetching[oe]){const{rawTileData:ze,cacheControl:Ge,resourceTiming:We}=this.fetching[oe];delete this.fetching[oe],fe=_.extend({rawTileData:ze.slice(0)},me,Ge,We)}else fe=me;G(null,fe)}):"done"===ue.status&&(ue.vectorTile?ue.parse(ue.vectorTile,this.layerIndex,this.availableImages,this.actor,G):G())}}abortTile(U,G){const K=this.loading,oe=U.uid;K&&K[oe]&&K[oe].abort&&(K[oe].abort(),delete K[oe]),G()}removeTile(U,G){const K=this.loaded,oe=U.uid;K&&K[oe]&&delete K[oe],G()}}class _4{constructor(){this.loaded={}}loadTile(U,G){const{uid:K,encoding:oe,rawImageData:ue}=U,Ce=_.isImageBitmap(ue)?this.getImageData(ue):ue,me=new _.DEMData(K,Ce,oe);this.loaded=this.loaded||{},this.loaded[K]=me,G(null,me)}getImageData(U){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(U.width,U.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=U.width,this.offscreenCanvas.height=U.height,this.offscreenCanvasContext.drawImage(U,0,0,U.width,U.height);const G=this.offscreenCanvasContext.getImageData(-1,-1,U.width+2,U.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new _.RGBAImage({width:G.width,height:G.height},G.data)}removeTile(U){const G=this.loaded,K=U.uid;G&&G[K]&&delete G[K]}}function Qi(re,U){if(0!==re.length){u3(re[0],U);for(var G=1;G<re.length;G++)u3(re[G],!U)}}function u3(re,U){for(var G=0,K=0,oe=0,ue=re.length,Ce=ue-1;oe<ue;Ce=oe++){var me=(re[oe][0]-re[Ce][0])*(re[Ce][1]+re[oe][1]),fe=G+me;K+=Math.abs(G)>=Math.abs(me)?G-fe+me:me-fe+G,G=fe}G+K>=0!=!!U&&re.reverse()}var lt=_.getDefaultExportFromCjs(function re(U,G){var K,oe=U&&U.type;if("FeatureCollection"===oe)for(K=0;K<U.features.length;K++)re(U.features[K],G);else if("GeometryCollection"===oe)for(K=0;K<U.geometries.length;K++)re(U.geometries[K],G);else if("Feature"===oe)re(U.geometry,G);else if("Polygon"===oe)Qi(U.coordinates,G);else if("MultiPolygon"===oe)for(K=0;K<U.coordinates.length;K++)Qi(U.coordinates[K],G);return U});const Ya=_.vectorTile.VectorTileFeature.prototype.toGeoJSON;var ln={exports:{}},ri=_.pointGeometry,O3=_.vectorTile.VectorTileFeature,ia=Jn;function Jn(re,U){this.options=U||{},this.features=re,this.length=re.length}function ai(re,U){this.id="number"==typeof re.id?re.id:void 0,this.type=re.type,this.rawGeometry=1===re.type?[re.geometry]:re.geometry,this.properties=re.tags,this.extent=U||4096}Jn.prototype.feature=function(re){return new ai(this.features[re],this.options.extent)},ai.prototype.loadGeometry=function(){var re=this.rawGeometry;this.geometry=[];for(var U=0;U<re.length;U++){for(var G=re[U],K=[],oe=0;oe<G.length;oe++)K.push(new ri(G[oe][0],G[oe][1]));this.geometry.push(K)}return this.geometry},ai.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var re=this.geometry,U=1/0,G=-1/0,K=1/0,oe=-1/0,ue=0;ue<re.length;ue++)for(var Ce=re[ue],me=0;me<Ce.length;me++){var fe=Ce[me];U=Math.min(U,fe.x),G=Math.max(G,fe.x),K=Math.min(K,fe.y),oe=Math.max(oe,fe.y)}return[U,K,G,oe]},ai.prototype.toGeoJSON=O3.prototype.toGeoJSON;var un=_.pbf,E2=ia;function Hi(re){var U=new un;return function(G,K){for(var oe in G.layers)K.writeMessage(3,In,G.layers[oe])}(re,U),U.finish()}function In(re,U){var G;U.writeVarintField(15,re.version||1),U.writeStringField(1,re.name||""),U.writeVarintField(5,re.extent||4096);var K={keys:[],values:[],keycache:{},valuecache:{}};for(G=0;G<re.length;G++)K.feature=re.feature(G),U.writeMessage(2,Li,K);var oe=K.keys;for(G=0;G<oe.length;G++)U.writeStringField(3,oe[G]);var ue=K.values;for(G=0;G<ue.length;G++)U.writeMessage(4,Pr,ue[G])}function Li(re,U){var G=re.feature;void 0!==G.id&&U.writeVarintField(1,G.id),U.writeMessage(2,Ji,re),U.writeVarintField(3,G.type),U.writeMessage(4,f3,G)}function Ji(re,U){var G=re.feature,K=re.keys,oe=re.values,ue=re.keycache,Ce=re.valuecache;for(var me in G.properties){var fe=G.properties[me],ze=ue[me];if(null!==fe){void 0===ze&&(K.push(me),ue[me]=ze=K.length-1),U.writeVarint(ze);var Ge=typeof fe;"string"!==Ge&&"boolean"!==Ge&&"number"!==Ge&&(fe=JSON.stringify(fe));var We=Ge+":"+fe,Ue=Ce[We];void 0===Ue&&(oe.push(fe),Ce[We]=Ue=oe.length-1),U.writeVarint(Ue)}}}function er(re,U){return(U<<3)+(7&re)}function w3(re){return re<<1^re>>31}function f3(re,U){for(var G=re.loadGeometry(),K=re.type,oe=0,ue=0,Ce=G.length,me=0;me<Ce;me++){var fe=G[me],ze=1;1===K&&(ze=fe.length),U.writeVarint(er(1,ze));for(var Ge=3===K?fe.length-1:fe.length,We=0;We<Ge;We++){1===We&&1!==K&&U.writeVarint(er(2,Ge-1));var Ue=fe[We].x-oe,A1=fe[We].y-ue;U.writeVarint(w3(Ue)),U.writeVarint(w3(A1)),oe+=Ue,ue+=A1}3===K&&U.writeVarint(er(7,1))}}function Pr(re,U){var G=typeof re;"string"===G?U.writeStringField(1,re):"boolean"===G?U.writeBooleanField(7,re):"number"===G&&(re%1!=0?U.writeDoubleField(3,re):re<0?U.writeSVarintField(6,re):U.writeVarintField(5,re))}ln.exports=Hi,ln.exports.fromVectorTileJs=Hi,ln.exports.fromGeojsonVt=function(re,U){U=U||{};var G={};for(var K in re)G[K]=new E2(re[K].features,U),G[K].name=K,G[K].version=U.version,G[K].extent=U.extent;return Hi({layers:G})},ln.exports.GeoJSONWrapper=E2;var Dr=_.getDefaultExportFromCjs(ln.exports);const mt={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:re=>re},tr=Math.fround||(si=new Float32Array(1),re=>(si[0]=+re,si[0]));var si;const z3=3,ut=5,fn=6;class C4{constructor(U){this.options=Object.assign(Object.create(mt),U),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(U){const{log:G,minZoom:K,maxZoom:oe}=this.options;G&&console.time("total time");const ue=`prepare ${U.length} points`;G&&console.time(ue),this.points=U;const Ce=[];for(let fe=0;fe<U.length;fe++){const ze=U[fe];if(!ze.geometry)continue;const[Ge,We]=ze.geometry.coordinates,Ue=tr($2(Ge)),A1=tr(S3(We));Ce.push(Ue,A1,1/0,fe,-1,1),this.options.reduce&&Ce.push(0)}let me=this.trees[oe+1]=this._createTree(Ce);G&&console.timeEnd(ue);for(let fe=oe;fe>=K;fe--){const ze=+Date.now();me=this.trees[fe]=this._createTree(this._cluster(me,fe)),G&&console.log("z%d: %d clusters in %dms",fe,me.numItems,+Date.now()-ze)}return G&&console.timeEnd("total time"),this}getClusters(U,G){let K=((U[0]+180)%360+360)%360-180;const oe=Math.max(-90,Math.min(90,U[1]));let ue=180===U[2]?180:((U[2]+180)%360+360)%360-180;const Ce=Math.max(-90,Math.min(90,U[3]));if(U[2]-U[0]>=360)K=-180,ue=180;else if(K>ue){const We=this.getClusters([K,oe,180,Ce],G),Ue=this.getClusters([-180,oe,ue,Ce],G);return We.concat(Ue)}const me=this.trees[this._limitZoom(G)],fe=me.range($2(K),S3(Ce),$2(ue),S3(oe)),ze=me.data,Ge=[];for(const We of fe){const Ue=this.stride*We;Ge.push(ze[Ue+ut]>1?nr(ze,Ue,this.clusterProps):this.points[ze[Ue+z3]])}return Ge}getChildren(U){const G=this._getOriginId(U),K=this._getOriginZoom(U),oe="No cluster with the specified id.",ue=this.trees[K];if(!ue)throw new Error(oe);const Ce=ue.data;if(G*this.stride>=Ce.length)throw new Error(oe);const me=this.options.radius/(this.options.extent*Math.pow(2,K-1)),fe=ue.within(Ce[G*this.stride],Ce[G*this.stride+1],me),ze=[];for(const Ge of fe){const We=Ge*this.stride;Ce[We+4]===U&&ze.push(Ce[We+ut]>1?nr(Ce,We,this.clusterProps):this.points[Ce[We+z3]])}if(0===ze.length)throw new Error(oe);return ze}getLeaves(U,G,K){const oe=[];return this._appendLeaves(oe,U,G=G||10,K=K||0,0),oe}getTile(U,G,K){const oe=this.trees[this._limitZoom(U)],ue=Math.pow(2,U),{extent:Ce,radius:me}=this.options,fe=me/Ce,ze=(K-fe)/ue,Ge=(K+1+fe)/ue,We={features:[]};return this._addTileFeatures(oe.range((G-fe)/ue,ze,(G+1+fe)/ue,Ge),oe.data,G,K,ue,We),0===G&&this._addTileFeatures(oe.range(1-fe/ue,ze,1,Ge),oe.data,ue,K,ue,We),G===ue-1&&this._addTileFeatures(oe.range(0,ze,fe/ue,Ge),oe.data,-1,K,ue,We),We.features.length?We:null}getClusterExpansionZoom(U){let G=this._getOriginZoom(U)-1;for(;G<=this.options.maxZoom;){const K=this.getChildren(U);if(G++,1!==K.length)break;U=K[0].properties.cluster_id}return G}_appendLeaves(U,G,K,oe,ue){const Ce=this.getChildren(G);for(const me of Ce){const fe=me.properties;if(fe&&fe.cluster?ue+fe.point_count<=oe?ue+=fe.point_count:ue=this._appendLeaves(U,fe.cluster_id,K,oe,ue):ue<oe?ue++:U.push(me),U.length===K)break}return ue}_createTree(U){const G=new _.KDBush(U.length/this.stride|0,this.options.nodeSize,Float32Array);for(let K=0;K<U.length;K+=this.stride)G.add(U[K],U[K+1]);return G.finish(),G.data=U,G}_addTileFeatures(U,G,K,oe,ue,Ce){for(const me of U){const fe=me*this.stride,ze=G[fe+ut]>1;let Ge,We,Ue;if(ze)Ge=et(G,fe,this.clusterProps),We=G[fe],Ue=G[fe+1];else{const C1=this.points[G[fe+z3]];Ge=C1.properties;const[E1,U1]=C1.geometry.coordinates;We=$2(E1),Ue=S3(U1)}const A1={type:1,geometry:[[Math.round(this.options.extent*(We*ue-K)),Math.round(this.options.extent*(Ue*ue-oe))]],tags:Ge};let W1;W1=ze||this.options.generateId?G[fe+z3]:this.points[G[fe+z3]].id,void 0!==W1&&(A1.id=W1),Ce.features.push(A1)}}_limitZoom(U){return Math.max(this.options.minZoom,Math.min(Math.floor(+U),this.options.maxZoom+1))}_cluster(U,G){const{radius:K,extent:oe,reduce:ue,minPoints:Ce}=this.options,me=K/(oe*Math.pow(2,G)),fe=U.data,ze=[],Ge=this.stride;for(let We=0;We<fe.length;We+=Ge){if(fe[We+2]<=G)continue;fe[We+2]=G;const Ue=fe[We],A1=fe[We+1],W1=U.within(fe[We],fe[We+1],me),C1=fe[We+ut];let E1=C1;for(const U1 of W1){const p2=U1*Ge;fe[p2+2]>G&&(E1+=fe[p2+ut])}if(E1>C1&&E1>=Ce){let U1,p2=Ue*C1,P2=A1*C1,X1=-1;const f2=((We/Ge|0)<<5)+(G+1)+this.points.length;for(const S2 of W1){const D1=S2*Ge;if(fe[D1+2]<=G)continue;fe[D1+2]=G;const D2=fe[D1+ut];p2+=fe[D1]*D2,P2+=fe[D1+1]*D2,fe[D1+4]=f2,ue&&(U1||(U1=this._map(fe,We,!0),X1=this.clusterProps.length,this.clusterProps.push(U1)),ue(U1,this._map(fe,D1)))}fe[We+4]=f2,ze.push(p2/E1,P2/E1,1/0,f2,-1,E1),ue&&ze.push(X1)}else{for(let U1=0;U1<Ge;U1++)ze.push(fe[We+U1]);if(E1>1)for(const U1 of W1){const p2=U1*Ge;if(!(fe[p2+2]<=G)){fe[p2+2]=G;for(let P2=0;P2<Ge;P2++)ze.push(fe[p2+P2])}}}}return ze}_getOriginId(U){return U-this.points.length>>5}_getOriginZoom(U){return(U-this.points.length)%32}_map(U,G,K){if(U[G+ut]>1){const Ce=this.clusterProps[U[G+fn]];return K?Object.assign({},Ce):Ce}const oe=this.points[U[G+z3]].properties,ue=this.options.map(oe);return K&&ue===oe?Object.assign({},ue):ue}}function nr(re,U,G){return{type:"Feature",id:re[U+z3],properties:et(re,U,G),geometry:{type:"Point",coordinates:[(K=re[U],360*(K-.5)),d2(re[U+1])]}};var K}function et(re,U,G){const K=re[U+ut],oe=K>=1e4?`${Math.round(K/1e3)}k`:K>=1e3?Math.round(K/100)/10+"k":K,ue=re[U+fn],Ce=-1===ue?{}:Object.assign({},G[ue]);return Object.assign(Ce,{cluster:!0,cluster_id:re[U+z3],point_count:K,point_count_abbreviated:oe})}function $2(re){return re/360+.5}function S3(re){const U=Math.sin(re*Math.PI/180),G=.5-.25*Math.log((1+U)/(1-U))/Math.PI;return G<0?0:G>1?1:G}function d2(re){const U=(180-360*re)*Math.PI/180;return 360*Math.atan(Math.exp(U))/Math.PI-90}function oi(re,U,G,K){for(var oe,ue=K,Ce=G-U>>1,me=G-U,fe=re[U],ze=re[U+1],Ge=re[G],We=re[G+1],Ue=U+3;Ue<G;Ue+=3){var A1=Fe(re[Ue],re[Ue+1],fe,ze,Ge,We);if(A1>ue)oe=Ue,ue=A1;else if(A1===ue){var W1=Math.abs(Ue-Ce);W1<me&&(oe=Ue,me=W1)}}ue>K&&(oe-U>3&&oi(re,U,oe,K),re[oe+2]=ue,G-oe>3&&oi(re,oe,G,K))}function Fe(re,U,G,K,oe,ue){var Ce=oe-G,me=ue-K;if(0!==Ce||0!==me){var fe=((re-G)*Ce+(U-K)*me)/(Ce*Ce+me*me);fe>1?(G=oe,K=ue):fe>0&&(G+=Ce*fe,K+=me*fe)}return(Ce=re-G)*Ce+(me=U-K)*me}function R3(re,U,G,K){var oe={id:void 0===re?null:re,type:U,geometry:G,tags:K,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ue){var Ce=ue.geometry,me=ue.type;if("Point"===me||"MultiPoint"===me||"LineString"===me)x4(ue,Ce);else if("Polygon"===me||"MultiLineString"===me)for(var fe=0;fe<Ce.length;fe++)x4(ue,Ce[fe]);else if("MultiPolygon"===me)for(fe=0;fe<Ce.length;fe++)for(var ze=0;ze<Ce[fe].length;ze++)x4(ue,Ce[fe][ze])}(oe),oe}function x4(re,U){for(var G=0;G<U.length;G+=3)re.minX=Math.min(re.minX,U[G]),re.minY=Math.min(re.minY,U[G+1]),re.maxX=Math.max(re.maxX,U[G]),re.maxY=Math.max(re.maxY,U[G+1])}function T2(re,U,G,K){if(U.geometry){var oe=U.geometry.coordinates,ue=U.geometry.type,Ce=Math.pow(G.tolerance/((1<<G.maxZoom)*G.extent),2),me=[],fe=U.id;if(G.promoteId?fe=U.properties[G.promoteId]:G.generateId&&(fe=K||0),"Point"===ue)b2(oe,me);else if("MultiPoint"===ue)for(var ze=0;ze<oe.length;ze++)b2(oe[ze],me);else if("LineString"===ue)b4(oe,me,Ce,!1);else if("MultiLineString"===ue){if(G.lineMetrics){for(ze=0;ze<oe.length;ze++)b4(oe[ze],me=[],Ce,!1),re.push(R3(fe,"LineString",me,U.properties));return}M4(oe,me,Ce,!1)}else if("Polygon"===ue)M4(oe,me,Ce,!0);else{if("MultiPolygon"!==ue){if("GeometryCollection"===ue){for(ze=0;ze<U.geometry.geometries.length;ze++)T2(re,{id:fe,geometry:U.geometry.geometries[ze],properties:U.properties},G,K);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ze=0;ze<oe.length;ze++){var Ge=[];M4(oe[ze],Ge,Ce,!0),me.push(Ge)}}re.push(R3(fe,ue,me,U.properties))}}function b2(re,U){U.push(ro(re[0])),U.push(ao(re[1])),U.push(0)}function b4(re,U,G,K){for(var oe,ue,Ce=0,me=0;me<re.length;me++){var fe=ro(re[me][0]),ze=ao(re[me][1]);U.push(fe),U.push(ze),U.push(0),me>0&&(Ce+=K?(oe*ze-fe*ue)/2:Math.sqrt(Math.pow(fe-oe,2)+Math.pow(ze-ue,2))),oe=fe,ue=ze}var Ge=U.length-3;U[2]=1,oi(U,0,Ge,G),U[Ge+2]=1,U.size=Math.abs(Ce),U.start=0,U.end=U.size}function M4(re,U,G,K){for(var oe=0;oe<re.length;oe++){var ue=[];b4(re[oe],ue,G,K),U.push(ue)}}function ro(re){return re/360+.5}function ao(re){var U=Math.sin(re*Math.PI/180),G=.5-.25*Math.log((1+U)/(1-U))/Math.PI;return G<0?0:G>1?1:G}function ft(re,U,G,K,oe,ue,Ce,me){if(K/=U,ue>=(G/=U)&&Ce<K)return re;if(Ce<G||ue>=K)return null;for(var fe=[],ze=0;ze<re.length;ze++){var Ge=re[ze],We=Ge.geometry,Ue=Ge.type,A1=0===oe?Ge.minX:Ge.minY,W1=0===oe?Ge.maxX:Ge.maxY;if(A1>=G&&W1<K)fe.push(Ge);else if(!(W1<G||A1>=K)){var C1=[];if("Point"===Ue||"MultiPoint"===Ue)w4(We,C1,G,K,oe);else if("LineString"===Ue)z4(We,C1,G,K,oe,!1,me.lineMetrics);else if("MultiLineString"===Ue)kn(We,C1,G,K,oe,!1);else if("Polygon"===Ue)kn(We,C1,G,K,oe,!0);else if("MultiPolygon"===Ue)for(var E1=0;E1<We.length;E1++){var U1=[];kn(We[E1],U1,G,K,oe,!0),U1.length&&C1.push(U1)}if(C1.length){if(me.lineMetrics&&"LineString"===Ue){for(E1=0;E1<C1.length;E1++)fe.push(R3(Ge.id,Ue,C1[E1],Ge.tags));continue}"LineString"!==Ue&&"MultiLineString"!==Ue||(1===C1.length?(Ue="LineString",C1=C1[0]):Ue="MultiLineString"),"Point"!==Ue&&"MultiPoint"!==Ue||(Ue=3===C1.length?"Point":"MultiPoint"),fe.push(R3(Ge.id,Ue,C1,Ge.tags))}}}return fe.length?fe:null}function w4(re,U,G,K,oe){for(var ue=0;ue<re.length;ue+=3){var Ce=re[ue+oe];Ce>=G&&Ce<=K&&(U.push(re[ue]),U.push(re[ue+1]),U.push(re[ue+2]))}}function z4(re,U,G,K,oe,ue,Ce){for(var me,fe,ze=r1(re),Ge=0===oe?ci:ir,We=re.start,Ue=0;Ue<re.length-3;Ue+=3){var A1=re[Ue],W1=re[Ue+1],C1=re[Ue+2],E1=re[Ue+3],U1=re[Ue+4],p2=0===oe?A1:W1,P2=0===oe?E1:U1,X1=!1;Ce&&(me=Math.sqrt(Math.pow(A1-E1,2)+Math.pow(W1-U1,2))),p2<G?P2>G&&(fe=Ge(ze,A1,W1,E1,U1,G),Ce&&(ze.start=We+me*fe)):p2>K?P2<K&&(fe=Ge(ze,A1,W1,E1,U1,K),Ce&&(ze.start=We+me*fe)):Mn(ze,A1,W1,C1),P2<G&&p2>=G&&(fe=Ge(ze,A1,W1,E1,U1,G),X1=!0),P2>K&&p2<=K&&(fe=Ge(ze,A1,W1,E1,U1,K),X1=!0),!ue&&X1&&(Ce&&(ze.end=We+me*fe),U.push(ze),ze=r1(re)),Ce&&(We+=me)}var f2=re.length-3;A1=re[f2],W1=re[f2+1],C1=re[f2+2],(p2=0===oe?A1:W1)>=G&&p2<=K&&Mn(ze,A1,W1,C1),f2=ze.length-3,ue&&f2>=3&&(ze[f2]!==ze[0]||ze[f2+1]!==ze[1])&&Mn(ze,ze[0],ze[1],ze[2]),ze.length&&U.push(ze)}function r1(re){var U=[];return U.size=re.size,U.start=re.start,U.end=re.end,U}function kn(re,U,G,K,oe,ue){for(var Ce=0;Ce<re.length;Ce++)z4(re[Ce],U,G,K,oe,ue,!1)}function Mn(re,U,G,K){re.push(U),re.push(G),re.push(K)}function ci(re,U,G,K,oe,ue){var Ce=(ue-U)/(K-U);return re.push(ue),re.push(G+(oe-G)*Ce),re.push(1),Ce}function ir(re,U,G,K,oe,ue){var Ce=(ue-G)/(oe-G);return re.push(U+(K-U)*Ce),re.push(ue),re.push(1),Ce}function o1(re,U){for(var G=[],K=0;K<re.length;K++){var oe,ue=re[K],Ce=ue.type;if("Point"===Ce||"MultiPoint"===Ce||"LineString"===Ce)oe=K1(ue.geometry,U);else if("MultiLineString"===Ce||"Polygon"===Ce){oe=[];for(var me=0;me<ue.geometry.length;me++)oe.push(K1(ue.geometry[me],U))}else if("MultiPolygon"===Ce)for(oe=[],me=0;me<ue.geometry.length;me++){for(var fe=[],ze=0;ze<ue.geometry[me].length;ze++)fe.push(K1(ue.geometry[me][ze],U));oe.push(fe)}G.push(R3(ue.id,Ce,oe,ue.tags))}return G}function K1(re,U){var G=[];G.size=re.size,void 0!==re.start&&(G.start=re.start,G.end=re.end);for(var K=0;K<re.length;K+=3)G.push(re[K]+U,re[K+1],re[K+2]);return G}function B1(re,U){if(re.transformed)return re;var G,K,oe,ue=1<<re.z,Ce=re.x,me=re.y;for(G=0;G<re.features.length;G++){var fe=re.features[G],ze=fe.geometry,Ge=fe.type;if(fe.geometry=[],1===Ge)for(K=0;K<ze.length;K+=2)fe.geometry.push(hn(ze[K],ze[K+1],U,ue,Ce,me));else for(K=0;K<ze.length;K++){var We=[];for(oe=0;oe<ze[K].length;oe+=2)We.push(hn(ze[K][oe],ze[K][oe+1],U,ue,Ce,me));fe.geometry.push(We)}}return re.transformed=!0,re}function hn(re,U,G,K,oe,ue){return[Math.round(G*(re*K-oe)),Math.round(G*(U*K-ue))]}function Vi(re,U,G,K,oe){for(var ue=U===oe.maxZoom?0:oe.tolerance/((1<<U)*oe.extent),Ce={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:G,y:K,z:U,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},me=0;me<re.length;me++){Ce.numFeatures++,O1(Ce,re[me],ue,oe);var fe=re[me].minX,ze=re[me].minY,Ge=re[me].maxX,We=re[me].maxY;fe<Ce.minX&&(Ce.minX=fe),ze<Ce.minY&&(Ce.minY=ze),Ge>Ce.maxX&&(Ce.maxX=Ge),We>Ce.maxY&&(Ce.maxY=We)}return Ce}function O1(re,U,G,K){var oe=U.geometry,ue=U.type,Ce=[];if("Point"===ue||"MultiPoint"===ue)for(var me=0;me<oe.length;me+=3)Ce.push(oe[me]),Ce.push(oe[me+1]),re.numPoints++,re.numSimplified++;else if("LineString"===ue)li(Ce,oe,re,G,!1,!1);else if("MultiLineString"===ue||"Polygon"===ue)for(me=0;me<oe.length;me++)li(Ce,oe[me],re,G,"Polygon"===ue,0===me);else if("MultiPolygon"===ue)for(var fe=0;fe<oe.length;fe++){var ze=oe[fe];for(me=0;me<ze.length;me++)li(Ce,ze[me],re,G,!0,0===me)}if(Ce.length){var Ge=U.tags||null;if("LineString"===ue&&K.lineMetrics){for(var We in Ge={},U.tags)Ge[We]=U.tags[We];Ge.mapbox_clip_start=oe.start/oe.size,Ge.mapbox_clip_end=oe.end/oe.size}var Ue={geometry:Ce,type:"Polygon"===ue||"MultiPolygon"===ue?3:"LineString"===ue||"MultiLineString"===ue?2:1,tags:Ge};null!==U.id&&(Ue.id=U.id),re.features.push(Ue)}}function li(re,U,G,K,oe,ue){var Ce=K*K;if(K>0&&U.size<(oe?Ce:K))G.numPoints+=U.length/3;else{for(var me=[],fe=0;fe<U.length;fe+=3)(0===K||U[fe+2]>Ce)&&(G.numSimplified++,me.push(U[fe]),me.push(U[fe+1])),G.numPoints++;oe&&function(ze,Ge){for(var We=0,Ue=0,A1=ze.length,W1=A1-2;Ue<A1;W1=Ue,Ue+=2)We+=(ze[Ue]-ze[W1])*(ze[Ue+1]+ze[W1+1]);if(We>0===Ge)for(Ue=0,A1=ze.length;Ue<A1/2;Ue+=2){var C1=ze[Ue],E1=ze[Ue+1];ze[Ue]=ze[A1-2-Ue],ze[Ue+1]=ze[A1-1-Ue],ze[A1-2-Ue]=C1,ze[A1-1-Ue]=E1}}(me,ue),re.push(me)}}function ui(re,U){var G=(U=this.options=function(oe,ue){for(var Ce in ue)oe[Ce]=ue[Ce];return oe}(Object.create(this.options),U)).debug;if(G&&console.time("preprocess data"),U.maxZoom<0||U.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(U.promoteId&&U.generateId)throw new Error("promoteId and generateId cannot be used together.");var oe,ue,Ce,me,fe,ze,K=function(oe,ue){var Ce=[];if("FeatureCollection"===oe.type)for(var me=0;me<oe.features.length;me++)T2(Ce,oe.features[me],ue,me);else T2(Ce,"Feature"===oe.type?oe:{geometry:oe},ue);return Ce}(re,U);this.tiles={},this.tileCoords=[],G&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",U.indexMaxZoom,U.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),me=oe=K,fe=ft(oe,1,-1-(Ce=(ue=U).buffer/ue.extent),Ce,0,-1,2,ue),ze=ft(oe,1,1-Ce,2+Ce,0,-1,2,ue),(fe||ze)&&(me=ft(oe,1,-Ce,1+Ce,0,-1,2,ue)||[],fe&&(me=o1(fe,1).concat(me)),ze&&(me=me.concat(o1(ze,-1)))),(K=me).length&&this.splitTile(K,0,0,0),G&&(K.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function rr(re,U,G){return 32*((1<<re)*G+U)+re}function H3(re,U){return U?re.properties[U]:re.id}function ar(re,U){if(null==re)return!0;if("Feature"===re.type)return null!=H3(re,U);if("FeatureCollection"===re.type){const G=new Set;for(const K of re.features){const oe=H3(K,U);if(null==oe||G.has(oe))return!1;G.add(oe)}return!0}return!1}function dn(re,U){const G=new Map;if(null!=re)if("Feature"===re.type)G.set(H3(re,U),re);else for(const K of re.features)G.set(H3(K,U),K);return G}function j2(re,U){const G=re.tileID.canonical;if(!this._geoJSONIndex)return U(null,null);const K=this._geoJSONIndex.getTile(G.z,G.x,G.y);if(!K)return U(null,null);const oe=new class{constructor(Ce){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=_.EXTENT,this.length=Ce.length,this._features=Ce}feature(Ce){return new class{constructor(me){this._feature=me,this.extent=_.EXTENT,this.type=me.type,this.properties=me.tags,"id"in me&&!isNaN(me.id)&&(this.id=parseInt(me.id,10))}loadGeometry(){if(1===this._feature.type){const me=[];for(const fe of this._feature.geometry)me.push([new _.Point(fe[0],fe[1])]);return me}{const me=[];for(const fe of this._feature.geometry){const ze=[];for(const Ge of fe)ze.push(new _.Point(Ge[0],Ge[1]));me.push(ze)}return me}}toGeoJSON(me,fe,ze){return Ya.call(this,me,fe,ze)}}(this._features[Ce])}}(K.features);let ue=Dr(oe);0===ue.byteOffset&&ue.byteLength===ue.buffer.byteLength||(ue=new Uint8Array(ue)),U(null,{vectorTile:oe,rawData:ue.buffer})}ui.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ui.prototype.splitTile=function(re,U,G,K,oe,ue,Ce){for(var me=[re,U,G,K],fe=this.options,ze=fe.debug;me.length;){K=me.pop(),G=me.pop(),U=me.pop(),re=me.pop();var Ge=1<<U,We=rr(U,G,K),Ue=this.tiles[We];if(!Ue&&(ze>1&&console.time("creation"),Ue=this.tiles[We]=Vi(re,U,G,K,fe),this.tileCoords.push({z:U,x:G,y:K}),ze)){ze>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",U,G,K,Ue.numFeatures,Ue.numPoints,Ue.numSimplified),console.timeEnd("creation"));var A1="z"+U;this.stats[A1]=(this.stats[A1]||0)+1,this.total++}if(Ue.source=re,oe){if(U===fe.maxZoom||U===oe)continue;var W1=1<<oe-U;if(G!==Math.floor(ue/W1)||K!==Math.floor(Ce/W1))continue}else if(U===fe.indexMaxZoom||Ue.numPoints<=fe.indexMaxPoints)continue;if(Ue.source=null,0!==re.length){ze>1&&console.time("clipping");var C1,E1,U1,p2,P2,X1,f2=.5*fe.buffer/fe.extent,S2=.5-f2,D1=.5+f2,D2=1+f2;C1=E1=U1=p2=null,P2=ft(re,Ge,G-f2,G+D1,0,Ue.minX,Ue.maxX,fe),X1=ft(re,Ge,G+S2,G+D2,0,Ue.minX,Ue.maxX,fe),re=null,P2&&(C1=ft(P2,Ge,K-f2,K+D1,1,Ue.minY,Ue.maxY,fe),E1=ft(P2,Ge,K+S2,K+D2,1,Ue.minY,Ue.maxY,fe),P2=null),X1&&(U1=ft(X1,Ge,K-f2,K+D1,1,Ue.minY,Ue.maxY,fe),p2=ft(X1,Ge,K+S2,K+D2,1,Ue.minY,Ue.maxY,fe),X1=null),ze>1&&console.timeEnd("clipping"),me.push(C1||[],U+1,2*G,2*K),me.push(E1||[],U+1,2*G,2*K+1),me.push(U1||[],U+1,2*G+1,2*K),me.push(p2||[],U+1,2*G+1,2*K+1)}}},ui.prototype.getTile=function(re,U,G){var K=this.options,oe=K.extent,ue=K.debug;if(re<0||re>24)return null;var Ce=1<<re,me=rr(re,U=(U%Ce+Ce)%Ce,G);if(this.tiles[me])return B1(this.tiles[me],oe);ue>1&&console.log("drilling down to z%d-%d-%d",re,U,G);for(var fe,ze=re,Ge=U,We=G;!fe&&ze>0;)ze--,Ge=Math.floor(Ge/2),We=Math.floor(We/2),fe=this.tiles[rr(ze,Ge,We)];return fe&&fe.source?(ue>1&&console.log("found parent tile z%d-%d-%d",ze,Ge,We),ue>1&&console.time("drilling down"),this.splitTile(fe.source,ze,Ge,We,re,U,G),ue>1&&console.timeEnd("drilling down"),this.tiles[me]?B1(this.tiles[me],oe):null):null};class ra extends ii{constructor(U,G,K,oe){super(U,G,K,j2),this._dataUpdateable=new Map,this.loadGeoJSON=(ue,Ce)=>{const{promoteId:me}=ue;if(ue.request)return _.getJSON(ue.request,(fe,ze,Ge,We)=>{this._dataUpdateable=ar(ze,me)?dn(ze,me):void 0,Ce(fe,ze,Ge,We)});if("string"==typeof ue.data)try{const fe=JSON.parse(ue.data);this._dataUpdateable=ar(fe,me)?dn(fe,me):void 0,Ce(null,fe)}catch{Ce(new Error(`Input data given to '${ue.source}' is not a valid GeoJSON object.`))}else ue.dataDiff?this._dataUpdateable?(function(fe,ze,Ge){var We,Ue,A1,W1;if(ze.removeAll&&fe.clear(),ze.remove)for(const C1 of ze.remove)fe.delete(C1);if(ze.add)for(const C1 of ze.add){const E1=H3(C1,Ge);null!=E1&&fe.set(E1,C1)}if(ze.update)for(const C1 of ze.update){let E1=fe.get(C1.id);if(null==E1)continue;const U1=!C1.removeAllProperties&&((null===(We=C1.removeProperties)||void 0===We?void 0:We.length)>0||(null===(Ue=C1.addOrUpdateProperties)||void 0===Ue?void 0:Ue.length)>0);if((C1.newGeometry||C1.removeAllProperties||U1)&&(E1={...E1},fe.set(C1.id,E1),U1&&(E1.properties={...E1.properties})),C1.newGeometry&&(E1.geometry=C1.newGeometry),C1.removeAllProperties)E1.properties={};else if((null===(A1=C1.removeProperties)||void 0===A1?void 0:A1.length)>0)for(const p2 of C1.removeProperties)Object.prototype.hasOwnProperty.call(E1.properties,p2)&&delete E1.properties[p2];if((null===(W1=C1.addOrUpdateProperties)||void 0===W1?void 0:W1.length)>0)for(const{key:p2,value:P2}of C1.addOrUpdateProperties)E1.properties[p2]=P2}}(this._dataUpdateable,ue.dataDiff,me),Ce(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Ce(new Error(`Cannot update existing geojson data in ${ue.source}`)):Ce(new Error(`Input data given to '${ue.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},oe&&(this.loadGeoJSON=oe)}loadData(U,G){var K;null===(K=this._pendingRequest)||void 0===K||K.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const oe=!!(U&&U.request&&U.request.collectResourceTiming)&&new _.RequestPerformance(U.request);this._pendingCallback=G,this._pendingRequest=this.loadGeoJSON(U,(ue,Ce)=>{if(delete this._pendingCallback,delete this._pendingRequest,ue||!Ce)return G(ue);if("object"!=typeof Ce)return G(new Error(`Input data given to '${U.source}' is not a valid GeoJSON object.`));{lt(Ce,!0);try{if(U.filter){const fe=_.createExpression(U.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===fe.result)throw new Error(fe.value.map(Ge=>`${Ge.key}: ${Ge.message}`).join(", "));Ce={type:"FeatureCollection",features:Ce.features.filter(Ge=>fe.value.evaluate({zoom:0},Ge))}}this._geoJSONIndex=U.cluster?new C4(function({superclusterOptions:fe,clusterProperties:ze}){if(!ze||!fe)return fe;const Ge={},We={},Ue={accumulated:null,zoom:0},A1={properties:null},W1=Object.keys(ze);for(const C1 of W1){const[E1,U1]=ze[C1],p2=_.createExpression(U1),P2=_.createExpression("string"==typeof E1?[E1,["accumulated"],["get",C1]]:E1);Ge[C1]=p2.value,We[C1]=P2.value}return fe.map=C1=>{A1.properties=C1;const E1={};for(const U1 of W1)E1[U1]=Ge[U1].evaluate(Ue,A1);return E1},fe.reduce=(C1,E1)=>{A1.properties=E1;for(const U1 of W1)Ue.accumulated=C1[U1],C1[U1]=We[U1].evaluate(Ue,A1)},fe}(U)).load(Ce.features):new ui(fe=Ce,U.geojsonVtOptions)}catch(fe){return G(fe)}this.loaded={};const me={};if(oe){const fe=oe.finish();fe&&(me.resourceTiming={},me.resourceTiming[U.source]=JSON.parse(JSON.stringify(fe)))}G(null,me)}var fe})}reloadTile(U,G){const K=this.loaded;return K&&K[U.uid]?super.reloadTile(U,G):this.loadTile(U,G)}removeSource(U,G){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),G()}getClusterExpansionZoom(U,G){try{G(null,this._geoJSONIndex.getClusterExpansionZoom(U.clusterId))}catch(K){G(K)}}getClusterChildren(U,G){try{G(null,this._geoJSONIndex.getChildren(U.clusterId))}catch(K){G(K)}}getClusterLeaves(U,G){try{G(null,this._geoJSONIndex.getLeaves(U.clusterId,U.limit,U.offset))}catch(K){G(K)}}}class fi{constructor(U){this.self=U,this.actor=new _.Actor(U,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:ii,geojson:ra},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(G,K)=>{if(this.workerSourceTypes[G])throw new Error(`Worker source with name "${G}" already registered.`);this.workerSourceTypes[G]=K},this.self.registerRTLTextPlugin=G=>{if(_.plugin.isParsed())throw new Error("RTL text plugin already registered.");_.plugin.applyArabicShaping=G.applyArabicShaping,_.plugin.processBidirectionalText=G.processBidirectionalText,_.plugin.processStyledBidirectionalText=G.processStyledBidirectionalText}}setReferrer(U,G){this.referrer=G}setImages(U,G,K){this.availableImages[U]=G;for(const oe in this.workerSources[U]){const ue=this.workerSources[U][oe];for(const Ce in ue)ue[Ce].availableImages=G}K()}setLayers(U,G,K){this.getLayerIndex(U).replace(G),K()}updateLayers(U,G,K){this.getLayerIndex(U).update(G.layers,G.removedIds),K()}loadTile(U,G,K){this.getWorkerSource(U,G.type,G.source).loadTile(G,K)}loadDEMTile(U,G,K){this.getDEMWorkerSource(U,G.source).loadTile(G,K)}reloadTile(U,G,K){this.getWorkerSource(U,G.type,G.source).reloadTile(G,K)}abortTile(U,G,K){this.getWorkerSource(U,G.type,G.source).abortTile(G,K)}removeTile(U,G,K){this.getWorkerSource(U,G.type,G.source).removeTile(G,K)}removeDEMTile(U,G){this.getDEMWorkerSource(U,G.source).removeTile(G)}removeSource(U,G,K){if(!this.workerSources[U]||!this.workerSources[U][G.type]||!this.workerSources[U][G.type][G.source])return;const oe=this.workerSources[U][G.type][G.source];delete this.workerSources[U][G.type][G.source],void 0!==oe.removeSource?oe.removeSource(G,K):K()}loadWorkerSource(U,G,K){try{this.self.importScripts(G.url),K()}catch(oe){K(oe.toString())}}syncRTLPluginState(U,G,K){try{_.plugin.setState(G);const oe=_.plugin.getPluginURL();if(_.plugin.isLoaded()&&!_.plugin.isParsed()&&null!=oe){this.self.importScripts(oe);const ue=_.plugin.isParsed();K(ue?void 0:new Error(`RTL Text Plugin failed to import scripts from ${oe}`),ue)}}catch(oe){K(oe.toString())}}getAvailableImages(U){let G=this.availableImages[U];return G||(G=[]),G}getLayerIndex(U){let G=this.layerIndexes[U];return G||(G=this.layerIndexes[U]=new X2),G}getWorkerSource(U,G,K){return this.workerSources[U]||(this.workerSources[U]={}),this.workerSources[U][G]||(this.workerSources[U][G]={}),this.workerSources[U][G][K]||(this.workerSources[U][G][K]=new this.workerSourceTypes[G]({send:(ue,Ce,me)=>{this.actor.send(ue,Ce,me,U)}},this.getLayerIndex(U),this.getAvailableImages(U))),this.workerSources[U][G][K]}getDEMWorkerSource(U,G){return this.demWorkerSources[U]||(this.demWorkerSources[U]={}),this.demWorkerSources[U][G]||(this.demWorkerSources[U][G]=new _4),this.demWorkerSources[U][G]}}return _.isWorker()&&(self.worker=new fi(self)),fi}),io(0,function(_){class Re{static testProp(s){if(!Re.docStyle)return s[0];for(let f=0;f<s.length;f++)if(s[f]in Re.docStyle)return s[f];return s[0]}static create(s,f,m){const v=window.document.createElement(s);return void 0!==f&&(v.className=f),m&&m.appendChild(v),v}static createNS(s,f){return window.document.createElementNS(s,f)}static disableDrag(){Re.docStyle&&Re.selectProp&&(Re.userSelect=Re.docStyle[Re.selectProp],Re.docStyle[Re.selectProp]="none")}static enableDrag(){Re.docStyle&&Re.selectProp&&(Re.docStyle[Re.selectProp]=Re.userSelect)}static setTransform(s,f){s.style[Re.transformProp]=f}static addEventListener(s,f,m,v={}){s.addEventListener(f,m,"passive"in v?v:v.capture)}static removeEventListener(s,f,m,v={}){s.removeEventListener(f,m,"passive"in v?v:v.capture)}static suppressClickInternal(s){s.preventDefault(),s.stopPropagation(),window.removeEventListener("click",Re.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",Re.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",Re.suppressClickInternal,!0)},0)}static mousePos(s,f){const m=s.getBoundingClientRect();return new _.Point(f.clientX-m.left-s.clientLeft,f.clientY-m.top-s.clientTop)}static touchPos(s,f){const m=s.getBoundingClientRect(),v=[];for(let b=0;b<f.length;b++)v.push(new _.Point(f[b].clientX-m.left-s.clientLeft,f[b].clientY-m.top-s.clientTop));return v}static mouseButton(s){return s.button}static remove(s){s.parentNode&&s.parentNode.removeChild(s)}}Re.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,Re.selectProp=Re.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),Re.transformProp=Re.testProp(["transform","WebkitTransform"]);const Kn={supported:!1,testSupport:function(C){!ii&&Qn&&(_4?Qi(C):I1=C)}};let I1,Qn,ii=!1,_4=!1;function Qi(C){const s=C.createTexture();C.bindTexture(C.TEXTURE_2D,s);try{if(C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,Qn),C.isContextLost())return;Kn.supported=!0}catch{}C.deleteTexture(s),ii=!0}var u3,lt,C;typeof document<"u"&&(Qn=document.createElement("img"),Qn.onload=function(){I1&&Qi(I1),I1=null,_4=!0},Qn.onerror=function(){ii=!0,I1=null},Qn.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(C){let s,f,m,v;C.resetRequestQueue=()=>{s=[],f=0,m=0,v={}},C.addThrottleControl=A=>{const k=m++;return v[k]=A,k},C.removeThrottleControl=A=>{delete v[A],L()},C.getImage=(A,k,O=!0)=>{Kn.supported&&(A.headers||(A.headers={}),A.headers.accept="image/webp,*/*");const Z={requestParameters:A,supportImageRefresh:O,callback:k,cancelled:!1,completed:!1,cancel:()=>{Z.completed||Z.cancelled||(Z.cancelled=!0,Z.innerRequest&&(Z.innerRequest.cancel(),f--),L())}};return s.push(Z),L(),Z};const b=A=>{const{requestParameters:k,supportImageRefresh:O,callback:Z}=A;return _.extend(k,{type:"image"}),(!1!==O||_.isWorker()||_.getProtocolAction(k.url)||k.headers&&!Object.keys(k.headers).reduce((te,ee)=>te&&"accept"===ee,!0)?_.makeRequest:T)(k,(te,ee,ae,Q)=>{H(A,Z,te,ee,ae,Q)})},H=(A,k,O,Z,te,ee)=>{var ae,Q;O?k(O):Z instanceof HTMLImageElement||_.isImageBitmap(Z)?k(null,Z):Z&&(ae=Z,Q=(ae,Q)=>{null!=ae?k(ae):null!=Q&&k(null,Q,{cacheControl:te,expires:ee})},"function"==typeof createImageBitmap?_.arrayBufferToImageBitmap(ae,Q):_.arrayBufferToImage(ae,Q)),A.cancelled||(A.completed=!0,f--,L())},L=()=>{const A=(()=>{const k=Object.keys(v);let O=!1;if(k.length>0)for(const Z of k)if(O=v[Z](),O)break;return O})()?_.config.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:_.config.MAX_PARALLEL_IMAGE_REQUESTS;for(let k=f;k<A&&s.length>0;k++){const O=s.shift();if(O.cancelled){k--;continue}const Z=b(O);f++,O.innerRequest=Z}},T=(A,k)=>{const O=new Image,Z=A.url;let te=!1;const ee=A.credentials;return ee&&"include"===ee?O.crossOrigin="use-credentials":(ee&&"same-origin"===ee||!_.sameOrigin(Z))&&(O.crossOrigin="anonymous"),O.fetchPriority="high",O.onload=()=>{k(null,O),O.onerror=O.onload=null},O.onerror=()=>{te||k(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),O.onerror=O.onload=null},O.src=Z,{cancel:()=>{te=!0,O.src=""}}}}(u3||(u3={})),u3.resetRequestQueue(),(C=lt||(lt={})).Glyphs="Glyphs",C.Image="Image",C.Source="Source",C.SpriteImage="SpriteImage",C.SpriteJSON="SpriteJSON",C.Style="Style",C.Tile="Tile",C.Unknown="Unknown";class Ya{constructor(s){this._transformRequestFn=s}transformRequest(s,f){return this._transformRequestFn&&this._transformRequestFn(s,f)||{url:s}}normalizeSpriteURL(s,f,m){const v=function(b){const H=b.match(ln);if(!H)throw new Error(`Unable to parse URL "${b}"`);return{protocol:H[1],authority:H[2],path:H[3]||"/",params:H[4]?H[4].split("&"):[]}}(s);return v.path+=`${f}${m}`,function(b){const H=b.params.length?`?${b.params.join("&")}`:"";return`${b.protocol}://${b.authority}${b.path}${H}`}(v)}setTransformRequest(s){this._transformRequestFn=s}}const ln=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ri(C){var s=new _.ARRAY_TYPE(3);return s[0]=C[0],s[1]=C[1],s[2]=C[2],s}var O3,ia=function(C,s,f){return C[0]=s[0]-f[0],C[1]=s[1]-f[1],C[2]=s[2]-f[2],C};O3=new _.ARRAY_TYPE(3),_.ARRAY_TYPE!=Float32Array&&(O3[0]=0,O3[1]=0,O3[2]=0);var Jn=function(C){var s=C[0],f=C[1];return s*s+f*f};function ai(C){const s=[];if("string"==typeof C)s.push({id:"default",url:C});else if(C&&C.length>0){const f=[];for(const{id:m,url:v}of C){const b=`${m}${v}`;-1===f.indexOf(b)&&(f.push(b),s.push({id:m,url:v}))}}return s}function un(C,s,f,m,v){if(m)return void C(m);if(v!==Object.values(s).length||v!==Object.values(f).length)return;const b={};for(const H in s){b[H]={};const L=_.browser.getImageCanvasContext(f[H]),T=s[H];for(const A in T){const{width:k,height:O,x:Z,y:te,sdf:ee,pixelRatio:ae,stretchX:Q,stretchY:ye,content:De}=T[A];b[H][A]={data:null,pixelRatio:ae,sdf:ee,stretchX:Q,stretchY:ye,content:De,spriteData:{width:k,height:O,x:Z,y:te,context:L}}}}C(null,b)}!function(){var C=new _.ARRAY_TYPE(2);_.ARRAY_TYPE!=Float32Array&&(C[0]=0,C[1]=0)}();class E2{constructor(s,f,m,v){this.context=s,this.format=m,this.texture=s.gl.createTexture(),this.update(f,v)}update(s,f,m){const{width:v,height:b}=s,H=!(this.size&&this.size[0]===v&&this.size[1]===b||m),{context:L}=this,{gl:T}=L;if(this.useMipmap=!(!f||!f.useMipmap),T.bindTexture(T.TEXTURE_2D,this.texture),L.pixelStoreUnpackFlipY.set(!1),L.pixelStoreUnpack.set(1),L.pixelStoreUnpackPremultiplyAlpha.set(this.format===T.RGBA&&(!f||!1!==f.premultiply)),H)this.size=[v,b],s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||_.isImageBitmap(s)?T.texImage2D(T.TEXTURE_2D,0,this.format,this.format,T.UNSIGNED_BYTE,s):T.texImage2D(T.TEXTURE_2D,0,this.format,v,b,0,this.format,T.UNSIGNED_BYTE,s.data);else{const{x:A,y:k}=m||{x:0,y:0};s instanceof HTMLImageElement||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageData||_.isImageBitmap(s)?T.texSubImage2D(T.TEXTURE_2D,0,A,k,T.RGBA,T.UNSIGNED_BYTE,s):T.texSubImage2D(T.TEXTURE_2D,0,A,k,v,b,T.RGBA,T.UNSIGNED_BYTE,s.data)}this.useMipmap&&this.isSizePowerOfTwo()&&T.generateMipmap(T.TEXTURE_2D)}bind(s,f,m){const{context:v}=this,{gl:b}=v;b.bindTexture(b.TEXTURE_2D,this.texture),m!==b.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=b.LINEAR),s!==this.filter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,s),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,m||s),this.filter=s),f!==this.wrap&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,f),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,f),this.wrap=f)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}function Hi(C){const{userImage:s}=C;return!!(s&&s.render&&s.render())&&(C.data.replace(new Uint8Array(s.data.buffer)),!0)}class In extends _.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new _.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(const{ids:f,callback:m}of this.requestors)this._notify(f,m);this.requestors=[]}}getImage(s){const f=this.images[s];if(f&&!f.data&&f.spriteData){const m=f.spriteData;f.data=new _.RGBAImage({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),f.spriteData=null}return f}addImage(s,f){if(this.images[s])throw new Error(`Image id ${s} already exist, use updateImage instead`);this._validate(s,f)&&(this.images[s]=f)}_validate(s,f){let m=!0;const v=f.data||f.spriteData;return this._validateStretch(f.stretchX,v&&v.width)||(this.fire(new _.ErrorEvent(new Error(`Image "${s}" has invalid "stretchX" value`))),m=!1),this._validateStretch(f.stretchY,v&&v.height)||(this.fire(new _.ErrorEvent(new Error(`Image "${s}" has invalid "stretchY" value`))),m=!1),this._validateContent(f.content,f)||(this.fire(new _.ErrorEvent(new Error(`Image "${s}" has invalid "content" value`))),m=!1),m}_validateStretch(s,f){if(!s)return!0;let m=0;for(const v of s){if(v[0]<m||v[1]<v[0]||f<v[1])return!1;m=v[1]}return!0}_validateContent(s,f){if(!s)return!0;if(4!==s.length)return!1;const m=f.spriteData,v=m&&m.width||f.data.width,b=m&&m.height||f.data.height;return!(s[0]<0||v<s[0]||s[1]<0||b<s[1]||s[2]<0||v<s[2]||s[3]<0||b<s[3]||s[2]<s[0]||s[3]<s[1])}updateImage(s,f,m=!0){const v=this.getImage(s);if(m&&(v.data.width!==f.data.width||v.data.height!==f.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=v.version+1,this.images[s]=f,this.updatedImages[s]=!0}removeImage(s){const f=this.images[s];delete this.images[s],delete this.patterns[s],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s,f){let m=!0;if(!this.isLoaded())for(const v of s)this.images[v]||(m=!1);this.isLoaded()||m?this._notify(s,f):this.requestors.push({ids:s,callback:f})}_notify(s,f){const m={};for(const v of s){let b=this.getImage(v);b||(this.fire(new _.Event("styleimagemissing",{id:v})),b=this.getImage(v)),b?m[v]={data:b.data.clone(),pixelRatio:b.pixelRatio,sdf:b.sdf,version:b.version,stretchX:b.stretchX,stretchY:b.stretchY,content:b.content,hasRenderCallback:!(!b.userImage||!b.userImage.render)}:_.warnOnce(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}f(null,m)}getPixelSize(){const{width:s,height:f}=this.atlasImage;return{width:s,height:f}}getPattern(s){const f=this.patterns[s],m=this.getImage(s);if(!m)return null;if(f&&f.position.version===m.version)return f.position;if(f)f.position.version=m.version;else{const v={w:m.data.width+2,h:m.data.height+2,x:0,y:0},b=new _.ImagePosition(v,m);this.patterns[s]={bin:v,position:b}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){const f=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new E2(s,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const s=[];for(const b in this.patterns)s.push(this.patterns[b].bin);const{w:f,h:m}=_.potpack(s),v=this.atlasImage;v.resize({width:f||1,height:m||1});for(const b in this.patterns){const{bin:H}=this.patterns[b],L=H.x+1,T=H.y+1,A=this.getImage(b).data,k=A.width,O=A.height;_.RGBAImage.copy(A,v,{x:0,y:0},{x:L,y:T},{width:k,height:O}),_.RGBAImage.copy(A,v,{x:0,y:O-1},{x:L,y:T-1},{width:k,height:1}),_.RGBAImage.copy(A,v,{x:0,y:0},{x:L,y:T+O},{width:k,height:1}),_.RGBAImage.copy(A,v,{x:k-1,y:0},{x:L-1,y:T},{width:1,height:O}),_.RGBAImage.copy(A,v,{x:0,y:0},{x:L+k,y:T},{width:1,height:O})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(const f of s){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const m=this.getImage(f);m||_.warnOnce(`Image with ID: "${f}" was not found`),Hi(m)&&this.updateImage(f,m)}}}const Li=1e20;function Ji(C,s,f,m,v,b,H,L,T){for(let A=s;A<s+m;A++)er(C,f*b+A,b,v,H,L,T);for(let A=f;A<f+v;A++)er(C,A*b+s,1,m,H,L,T)}function er(C,s,f,m,v,b,H){b[0]=0,H[0]=-Li,H[1]=Li,v[0]=C[s];for(let L=1,T=0,A=0;L<m;L++){v[L]=C[s+L*f];const k=L*L;do{const O=b[T];A=(v[L]-v[O]+k-O*O)/(L-O)/2}while(A<=H[T]&&--T>-1);T++,b[T]=L,H[T]=A,H[T+1]=Li}for(let L=0,T=0;L<m;L++){for(;H[T+1]<L;)T++;const A=b[T],k=L-A;C[s+L*f]=v[A]+k*k}}class w3{constructor(s,f){this.requestManager=s,this.localIdeographFontFamily=f,this.entries={}}setURL(s){this.url=s}getGlyphs(s,f){const m=[];for(const v in s)for(const b of s[v])m.push({stack:v,id:b});_.asyncAll(m,({stack:v,id:b},H)=>{let L=this.entries[v];L||(L=this.entries[v]={glyphs:{},requests:{},ranges:{}});let T=L.glyphs[b];if(void 0!==T)return void H(null,{stack:v,id:b,glyph:T});if(T=this._tinySDF(L,v,b),T)return L.glyphs[b]=T,void H(null,{stack:v,id:b,glyph:T});const A=Math.floor(b/256);if(256*A>65535)return void H(new Error("glyphs > 65535 not supported"));if(L.ranges[A])return void H(null,{stack:v,id:b,glyph:T});if(!this.url)return void H(new Error("glyphsUrl is not set"));let k=L.requests[A];k||(k=L.requests[A]=[],w3.loadGlyphRange(v,A,this.url,this.requestManager,(O,Z)=>{if(Z){for(const te in Z)this._doesCharSupportLocalGlyph(+te)||(L.glyphs[+te]=Z[+te]);L.ranges[A]=!0}for(const te of k)te(O,Z);delete L.requests[A]})),k.push((O,Z)=>{O?H(O):Z&&H(null,{stack:v,id:b,glyph:Z[b]||null})})},(v,b)=>{if(v)f(v);else if(b){const H={};for(const{stack:L,id:T,glyph:A}of b)(H[L]||(H[L]={}))[T]=A&&{id:A.id,bitmap:A.bitmap.clone(),metrics:A.metrics};f(null,H)}})}_doesCharSupportLocalGlyph(s){return!!this.localIdeographFontFamily&&(_.unicodeBlockLookup["CJK Unified Ideographs"](s)||_.unicodeBlockLookup["Hangul Syllables"](s)||_.unicodeBlockLookup.Hiragana(s)||_.unicodeBlockLookup.Katakana(s))}_tinySDF(s,f,m){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(m))return;let b=s.tinySDF;if(!b){let L="400";/bold/i.test(f)?L="900":/medium/i.test(f)?L="500":/light/i.test(f)&&(L="200"),b=s.tinySDF=new w3.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:v,fontWeight:L})}const H=b.draw(String.fromCharCode(m));return{id:m,bitmap:new _.AlphaImage({width:H.width||30,height:H.height||30},H.data),metrics:{width:H.glyphWidth||24,height:H.glyphHeight||24,left:H.glyphLeft||0,top:H.glyphTop-27||-8,advance:H.glyphAdvance||24}}}}w3.loadGlyphRange=function(C,s,f,m,v){const b=256*s,H=b+255,L=m.transformRequest(f.replace("{fontstack}",C).replace("{range}",`${b}-${H}`),lt.Glyphs);_.getArrayBuffer(L,(T,A)=>{if(T)v(T);else if(A){const k={};for(const O of _.parseGlyphPbf(A))k[O.id]=O;v(null,k)}})},w3.TinySDF=class{constructor({fontSize:C=24,buffer:s=3,radius:f=8,cutoff:m=.25,fontFamily:v="sans-serif",fontWeight:b="normal",fontStyle:H="normal"}={}){this.buffer=s,this.cutoff=m,this.radius=f;const L=this.size=C+4*s,T=this._createCanvas(L),A=this.ctx=T.getContext("2d",{willReadFrequently:!0});A.font=`${H} ${b} ${C}px ${v}`,A.textBaseline="alphabetic",A.textAlign="left",A.fillStyle="black",this.gridOuter=new Float64Array(L*L),this.gridInner=new Float64Array(L*L),this.f=new Float64Array(L),this.z=new Float64Array(L+1),this.v=new Uint16Array(L)}_createCanvas(C){const s=document.createElement("canvas");return s.width=s.height=C,s}draw(C){const{width:s,actualBoundingBoxAscent:f,actualBoundingBoxDescent:m,actualBoundingBoxLeft:v,actualBoundingBoxRight:b}=this.ctx.measureText(C),H=Math.ceil(f),L=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-v))),T=Math.min(this.size-this.buffer,H+Math.ceil(m)),A=L+2*this.buffer,k=T+2*this.buffer,O=Math.max(A*k,0),Z=new Uint8ClampedArray(O),te={data:Z,width:A,height:k,glyphWidth:L,glyphHeight:T,glyphTop:H,glyphLeft:0,glyphAdvance:s};if(0===L||0===T)return te;const{ctx:ee,buffer:ae,gridInner:Q,gridOuter:ye}=this;ee.clearRect(ae,ae,L,T),ee.fillText(C,ae,ae+H);const De=ee.getImageData(ae,ae,L,T);ye.fill(Li,0,O),Q.fill(0,0,O);for(let ce=0;ce<T;ce++)for(let _e=0;_e<L;_e++){const Ie=De.data[4*(ce*L+_e)+3]/255;if(0===Ie)continue;const ke=(ce+ae)*A+_e+ae;if(1===Ie)ye[ke]=0,Q[ke]=Li;else{const je=.5-Ie;ye[ke]=je>0?je*je:0,Q[ke]=je<0?je*je:0}}Ji(ye,0,0,A,k,A,this.f,this.v,this.z),Ji(Q,ae,ae,L,T,A,this.f,this.v,this.z);for(let ce=0;ce<O;ce++){const _e=Math.sqrt(ye[ce])-Math.sqrt(Q[ce]);Z[ce]=Math.round(255-255*(_e/this.radius+this.cutoff))}return te}};class f3{constructor(){this.specification=_.v8Spec.light.position}possiblyEvaluate(s,f){return _.sphericalToCartesian(s.expression.evaluate(f))}interpolate(s,f,m){return{x:_.interpolate.number(s.x,f.x,m),y:_.interpolate.number(s.y,f.y,m),z:_.interpolate.number(s.z,f.z,m)}}}let Pr,Dr;class mt extends _.Evented{constructor(s){super(),Pr=Pr||new _.Properties({anchor:new _.DataConstantProperty(_.v8Spec.light.anchor),position:new f3,color:new _.DataConstantProperty(_.v8Spec.light.color),intensity:new _.DataConstantProperty(_.v8Spec.light.intensity)}),this._transitionable=new _.Transitionable(Pr),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,f={}){if(!this._validate(_.validateLight,s,f))for(const m in s){const v=s[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,f,m){return(!m||!1!==m.validate)&&_.emitValidationErrors(this,s.call(_.validateStyle,_.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:_.v8Spec})))}}class tr{constructor(s,f){this.width=s,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(s,f){const m=s.join(",")+String(f);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(s,f)),this.dashEntry[m]}getDashRanges(s,f,m){const v=[];let b=s.length%2==1?-s[s.length-1]*m:0,H=s[0]*m,L=!0;v.push({left:b,right:H,isDash:L,zeroLength:0===s[0]});let T=s[0];for(let A=1;A<s.length;A++){L=!L;const k=s[A];b=T*m,T+=k,H=T*m,v.push({left:b,right:H,isDash:L,zeroLength:0===k})}return v}addRoundDash(s,f,m){const v=f/2;for(let b=-m;b<=m;b++){const H=this.width*(this.nextRow+m+b);let L=0,T=s[L];for(let A=0;A<this.width;A++){A/T.right>1&&(T=s[++L]);const k=Math.abs(A-T.left),O=Math.abs(A-T.right),Z=Math.min(k,O);let te;const ee=b/m*(v+1);if(T.isDash){const ae=v-Math.abs(ee);te=Math.sqrt(Z*Z+ae*ae)}else te=v-Math.sqrt(Z*Z+ee*ee);this.data[H+A]=Math.max(0,Math.min(255,te+128))}}}addRegularDash(s){for(let L=s.length-1;L>=0;--L){const T=s[L],A=s[L+1];T.zeroLength?s.splice(L,1):A&&A.isDash===T.isDash&&(A.left=T.left,s.splice(L,1))}const f=s[0],m=s[s.length-1];f.isDash===m.isDash&&(f.left=m.left-this.width,m.right=f.right+this.width);const v=this.width*this.nextRow;let b=0,H=s[b];for(let L=0;L<this.width;L++){L/H.right>1&&(H=s[++b]);const T=Math.abs(L-H.left),A=Math.abs(L-H.right),k=Math.min(T,A);this.data[v+L]=Math.max(0,Math.min(255,(H.isDash?k:-k)+128))}}addDash(s,f){const m=f?7:0,v=2*m+1;if(this.nextRow+v>this.height)return _.warnOnce("LineAtlas out of space"),null;let b=0;for(let L=0;L<s.length;L++)b+=s[L];if(0!==b){const L=this.width/b,T=this.getDashRanges(s,this.width,L);f?this.addRoundDash(T,L,m):this.addRegularDash(T)}const H={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:b};return this.nextRow+=v,this.dirty=!0,H}bind(s){const f=s.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}class si{constructor(s,f,m){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=m;const v=this.workerPool.acquire(m);for(let b=0;b<v.length;b++){const H=new si.Actor(v[b],f,m);H.name=`Worker ${b}`,this.actors.push(H)}if(!this.actors.length)throw new Error("No actors found")}broadcast(s,f,m){_.asyncAll(this.actors,(v,b)=>{v.send(s,f,b)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(s=!0){this.actors.forEach(f=>{f.remove()}),this.actors=[],s&&this.workerPool.release(this.id)}}function z3(C,s,f){const m=function(v,b){if(v)return f(v);if(b){const H=_.pick(_.extend(b,C),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);b.vector_layers&&(H.vectorLayers=b.vector_layers,H.vectorLayerIds=H.vectorLayers.map(L=>L.id)),f(null,H)}};return C.url?_.getJSON(s.transformRequest(C.url,lt.Source),m):_.browser.frame(()=>m(null,C))}si.Actor=_.Actor;class ut{constructor(s,f){s&&(f?this.setSouthWest(s).setNorthEast(f):Array.isArray(s)&&(4===s.length?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1])))}setNorthEast(s){return this._ne=s instanceof _.LngLat?new _.LngLat(s.lng,s.lat):_.LngLat.convert(s),this}setSouthWest(s){return this._sw=s instanceof _.LngLat?new _.LngLat(s.lng,s.lat):_.LngLat.convert(s),this}extend(s){const f=this._sw,m=this._ne;let v,b;if(s instanceof _.LngLat)v=s,b=s;else{if(!(s instanceof ut))return Array.isArray(s)?4===s.length||s.every(Array.isArray)?this.extend(ut.convert(s)):this.extend(_.LngLat.convert(s)):s&&("lng"in s||"lon"in s)&&"lat"in s?this.extend(_.LngLat.convert(s)):this;if(v=s._sw,b=s._ne,!v||!b)return this}return f||m?(f.lng=Math.min(v.lng,f.lng),f.lat=Math.min(v.lat,f.lat),m.lng=Math.max(b.lng,m.lng),m.lat=Math.max(b.lat,m.lat)):(this._sw=new _.LngLat(v.lng,v.lat),this._ne=new _.LngLat(b.lng,b.lat)),this}getCenter(){return new _.LngLat((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new _.LngLat(this.getWest(),this.getNorth())}getSouthEast(){return new _.LngLat(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){const{lng:f,lat:m}=_.LngLat.convert(s);let v=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&v}static convert(s){return s instanceof ut?s:s&&new ut(s)}static fromLngLat(s,f=0){const m=360*f/40075017,v=m/Math.cos(Math.PI/180*s.lat);return new ut(new _.LngLat(s.lng-v,s.lat-m),new _.LngLat(s.lng+v,s.lat+m))}}class fn{constructor(s,f,m){this.bounds=ut.convert(this.validateBounds(s)),this.minzoom=f||0,this.maxzoom=m||24}validateBounds(s){return Array.isArray(s)&&4===s.length?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){const f=Math.pow(2,s.z),m=Math.floor(_.mercatorXfromLng(this.bounds.getWest())*f),v=Math.floor(_.mercatorYfromLat(this.bounds.getNorth())*f),b=Math.ceil(_.mercatorXfromLng(this.bounds.getEast())*f),H=Math.ceil(_.mercatorYfromLat(this.bounds.getSouth())*f);return s.x>=m&&s.x<b&&s.y>=v&&s.y<H}}class C4 extends _.Evented{constructor(s,f,m,v){if(super(),this.load=()=>{this._loaded=!1,this.fire(new _.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=z3(this._options,this.map._requestManager,(b,H)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),b?this.fire(new _.ErrorEvent(b)):H&&(_.extend(this,H),H.bounds&&(this.tileBounds=new fn(H.bounds,this.minzoom,this.maxzoom)),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>_.extend({},this._options),this.id=s,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,_.extend(this,_.pick(f,["url","scheme","tileSize","promoteId"])),this._options=_.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.cancel(),s(),this.load()}setTiles(s){return this.setSourceProperty(()=>{this._options.tiles=s}),this}setUrl(s){return this.setSourceProperty(()=>{this.url=s,this._options.url=s}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(s,f){const m=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(m,lt.Tile),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function b(H,L){return delete s.request,s.aborted?f(null):H&&404!==H.status?f(H):(L&&L.resourceTiming&&(s.resourceTiming=L.resourceTiming),this.map._refreshExpiredTiles&&L&&s.setExpiryData(L),s.loadVectorData(L,this.map.painter),f(null),void(s.reloadCallback&&(this.loadTile(s,s.reloadCallback),s.reloadCallback=null)))}v.request.collectResourceTiming=this._collectResourceTiming,s.actor&&"expired"!==s.state?"loading"===s.state?s.reloadCallback=f:s.request=s.actor.send("reloadTile",v,b.bind(this)):(s.actor=this.dispatcher.getActor(),s.request=s.actor.send("loadTile",v,b.bind(this)))}abortTile(s){s.request&&(s.request.cancel(),delete s.request),s.actor&&s.actor.send("abortTile",{uid:s.uid,type:this.type,source:this.id},void 0)}unloadTile(s){s.unloadVectorData(),s.actor&&s.actor.send("removeTile",{uid:s.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class nr extends _.Evented{constructor(s,f,m,v){super(),this.id=s,this.dispatcher=m,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=_.extend({type:"raster"},f),_.extend(this,_.pick(f,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new _.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=z3(this._options,this.map._requestManager,(s,f)=>{this._tileJSONRequest=null,this._loaded=!0,s?this.fire(new _.ErrorEvent(s)):f&&(_.extend(this,f),f.bounds&&(this.tileBounds=new fn(f.bounds,this.minzoom,this.maxzoom)),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return _.extend({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s,f){const m=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);s.request=u3.getImage(this.map._requestManager.transformRequest(m,lt.Tile),(v,b,H)=>{if(delete s.request,s.aborted)s.state="unloaded",f(null);else if(v)s.state="errored",f(v);else if(b){this.map._refreshExpiredTiles&&H&&s.setExpiryData(H);const L=this.map.painter.context,T=L.gl;s.texture=this.map.painter.getTileTexture(b.width),s.texture?s.texture.update(b,{useMipmap:!0}):(s.texture=new E2(L,b,T.RGBA,{useMipmap:!0}),s.texture.bind(T.LINEAR,T.CLAMP_TO_EDGE,T.LINEAR_MIPMAP_NEAREST),L.extTextureFilterAnisotropic&&T.texParameterf(T.TEXTURE_2D,L.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,L.extTextureFilterAnisotropicMax)),s.state="loaded",f(null)}},this.map._refreshExpiredTiles)}abortTile(s,f){s.request&&(s.request.cancel(),delete s.request),f()}unloadTile(s,f){s.texture&&this.map.painter.saveTileTexture(s.texture),f()}hasTransition(){return!1}}class et extends nr{constructor(s,f,m,v){super(s,f,m,v),this.type="raster-dem",this.maxzoom=22,this._options=_.extend({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox"}loadTile(s,f){const m=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function v(b,H){b&&(s.state="errored",f(b)),H&&(s.dem=H,s.needsHillshadePrepare=!0,s.needsTerrainPrepare=!0,s.state="loaded",f(null))}s.request=u3.getImage(this.map._requestManager.transformRequest(m,lt.Tile),function(b,H){if(delete s.request,s.aborted)s.state="unloaded",f(null);else if(b)s.state="errored",f(b);else if(H){this.map._refreshExpiredTiles&&s.setExpiryData(H),delete H.cacheControl,delete H.expires;const L=_.isImageBitmap(H)&&(null==Dr&&(Dr=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),Dr)?H:_.browser.getImageData(H,1),T={uid:s.uid,coord:s.tileID,source:this.id,rawImageData:L,encoding:this.encoding};s.actor&&"expired"!==s.state||(s.actor=this.dispatcher.getActor(),s.actor.send("loadDEMTile",T,v.bind(this)))}}.bind(this),this.map._refreshExpiredTiles),s.neighboringTiles=this._getNeighboringTiles(s.tileID)}_getNeighboringTiles(s){const f=s.canonical,m=Math.pow(2,f.z),v=(f.x-1+m)%m,b=0===f.x?s.wrap-1:s.wrap,H=(f.x+1+m)%m,L=f.x+1===m?s.wrap+1:s.wrap,T={};return T[new _.OverscaledTileID(s.overscaledZ,b,f.z,v,f.y).key]={backfilled:!1},T[new _.OverscaledTileID(s.overscaledZ,L,f.z,H,f.y).key]={backfilled:!1},f.y>0&&(T[new _.OverscaledTileID(s.overscaledZ,b,f.z,v,f.y-1).key]={backfilled:!1},T[new _.OverscaledTileID(s.overscaledZ,s.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},T[new _.OverscaledTileID(s.overscaledZ,L,f.z,H,f.y-1).key]={backfilled:!1}),f.y+1<m&&(T[new _.OverscaledTileID(s.overscaledZ,b,f.z,v,f.y+1).key]={backfilled:!1},T[new _.OverscaledTileID(s.overscaledZ,s.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},T[new _.OverscaledTileID(s.overscaledZ,L,f.z,H,f.y+1).key]={backfilled:!1}),T}unloadTile(s){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&s.actor.send("removeDEMTile",{uid:s.uid,source:this.id})}}class $2 extends _.Evented{constructor(s,f,m,v){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>_.extend({},this._options,{type:this.type,data:this._data}),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(v),this._data=f.data,this._options=_.extend({},f),this._collectResourceTiming=f.collectResourceTiming,void 0!==f.maxzoom&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId;const b=_.EXTENT/this.tileSize;this.workerOptions=_.extend({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:(void 0!==f.buffer?f.buffer:128)*b,tolerance:(void 0!==f.tolerance?f.tolerance:.375)*b,extent:_.EXTENT,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:void 0!==f.clusterMaxZoom?f.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,f.clusterMinPoints||2),extent:_.EXTENT,radius:(f.clusterRadius||50)*b,log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(s){this.map=s,this.load()}setData(s){return this._data=s,this._updateWorkerData(),this}updateData(s){return this._updateWorkerData(s),this}setClusterOptions(s){return this.workerOptions.cluster=s.cluster,s&&(void 0!==s.clusterRadius&&(this.workerOptions.superclusterOptions.radius=s.clusterRadius),void 0!==s.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=s.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(s,f){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:s,source:this.id},f),this}getClusterChildren(s,f){return this.actor.send("geojson.getClusterChildren",{clusterId:s,source:this.id},f),this}getClusterLeaves(s,f,m,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:s,limit:f,offset:m},v),this}_updateWorkerData(s){const f=_.extend({},this.workerOptions);s?f.dataDiff=s:"string"==typeof this._data?(f.request=this.map._requestManager.transformRequest(_.browser.resolveURL(this._data),lt.Source),f.request.collectResourceTiming=this._collectResourceTiming):f.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new _.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,f,(m,v)=>{if(this._pendingLoads--,this._removed||v&&v.abandoned)return void this.fire(new _.Event("dataabort",{dataType:"source"}));let b=null;if(v&&v.resourceTiming&&v.resourceTiming[this.id]&&(b=v.resourceTiming[this.id].slice(0)),m)return void this.fire(new _.ErrorEvent(m));const H={dataType:"source"};this._collectResourceTiming&&b&&b.length>0&&_.extend(H,{resourceTiming:b}),this.fire(new _.Event("data",{...H,sourceDataType:"metadata"})),this.fire(new _.Event("data",{...H,sourceDataType:"content"}))})}loaded(){return 0===this._pendingLoads}loadTile(s,f){const m=s.actor?"reloadTile":"loadTile";s.actor=this.actor;const v={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};s.request=this.actor.send(m,v,(b,H)=>(delete s.request,s.unloadVectorData(),s.aborted?f(null):b?f(b):(s.loadVectorData(H,this.map.painter,"reloadTile"===m),f(null))))}abortTile(s){s.request&&(s.request.cancel(),delete s.request),s.aborted=!0}unloadTile(s){s.unloadVectorData(),this.actor.send("removeTile",{uid:s.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var S3=_.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class d2 extends _.Evented{constructor(s,f,m,v){super(),this.load=(b,H)=>{this._loaded=!1,this.fire(new _.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=u3.getImage(this.map._requestManager.transformRequest(this.url,lt.Image),(L,T)=>{this._request=null,this._loaded=!0,L?this.fire(new _.ErrorEvent(L)):T&&(this.image=T,b&&(this.coordinates=b),H&&H(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||!this.image)return;const b=this.map.painter.context,H=b.gl;this.boundsBuffer||(this.boundsBuffer=b.createVertexBuffer(this._boundsArray,S3.members)),this.boundsSegments||(this.boundsSegments=_.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new E2(b,this.image,H.RGBA),this.texture.bind(H.LINEAR,H.CLAMP_TO_EDGE));let L=!1;for(const T in this.tiles){const A=this.tiles[T];"loaded"!==A.state&&(A.state="loaded",A.texture=this.texture,L=!0)}L&&this.fire(new _.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=s,this.dispatcher=m,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=f}loaded(){return this._loaded}updateImage(s){return s.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=s.url,this.load(s.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(s){this.coordinates=s;const f=s.map(_.MercatorCoordinate.fromLngLat);this.tileID=function(v){let b=1/0,H=1/0,L=-1/0,T=-1/0;for(const Z of v)b=Math.min(b,Z.x),H=Math.min(H,Z.y),L=Math.max(L,Z.x),T=Math.max(T,Z.y);const A=Math.max(L-b,T-H),k=Math.max(0,Math.floor(-Math.log(A)/Math.LN2)),O=Math.pow(2,k);return new _.CanonicalTileID(k,Math.floor((b+L)/2*O),Math.floor((H+T)/2*O))}(f),this.minzoom=this.maxzoom=this.tileID.z;const m=f.map(v=>this.tileID.getTilePoint(v)._round());return this._boundsArray=new _.RasterBoundsArray,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,_.EXTENT,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,_.EXTENT),this._boundsArray.emplaceBack(m[2].x,m[2].y,_.EXTENT,_.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new _.Event("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(s,f){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={},f(null)):(s.state="errored",f(null))}hasTransition(){return!1}}class oi extends d2{constructor(s,f,m,v){super(s,f,m,v),this.load=()=>{this._loaded=!1;const b=this.options;this.urls=[];for(const H of b.urls)this.urls.push(this.map._requestManager.transformRequest(H,lt.Source).url);_.getVideo(this.urls,(H,L)=>{this._loaded=!0,H?this.fire(new _.ErrorEvent(H)):L&&(this.video=L,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const b=this.map.painter.context,H=b.gl;this.boundsBuffer||(this.boundsBuffer=b.createVertexBuffer(this._boundsArray,S3.members)),this.boundsSegments||(this.boundsSegments=_.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(H.LINEAR,H.CLAMP_TO_EDGE),H.texSubImage2D(H.TEXTURE_2D,0,0,0,H.RGBA,H.UNSIGNED_BYTE,this.video)):(this.texture=new E2(b,this.video,H.RGBA),this.texture.bind(H.LINEAR,H.CLAMP_TO_EDGE));let L=!1;for(const T in this.tiles){const A=this.tiles[T];"loaded"!==A.state&&(A.state="loaded",A.texture=this.texture,L=!0)}L&&this.fire(new _.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=f}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(s){if(this.video){const f=this.video.seekable;s<f.start(0)||s>f.end(0)?this.fire(new _.ErrorEvent(new _.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=s}}getVideo(){return this.video}onAdd(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class Fe extends d2{constructor(s,f,m,v){super(s,f,m,v),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new _.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let b=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,b=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,b=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const H=this.map.painter.context,L=H.gl;this.boundsBuffer||(this.boundsBuffer=H.createVertexBuffer(this._boundsArray,S3.members)),this.boundsSegments||(this.boundsSegments=_.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(b||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new E2(H,this.canvas,L.RGBA,{premultiply:!0});let T=!1;for(const A in this.tiles){const k=this.tiles[A];"loaded"!==k.state&&(k.state="loaded",k.texture=this.texture,T=!0)}T&&this.fire(new _.Event("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),f.coordinates?Array.isArray(f.coordinates)&&4===f.coordinates.length&&!f.coordinates.some(b=>!Array.isArray(b)||2!==b.length||b.some(H=>"number"!=typeof H))||this.fire(new _.ErrorEvent(new _.ValidationError(`sources.${s}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new _.ErrorEvent(new _.ValidationError(`sources.${s}`,null,'missing required property "coordinates"'))),f.animate&&"boolean"!=typeof f.animate&&this.fire(new _.ErrorEvent(new _.ValidationError(`sources.${s}`,null,'optional "animate" property must be a boolean value'))),f.canvas?"string"==typeof f.canvas||f.canvas instanceof HTMLCanvasElement||this.fire(new _.ErrorEvent(new _.ValidationError(`sources.${s}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new _.ErrorEvent(new _.ValidationError(`sources.${s}`,null,'missing required property "canvas"'))),this.options=f,this.animate=void 0===f.animate||f.animate}getCanvas(){return this.canvas}onAdd(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const s of[this.canvas.width,this.canvas.height])if(isNaN(s)||s<=0)return!0;return!1}}const R3={},x4=C=>{switch(C){case"geojson":return $2;case"image":return d2;case"raster":return nr;case"raster-dem":return et;case"vector":return C4;case"video":return oi;case"canvas":return Fe}return R3[C]};function T2(C,s){const f=_.create();return _.translate(f,f,[1,1,0]),_.scale(f,f,[.5*C.width,.5*C.height,1]),_.multiply(f,f,C.calculatePosMatrix(s.toUnwrapped()))}function b2(C,s,f,m,v,b){const H=function(O,Z,te){if(O)for(const ee of O){const ae=Z[ee];if(ae&&ae.source===te&&"fill-extrusion"===ae.type)return!0}else for(const ee in Z){const ae=Z[ee];if(ae.source===te&&"fill-extrusion"===ae.type)return!0}return!1}(v&&v.layers,s,C.id),L=b.maxPitchScaleFactor(),T=C.tilesIn(m,L,H);T.sort(b4);const A=[];for(const O of T)A.push({wrappedTileID:O.tileID.wrapped().key,queryResults:O.tile.queryRenderedFeatures(s,f,C._state,O.queryGeometry,O.cameraQueryGeometry,O.scale,v,b,L,T2(C.transform,O.tileID))});const k=function(O){const Z={},te={};for(const ee of O){const ae=ee.queryResults,Q=ee.wrappedTileID,ye=te[Q]=te[Q]||{};for(const De in ae){const ce=ae[De],_e=ye[De]=ye[De]||{},Ie=Z[De]=Z[De]||[];for(const ke of ce)_e[ke.featureIndex]||(_e[ke.featureIndex]=!0,Ie.push(ke))}}return Z}(A);for(const O in k)k[O].forEach(Z=>{const te=Z.feature,ee=C.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=ee});return k}function b4(C,s){const f=C.tileID,m=s.tileID;return f.overscaledZ-m.overscaledZ||f.canonical.y-m.canonical.y||f.wrap-m.wrap||f.canonical.x-m.canonical.x}class M4{constructor(s,f){this.timeAdded=0,this.fadeEndTime=0,this.tileID=s,this.uid=_.uniqueId(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(s){const f=s+this.timeAdded;f<this.fadeEndTime||(this.fadeEndTime=f)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(s){this.demTexture&&s.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(s,f,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(v,b){const H={};if(!b)return H;for(const L of v){const T=L.layerIds.map(A=>b.getLayer(A)).filter(Boolean);if(0!==T.length){L.layers=T,L.stateDependentLayerIds&&(L.stateDependentLayers=L.stateDependentLayerIds.map(A=>T.filter(k=>k.id===A)[0]));for(const A of T)H[A.id]=L}}return H}(s.buckets,f.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const b=this.buckets[v];if(b instanceof _.SymbolBucket){if(this.hasSymbolBuckets=!0,!m)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const b=this.buckets[v];if(b instanceof _.SymbolBucket&&b.hasRTLText){this.hasRTLText=!0,_.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const v in this.buckets){const b=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(v).queryRadius(b))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage)}else this.collisionBoxArray=new _.CollisionBoxArray}unloadVectorData(){for(const s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(s){return this.buckets[s.id]}upload(s){for(const m in this.buckets){const v=this.buckets[m];v.uploadPending()&&v.upload(s)}const f=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new E2(s,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new E2(s,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,f,m,v,b,H,L,T,A,k){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:b,scale:H,tileSize:this.tileSize,pixelPosMatrix:k,transform:T,params:L,queryPadding:this.queryPadding*A},s,f,m):{}}querySourceFeatures(s,f){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const v=m.loadVTLayers(),b=f&&f.sourceLayer?f.sourceLayer:"",H=v._geojsonTileLayer||v[b];if(!H)return;const L=_.createFilter(f&&f.filter),{z:T,x:A,y:k}=this.tileID.canonical,O={z:T,x:A,y:k};for(let Z=0;Z<H.length;Z++){const te=H.feature(Z);if(L.needGeometry){const Q=_.toEvaluationFeature(te,!0);if(!L.filter(new _.EvaluationParameters(this.tileID.overscaledZ),Q,this.tileID.canonical))continue}else if(!L.filter(new _.EvaluationParameters(this.tileID.overscaledZ),te))continue;const ee=m.getId(te,b),ae=new _.GeoJSONFeature(te,T,A,k,ee);ae.tile=O,s.push(ae)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){const f=this.expirationTime;if(s.cacheControl){const m=_.parseCacheControl(s.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){const m=Date.now();let v=!1;if(this.expirationTime>m)v=!1;else if(f)if(this.expirationTime<f)v=!0;else{const b=this.expirationTime-f;b?this.expirationTime=m+Math.max(b,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(s,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(s).length)return;const m=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!f.style.hasLayer(v))continue;const b=this.buckets[v],H=b.layers[0].sourceLayer||"_geojsonTileLayer",L=m[H],T=s[H];if(!L||!T||0===Object.keys(T).length)continue;b.update(T,L,this.imageAtlas&&this.imageAtlas.patternPositions||{});const A=f&&f.style&&f.style.getLayer(v);A&&(this.queryPadding=Math.max(this.queryPadding,A.queryRadius(b)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<_.browser.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=_.browser.now()+s}setDependencies(s,f){const m={};for(const v of f)m[v]=!0;this.dependencies[s]=m}hasDependency(s,f){for(const m of s){const v=this.dependencies[m];if(v)for(const b of f)if(v[b])return!0}return!1}}class ro{constructor(s,f){this.max=s,this.onRemove=f,this.reset()}reset(){for(const s in this.data)for(const f of this.data[s])f.timeout&&clearTimeout(f.timeout),this.onRemove(f.value);return this.data={},this.order=[],this}add(s,f,m){const v=s.wrapped().key;void 0===this.data[v]&&(this.data[v]=[]);const b={value:f,timeout:void 0};if(void 0!==m&&(b.timeout=setTimeout(()=>{this.remove(s,b)},m)),this.data[v].push(b),this.order.push(v),this.order.length>this.max){const H=this._getAndRemoveByKey(this.order[0]);H&&this.onRemove(H)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){const f=this.data[s].shift();return f.timeout&&clearTimeout(f.timeout),0===this.data[s].length&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),f.value}getByKey(s){const f=this.data[s];return f?f[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,f){if(!this.has(s))return this;const m=s.wrapped().key,v=void 0===f?0:this.data[m].indexOf(f),b=this.data[m][v];return this.data[m].splice(v,1),b.timeout&&clearTimeout(b.timeout),0===this.data[m].length&&delete this.data[m],this.onRemove(b.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){const f=this._getAndRemoveByKey(this.order[0]);f&&this.onRemove(f)}return this}filter(s){const f=[];for(const m in this.data)for(const v of this.data[m])s(v.value)||f.push(v);for(const m of f)this.remove(m.value.tileID,m)}}class ao{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,f,m){const v=String(f);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][v]=this.stateChanges[s][v]||{},_.extend(this.stateChanges[s][v],m),null===this.deletedStates[s]){this.deletedStates[s]={};for(const b in this.state[s])b!==v&&(this.deletedStates[s][b]=null)}else if(this.deletedStates[s]&&null===this.deletedStates[s][v]){this.deletedStates[s][v]={};for(const b in this.state[s][v])m[b]||(this.deletedStates[s][v][b]=null)}else for(const b in m)this.deletedStates[s]&&this.deletedStates[s][v]&&null===this.deletedStates[s][v][b]&&delete this.deletedStates[s][v][b]}removeFeatureState(s,f,m){if(null===this.deletedStates[s])return;const v=String(f);if(this.deletedStates[s]=this.deletedStates[s]||{},m&&void 0!==f)null!==this.deletedStates[s][v]&&(this.deletedStates[s][v]=this.deletedStates[s][v]||{},this.deletedStates[s][v][m]=null);else if(void 0!==f)if(this.stateChanges[s]&&this.stateChanges[s][v])for(m in this.deletedStates[s][v]={},this.stateChanges[s][v])this.deletedStates[s][v][m]=null;else this.deletedStates[s][v]=null;else this.deletedStates[s]=null}getState(s,f){const m=String(f),v=_.extend({},(this.state[s]||{})[m],(this.stateChanges[s]||{})[m]);if(null===this.deletedStates[s])return{};if(this.deletedStates[s]){const b=this.deletedStates[s][f];if(null===b)return{};for(const H in b)delete v[H]}return v}initializeTileState(s,f){s.setFeatureState(this.state,f)}coalesceChanges(s,f){const m={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const b={};for(const H in this.stateChanges[v])this.state[v][H]||(this.state[v][H]={}),_.extend(this.state[v][H],this.stateChanges[v][H]),b[H]=this.state[v][H];m[v]=b}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const b={};if(null===this.deletedStates[v])for(const H in this.state[v])b[H]={},this.state[v][H]={};else for(const H in this.deletedStates[v]){if(null===this.deletedStates[v][H])this.state[v][H]={};else for(const L of Object.keys(this.deletedStates[v][H]))delete this.state[v][H][L];b[H]=this.state[v][H]}m[v]=m[v]||{},_.extend(m[v],b)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(m).length)for(const v in s)s[v].setFeatureState(m,f)}}class ft extends _.Evented{constructor(s,f,m){super(),this.id=s,this.dispatcher=m,this.on("data",v=>{"source"===v.dataType&&"metadata"===v.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===v.dataType&&"content"===v.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,b,H,L)=>{const T=new(x4(b.type))(v,b,H,L);if(T.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${T.id}`);return T})(s,f,m,this),this._tiles={},this._cache=new ro(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ao,this._didEmitContent=!1,this._updated=!1}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._maxTileCacheZoomLevels=s?s._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(s)}onRemove(s){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(s)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const s in this._tiles){const f=this._tiles[s];if("loaded"!==f.state&&"errored"!==f.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(s,f){return this._source.loadTile(s,f)}_unloadTile(s){if(this._source.unloadTile)return this._source.unloadTile(s,()=>{})}_abortTile(s){this._source.abortTile&&this._source.abortTile(s,()=>{}),this._source.fire(new _.Event("dataabort",{tile:s,coord:s.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const f in this._tiles){const m=this._tiles[f];m.upload(s),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(s=>s.tileID).sort(w4).map(s=>s.key)}getRenderableIds(s){const f=[];for(const m in this._tiles)this._isIdRenderable(m,s)&&f.push(this._tiles[m]);return s?f.sort((m,v)=>{const b=m.tileID,H=v.tileID,L=new _.Point(b.canonical.x,b.canonical.y)._rotate(this.transform.angle),T=new _.Point(H.canonical.x,H.canonical.y)._rotate(this.transform.angle);return b.overscaledZ-H.overscaledZ||T.y-L.y||T.x-L.x}).map(m=>m.tileID.key):f.map(m=>m.tileID).sort(w4).map(m=>m.key)}hasRenderableParent(s){const f=this.findLoadedParent(s,0);return!!f&&this._isIdRenderable(f.tileID.key)}_isIdRenderable(s,f){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(f||!this._tiles[s].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const s in this._tiles)"errored"!==this._tiles[s].state&&this._reloadTile(s,"reloading")}}_reloadTile(s,f){const m=this._tiles[s];m&&("loading"!==m.state&&(m.state=f),this._loadTile(m,this._tileLoaded.bind(this,m,s,f)))}_tileLoaded(s,f,m,v){if(v)return s.state="errored",void(404!==v.status?this._source.fire(new _.ErrorEvent(v,{tile:s})):this.update(this.transform,this.terrain));s.timeAdded=_.browser.now(),"expired"===m&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(f,s),"raster-dem"===this.getSource().type&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),s.aborted||this._source.fire(new _.Event("data",{dataType:"source",tile:s,coord:s.tileID}))}_backfillDEM(s){const f=this.getRenderableIds();for(let v=0;v<f.length;v++){const b=f[v];if(s.neighboringTiles&&s.neighboringTiles[b]){const H=this.getTileByID(b);m(s,H),m(H,s)}}function m(v,b){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let H=b.tileID.canonical.x-v.tileID.canonical.x;const L=b.tileID.canonical.y-v.tileID.canonical.y,T=Math.pow(2,v.tileID.canonical.z),A=b.tileID.key;0===H&&0===L||Math.abs(L)>1||(Math.abs(H)>1&&(1===Math.abs(H+T)?H+=T:1===Math.abs(H-T)&&(H-=T)),b.dem&&v.dem&&(v.dem.backfillBorder(b.dem,H,L),v.neighboringTiles&&v.neighboringTiles[A]&&(v.neighboringTiles[A].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,f,m,v){for(const b in this._tiles){let H=this._tiles[b];if(v[b]||!H.hasData()||H.tileID.overscaledZ<=f||H.tileID.overscaledZ>m)continue;let L=H.tileID;for(;H&&H.tileID.overscaledZ>f+1;){const A=H.tileID.scaledTo(H.tileID.overscaledZ-1);H=this._tiles[A.key],H&&H.hasData()&&(L=A)}let T=L;for(;T.overscaledZ>f;)if(T=T.scaledTo(T.overscaledZ-1),s[T.key]){v[L.key]=L;break}}}findLoadedParent(s,f){if(s.key in this._loadedParentTiles){const m=this._loadedParentTiles[s.key];return m&&m.tileID.overscaledZ>=f?m:null}for(let m=s.overscaledZ-1;m>=f;m--){const v=s.scaledTo(m),b=this._getLoadedTile(v);if(b)return b}}_getLoadedTile(s){const f=this._tiles[s.key];return f&&f.hasData()?f:this._cache.getByKey(s.wrapped().key)}updateCacheSize(s){const f=Math.ceil(s.width/this._source.tileSize)+1,m=Math.ceil(s.height/this._source.tileSize)+1,v=Math.floor(f*m*(null===this._maxTileCacheZoomLevels?_.config.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(b)}handleWrapJump(s){const f=Math.round((s-(void 0===this._prevLng?s:this._prevLng))/360);if(this._prevLng=s,f){const m={};for(const v in this._tiles){const b=this._tiles[v];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+f),m[b.tileID.key]=b}this._tiles=m;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}update(s,f){if(this.transform=s,this.terrain=f,!this._sourceLoaded||this._paused)return;let m;this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=s.getVisibleUnwrappedCoordinates(this._source.tileID).map(k=>new _.OverscaledTileID(k.canonical.z,k.wrap,k.canonical.z,k.canonical.x,k.canonical.y)):(m=s.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f}),this._source.hasTile&&(m=m.filter(k=>this._source.hasTile(k)))):m=[];const v=s.coveringZoomLevel(this._source),b=Math.max(v-ft.maxOverzooming,this._source.minzoom),H=Math.max(v+ft.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const k={};for(const O of m)if(O.canonical.z>this._source.minzoom){const Z=O.scaledTo(O.canonical.z-1);k[Z.key]=Z;const te=O.scaledTo(Math.max(this._source.minzoom,Math.min(O.canonical.z,5)));k[te.key]=te}m=m.concat(Object.values(k))}const L=0===m.length&&!this._updated&&this._didEmitContent;this._updated=!0,L&&this.fire(new _.Event("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const T=this._updateRetainedTiles(m,v);if(z4(this._source.type)){const k={},O={},Z=Object.keys(T),te=_.browser.now();for(const ee of Z){const ae=T[ee],Q=this._tiles[ee];if(!Q||0!==Q.fadeEndTime&&Q.fadeEndTime<=te)continue;const ye=this.findLoadedParent(ae,b);ye&&(this._addTile(ye.tileID),k[ye.tileID.key]=ye.tileID),O[ee]=ae}this._retainLoadedChildren(O,v,H,T);for(const ee in k)T[ee]||(this._coveredTiles[ee]=!0,T[ee]=k[ee]);if(f){const ee={},ae={};for(const Q of m)this._tiles[Q.key].hasData()?ee[Q.key]=Q:ae[Q.key]=Q;for(const Q in ae){const ye=ae[Q].children(this._source.maxzoom);this._tiles[ye[0].key]&&this._tiles[ye[1].key]&&this._tiles[ye[2].key]&&this._tiles[ye[3].key]&&(ee[ye[0].key]=T[ye[0].key]=ye[0],ee[ye[1].key]=T[ye[1].key]=ye[1],ee[ye[2].key]=T[ye[2].key]=ye[2],ee[ye[3].key]=T[ye[3].key]=ye[3],delete ae[Q])}for(const Q in ae){const ye=this.findLoadedParent(ae[Q],this._source.minzoom);if(ye){ee[ye.tileID.key]=T[ye.tileID.key]=ye.tileID;for(const De in ee)ee[De].isChildOf(ye.tileID)&&delete ee[De]}}for(const Q in this._tiles)ee[Q]||(this._coveredTiles[Q]=!0)}}for(const k in T)this._tiles[k].clearFadeHold();const A=_.keysDifference(this._tiles,T);for(const k of A){const O=this._tiles[k];O.hasSymbolBuckets&&!O.holdingForFade()?O.setHoldDuration(this.map._fadeDuration):O.hasSymbolBuckets&&!O.symbolFadeFinished()||this._removeTile(k)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(s)}_updateRetainedTiles(s,f){const m={},v={},b=Math.max(f-ft.maxOverzooming,this._source.minzoom),H=Math.max(f+ft.maxUnderzooming,this._source.minzoom),L={};for(const T of s){const A=this._addTile(T);m[T.key]=T,A.hasData()||f<this._source.maxzoom&&(L[T.key]=T)}this._retainLoadedChildren(L,f,H,m);for(const T of s){let A=this._tiles[T.key];if(A.hasData())continue;if(f+1>this._source.maxzoom){const O=T.children(this._source.maxzoom)[0],Z=this.getTile(O);if(Z&&Z.hasData()){m[O.key]=O;continue}}else{const O=T.children(this._source.maxzoom);if(m[O[0].key]&&m[O[1].key]&&m[O[2].key]&&m[O[3].key])continue}let k=A.wasRequested();for(let O=T.overscaledZ-1;O>=b;--O){const Z=T.scaledTo(O);if(v[Z.key])break;if(v[Z.key]=!0,A=this.getTile(Z),!A&&k&&(A=this._addTile(Z)),A){const te=A.hasData();if((k||te)&&(m[Z.key]=Z),k=A.wasRequested(),te)break}}}return m}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const s in this._tiles){const f=[];let m,v=this._tiles[s].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){m=this._loadedParentTiles[v.key];break}f.push(v.key);const b=v.scaledTo(v.overscaledZ-1);if(m=this._getLoadedTile(b),m)break;v=b}for(const b of f)this._loadedParentTiles[b]=m}}_addTile(s){let f=this._tiles[s.key];if(f)return f;f=this._cache.getAndRemove(s),f&&(this._setTileReloadTimer(s.key,f),f.tileID=s,this._state.initializeTileState(f,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,f)));const m=f;return f||(f=new M4(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(f,this._tileLoaded.bind(this,f,s.key,f.state))),f.uses++,this._tiles[s.key]=f,m||this._source.fire(new _.Event("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(s,f){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);const m=f.getExpiryTimeout();m&&(this._timers[s]=setTimeout(()=>{this._reloadTile(s,"expired"),delete this._timers[s]},m))}_removeTile(s){const f=this._tiles[s];f&&(f.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),f.uses>0||(f.hasData()&&"reloading"!==f.state?this._cache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const s in this._tiles)this._removeTile(s);this._cache.reset()}tilesIn(s,f,m){const v=[],b=this.transform;if(!b)return v;const H=m?b.getCameraQueryGeometry(s):s,L=s.map(ee=>b.pointCoordinate(ee,this.terrain)),T=H.map(ee=>b.pointCoordinate(ee,this.terrain)),A=this.getIds();let k=1/0,O=1/0,Z=-1/0,te=-1/0;for(const ee of T)k=Math.min(k,ee.x),O=Math.min(O,ee.y),Z=Math.max(Z,ee.x),te=Math.max(te,ee.y);for(let ee=0;ee<A.length;ee++){const ae=this._tiles[A[ee]];if(ae.holdingForFade())continue;const Q=ae.tileID,ye=Math.pow(2,b.zoom-ae.tileID.overscaledZ),De=f*ae.queryPadding*_.EXTENT/ae.tileSize/ye,ce=[Q.getTilePoint(new _.MercatorCoordinate(k,O)),Q.getTilePoint(new _.MercatorCoordinate(Z,te))];if(ce[0].x-De<_.EXTENT&&ce[0].y-De<_.EXTENT&&ce[1].x+De>=0&&ce[1].y+De>=0){const _e=L.map(ke=>Q.getTilePoint(ke)),Ie=T.map(ke=>Q.getTilePoint(ke));v.push({tile:ae,tileID:Q,queryGeometry:_e,cameraQueryGeometry:Ie,scale:ye})}}return v}getVisibleCoordinates(s){const f=this.getRenderableIds(s).map(m=>this._tiles[m].tileID);for(const m of f)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return f}hasTransition(){if(this._source.hasTransition())return!0;if(z4(this._source.type)){const s=_.browser.now();for(const f in this._tiles)if(this._tiles[f].fadeEndTime>=s)return!0}return!1}setFeatureState(s,f,m){this._state.updateState(s=s||"_geojsonTileLayer",f,m)}removeFeatureState(s,f,m){this._state.removeFeatureState(s=s||"_geojsonTileLayer",f,m)}getFeatureState(s,f){return this._state.getState(s=s||"_geojsonTileLayer",f)}setDependencies(s,f,m){const v=this._tiles[s];v&&v.setDependencies(f,m)}reloadTilesForDependencies(s,f){for(const m in this._tiles)this._tiles[m].hasDependency(s,f)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(s,f))}}function w4(C,s){const f=Math.abs(2*C.wrap)-+(C.wrap<0),m=Math.abs(2*s.wrap)-+(s.wrap<0);return C.overscaledZ-s.overscaledZ||m-f||s.canonical.y-C.canonical.y||s.canonical.x-C.canonical.x}function z4(C){return"raster"===C||"image"===C||"video"===C}ft.maxOverzooming=10,ft.maxUnderzooming=3;const r1="mapboxgl_preloaded_worker_pool";class kn{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<kn.workerCount;)this.workers.push(new Worker(_.config.WORKER_URL));return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],0===this.numActive()&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[r1]}numActive(){return Object.keys(this.active).length}}const Mn=Math.floor(_.browser.hardwareConcurrency/2);let ci;function ir(){return ci||(ci=new kn),ci}kn.workerCount=_.isSafari(globalThis)?Math.max(Math.min(Mn,3),1):1;class o1{constructor(s,f){this.reset(s,f)}reset(s,f){this.points=s||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(1===this.points.length)return this.points[0];s=_.clamp(s,0,1);let f=1,m=this._distances[f];const v=s*this.paddedLength+this.padding;for(;m<v&&f<this._distances.length;)m=this._distances[++f];const b=f-1,H=this._distances[b],L=m-H,T=L>0?(v-H)/L:0;return this.points[b].mult(1-T).add(this.points[f].mult(T))}}function K1(C,s){let f=!0;return"always"===C||"never"!==C&&"never"!==s||(f=!1),f}class B1{constructor(s,f,m){const v=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(s/m),this.yCellCount=Math.ceil(f/m);for(let H=0;H<this.xCellCount*this.yCellCount;H++)v.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=f,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,f,m,v,b){this._forEachCell(f,m,v,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(b)}insertCircle(s,f,m,v){this._forEachCell(f-v,m-v,f+v,m+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(f),this.circles.push(m),this.circles.push(v)}_insertBoxCell(s,f,m,v,b,H){this.boxCells[b].push(H)}_insertCircleCell(s,f,m,v,b,H){this.circleCells[b].push(H)}_query(s,f,m,v,b,H,L){if(m<0||s>this.width||v<0||f>this.height)return[];const T=[];if(s<=0&&f<=0&&this.width<=m&&this.height<=v){if(b)return[{key:null,x1:s,y1:f,x2:m,y2:v}];for(let A=0;A<this.boxKeys.length;A++)T.push({key:this.boxKeys[A],x1:this.bboxes[4*A],y1:this.bboxes[4*A+1],x2:this.bboxes[4*A+2],y2:this.bboxes[4*A+3]});for(let A=0;A<this.circleKeys.length;A++){const k=this.circles[3*A],O=this.circles[3*A+1],Z=this.circles[3*A+2];T.push({key:this.circleKeys[A],x1:k-Z,y1:O-Z,x2:k+Z,y2:O+Z})}}else this._forEachCell(s,f,m,v,this._queryCell,T,{hitTest:b,overlapMode:H,seenUids:{box:{},circle:{}}},L);return T}query(s,f,m,v){return this._query(s,f,m,v,!1,null)}hitTest(s,f,m,v,b,H){return this._query(s,f,m,v,!0,b,H).length>0}hitTestCircle(s,f,m,v,b){const H=s-m,L=s+m,T=f-m,A=f+m;if(L<0||H>this.width||A<0||T>this.height)return!1;const k=[];return this._forEachCell(H,T,L,A,this._queryCellCircle,k,{hitTest:!0,overlapMode:v,circle:{x:s,y:f,radius:m},seenUids:{box:{},circle:{}}},b),k.length>0}_queryCell(s,f,m,v,b,H,L,T){const{seenUids:A,hitTest:k,overlapMode:O}=L,Z=this.boxCells[b];if(null!==Z){const ee=this.bboxes;for(const ae of Z)if(!A.box[ae]){A.box[ae]=!0;const Q=4*ae,ye=this.boxKeys[ae];if(s<=ee[Q+2]&&f<=ee[Q+3]&&m>=ee[Q+0]&&v>=ee[Q+1]&&(!T||T(ye))&&(!k||!K1(O,ye.overlapMode))&&(H.push({key:ye,x1:ee[Q],y1:ee[Q+1],x2:ee[Q+2],y2:ee[Q+3]}),k))return!0}}const te=this.circleCells[b];if(null!==te){const ee=this.circles;for(const ae of te)if(!A.circle[ae]){A.circle[ae]=!0;const Q=3*ae,ye=this.circleKeys[ae];if(this._circleAndRectCollide(ee[Q],ee[Q+1],ee[Q+2],s,f,m,v)&&(!T||T(ye))&&(!k||!K1(O,ye.overlapMode))){const De=ee[Q],ce=ee[Q+1],_e=ee[Q+2];if(H.push({key:ye,x1:De-_e,y1:ce-_e,x2:De+_e,y2:ce+_e}),k)return!0}}}return!1}_queryCellCircle(s,f,m,v,b,H,L,T){const{circle:A,seenUids:k,overlapMode:O}=L,Z=this.boxCells[b];if(null!==Z){const ee=this.bboxes;for(const ae of Z)if(!k.box[ae]){k.box[ae]=!0;const Q=4*ae,ye=this.boxKeys[ae];if(this._circleAndRectCollide(A.x,A.y,A.radius,ee[Q+0],ee[Q+1],ee[Q+2],ee[Q+3])&&(!T||T(ye))&&!K1(O,ye.overlapMode))return H.push(!0),!0}}const te=this.circleCells[b];if(null!==te){const ee=this.circles;for(const ae of te)if(!k.circle[ae]){k.circle[ae]=!0;const Q=3*ae,ye=this.circleKeys[ae];if(this._circlesCollide(ee[Q],ee[Q+1],ee[Q+2],A.x,A.y,A.radius)&&(!T||T(ye))&&!K1(O,ye.overlapMode))return H.push(!0),!0}}}_forEachCell(s,f,m,v,b,H,L,T){const A=this._convertToXCellCoord(s),k=this._convertToYCellCoord(f),O=this._convertToXCellCoord(m),Z=this._convertToYCellCoord(v);for(let te=A;te<=O;te++)for(let ee=k;ee<=Z;ee++)if(b.call(this,s,f,m,v,this.xCellCount*ee+te,H,L,T))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,f,m,v,b,H){const L=v-s,T=b-f,A=m+H;return A*A>L*L+T*T}_circleAndRectCollide(s,f,m,v,b,H,L){const T=(H-v)/2,A=Math.abs(s-(v+T));if(A>T+m)return!1;const k=(L-b)/2,O=Math.abs(f-(b+k));if(O>k+m)return!1;if(A<=T||O<=k)return!0;const Z=A-T,te=O-k;return Z*Z+te*te<=m*m}}function hn(C,s,f,m,v){const b=_.create();return s?(_.scale(b,b,[1/v,1/v,1]),f||_.rotateZ(b,b,m.angle)):_.multiply(b,m.labelPlaneMatrix,C),b}function Vi(C,s,f,m,v){if(s){const b=_.clone(C);return _.scale(b,b,[v,v,1]),f||_.rotateZ(b,b,-m.angle),b}return m.glCoordMatrix}function O1(C,s,f){let m;f?(m=[C.x,C.y,f(C.x,C.y),1],_.transformMat4(m,m,s)):(m=[C.x,C.y,0,1],oe(m,m,s));const v=m[3];return{point:new _.Point(m[0]/v,m[1]/v),signedDistanceFromCamera:v}}function li(C,s){return.5+C/s*.5}function ui(C,s){const f=C[0]/C[3],m=C[1]/C[3];return f>=-s[0]&&f<=s[0]&&m>=-s[1]&&m<=s[1]}function rr(C,s,f,m,v,b,H,L,T,A){const k=m?C.textSizeData:C.iconSizeData,O=_.evaluateSizeForZoom(k,f.transform.zoom),Z=[256/f.width*2+1,256/f.height*2+1],te=m?C.text.dynamicLayoutVertexArray:C.icon.dynamicLayoutVertexArray;te.clear();const ee=C.lineVertexArray,ae=m?C.text.placedSymbolArray:C.icon.placedSymbolArray,Q=f.transform.width/f.transform.height;let ye=!1;for(let De=0;De<ae.length;De++){const ce=ae.get(De);if(ce.hidden||ce.writingMode===_.WritingMode.vertical&&!ye){K(ce.numGlyphs,te);continue}let _e;if(ye=!1,A?(_e=[ce.anchorX,ce.anchorY,A(ce.anchorX,ce.anchorY),1],_.transformMat4(_e,_e,s)):(_e=[ce.anchorX,ce.anchorY,0,1],oe(_e,_e,s)),!ui(_e,Z)){K(ce.numGlyphs,te);continue}const Ie=li(f.transform.cameraToCenterDistance,_e[3]),ke=_.evaluateSizeForFeature(k,O,ce),je=H?ke/Ie:ke*Ie,Ze=new _.Point(ce.anchorX,ce.anchorY),Be=O1(Ze,v,A).point,Je={projections:{},offsets:{}},h1=dn(ce,je,!1,L,s,v,b,C.glyphOffsetArray,ee,te,Be,Ze,Je,Q,T,A);ye=h1.useVertical,(h1.notEnoughRoom||ye||h1.needsFlipping&&dn(ce,je,!0,L,s,v,b,C.glyphOffsetArray,ee,te,Be,Ze,Je,Q,T,A).notEnoughRoom)&&K(ce.numGlyphs,te)}m?C.text.dynamicLayoutVertexBuffer.updateData(te):C.icon.dynamicLayoutVertexBuffer.updateData(te)}function H3(C,s,f,m,v,b,H,L,T,A,k,O,Z){const te=L.glyphStartIndex+L.numGlyphs,ee=L.lineStartIndex,ae=L.lineStartIndex+L.lineLength,Q=s.getoffsetX(L.glyphStartIndex),ye=s.getoffsetX(te-1),De=U(C*Q,f,m,v,b,H,L.segment,ee,ae,T,A,k,O,Z);if(!De)return null;const ce=U(C*ye,f,m,v,b,H,L.segment,ee,ae,T,A,k,O,Z);return ce?{first:De,last:ce}:null}function ar(C,s,f,m){return C===_.WritingMode.horizontal&&Math.abs(f.y-s.y)>Math.abs(f.x-s.x)*m?{useVertical:!0}:(C===_.WritingMode.vertical?s.y<f.y:s.x>f.x)?{needsFlipping:!0}:null}function dn(C,s,f,m,v,b,H,L,T,A,k,O,Z,te,ee,ae){const Q=s/24,ye=C.lineOffsetX*Q,De=C.lineOffsetY*Q;let ce;if(C.numGlyphs>1){const _e=C.glyphStartIndex+C.numGlyphs,Ie=C.lineStartIndex,ke=C.lineStartIndex+C.lineLength,je=H3(Q,L,ye,De,f,k,O,C,T,b,Z,ee,ae);if(!je)return{notEnoughRoom:!0};const Ze=O1(je.first.point,H,ae).point,Be=O1(je.last.point,H,ae).point;if(m&&!f){const Je=ar(C.writingMode,Ze,Be,te);if(Je)return Je}ce=[je.first];for(let Je=C.glyphStartIndex+1;Je<_e-1;Je++)ce.push(U(Q*L.getoffsetX(Je),ye,De,f,k,O,C.segment,Ie,ke,T,b,Z,ee,ae));ce.push(je.last)}else{if(m&&!f){const Ie=O1(O,v,ae).point,ke=C.lineStartIndex+C.segment+1,je=new _.Point(T.getx(ke),T.gety(ke)),Ze=O1(je,v,ae),Be=Ze.signedDistanceFromCamera>0?Ze.point:j2(O,je,Ie,1,v,ae),Je=ar(C.writingMode,Ie,Be,te);if(Je)return Je}const _e=U(Q*L.getoffsetX(C.glyphStartIndex),ye,De,f,k,O,C.segment,C.lineStartIndex,C.lineStartIndex+C.lineLength,T,b,Z,ee,ae);if(!_e)return{notEnoughRoom:!0};ce=[_e]}for(const _e of ce)_.addDynamicAttributes(A,_e.point,_e.angle);return{}}function j2(C,s,f,m,v,b){const H=O1(C.add(C.sub(s)._unit()),v,b).point,L=f.sub(H);return f.add(L._mult(m/L.mag()))}function ra(C,s){const{projectionCache:f,lineVertexArray:m,labelPlaneMatrix:v,tileAnchorPoint:b,distanceFromAnchor:H,getElevation:L,previousVertex:T,direction:A,absOffsetX:k}=s;if(f.projections[C])return f.projections[C];const O=new _.Point(m.getx(C),m.gety(C)),Z=O1(O,v,L);if(Z.signedDistanceFromCamera>0)return f.projections[C]=Z.point,Z.point;const te=C-A;return j2(0===H?b:new _.Point(m.getx(te),m.gety(te)),O,T,k-H+1,v,L)}function fi(C,s,f){return C._unit()._perp()._mult(s*f)}function re(C,s,f,m,v,b,H,L){const{projectionCache:T,direction:A}=L;if(T.offsets[C])return T.offsets[C];const k=f.add(s);if(C+A<m||C+A>=v)return T.offsets[C]=k,k;const O=ra(C+A,L),Z=fi(O.sub(f),H,A),te=f.add(Z),ee=O.add(Z);return T.offsets[C]=_.findLineIntersection(b,k,te,ee)||k,T.offsets[C]}function U(C,s,f,m,v,b,H,L,T,A,k,O,Z,te){const ee=m?C-s:C+s;let ae=ee>0?1:-1,Q=0;m&&(ae*=-1,Q=Math.PI),ae<0&&(Q+=Math.PI);let ye,De,ce=ae>0?L+H:L+H+1,_e=v,Ie=v,ke=0,je=0;const Ze=Math.abs(ee),Be=[];let Je;for(;ke+je<=Ze;){if(ce+=ae,ce<L||ce>=T)return null;ke+=je,Ie=_e,De=ye;const a1={projectionCache:O,lineVertexArray:A,labelPlaneMatrix:k,tileAnchorPoint:b,distanceFromAnchor:ke,getElevation:te,previousVertex:Ie,direction:ae,absOffsetX:Ze};if(_e=ra(ce,a1),0===f)Be.push(Ie),Je=_e.sub(Ie);else{let H1;const y1=_e.sub(Ie);H1=0===y1.mag()?fi(ra(ce+ae,a1).sub(_e),f,ae):fi(y1,f,ae),De||(De=Ie.add(H1)),ye=re(ce,H1,_e,L,T,De,f,a1),Be.push(De),Je=ye.sub(De)}je=Je.mag()}const h1=Je._mult((Ze-ke)/je)._add(De||Ie),e2=Q+Math.atan2(_e.y-Ie.y,_e.x-Ie.x);return Be.push(h1),{point:h1,angle:Z?e2:0,path:Be}}const G=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function K(C,s){for(let f=0;f<C;f++){const m=s.length;s.resize(m+4),s.float32.set(G,3*m)}}function oe(C,s,f){const m=s[0],v=s[1];return C[0]=f[0]*m+f[4]*v+f[12],C[1]=f[1]*m+f[5]*v+f[13],C[3]=f[3]*m+f[7]*v+f[15],C}const ue=100;class Ce{constructor(s,f=new B1(s.width+200,s.height+200,25),m=new B1(s.width+200,s.height+200,25)){this.transform=s,this.grid=f,this.ignoredGrid=m,this.pitchfactor=Math.cos(s._pitch)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+ue,this.screenBottomBoundary=s.height+ue,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(s,f,m,v,b,H){const L=this.projectAndGetPerspectiveRatio(v,s.anchorPointX,s.anchorPointY,H),T=m*L.perspectiveRatio,A=s.x1*T+L.point.x,k=s.y1*T+L.point.y,O=s.x2*T+L.point.x,Z=s.y2*T+L.point.y;return!this.isInsideGrid(A,k,O,Z)||"always"!==f&&this.grid.hitTest(A,k,O,Z,f,b)||L.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[A,k,O,Z],offscreen:this.isOffscreen(A,k,O,Z)}}placeCollisionCircles(s,f,m,v,b,H,L,T,A,k,O,Z,te,ee){const ae=[],Q=new _.Point(f.anchorX,f.anchorY),ye=O1(Q,H,ee),De=li(this.transform.cameraToCenterDistance,ye.signedDistanceFromCamera),ce=(k?b/De:b*De)/_.ONE_EM,_e=O1(Q,L,ee).point,Ie=H3(ce,v,f.lineOffsetX*ce,f.lineOffsetY*ce,!1,_e,Q,f,m,L,{projections:{},offsets:{}},!1,ee);let ke=!1,je=!1,Ze=!0;if(Ie){const Be=.5*Z*De+te,Je=new _.Point(-100,-100),h1=new _.Point(this.screenRightBoundary,this.screenBottomBoundary),e2=new o1,a1=Ie.first,H1=Ie.last;let y1=[];for(let z1=a1.path.length-1;z1>=1;z1--)y1.push(a1.path[z1]);for(let z1=1;z1<H1.path.length;z1++)y1.push(H1.path[z1]);const q2=2.5*Be;if(T){const z1=y1.map(t2=>O1(t2,T,ee));y1=z1.some(t2=>t2.signedDistanceFromCamera<=0)?[]:z1.map(t2=>t2.point)}let r2=[];if(y1.length>0){const z1=y1[0].clone(),t2=y1[0].clone();for(let Q2=1;Q2<y1.length;Q2++)z1.x=Math.min(z1.x,y1[Q2].x),z1.y=Math.min(z1.y,y1[Q2].y),t2.x=Math.max(t2.x,y1[Q2].x),t2.y=Math.max(t2.y,y1[Q2].y);r2=z1.x>=Je.x&&t2.x<=h1.x&&z1.y>=Je.y&&t2.y<=h1.y?[y1]:t2.x<Je.x||z1.x>h1.x||t2.y<Je.y||z1.y>h1.y?[]:_.clipLine([y1],Je.x,Je.y,h1.x,h1.y)}for(const z1 of r2){e2.reset(z1,.25*Be);let t2=0;t2=e2.length<=.5*Be?1:Math.ceil(e2.paddedLength/q2)+1;for(let Q2=0;Q2<t2;Q2++){const z2=Q2/Math.max(t2-1,1),r3=e2.lerp(z2),kt=r3.x+ue,Z2=r3.y+ue;ae.push(kt,Z2,Be,0);const qt=kt-Be,G3=Z2-Be,vi=kt+Be,P3=Z2+Be;if(Ze=Ze&&this.isOffscreen(qt,G3,vi,P3),je=je||this.isInsideGrid(qt,G3,vi,P3),"always"!==s&&this.grid.hitTestCircle(kt,Z2,Be,s,O)&&(ke=!0,!A))return{circles:[],offscreen:!1,collisionDetected:ke}}}}return{circles:!A&&ke||!je||De<this.perspectiveRatioCutoff?[]:ae,offscreen:Ze,collisionDetected:ke}}queryRenderedSymbols(s){if(0===s.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const f=[];let m=1/0,v=1/0,b=-1/0,H=-1/0;for(const k of s){const O=new _.Point(k.x+ue,k.y+ue);m=Math.min(m,O.x),v=Math.min(v,O.y),b=Math.max(b,O.x),H=Math.max(H,O.y),f.push(O)}const L=this.grid.query(m,v,b,H).concat(this.ignoredGrid.query(m,v,b,H)),T={},A={};for(const k of L){const O=k.key;if(void 0===T[O.bucketInstanceId]&&(T[O.bucketInstanceId]={}),T[O.bucketInstanceId][O.featureIndex])continue;const Z=[new _.Point(k.x1,k.y1),new _.Point(k.x2,k.y1),new _.Point(k.x2,k.y2),new _.Point(k.x1,k.y2)];_.polygonIntersectsPolygon(f,Z)&&(T[O.bucketInstanceId][O.featureIndex]=!0,void 0===A[O.bucketInstanceId]&&(A[O.bucketInstanceId]=[]),A[O.bucketInstanceId].push(O.featureIndex))}return A}insertCollisionBox(s,f,m,v,b,H){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:b,collisionGroupID:H,overlapMode:f},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,f,m,v,b,H){const L=m?this.ignoredGrid:this.grid,T={bucketInstanceId:v,featureIndex:b,collisionGroupID:H,overlapMode:f};for(let A=0;A<s.length;A+=4)L.insertCircle(T,s[A],s[A+1],s[A+2])}projectAndGetPerspectiveRatio(s,f,m,v){let b;return v?(b=[f,m,v(f,m),1],_.transformMat4(b,b,s)):(b=[f,m,0,1],oe(b,b,s)),{point:new _.Point((b[0]/b[3]+1)/2*this.transform.width+ue,(-b[1]/b[3]+1)/2*this.transform.height+ue),perspectiveRatio:.5+this.transform.cameraToCenterDistance/b[3]*.5}}isOffscreen(s,f,m,v){return m<ue||s>=this.screenRightBoundary||v<ue||f>this.screenBottomBoundary}isInsideGrid(s,f,m,v){return m>=0&&s<this.gridRightBoundary&&v>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const s=_.identity([]);return _.translate(s,s,[-100,-100,0]),s}}function me(C,s,f){return s*(_.EXTENT/(C.tileSize*Math.pow(2,f-C.tileID.overscaledZ)))}class fe{constructor(s,f,m,v){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?f:-f))):v&&m?1:0,this.placed=m}isHidden(){return 0===this.opacity&&!this.placed}}class ze{constructor(s,f,m,v,b){this.text=new fe(s?s.text:null,f,m,b),this.icon=new fe(s?s.icon:null,f,v,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ge{constructor(s,f,m){this.text=s,this.icon=f,this.skipFade=m}}class We{constructor(){this.invProjMatrix=_.create(),this.viewportMatrix=_.create(),this.circles=[]}}class Ue{constructor(s,f,m,v,b){this.bucketInstanceId=s,this.featureIndex=f,this.sourceLayerIndex=m,this.bucketIndex=v,this.tileID=b}}class A1{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){const f=++this.maxGroupID;this.collisionGroups[s]={ID:f,predicate:m=>m.collisionGroupID===f}}return this.collisionGroups[s]}}function W1(C,s,f,m,v){const{horizontalAlign:b,verticalAlign:H}=_.getAnchorAlignment(C);return new _.Point(-(b-.5)*s+m[0]*v,-(H-.5)*f+m[1]*v)}function C1(C,s,f,m,v,b){const{x1:H,x2:L,y1:T,y2:A,anchorPointX:k,anchorPointY:O}=C,Z=new _.Point(s,f);return m&&Z._rotate(v?b:-b),{x1:H+Z.x,y1:T+Z.y,x2:L+Z.x,y2:A+Z.y,anchorPointX:k,anchorPointY:O}}class E1{constructor(s,f,m,v,b){this.transform=s.clone(),this.terrain=f,this.collisionIndex=new Ce(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new A1(v),this.collisionCircleArrays={},this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(s,f,m,v){const b=m.getBucket(f),H=m.latestFeatureIndex;if(!b||!H||f.id!==b.layerIds[0])return;const L=m.collisionBoxArray,T=b.layers[0].layout,A=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),k=m.tileSize/_.EXTENT,O=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),Z="map"===T.get("text-pitch-alignment"),te="map"===T.get("text-rotation-alignment"),ee=me(m,1,this.transform.zoom),ae=hn(O,Z,te,this.transform,ee);let Q=null;if(Z){const De=Vi(O,Z,te,this.transform,ee);Q=_.multiply([],this.transform.labelPlaneMatrix,De)}this.retainedQueryData[b.bucketInstanceId]=new Ue(b.bucketInstanceId,H,b.sourceLayerIndex,b.index,m.tileID);const ye={bucket:b,layout:T,posMatrix:O,textLabelPlaneMatrix:ae,labelToScreenMatrix:Q,scale:A,textPixelRatio:k,holdingForFade:m.holdingForFade(),collisionBoxArray:L,partiallyEvaluatedTextSize:_.evaluateSizeForZoom(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(v)for(const De of b.sortKeyRanges){const{sortKey:ce,symbolInstanceStart:_e,symbolInstanceEnd:Ie}=De;s.push({sortKey:ce,symbolInstanceStart:_e,symbolInstanceEnd:Ie,parameters:ye})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:ye})}attemptAnchorPlacement(s,f,m,v,b,H,L,T,A,k,O,Z,te,ee,ae,Q){const ye=_.TextAnchorEnum[s.textAnchor],De=[s.textOffset0,s.textOffset1],ce=W1(ye,m,v,De,b),_e=this.collisionIndex.placeCollisionBox(C1(f,ce.x,ce.y,H,L,this.transform.angle),O,T,A,k.predicate,Q);if((!ae||0!==this.collisionIndex.placeCollisionBox(C1(ae,ce.x,ce.y,H,L,this.transform.angle),O,T,A,k.predicate,Q).box.length)&&_e.box.length>0){let Ie;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Z.crossTileID]&&this.prevPlacement.placements[Z.crossTileID]&&this.prevPlacement.placements[Z.crossTileID].text&&(Ie=this.prevPlacement.variableOffsets[Z.crossTileID].anchor),0===Z.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Z.crossTileID]={textOffset:De,width:m,height:v,anchor:ye,textBoxScale:b,prevAnchor:Ie},this.markUsedJustification(te,ye,Z,ee),te.allowVerticalPlacement&&(this.markUsedOrientation(te,ee,Z),this.placedOrientations[Z.crossTileID]=ee),{shift:ce,placedGlyphBoxes:_e}}}placeLayerBucketPart(s,f,m){const{bucket:v,layout:b,posMatrix:H,textLabelPlaneMatrix:L,labelToScreenMatrix:T,textPixelRatio:A,holdingForFade:k,collisionBoxArray:O,partiallyEvaluatedTextSize:Z,collisionGroup:te}=s.parameters,ee=b.get("text-optional"),ae=b.get("icon-optional"),Q=_.getOverlapMode(b,"text-overlap","text-allow-overlap"),ye="always"===Q,De=_.getOverlapMode(b,"icon-overlap","icon-allow-overlap"),ce="always"===De,_e="map"===b.get("text-rotation-alignment"),Ie="map"===b.get("text-pitch-alignment"),ke="none"!==b.get("icon-text-fit"),je="viewport-y"===b.get("symbol-z-order"),Ze=ye&&(ce||!v.hasIconData()||ae),Be=ce&&(ye||!v.hasTextData()||ee);!v.collisionArrays&&O&&v.deserializeCollisionBoxes(O);const Je=this.retainedQueryData[v.bucketInstanceId].tileID,h1=this.terrain?(a1,H1)=>this.terrain.getElevation(Je,a1,H1):null,e2=(a1,H1)=>{var y1,q2;if(f[a1.crossTileID])return;if(k)return void(this.placements[a1.crossTileID]=new Ge(!1,!1,!1));let r2=!1,z1=!1,t2=!0,Q2=null,z2={box:null,offscreen:null},r3={box:null,offscreen:null},kt=null,Z2=null,qt=null,G3=0,vi=0,P3=0;H1.textFeatureIndex?G3=H1.textFeatureIndex:a1.useRuntimeCollisionCircles&&(G3=a1.featureIndex),H1.verticalTextFeatureIndex&&(vi=H1.verticalTextFeatureIndex);const pr=H1.textBox;if(pr){const Nt=Vt=>{let Gt=_.WritingMode.horizontal;if(v.allowVerticalPlacement&&!Vt&&this.prevPlacement){const Bn=this.prevPlacement.placedOrientations[a1.crossTileID];Bn&&(this.placedOrientations[a1.crossTileID]=Bn,Gt=Bn,this.markUsedOrientation(v,Gt,a1))}return Gt},Ot=(Vt,Gt)=>{if(v.allowVerticalPlacement&&a1.numVerticalGlyphVertices>0&&H1.verticalTextBox){for(const Bn of v.writingModes)if(Bn===_.WritingMode.vertical?(z2=Gt(),r3=z2):z2=Vt(),z2&&z2.box&&z2.box.length)break}else z2=Vt()},Qt=a1.textAnchorOffsetStartIndex,B4=a1.textAnchorOffsetEndIndex;if(B4===Qt){const Vt=(Gt,Bn)=>{const at=this.collisionIndex.placeCollisionBox(Gt,Q,A,H,te.predicate,h1);return at&&at.box&&at.box.length&&(this.markUsedOrientation(v,Bn,a1),this.placedOrientations[a1.crossTileID]=Bn),at};Ot(()=>Vt(pr,_.WritingMode.horizontal),()=>{const Gt=H1.verticalTextBox;return v.allowVerticalPlacement&&a1.numVerticalGlyphVertices>0&&Gt?Vt(Gt,_.WritingMode.vertical):{box:null,offscreen:null}}),Nt(z2&&z2.box&&z2.box.length)}else{let Vt=_.TextAnchorEnum[null===(q2=null===(y1=this.prevPlacement)||void 0===y1?void 0:y1.variableOffsets[a1.crossTileID])||void 0===q2?void 0:q2.anchor];const Gt=(at,yi,D3)=>{const mr=at.x2-at.x1,H6=at.y2-at.y1,Gr=a1.textBoxScale,L6=ke&&"never"===De?yi:null;let Wr={box:[],offscreen:!1},st="never"===Q?1:2,ys="never";Vt&&st++;for(let V6=0;V6<st;V6++){for(let Ri=Qt;Ri<B4;Ri++){const yn=v.textAnchorOffsets.get(Ri);if(Vt&&yn.textAnchor!==Vt)continue;const Zr=this.attemptAnchorPlacement(yn,at,mr,H6,Gr,_e,Ie,A,H,te,ys,a1,v,D3,L6,h1);if(Zr&&(Wr=Zr.placedGlyphBoxes,Wr&&Wr.box&&Wr.box.length))return r2=!0,Q2=Zr.shift,Wr}Vt?Vt=null:ys=Q}return Wr};Ot(()=>Gt(pr,H1.iconBox,_.WritingMode.horizontal),()=>{const at=H1.verticalTextBox;return v.allowVerticalPlacement&&!(z2&&z2.box&&z2.box.length)&&a1.numVerticalGlyphVertices>0&&at?Gt(at,H1.verticalIconBox,_.WritingMode.vertical):{box:null,offscreen:null}}),z2&&(r2=z2.box,t2=z2.offscreen);const Bn=Nt(z2&&z2.box);if(!r2&&this.prevPlacement){const at=this.prevPlacement.variableOffsets[a1.crossTileID];at&&(this.variableOffsets[a1.crossTileID]=at,this.markUsedJustification(v,at.anchor,a1,Bn))}}}if(kt=z2,r2=kt&&kt.box&&kt.box.length>0,t2=kt&&kt.offscreen,a1.useRuntimeCollisionCircles){const Nt=v.text.placedSymbolArray.get(a1.centerJustifiedTextSymbolIndex),Ot=_.evaluateSizeForFeature(v.textSizeData,Z,Nt),Qt=b.get("text-padding");Z2=this.collisionIndex.placeCollisionCircles(Q,Nt,v.lineVertexArray,v.glyphOffsetArray,Ot,H,L,T,m,Ie,te.predicate,a1.collisionCircleDiameter,Qt,h1),Z2.circles.length&&Z2.collisionDetected&&!m&&_.warnOnce("Collisions detected, but collision boxes are not shown"),r2=ye||Z2.circles.length>0&&!Z2.collisionDetected,t2=t2&&Z2.offscreen}if(H1.iconFeatureIndex&&(P3=H1.iconFeatureIndex),H1.iconBox){const Nt=Ot=>{const Qt=ke&&Q2?C1(Ot,Q2.x,Q2.y,_e,Ie,this.transform.angle):Ot;return this.collisionIndex.placeCollisionBox(Qt,De,A,H,te.predicate,h1)};r3&&r3.box&&r3.box.length&&H1.verticalIconBox?(qt=Nt(H1.verticalIconBox),z1=qt.box.length>0):(qt=Nt(H1.iconBox),z1=qt.box.length>0),t2=t2&&qt.offscreen}const W3=ee||0===a1.numHorizontalGlyphVertices&&0===a1.numVerticalGlyphVertices,Oi=ae||0===a1.numIconVertices;if(W3||Oi?Oi?W3||(z1=z1&&r2):r2=z1&&r2:z1=r2=z1&&r2,r2&&kt&&kt.box&&this.collisionIndex.insertCollisionBox(kt.box,Q,b.get("text-ignore-placement"),v.bucketInstanceId,r3&&r3.box&&vi?vi:G3,te.ID),z1&&qt&&this.collisionIndex.insertCollisionBox(qt.box,De,b.get("icon-ignore-placement"),v.bucketInstanceId,P3,te.ID),Z2&&(r2&&this.collisionIndex.insertCollisionCircles(Z2.circles,Q,b.get("text-ignore-placement"),v.bucketInstanceId,G3,te.ID),m)){const Nt=v.bucketInstanceId;let Ot=this.collisionCircleArrays[Nt];void 0===Ot&&(Ot=this.collisionCircleArrays[Nt]=new We);for(let Qt=0;Qt<Z2.circles.length;Qt+=4)Ot.circles.push(Z2.circles[Qt+0]),Ot.circles.push(Z2.circles[Qt+1]),Ot.circles.push(Z2.circles[Qt+2]),Ot.circles.push(Z2.collisionDetected?1:0)}if(0===a1.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===v.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[a1.crossTileID]=new Ge(r2||Ze,z1||Be,t2||v.justReloaded),f[a1.crossTileID]=!0};if(je){if(0!==s.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const a1=v.getSortedSymbolIndexes(this.transform.angle);for(let H1=a1.length-1;H1>=0;--H1){const y1=a1[H1];e2(v.symbolInstances.get(y1),v.collisionArrays[y1])}}else for(let a1=s.symbolInstanceStart;a1<s.symbolInstanceEnd;a1++)e2(v.symbolInstances.get(a1),v.collisionArrays[a1]);if(m&&v.bucketInstanceId in this.collisionCircleArrays){const a1=this.collisionCircleArrays[v.bucketInstanceId];_.invert(a1.invProjMatrix,H),a1.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}markUsedJustification(s,f,m,v){let b;b=v===_.WritingMode.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[_.getAnchorJustification(f)];const H=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const L of H)L>=0&&(s.text.placedSymbolArray.get(L).crossTileID=b>=0&&L!==b?0:m.crossTileID)}markUsedOrientation(s,f,m){const v=f===_.WritingMode.horizontal||f===_.WritingMode.horizontalOnly?f:0,b=f===_.WritingMode.vertical?f:0,H=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const L of H)s.text.placedSymbolArray.get(L).placedOrientation=v;m.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let m=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const v=f?f.symbolFadeChange(s):1,b=f?f.opacities:{},H=f?f.variableOffsets:{},L=f?f.placedOrientations:{};for(const T in this.placements){const A=this.placements[T],k=b[T];k?(this.opacities[T]=new ze(k,v,A.text,A.icon),m=m||A.text!==k.text.placed||A.icon!==k.icon.placed):(this.opacities[T]=new ze(null,v,A.text,A.icon,A.skipFade),m=m||A.text||A.icon)}for(const T in b){const A=b[T];if(!this.opacities[T]){const k=new ze(A,v,!1,!1);k.isHidden()||(this.opacities[T]=k,m=m||A.text.placed||A.icon.placed)}}for(const T in H)this.variableOffsets[T]||!this.opacities[T]||this.opacities[T].isHidden()||(this.variableOffsets[T]=H[T]);for(const T in L)this.placedOrientations[T]||!this.opacities[T]||this.opacities[T].isHidden()||(this.placedOrientations[T]=L[T]);if(f&&void 0===f.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=s:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:s)}updateLayerOpacities(s,f){const m={};for(const v of f){const b=v.getBucket(s);b&&v.latestFeatureIndex&&s.id===b.layerIds[0]&&this.updateBucketOpacities(b,m,v.collisionBoxArray)}}updateBucketOpacities(s,f,m){s.hasTextData()&&(s.text.opacityVertexArray.clear(),s.text.hasVisibleVertices=!1),s.hasIconData()&&(s.icon.opacityVertexArray.clear(),s.icon.hasVisibleVertices=!1),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();const v=s.layers[0],b=v.layout,H=new ze(null,0,!1,!1,!0),L=b.get("text-allow-overlap"),T=b.get("icon-allow-overlap"),A=v._unevaluatedLayout.hasValue("text-variable-anchor")||v._unevaluatedLayout.hasValue("text-variable-anchor-offset"),k="map"===b.get("text-rotation-alignment"),O="map"===b.get("text-pitch-alignment"),Z="none"!==b.get("icon-text-fit"),te=new ze(null,0,L&&(T||!s.hasIconData()||b.get("icon-optional")),T&&(L||!s.hasTextData()||b.get("text-optional")),!0);!s.collisionArrays&&m&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(m);const ee=(ae,Q,ye)=>{for(let De=0;De<Q/4;De++)ae.opacityVertexArray.emplaceBack(ye);ae.hasVisibleVertices=ae.hasVisibleVertices||ye!==Mt};for(let ae=0;ae<s.symbolInstances.length;ae++){const Q=s.symbolInstances.get(ae),{numHorizontalGlyphVertices:ye,numVerticalGlyphVertices:De,crossTileID:ce}=Q;let _e=this.opacities[ce];f[ce]?_e=H:_e||(_e=te,this.opacities[ce]=_e),f[ce]=!0;const Ie=Q.numIconVertices>0,ke=this.placedOrientations[Q.crossTileID],je=ke===_.WritingMode.vertical,Ze=ke===_.WritingMode.horizontal||ke===_.WritingMode.horizontalOnly;if(ye>0||De>0){const Be=wn(_e.text);ee(s.text,ye,je?Mt:Be),ee(s.text,De,Ze?Mt:Be);const Je=_e.text.isHidden();[Q.rightJustifiedTextSymbolIndex,Q.centerJustifiedTextSymbolIndex,Q.leftJustifiedTextSymbolIndex].forEach(a1=>{a1>=0&&(s.text.placedSymbolArray.get(a1).hidden=Je||je?1:0)}),Q.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(Q.verticalPlacedTextSymbolIndex).hidden=Je||Ze?1:0);const h1=this.variableOffsets[Q.crossTileID];h1&&this.markUsedJustification(s,h1.anchor,Q,ke);const e2=this.placedOrientations[Q.crossTileID];e2&&(this.markUsedJustification(s,"left",Q,e2),this.markUsedOrientation(s,e2,Q))}if(Ie){const Be=wn(_e.icon),Je=!(Z&&Q.verticalPlacedIconSymbolIndex&&je);Q.placedIconSymbolIndex>=0&&(ee(s.icon,Q.numIconVertices,Je?Be:Mt),s.icon.placedSymbolArray.get(Q.placedIconSymbolIndex).hidden=_e.icon.isHidden()),Q.verticalPlacedIconSymbolIndex>=0&&(ee(s.icon,Q.numVerticalIconVertices,Je?Mt:Be),s.icon.placedSymbolArray.get(Q.verticalPlacedIconSymbolIndex).hidden=_e.icon.isHidden())}if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){const Be=s.collisionArrays[ae];if(Be){let Je=new _.Point(0,0);if(Be.textBox||Be.verticalTextBox){let e2=!0;if(A){const a1=this.variableOffsets[ce];a1?(Je=W1(a1.anchor,a1.width,a1.height,a1.textOffset,a1.textBoxScale),k&&Je._rotate(O?this.transform.angle:-this.transform.angle)):e2=!1}Be.textBox&&U1(s.textCollisionBox.collisionVertexArray,_e.text.placed,!e2||je,Je.x,Je.y),Be.verticalTextBox&&U1(s.textCollisionBox.collisionVertexArray,_e.text.placed,!e2||Ze,Je.x,Je.y)}const h1=!(Ze||!Be.verticalIconBox);Be.iconBox&&U1(s.iconCollisionBox.collisionVertexArray,_e.icon.placed,h1,Z?Je.x:0,Z?Je.y:0),Be.verticalIconBox&&U1(s.iconCollisionBox.collisionVertexArray,_e.icon.placed,!h1,Z?Je.x:0,Z?Je.y:0)}}}if(s.sortFeatures(this.transform.angle),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.text.opacityVertexArray.length!==s.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);if(s.icon.opacityVertexArray.length!==s.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);if(s.bucketInstanceId in this.collisionCircleArrays){const ae=this.collisionCircleArrays[s.bucketInstanceId];s.placementInvProjMatrix=ae.invProjMatrix,s.placementViewportMatrix=ae.viewportMatrix,s.collisionCircleArray=ae.circles,delete this.collisionCircleArrays[s.bucketInstanceId]}}symbolFadeChange(s){return 0===this.fadeDuration?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,f){const m=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*m>s}setStale(){this.stale=!0}}function U1(C,s,f,m,v){C.emplaceBack(s?1:0,f?1:0,m||0,v||0),C.emplaceBack(s?1:0,f?1:0,m||0,v||0),C.emplaceBack(s?1:0,f?1:0,m||0,v||0),C.emplaceBack(s?1:0,f?1:0,m||0,v||0)}const p2=Math.pow(2,25),P2=Math.pow(2,24),X1=Math.pow(2,17),f2=Math.pow(2,16),S2=Math.pow(2,9),D1=Math.pow(2,8),D2=Math.pow(2,1);function wn(C){if(0===C.opacity&&!C.placed)return 0;if(1===C.opacity&&C.placed)return 4294967295;const s=C.placed?1:0,f=Math.floor(127*C.opacity);return f*p2+s*P2+f*X1+s*f2+f*S2+s*D1+f*D2+s}const Mt=0;class h3{constructor(s){this._sortAcrossTiles="viewport-y"!==s.layout.get("symbol-z-order")&&!s.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(s,f,m,v,b){const H=this._bucketParts;for(;this._currentTileIndex<s.length;)if(f.getBucketParts(H,v,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,H.sort((L,T)=>L.sortKey-T.sortKey));this._currentPartIndex<H.length;)if(f.placeLayerBucketPart(H[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,b())return!0;return!1}}class so{constructor(s,f,m,v,b,H,L,T){this.placement=new E1(s,f,H,L,T),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(s,f,m){const v=_.browser.now(),b=()=>!this._forceFullPlacement&&_.browser.now()-v>2;for(;this._currentPlacementIndex>=0;){const H=f[s[this._currentPlacementIndex]],L=this.placement.collisionIndex.transform.zoom;if("symbol"===H.type&&(!H.minzoom||H.minzoom<=L)&&(!H.maxzoom||H.maxzoom>L)){if(this._inProgressLayer||(this._inProgressLayer=new h3(H)),this._inProgressLayer.continuePlacement(m[H.source],this.placement,this._showCollisionBoxes,H,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}const zn=512/_.EXTENT/2;class Sn{constructor(s,f,m){this.tileID=s,this.bucketInstanceId=m,this._symbolsByKey={};const v=new Map;for(let b=0;b<f.length;b++){const H=f.get(b),L=H.key,T=v.get(L);T?T.push(H):v.set(L,[H])}for(const[b,H]of v){const L={positions:H.map(T=>({x:Math.floor(T.anchorX*zn),y:Math.floor(T.anchorY*zn)})),crossTileIDs:H.map(T=>T.crossTileID)};if(L.positions.length>128){const T=new _.KDBush(L.positions.length,16,Uint16Array);for(const{x:A,y:k}of L.positions)T.add(A,k);T.finish(),delete L.positions,L.index=T}this._symbolsByKey[b]=L}}getScaledCoordinates(s,f){const{x:m,y:v,z:b}=this.tileID.canonical,{x:H,y:L,z:T}=f.canonical,A=zn/Math.pow(2,T-b),k=(L*_.EXTENT+s.anchorY)*A,O=v*_.EXTENT*zn;return{x:Math.floor((H*_.EXTENT+s.anchorX)*A-m*_.EXTENT*zn),y:Math.floor(k-O)}}findMatches(s,f,m){const v=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let b=0;b<s.length;b++){const H=s.get(b);if(H.crossTileID)continue;const L=this._symbolsByKey[H.key];if(!L)continue;const T=this.getScaledCoordinates(H,f);if(L.index){const A=L.index.range(T.x-v,T.y-v,T.x+v,T.y+v).sort();for(const k of A){const O=L.crossTileIDs[k];if(!m[O]){m[O]=!0,H.crossTileID=O;break}}}else if(L.positions)for(let A=0;A<L.positions.length;A++){const k=L.positions[A],O=L.crossTileIDs[A];if(Math.abs(k.x-T.x)<=v&&Math.abs(k.y-T.y)<=v&&!m[O]){m[O]=!0,H.crossTileID=O;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:s})=>s)}}class _6{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class aa{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){const f=Math.round((s-this.lng)/360);if(0!==f)for(const m in this.indexes){const v=this.indexes[m],b={};for(const H in v){const L=v[H];L.tileID=L.tileID.unwrapTo(L.tileID.wrap+f),b[L.tileID.key]=L}this.indexes[m]=b}this.lng=s}addBucket(s,f,m){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let b=0;b<f.symbolInstances.length;b++)f.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});const v=this.usedCrossTileIDs[s.overscaledZ];for(const b in this.indexes){const H=this.indexes[b];if(Number(b)>s.overscaledZ)for(const L in H){const T=H[L];T.tileID.isChildOf(s)&&T.findMatches(f.symbolInstances,s,v)}else{const L=H[s.scaledTo(Number(b)).key];L&&L.findMatches(f.symbolInstances,s,v)}}for(let b=0;b<f.symbolInstances.length;b++){const H=f.symbolInstances.get(b);H.crossTileID||(H.crossTileID=m.generate(),v[H.crossTileID]=!0)}return void 0===this.indexes[s.overscaledZ]&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new Sn(s,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(s,f){for(const m of f.getCrossTileIDsLists())for(const v of m)delete this.usedCrossTileIDs[s][v]}removeStaleBuckets(s){let f=!1;for(const m in this.indexes){const v=this.indexes[m];for(const b in v)s[v[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,v[b]),delete v[b],f=!0)}return f}}class gt{constructor(){this.layerIndexes={},this.crossTileIDs=new _6,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,f,m){let v=this.layerIndexes[s.id];void 0===v&&(v=this.layerIndexes[s.id]=new aa);let b=!1;const H={};v.handleWrapJump(m);for(const L of f){const T=L.getBucket(s);T&&s.id===T.layerIds[0]&&(T.bucketInstanceId||(T.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(L.tileID,T,this.crossTileIDs)&&(b=!0),H[T.bucketInstanceId]=!0)}return v.removeStaleBuckets(H)&&(b=!0),b}pruneUnusedLayers(s){const f={};s.forEach(m=>{f[m]=!0});for(const m in this.layerIndexes)f[m]||delete this.layerIndexes[m]}}const sr=(C,s)=>_.emitValidationErrors(C,s&&s.filter(f=>"source.canvas"!==f.identifier)),Ar=_.pick(_.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),wt=_.pick(_.operations,["setCenter","setZoom","setBearing","setPitch"]),Ka=_.emptyStyle();class pn extends _.Evented{constructor(s,f={}){super(),this.map=s,this.dispatcher=new si(ir(),this,s._getMapId()),this.imageManager=new In,this.imageManager.setEventedParent(this),this.glyphManager=new w3(s._requestManager,f.localIdeographFontFamily),this.lineAtlas=new tr(256,512),this.crossTileSymbolIndex=new gt,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new _.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",_.getReferrer());const m=this;this._rtlTextPluginCallback=pn.registerForPluginStateChange(v=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(b,H)=>{if(_.triggerPluginCompletionEvent(b),H&&H.every(L=>L))for(const L in m.sourceCaches){const T=m.sourceCaches[L].getSource().type;"vector"!==T&&"geojson"!==T||m.sourceCaches[L].reload()}})}),this.on("data",v=>{if("source"!==v.dataType||"metadata"!==v.sourceDataType)return;const b=this.sourceCaches[v.sourceId];if(!b)return;const H=b.getSource();if(H&&H.vectorLayerIds)for(const L in this._layers){const T=this._layers[L];T.source===H.id&&this._validateLayer(T)}})}loadURL(s,f={},m){this.fire(new _.Event("dataloading",{dataType:"style"})),f.validate="boolean"!=typeof f.validate||f.validate;const v=this.map._requestManager.transformRequest(s,lt.Style);this._request=_.getJSON(v,(b,H)=>{this._request=null,b?this.fire(new _.ErrorEvent(b)):H&&this._load(H,f,m)})}loadJSON(s,f={},m){this.fire(new _.Event("dataloading",{dataType:"style"})),this._request=_.browser.frame(()=>{this._request=null,f.validate=!1!==f.validate,this._load(s,f,m)})}loadEmpty(){this.fire(new _.Event("dataloading",{dataType:"style"})),this._load(Ka,{validate:!1})}_load(s,f,m){var v;const b=f.transformStyle?f.transformStyle(m,s):s;if(!f.validate||!sr(this,_.validateStyle(b))){this._loaded=!0,this.stylesheet=b;for(const H in b.sources)this.addSource(H,b.sources[H],{validate:!1});b.sprite?this._loadSprite(b.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(b.glyphs),this._createLayers(),this.light=new mt(this.stylesheet.light),this.map.setTerrain(null!==(v=this.stylesheet.terrain)&&void 0!==v?v:null),this.fire(new _.Event("data",{dataType:"style"})),this.fire(new _.Event("style.load"))}}_createLayers(){const s=_.derefLayers(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",s),this._order=s.map(f=>f.id),this._layers={},this._serializedLayers=null;for(const f of s){const m=_.createStyleLayer(f);m.setEventedParent(this,{layer:{id:f.id}}),this._layers[f.id]=m}}_loadSprite(s,f=!1,m=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(v,b,H,L){const T=ai(v),A=T.length,k=H>1?"@2x":"",O={},Z={},te={};for(const{id:ee,url:ae}of T){const Q=b.transformRequest(b.normalizeSpriteURL(ae,k,".json"),lt.SpriteJSON),ye=`${ee}_${Q.url}`;O[ye]=_.getJSON(Q,(_e,Ie)=>{delete O[ye],Z[ee]=Ie,un(L,Z,te,_e,A)});const De=b.transformRequest(b.normalizeSpriteURL(ae,k,".png"),lt.SpriteImage),ce=`${ee}_${De.url}`;O[ce]=u3.getImage(De,(_e,Ie)=>{delete O[ce],te[ee]=Ie,un(L,Z,te,_e,A)})}return{cancel(){for(const ee of Object.values(O))ee.cancel()}}}(s,this.map._requestManager,this.map.getPixelRatio(),(v,b)=>{if(this._spriteRequest=null,v)this.fire(new _.ErrorEvent(v));else if(b)for(const H in b){this._spritesImagesIds[H]=[];const L=this._spritesImagesIds[H]?this._spritesImagesIds[H].filter(T=>!(T in b)):[];for(const T of L)this.imageManager.removeImage(T),this._changedImages[T]=!0;for(const T in b[H]){const A="default"===H?T:`${H}:${T}`;this._spritesImagesIds[H].push(A),A in this.imageManager.images?this.imageManager.updateImage(A,b[H][T],!1):this.imageManager.addImage(A,b[H][T]),f&&(this._changedImages[A]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.Event("data",{dataType:"style"})),m&&m(v)})}_unloadSprite(){for(const s of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(s),this._changedImages[s]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.Event("data",{dataType:"style"}))}_validateLayer(s){const f=this.sourceCaches[s.source];if(!f)return;const m=s.sourceLayer;if(!m)return;const v=f.getSource();("geojson"===v.type||v.vectorLayerIds&&-1===v.vectorLayerIds.indexOf(m))&&this.fire(new _.ErrorEvent(new Error(`Source layer "${m}" does not exist on source "${v.id}" as specified by style layer "${s.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const s in this.sourceCaches)if(!this.sourceCaches[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(s){const f=this._serializedAllLayers();if(!s||0===s.length)return Object.values(f);const m=[];for(const v of s)f[v]&&m.push(f[v]);return m}_serializedAllLayers(){let s=this._serializedLayers;if(s)return s;s=this._serializedLayers={};const f=Object.keys(this._layers);for(const m of f){const v=this._layers[m];"custom"!==v.type&&(s[m]=v.serialize())}return s}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const s in this.sourceCaches)if(this.sourceCaches[s].hasTransition())return!0;for(const s in this._layers)if(this._layers[s].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(s){if(!this._loaded)return;const f=this._changed;if(this._changed){const v=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(v.length||b.length)&&this._updateWorkerLayers(v,b);for(const H in this._updatedSources){const L=this._updatedSources[H];if("reload"===L)this._reloadSource(H);else{if("clear"!==L)throw new Error(`Invalid action ${L}`);this._clearSource(H)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const H in this._updatedPaintProps)this._layers[H].updateTransitions(s);this.light.updateTransitions(s),this._resetUpdates()}const m={};for(const v in this.sourceCaches){const b=this.sourceCaches[v];m[v]=b.used,b.used=!1}for(const v of this._order){const b=this._layers[v];b.recalculate(s,this._availableImages),!b.isHidden(s.zoom)&&b.source&&(this.sourceCaches[b.source].used=!0)}for(const v in m){const b=this.sourceCaches[v];m[v]!==b.used&&b.fire(new _.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(s),this.z=s.zoom,f&&this.fire(new _.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const s=Object.keys(this._changedImages);if(s.length){for(const f in this.sourceCaches)this.sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const s in this.sourceCaches)this.sourceCaches[s].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(s,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(s),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(s,f={}){this._checkLoaded();const m=this.serialize();if(s=f.transformStyle?f.transformStyle(m,s):s,sr(this,_.validateStyle(s)))return!1;(s=_.clone$1(s)).layers=_.derefLayers(s.layers);const v=_.diffStyles(m,s).filter(H=>!(H.command in wt));if(0===v.length)return!1;const b=v.filter(H=>!(H.command in Ar));if(b.length>0)throw new Error(`Unimplemented: ${b.map(H=>H.command).join(", ")}.`);for(const H of v)"setTransition"!==H.command&&this[H.command].apply(this,H.args);return this.stylesheet=s,!0}addImage(s,f){if(this.getImage(s))return this.fire(new _.ErrorEvent(new Error(`An image named "${s}" already exists.`)));this.imageManager.addImage(s,f),this._afterImageUpdated(s)}updateImage(s,f){this.imageManager.updateImage(s,f)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){if(!this.getImage(s))return this.fire(new _.ErrorEvent(new Error(`An image named "${s}" does not exist.`)));this.imageManager.removeImage(s),this._afterImageUpdated(s)}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(s,f,m={}){if(this._checkLoaded(),void 0!==this.sourceCaches[s])throw new Error(`Source "${s}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(_.validateStyle.source,`sources.${s}`,f,null,m))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const v=this.sourceCaches[s]=new ft(s,f,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:s})),v.onAdd(this.map),this._changed=!0}removeSource(s){if(this._checkLoaded(),void 0===this.sourceCaches[s])throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===s)return this.fire(new _.ErrorEvent(new Error(`Source "${s}" cannot be removed while layer "${m}" is using it.`)));const f=this.sourceCaches[s];delete this.sourceCaches[s],delete this._updatedSources[s],f.fire(new _.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(s,f){if(this._checkLoaded(),void 0===this.sourceCaches[s])throw new Error(`There is no source with this ID=${s}`);const m=this.sourceCaches[s].getSource();if("geojson"!==m.type)throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(f),this._changed=!0}getSource(s){return this.sourceCaches[s]&&this.sourceCaches[s].getSource()}addLayer(s,f,m={}){this._checkLoaded();const v=s.id;if(this.getLayer(v))return void this.fire(new _.ErrorEvent(new Error(`Layer "${v}" already exists on this map.`)));let b;if("custom"===s.type){if(sr(this,_.validateCustomStyleLayer(s)))return;b=_.createStyleLayer(s)}else{if("source"in s&&"object"==typeof s.source&&(this.addSource(v,s.source),s=_.clone$1(s),s=_.extend(s,{source:v})),this._validate(_.validateStyle.layer,`layers.${v}`,s,{arrayIndex:-1},m))return;b=_.createStyleLayer(s),this._validateLayer(b),b.setEventedParent(this,{layer:{id:v}})}const H=f?this._order.indexOf(f):this._order.length;if(f&&-1===H)this.fire(new _.ErrorEvent(new Error(`Cannot add layer "${v}" before non-existing layer "${f}".`)));else{if(this._order.splice(H,0,v),this._layerOrderChanged=!0,this._layers[v]=b,this._removedLayers[v]&&b.source&&"custom"!==b.type){const L=this._removedLayers[v];delete this._removedLayers[v],L.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(s,f){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new _.ErrorEvent(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===f)return;const m=this._order.indexOf(s);this._order.splice(m,1);const v=f?this._order.indexOf(f):this._order.length;f&&-1===v?this.fire(new _.ErrorEvent(new Error(`Cannot move layer "${s}" before non-existing layer "${f}".`))):(this._order.splice(v,0,s),this._layerOrderChanged=!0)}removeLayer(s){this._checkLoaded();const f=this._layers[s];if(!f)return void this.fire(new _.ErrorEvent(new Error(`Cannot remove non-existing layer "${s}".`)));f.setEventedParent(null);const m=this._order.indexOf(s);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=f,delete this._layers[s],this._serializedLayers&&delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],f.onRemove&&f.onRemove(this.map)}getLayer(s){return this._layers[s]}hasLayer(s){return s in this._layers}setLayerZoomRange(s,f,m){this._checkLoaded();const v=this.getLayer(s);v?v.minzoom===f&&v.maxzoom===m||(null!=f&&(v.minzoom=f),null!=m&&(v.maxzoom=m),this._updateLayer(v)):this.fire(new _.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)))}setFilter(s,f,m={}){this._checkLoaded();const v=this.getLayer(s);if(v){if(!_.deepEqual(v.filter,f))return null==f?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(_.validateStyle.filter,`layers.${v.id}.filter`,f,null,m)||(v.filter=_.clone$1(f),this._updateLayer(v)))}else this.fire(new _.ErrorEvent(new Error(`Cannot filter non-existing layer "${s}".`)))}getFilter(s){return _.clone$1(this.getLayer(s).filter)}setLayoutProperty(s,f,m,v={}){this._checkLoaded();const b=this.getLayer(s);b?_.deepEqual(b.getLayoutProperty(f),m)||(b.setLayoutProperty(f,m,v),this._updateLayer(b)):this.fire(new _.ErrorEvent(new Error(`Cannot style non-existing layer "${s}".`)))}getLayoutProperty(s,f){const m=this.getLayer(s);if(m)return m.getLayoutProperty(f);this.fire(new _.ErrorEvent(new Error(`Cannot get style of non-existing layer "${s}".`)))}setPaintProperty(s,f,m,v={}){this._checkLoaded();const b=this.getLayer(s);b?_.deepEqual(b.getPaintProperty(f),m)||(b.setPaintProperty(f,m,v)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[s]=!0):this.fire(new _.ErrorEvent(new Error(`Cannot style non-existing layer "${s}".`)))}getPaintProperty(s,f){return this.getLayer(s).getPaintProperty(f)}setFeatureState(s,f){this._checkLoaded();const m=s.source,v=s.sourceLayer,b=this.sourceCaches[m];if(void 0===b)return void this.fire(new _.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const H=b.getSource().type;"geojson"===H&&v?this.fire(new _.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==H||v?(void 0===s.id&&this.fire(new _.ErrorEvent(new Error("The feature id parameter must be provided."))),b.setFeatureState(v,s.id,f)):this.fire(new _.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(s,f){this._checkLoaded();const m=s.source,v=this.sourceCaches[m];if(void 0===v)return void this.fire(new _.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const b=v.getSource().type,H="vector"===b?s.sourceLayer:void 0;"vector"!==b||H?f&&"string"!=typeof s.id&&"number"!=typeof s.id?this.fire(new _.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(H,s.id,f):this.fire(new _.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(s){this._checkLoaded();const f=s.source,m=s.sourceLayer,v=this.sourceCaches[f];if(void 0!==v)return"vector"!==v.getSource().type||m?(void 0===s.id&&this.fire(new _.ErrorEvent(new Error("The feature id parameter must be provided."))),v.getFeatureState(m,s.id)):void this.fire(new _.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new _.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return _.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const s=_.mapObject(this.sourceCaches,v=>v.serialize()),f=this._serializeByIds(this._order),m=this.stylesheet;return _.filterObject({version:m.version,name:m.name,metadata:m.metadata,light:m.light,center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch,sprite:m.sprite,glyphs:m.glyphs,transition:m.transition,sources:s,layers:f},v=>void 0!==v)}_updateLayer(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&"raster"!==this.sourceCaches[s.source].getSource().type&&(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(s){const f=H=>"fill-extrusion"===this._layers[H].type,m={},v=[];for(let H=this._order.length-1;H>=0;H--){const L=this._order[H];if(f(L)){m[L]=H;for(const T of s){const A=T[L];if(A)for(const k of A)v.push(k)}}}v.sort((H,L)=>L.intersectionZ-H.intersectionZ);const b=[];for(let H=this._order.length-1;H>=0;H--){const L=this._order[H];if(f(L))for(let T=v.length-1;T>=0;T--){const A=v[T].feature;if(m[A.layer.id]<H)break;b.push(A),v.pop()}else for(const T of s){const A=T[L];if(A)for(const k of A)b.push(k.feature)}}return b}queryRenderedFeatures(s,f,m){f&&f.filter&&this._validate(_.validateStyle.filter,"queryRenderedFeatures.filter",f.filter,null,f);const v={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new _.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const L of f.layers){const T=this._layers[L];if(!T)return this.fire(new _.ErrorEvent(new Error(`The layer '${L}' does not exist in the map's style and cannot be queried for features.`))),[];v[T.source]=!0}}const b=[];f.availableImages=this._availableImages;const H=this._serializedAllLayers();for(const L in this.sourceCaches)f.layers&&!v[L]||b.push(b2(this.sourceCaches[L],this._layers,H,s,f,m));return this.placement&&b.push(function(L,T,A,k,O,Z,te){const ee={},ae=Z.queryRenderedSymbols(k),Q=[];for(const ye of Object.keys(ae).map(Number))Q.push(te[ye]);Q.sort(b4);for(const ye of Q){const De=ye.featureIndex.lookupSymbolFeatures(ae[ye.bucketInstanceId],T,ye.bucketIndex,ye.sourceLayerIndex,O.filter,O.layers,O.availableImages,L);for(const ce in De){const _e=ee[ce]=ee[ce]||[],Ie=De[ce];Ie.sort((ke,je)=>{const Ze=ye.featureSortOrder;if(Ze){const Be=Ze.indexOf(ke.featureIndex);return Ze.indexOf(je.featureIndex)-Be}return je.featureIndex-ke.featureIndex});for(const ke of Ie)_e.push(ke)}}for(const ye in ee)ee[ye].forEach(De=>{const ce=De.feature,_e=A[L[ye].source].getFeatureState(ce.layer["source-layer"],ce.id);ce.source=ce.layer.source,ce.layer["source-layer"]&&(ce.sourceLayer=ce.layer["source-layer"]),ce.state=_e});return ee}(this._layers,H,this.sourceCaches,s,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(s,f){f&&f.filter&&this._validate(_.validateStyle.filter,"querySourceFeatures.filter",f.filter,null,f);const m=this.sourceCaches[s];return m?function(v,b){const H=v.getRenderableIds().map(A=>v.getTileByID(A)),L=[],T={};for(let A=0;A<H.length;A++){const k=H[A],O=k.tileID.canonical.key;T[O]||(T[O]=!0,k.querySourceFeatures(L,b))}return L}(m,f):[]}addSourceType(s,f,m){return x4(s)?m(new Error(`A source type called "${s}" already exists.`)):(R3[s]=f,f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:s,url:f.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(s,f={}){this._checkLoaded();const m=this.light.getLight();let v=!1;for(const H in s)if(!_.deepEqual(s[H],m[H])){v=!0;break}if(!v)return;const b={now:_.browser.now(),transition:_.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,f),this.light.updateTransitions(b)}_validate(s,f,m,v,b={}){return(!b||!1!==b.validate)&&sr(this,s.call(_.validateStyle,_.extend({key:f,style:this.serialize(),value:m,styleSpec:_.v8Spec},v)))}_remove(s=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),_.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this.sourceCaches){const m=this.sourceCaches[f];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(s)}_clearSource(s){this.sourceCaches[s].clearTiles()}_reloadSource(s){this.sourceCaches[s].resume(),this.sourceCaches[s].reload()}_updateSources(s){for(const f in this.sourceCaches)this.sourceCaches[f].update(s,this.map.terrain)}_generateCollisionBoxes(){for(const s in this.sourceCaches)this._reloadSource(s)}_updatePlacement(s,f,m,v,b=!1){let H=!1,L=!1;const T={};for(const A of this._order){const k=this._layers[A];if("symbol"!==k.type)continue;if(!T[k.source]){const Z=this.sourceCaches[k.source];T[k.source]=Z.getRenderableIds(!0).map(te=>Z.getTileByID(te)).sort((te,ee)=>ee.tileID.overscaledZ-te.tileID.overscaledZ||(te.tileID.isLessThan(ee.tileID)?-1:1))}const O=this.crossTileSymbolIndex.addLayer(k,T[k.source],s.center.lng);H=H||O}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||0===m)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(_.browser.now(),s.zoom))&&(this.pauseablePlacement=new so(s,this.map.terrain,this._order,b,f,m,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,T),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(_.browser.now()),L=!0),H&&this.pauseablePlacement.placement.setStale()),L||H)for(const A of this._order){const k=this._layers[A];"symbol"===k.type&&this.placement.updateLayerOpacities(k,T[k.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(_.browser.now())}_releaseSymbolFadeTiles(){for(const s in this.sourceCaches)this.sourceCaches[s].releaseSymbolFadeTiles()}getImages(s,f,m){this.imageManager.getImages(f.icons,m),this._updateTilesForChangedImages();const v=this.sourceCaches[f.source];v&&v.setDependencies(f.tileID.key,f.type,f.icons)}getGlyphs(s,f,m){this.glyphManager.getGlyphs(f.stacks,m);const v=this.sourceCaches[f.source];v&&v.setDependencies(f.tileID.key,f.type,[""])}getResource(s,f,m){return _.makeRequest(f,m)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(s,f={}){this._checkLoaded(),s&&this._validate(_.validateStyle.glyphs,"glyphs",s,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=s,this.glyphManager.entries={},this.glyphManager.setURL(s))}addSprite(s,f,m={},v){this._checkLoaded();const b=[{id:s,url:f}],H=[...ai(this.stylesheet.sprite),...b];this._validate(_.validateStyle.sprite,"sprite",H,null,m)||(this.stylesheet.sprite=H,this._loadSprite(b,!0,v))}removeSprite(s){this._checkLoaded();const f=ai(this.stylesheet.sprite);if(f.find(m=>m.id===s)){if(this._spritesImagesIds[s])for(const m of this._spritesImagesIds[s])this.imageManager.removeImage(m),this._changedImages[m]=!0;f.splice(f.findIndex(m=>m.id===s),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[s],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new _.Event("data",{dataType:"style"}))}else this.fire(new _.ErrorEvent(new Error(`Sprite "${s}" doesn't exists on this map.`)))}getSprite(){return ai(this.stylesheet.sprite)}setSprite(s,f={},m){this._checkLoaded(),s&&this._validate(_.validateStyle.sprite,"sprite",s,null,f)||(this.stylesheet.sprite=s,s?this._loadSprite(s,!0,m):(this._unloadSprite(),m&&m(null)))}}pn.registerForPluginStateChange=_.registerForPluginStateChange;var Qa=_.createLayout([{name:"a_pos",type:"Int16",components:2}]),hi="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const zt={prelude:H2("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:H2("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:H2("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:H2("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:H2("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:H2("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:H2("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:H2("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:H2("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:H2("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:H2("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:H2("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:H2("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:H2("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:H2("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:H2("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:H2("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:H2("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:H2("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:H2("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:H2("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:H2("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:H2("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:H2("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:H2("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:H2("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:H2("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",hi),terrainDepth:H2("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",hi),terrainCoords:H2("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",hi)};function H2(C,s){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=s.match(/attribute ([\w]+) ([\w]+)/g),v=C.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),H=b?b.concat(v):v,L={};return{fragmentSource:C=C.replace(f,(T,A,k,O,Z)=>(L[Z]=!0,"define"===A?`\n#ifndef HAS_UNIFORM_u_${Z}\nvarying ${k} ${O} ${Z};\n#else\nuniform ${k} ${O} u_${Z};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${Z}\n    ${k} ${O} ${Z} = u_${Z};\n#endif\n`)),vertexSource:s=s.replace(f,(T,A,k,O,Z)=>{const te="float"===O?"vec2":"vec4",ee=Z.match(/color/)?"color":te;return L[Z]?"define"===A?`\n#ifndef HAS_UNIFORM_u_${Z}\nuniform lowp float u_${Z}_t;\nattribute ${k} ${te} a_${Z};\nvarying ${k} ${O} ${Z};\n#else\nuniform ${k} ${O} u_${Z};\n#endif\n`:"vec4"===ee?`\n#ifndef HAS_UNIFORM_u_${Z}\n    ${Z} = a_${Z};\n#else\n    ${k} ${O} ${Z} = u_${Z};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${Z}\n    ${Z} = unpack_mix_${ee}(a_${Z}, u_${Z}_t);\n#else\n    ${k} ${O} ${Z} = u_${Z};\n#endif\n`:"define"===A?`\n#ifndef HAS_UNIFORM_u_${Z}\nuniform lowp float u_${Z}_t;\nattribute ${k} ${te} a_${Z};\n#else\nuniform ${k} ${O} u_${Z};\n#endif\n`:"vec4"===ee?`\n#ifndef HAS_UNIFORM_u_${Z}\n    ${k} ${O} ${Z} = a_${Z};\n#else\n    ${k} ${O} ${Z} = u_${Z};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${Z}\n    ${k} ${O} ${Z} = unpack_mix_${ee}(a_${Z}, u_${Z}_t);\n#else\n    ${k} ${O} ${Z} = u_${Z};\n#endif\n`}),staticAttributes:m,staticUniforms:H}}class Nn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(s,f,m,v,b,H,L,T,A){this.context=s;let k=this.boundPaintVertexBuffers.length!==v.length;for(let O=0;!k&&O<v.length;O++)this.boundPaintVertexBuffers[O]!==v[O]&&(k=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==m||k||this.boundIndexBuffer!==b||this.boundVertexOffset!==H||this.boundDynamicVertexBuffer!==L||this.boundDynamicVertexBuffer2!==T||this.boundDynamicVertexBuffer3!==A?this.freshBind(f,m,v,b,H,L,T,A):(s.bindVertexArray.set(this.vao),L&&L.bind(),b&&b.dynamicDraw&&b.bind(),T&&T.bind(),A&&A.bind())}freshBind(s,f,m,v,b,H,L,T){const A=s.numAttributes,k=this.context,O=k.gl;this.vao&&this.destroy(),this.vao=k.createVertexArray(),k.bindVertexArray.set(this.vao),this.boundProgram=s,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=v,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=H,this.boundDynamicVertexBuffer2=L,this.boundDynamicVertexBuffer3=T,f.enableAttributes(O,s);for(const Z of m)Z.enableAttributes(O,s);H&&H.enableAttributes(O,s),L&&L.enableAttributes(O,s),T&&T.enableAttributes(O,s),f.bind(),f.setVertexAttribPointers(O,s,b);for(const Z of m)Z.bind(),Z.setVertexAttribPointers(O,s,b);H&&(H.bind(),H.setVertexAttribPointers(O,s,b)),v&&v.bind(),L&&(L.bind(),L.setVertexAttribPointers(O,s,b)),T&&(T.bind(),T.setVertexAttribPointers(O,s,b)),k.currentNumAttributes=A}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function j1(C){const s=[];for(let f=0;f<C.length;f++){if(null===C[f])continue;const m=C[f].split(" ");s.push(m.pop())}return s}class Ei{constructor(s,f,m,v,b,H){const L=s.gl;this.program=L.createProgram();const T=j1(f.staticAttributes),A=m?m.getBinderAttributes():[],k=T.concat(A),O=zt.prelude.staticUniforms?j1(zt.prelude.staticUniforms):[],Z=f.staticUniforms?j1(f.staticUniforms):[],te=m?m.getBinderUniforms():[],ee=O.concat(Z).concat(te),ae=[];for(const ke of ee)ae.indexOf(ke)<0&&ae.push(ke);const Q=m?m.defines():[];b&&Q.push("#define OVERDRAW_INSPECTOR;"),H&&Q.push("#define TERRAIN3D;");const ye=Q.concat(zt.prelude.fragmentSource,f.fragmentSource).join("\n"),De=Q.concat(zt.prelude.vertexSource,f.vertexSource).join("\n"),ce=L.createShader(L.FRAGMENT_SHADER);if(L.isContextLost())return void(this.failedToCreate=!0);if(L.shaderSource(ce,ye),L.compileShader(ce),!L.getShaderParameter(ce,L.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${L.getShaderInfoLog(ce)}`);L.attachShader(this.program,ce);const _e=L.createShader(L.VERTEX_SHADER);if(L.isContextLost())return void(this.failedToCreate=!0);if(L.shaderSource(_e,De),L.compileShader(_e),!L.getShaderParameter(_e,L.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${L.getShaderInfoLog(_e)}`);L.attachShader(this.program,_e),this.attributes={};const Ie={};this.numAttributes=k.length;for(let ke=0;ke<this.numAttributes;ke++)k[ke]&&(L.bindAttribLocation(this.program,ke,k[ke]),this.attributes[k[ke]]=ke);if(L.linkProgram(this.program),!L.getProgramParameter(this.program,L.LINK_STATUS))throw new Error(`Program failed to link: ${L.getProgramInfoLog(this.program)}`);L.deleteShader(_e),L.deleteShader(ce);for(let ke=0;ke<ae.length;ke++){const je=ae[ke];if(je&&!Ie[je]){const Ze=L.getUniformLocation(this.program,je);Ze&&(Ie[je]=Ze)}}var ke,je;this.fixedUniforms=v(s,Ie),this.terrainUniforms={u_depth:new _.Uniform1i(ke=s,(je=Ie).u_depth),u_terrain:new _.Uniform1i(ke,je.u_terrain),u_terrain_dim:new _.Uniform1f(ke,je.u_terrain_dim),u_terrain_matrix:new _.UniformMatrix4f(ke,je.u_terrain_matrix),u_terrain_unpack:new _.Uniform4f(ke,je.u_terrain_unpack),u_terrain_exaggeration:new _.Uniform1f(ke,je.u_terrain_exaggeration)},this.binderUniforms=m?m.getUniforms(s,Ie):[]}draw(s,f,m,v,b,H,L,T,A,k,O,Z,te,ee,ae,Q,ye,De){const ce=s.gl;if(this.failedToCreate)return;if(s.program.set(this.program),s.setDepthMode(m),s.setStencilMode(v),s.setColorMode(b),s.setCullFace(H),T){s.activeTexture.set(ce.TEXTURE2),ce.bindTexture(ce.TEXTURE_2D,T.depthTexture),s.activeTexture.set(ce.TEXTURE3),ce.bindTexture(ce.TEXTURE_2D,T.texture);for(const Ie in this.terrainUniforms)this.terrainUniforms[Ie].set(T[Ie])}for(const Ie in this.fixedUniforms)this.fixedUniforms[Ie].set(L[Ie]);ae&&ae.setUniforms(s,this.binderUniforms,te,{zoom:ee});let _e=0;switch(f){case ce.LINES:_e=2;break;case ce.TRIANGLES:_e=3;break;case ce.LINE_STRIP:_e=1}for(const Ie of Z.get()){const ke=Ie.vaos||(Ie.vaos={});(ke[A]||(ke[A]=new Nn)).bind(s,this,k,ae?ae.getPaintVertexBuffers():[],O,Ie.vertexOffset,Q,ye,De),ce.drawElements(f,Ie.primitiveLength*_e,ce.UNSIGNED_SHORT,Ie.primitiveOffset*_e*2)}}}function S4(C,s,f){const m=1/me(f,1,s.transform.tileZoom),v=Math.pow(2,f.tileID.overscaledZ),b=f.tileSize*Math.pow(2,s.transform.tileZoom)/v,H=b*(f.tileID.canonical.x+f.tileID.wrap*v),L=b*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[m,C.fromScale,C.toScale],u_fade:C.t,u_pixel_coord_upper:[H>>16,L>>16],u_pixel_coord_lower:[65535&H,65535&L]}}const e3=(C,s,f,m)=>{const v=s.style.light,b=v.properties.get("position"),H=[b.x,b.y,b.z],L=(A=new _.ARRAY_TYPE(9),_.ARRAY_TYPE!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,A);var A;"viewport"===v.properties.get("anchor")&&function(A,k){var O=Math.sin(k),Z=Math.cos(k);A[0]=Z,A[1]=O,A[2]=0,A[3]=-O,A[4]=Z,A[5]=0,A[6]=0,A[7]=0,A[8]=1}(L,-s.transform.angle),function(A,k,O){var Z=k[0],te=k[1],ee=k[2];A[0]=Z*O[0]+te*O[3]+ee*O[6],A[1]=Z*O[1]+te*O[4]+ee*O[7],A[2]=Z*O[2]+te*O[5]+ee*O[8]}(H,H,L);const T=v.properties.get("color");return{u_matrix:C,u_lightpos:H,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[T.r,T.g,T.b],u_vertical_gradient:+f,u_opacity:m}},l0=(C,s,f,m,v,b,H)=>_.extend(e3(C,s,f,m),S4(b,s,H),{u_height_factor:-Math.pow(2,v.overscaledZ)/H.tileSize/8}),C6=C=>({u_matrix:C}),M2=(C,s,f,m)=>_.extend(C6(C),S4(f,s,m)),Ja=(C,s)=>({u_matrix:C,u_world:s}),At=(C,s,f,m,v)=>_.extend(M2(C,s,f,m),{u_world:v}),oo=(C,s,f,m)=>{const v=C.transform;let b,H;if("map"===m.paint.get("circle-pitch-alignment")){const L=me(f,1,v.zoom);b=!0,H=[L,L]}else b=!1,H=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+("map"===m.paint.get("circle-pitch-scale")),u_matrix:C.translatePosMatrix(s.posMatrix,f,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+b,u_device_pixel_ratio:C.pixelRatio,u_extrude_scale:H}},x6=(C,s,f)=>{const m=me(f,1,s.zoom),v=Math.pow(2,s.zoom-f.tileID.overscaledZ),b=f.tileID.overscaleFactor();return{u_matrix:C,u_camera_to_center_distance:s.cameraToCenterDistance,u_pixels_to_tile_units:m,u_extrude_scale:[s.pixelsToGLUnits[0]/(m*v),s.pixelsToGLUnits[1]/(m*v)],u_overscale_factor:b}},es=(C,s,f=1)=>({u_matrix:C,u_color:s,u_overlay:0,u_overlay_scale:f}),q1=C=>({u_matrix:C}),ts=(C,s,f,m)=>({u_matrix:C,u_extrude_scale:me(s,1,f),u_intensity:m});function ns(C,s){const f=Math.pow(2,s.canonical.z),m=s.canonical.y;return[new _.MercatorCoordinate(0,m/f).toLngLat().lat,new _.MercatorCoordinate(0,(m+1)/f).toLngLat().lat]}const co=(C,s,f,m)=>{const v=C.transform;return{u_matrix:v2(C,s,f,m),u_ratio:1/me(s,1,v.zoom),u_device_pixel_ratio:C.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},lo=(C,s,f,m,v)=>_.extend(co(C,s,f,v),{u_image:0,u_image_height:m}),$e=(C,s,f,m,v)=>{const b=C.transform,H=N1(s,b);return{u_matrix:v2(C,s,f,v),u_texsize:s.imageAtlasTexture.size,u_ratio:1/me(s,1,b.zoom),u_device_pixel_ratio:C.pixelRatio,u_image:0,u_scale:[H,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},Ir=(C,s,f,m,v,b)=>{const H=C.lineAtlas,L=N1(s,C.transform),T="round"===f.layout.get("line-cap"),A=H.getDash(m.from,T),k=H.getDash(m.to,T),O=A.width*v.fromScale,Z=k.width*v.toScale;return _.extend(co(C,s,f,b),{u_patternscale_a:[L/O,-A.height/2],u_patternscale_b:[L/Z,-k.height/2],u_sdfgamma:H.width/(256*Math.min(O,Z)*C.pixelRatio)/2,u_image:0,u_tex_y_a:A.y,u_tex_y_b:k.y,u_mix:v.t})};function N1(C,s){return 1/me(C,1,s.tileZoom)}function v2(C,s,f,m){return C.translatePosMatrix(m?m.posMatrix:s.tileID.posMatrix,s,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const is=(C,s,f,m,v)=>{return{u_matrix:C,u_tl_parent:s,u_scale_parent:f,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(H=v.paint.get("raster-saturation"),H>0?1-1/(1.001-H):-H),u_contrast_factor:(b=v.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:rs(v.paint.get("raster-hue-rotate"))};var b,H};function rs(C){C*=Math.PI/180;const s=Math.sin(C),f=Math.cos(C);return[(2*f+1)/3,(-Math.sqrt(3)*s-f+1)/3,(Math.sqrt(3)*s-f+1)/3]}const sa=(C,s,f,m,v,b,H,L,T,A)=>{const k=v.transform;return{u_is_size_zoom_constant:+("constant"===C||"source"===C),u_is_size_feature_constant:+("constant"===C||"camera"===C),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:k.cameraToCenterDistance,u_pitch:k.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:k.width/k.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:b,u_label_plane_matrix:H,u_coord_matrix:L,u_is_text:+T,u_pitch_with_map:+m,u_texsize:A,u_texture:0}},kr=(C,s,f,m,v,b,H,L,T,A,k)=>{const O=v.transform;return _.extend(sa(C,s,f,m,v,b,H,L,T,A),{u_gamma_scale:m?Math.cos(O._pitch)*O.cameraToCenterDistance:1,u_device_pixel_ratio:v.pixelRatio,u_is_halo:+k})},mn=(C,s,f,m,v,b,H,L,T,A)=>_.extend(kr(C,s,f,m,v,b,H,L,!0,T,!0),{u_texsize_icon:A,u_texture_icon:1}),H4=(C,s,f)=>({u_matrix:C,u_opacity:s,u_color:f}),as=(C,s,f,m,v,b)=>_.extend(function(H,L,T,A){const k=T.imageManager.getPattern(H.from.toString()),O=T.imageManager.getPattern(H.to.toString()),{width:Z,height:te}=T.imageManager.getPixelSize(),ee=Math.pow(2,A.tileID.overscaledZ),ae=A.tileSize*Math.pow(2,T.transform.tileZoom)/ee,Q=ae*(A.tileID.canonical.x+A.tileID.wrap*ee),ye=ae*A.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:k.tl,u_pattern_br_a:k.br,u_pattern_tl_b:O.tl,u_pattern_br_b:O.br,u_texsize:[Z,te],u_mix:L.t,u_pattern_size_a:k.displaySize,u_pattern_size_b:O.displaySize,u_scale_a:L.fromScale,u_scale_b:L.toScale,u_tile_units_to_pixels:1/me(A,1,T.transform.tileZoom),u_pixel_coord_upper:[Q>>16,ye>>16],u_pixel_coord_lower:[65535&Q,65535&ye]}}(m,b,f,v),{u_matrix:C,u_opacity:s}),L3={fillExtrusion:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_lightpos:new _.Uniform3f(C,s.u_lightpos),u_lightintensity:new _.Uniform1f(C,s.u_lightintensity),u_lightcolor:new _.Uniform3f(C,s.u_lightcolor),u_vertical_gradient:new _.Uniform1f(C,s.u_vertical_gradient),u_opacity:new _.Uniform1f(C,s.u_opacity)}),fillExtrusionPattern:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_lightpos:new _.Uniform3f(C,s.u_lightpos),u_lightintensity:new _.Uniform1f(C,s.u_lightintensity),u_lightcolor:new _.Uniform3f(C,s.u_lightcolor),u_vertical_gradient:new _.Uniform1f(C,s.u_vertical_gradient),u_height_factor:new _.Uniform1f(C,s.u_height_factor),u_image:new _.Uniform1i(C,s.u_image),u_texsize:new _.Uniform2f(C,s.u_texsize),u_pixel_coord_upper:new _.Uniform2f(C,s.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(C,s.u_pixel_coord_lower),u_scale:new _.Uniform3f(C,s.u_scale),u_fade:new _.Uniform1f(C,s.u_fade),u_opacity:new _.Uniform1f(C,s.u_opacity)}),fill:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix)}),fillPattern:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_image:new _.Uniform1i(C,s.u_image),u_texsize:new _.Uniform2f(C,s.u_texsize),u_pixel_coord_upper:new _.Uniform2f(C,s.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(C,s.u_pixel_coord_lower),u_scale:new _.Uniform3f(C,s.u_scale),u_fade:new _.Uniform1f(C,s.u_fade)}),fillOutline:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_world:new _.Uniform2f(C,s.u_world)}),fillOutlinePattern:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_world:new _.Uniform2f(C,s.u_world),u_image:new _.Uniform1i(C,s.u_image),u_texsize:new _.Uniform2f(C,s.u_texsize),u_pixel_coord_upper:new _.Uniform2f(C,s.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(C,s.u_pixel_coord_lower),u_scale:new _.Uniform3f(C,s.u_scale),u_fade:new _.Uniform1f(C,s.u_fade)}),circle:(C,s)=>({u_camera_to_center_distance:new _.Uniform1f(C,s.u_camera_to_center_distance),u_scale_with_map:new _.Uniform1i(C,s.u_scale_with_map),u_pitch_with_map:new _.Uniform1i(C,s.u_pitch_with_map),u_extrude_scale:new _.Uniform2f(C,s.u_extrude_scale),u_device_pixel_ratio:new _.Uniform1f(C,s.u_device_pixel_ratio),u_matrix:new _.UniformMatrix4f(C,s.u_matrix)}),collisionBox:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_camera_to_center_distance:new _.Uniform1f(C,s.u_camera_to_center_distance),u_pixels_to_tile_units:new _.Uniform1f(C,s.u_pixels_to_tile_units),u_extrude_scale:new _.Uniform2f(C,s.u_extrude_scale),u_overscale_factor:new _.Uniform1f(C,s.u_overscale_factor)}),collisionCircle:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_inv_matrix:new _.UniformMatrix4f(C,s.u_inv_matrix),u_camera_to_center_distance:new _.Uniform1f(C,s.u_camera_to_center_distance),u_viewport_size:new _.Uniform2f(C,s.u_viewport_size)}),debug:(C,s)=>({u_color:new _.UniformColor(C,s.u_color),u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_overlay:new _.Uniform1i(C,s.u_overlay),u_overlay_scale:new _.Uniform1f(C,s.u_overlay_scale)}),clippingMask:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix)}),heatmap:(C,s)=>({u_extrude_scale:new _.Uniform1f(C,s.u_extrude_scale),u_intensity:new _.Uniform1f(C,s.u_intensity),u_matrix:new _.UniformMatrix4f(C,s.u_matrix)}),heatmapTexture:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_world:new _.Uniform2f(C,s.u_world),u_image:new _.Uniform1i(C,s.u_image),u_color_ramp:new _.Uniform1i(C,s.u_color_ramp),u_opacity:new _.Uniform1f(C,s.u_opacity)}),hillshade:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_image:new _.Uniform1i(C,s.u_image),u_latrange:new _.Uniform2f(C,s.u_latrange),u_light:new _.Uniform2f(C,s.u_light),u_shadow:new _.UniformColor(C,s.u_shadow),u_highlight:new _.UniformColor(C,s.u_highlight),u_accent:new _.UniformColor(C,s.u_accent)}),hillshadePrepare:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_image:new _.Uniform1i(C,s.u_image),u_dimension:new _.Uniform2f(C,s.u_dimension),u_zoom:new _.Uniform1f(C,s.u_zoom),u_unpack:new _.Uniform4f(C,s.u_unpack)}),line:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_ratio:new _.Uniform1f(C,s.u_ratio),u_device_pixel_ratio:new _.Uniform1f(C,s.u_device_pixel_ratio),u_units_to_pixels:new _.Uniform2f(C,s.u_units_to_pixels)}),lineGradient:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_ratio:new _.Uniform1f(C,s.u_ratio),u_device_pixel_ratio:new _.Uniform1f(C,s.u_device_pixel_ratio),u_units_to_pixels:new _.Uniform2f(C,s.u_units_to_pixels),u_image:new _.Uniform1i(C,s.u_image),u_image_height:new _.Uniform1f(C,s.u_image_height)}),linePattern:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_texsize:new _.Uniform2f(C,s.u_texsize),u_ratio:new _.Uniform1f(C,s.u_ratio),u_device_pixel_ratio:new _.Uniform1f(C,s.u_device_pixel_ratio),u_image:new _.Uniform1i(C,s.u_image),u_units_to_pixels:new _.Uniform2f(C,s.u_units_to_pixels),u_scale:new _.Uniform3f(C,s.u_scale),u_fade:new _.Uniform1f(C,s.u_fade)}),lineSDF:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_ratio:new _.Uniform1f(C,s.u_ratio),u_device_pixel_ratio:new _.Uniform1f(C,s.u_device_pixel_ratio),u_units_to_pixels:new _.Uniform2f(C,s.u_units_to_pixels),u_patternscale_a:new _.Uniform2f(C,s.u_patternscale_a),u_patternscale_b:new _.Uniform2f(C,s.u_patternscale_b),u_sdfgamma:new _.Uniform1f(C,s.u_sdfgamma),u_image:new _.Uniform1i(C,s.u_image),u_tex_y_a:new _.Uniform1f(C,s.u_tex_y_a),u_tex_y_b:new _.Uniform1f(C,s.u_tex_y_b),u_mix:new _.Uniform1f(C,s.u_mix)}),raster:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_tl_parent:new _.Uniform2f(C,s.u_tl_parent),u_scale_parent:new _.Uniform1f(C,s.u_scale_parent),u_buffer_scale:new _.Uniform1f(C,s.u_buffer_scale),u_fade_t:new _.Uniform1f(C,s.u_fade_t),u_opacity:new _.Uniform1f(C,s.u_opacity),u_image0:new _.Uniform1i(C,s.u_image0),u_image1:new _.Uniform1i(C,s.u_image1),u_brightness_low:new _.Uniform1f(C,s.u_brightness_low),u_brightness_high:new _.Uniform1f(C,s.u_brightness_high),u_saturation_factor:new _.Uniform1f(C,s.u_saturation_factor),u_contrast_factor:new _.Uniform1f(C,s.u_contrast_factor),u_spin_weights:new _.Uniform3f(C,s.u_spin_weights)}),symbolIcon:(C,s)=>({u_is_size_zoom_constant:new _.Uniform1i(C,s.u_is_size_zoom_constant),u_is_size_feature_constant:new _.Uniform1i(C,s.u_is_size_feature_constant),u_size_t:new _.Uniform1f(C,s.u_size_t),u_size:new _.Uniform1f(C,s.u_size),u_camera_to_center_distance:new _.Uniform1f(C,s.u_camera_to_center_distance),u_pitch:new _.Uniform1f(C,s.u_pitch),u_rotate_symbol:new _.Uniform1i(C,s.u_rotate_symbol),u_aspect_ratio:new _.Uniform1f(C,s.u_aspect_ratio),u_fade_change:new _.Uniform1f(C,s.u_fade_change),u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_label_plane_matrix:new _.UniformMatrix4f(C,s.u_label_plane_matrix),u_coord_matrix:new _.UniformMatrix4f(C,s.u_coord_matrix),u_is_text:new _.Uniform1i(C,s.u_is_text),u_pitch_with_map:new _.Uniform1i(C,s.u_pitch_with_map),u_texsize:new _.Uniform2f(C,s.u_texsize),u_texture:new _.Uniform1i(C,s.u_texture)}),symbolSDF:(C,s)=>({u_is_size_zoom_constant:new _.Uniform1i(C,s.u_is_size_zoom_constant),u_is_size_feature_constant:new _.Uniform1i(C,s.u_is_size_feature_constant),u_size_t:new _.Uniform1f(C,s.u_size_t),u_size:new _.Uniform1f(C,s.u_size),u_camera_to_center_distance:new _.Uniform1f(C,s.u_camera_to_center_distance),u_pitch:new _.Uniform1f(C,s.u_pitch),u_rotate_symbol:new _.Uniform1i(C,s.u_rotate_symbol),u_aspect_ratio:new _.Uniform1f(C,s.u_aspect_ratio),u_fade_change:new _.Uniform1f(C,s.u_fade_change),u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_label_plane_matrix:new _.UniformMatrix4f(C,s.u_label_plane_matrix),u_coord_matrix:new _.UniformMatrix4f(C,s.u_coord_matrix),u_is_text:new _.Uniform1i(C,s.u_is_text),u_pitch_with_map:new _.Uniform1i(C,s.u_pitch_with_map),u_texsize:new _.Uniform2f(C,s.u_texsize),u_texture:new _.Uniform1i(C,s.u_texture),u_gamma_scale:new _.Uniform1f(C,s.u_gamma_scale),u_device_pixel_ratio:new _.Uniform1f(C,s.u_device_pixel_ratio),u_is_halo:new _.Uniform1i(C,s.u_is_halo)}),symbolTextAndIcon:(C,s)=>({u_is_size_zoom_constant:new _.Uniform1i(C,s.u_is_size_zoom_constant),u_is_size_feature_constant:new _.Uniform1i(C,s.u_is_size_feature_constant),u_size_t:new _.Uniform1f(C,s.u_size_t),u_size:new _.Uniform1f(C,s.u_size),u_camera_to_center_distance:new _.Uniform1f(C,s.u_camera_to_center_distance),u_pitch:new _.Uniform1f(C,s.u_pitch),u_rotate_symbol:new _.Uniform1i(C,s.u_rotate_symbol),u_aspect_ratio:new _.Uniform1f(C,s.u_aspect_ratio),u_fade_change:new _.Uniform1f(C,s.u_fade_change),u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_label_plane_matrix:new _.UniformMatrix4f(C,s.u_label_plane_matrix),u_coord_matrix:new _.UniformMatrix4f(C,s.u_coord_matrix),u_is_text:new _.Uniform1i(C,s.u_is_text),u_pitch_with_map:new _.Uniform1i(C,s.u_pitch_with_map),u_texsize:new _.Uniform2f(C,s.u_texsize),u_texsize_icon:new _.Uniform2f(C,s.u_texsize_icon),u_texture:new _.Uniform1i(C,s.u_texture),u_texture_icon:new _.Uniform1i(C,s.u_texture_icon),u_gamma_scale:new _.Uniform1f(C,s.u_gamma_scale),u_device_pixel_ratio:new _.Uniform1f(C,s.u_device_pixel_ratio),u_is_halo:new _.Uniform1i(C,s.u_is_halo)}),background:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_opacity:new _.Uniform1f(C,s.u_opacity),u_color:new _.UniformColor(C,s.u_color)}),backgroundPattern:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_opacity:new _.Uniform1f(C,s.u_opacity),u_image:new _.Uniform1i(C,s.u_image),u_pattern_tl_a:new _.Uniform2f(C,s.u_pattern_tl_a),u_pattern_br_a:new _.Uniform2f(C,s.u_pattern_br_a),u_pattern_tl_b:new _.Uniform2f(C,s.u_pattern_tl_b),u_pattern_br_b:new _.Uniform2f(C,s.u_pattern_br_b),u_texsize:new _.Uniform2f(C,s.u_texsize),u_mix:new _.Uniform1f(C,s.u_mix),u_pattern_size_a:new _.Uniform2f(C,s.u_pattern_size_a),u_pattern_size_b:new _.Uniform2f(C,s.u_pattern_size_b),u_scale_a:new _.Uniform1f(C,s.u_scale_a),u_scale_b:new _.Uniform1f(C,s.u_scale_b),u_pixel_coord_upper:new _.Uniform2f(C,s.u_pixel_coord_upper),u_pixel_coord_lower:new _.Uniform2f(C,s.u_pixel_coord_lower),u_tile_units_to_pixels:new _.Uniform1f(C,s.u_tile_units_to_pixels)}),terrain:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_texture:new _.Uniform1i(C,s.u_texture),u_ele_delta:new _.Uniform1f(C,s.u_ele_delta)}),terrainDepth:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_ele_delta:new _.Uniform1f(C,s.u_ele_delta)}),terrainCoords:(C,s)=>({u_matrix:new _.UniformMatrix4f(C,s.u_matrix),u_texture:new _.Uniform1i(C,s.u_texture),u_terrain_coords_id:new _.Uniform1f(C,s.u_terrain_coords_id),u_ele_delta:new _.Uniform1f(C,s.u_ele_delta)})};class Ut{constructor(s,f,m){this.context=s;const v=s.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const b6={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class uo{constructor(s,f,m,v){this.length=f.length,this.attributes=m,this.itemSize=f.bytesPerElement,this.dynamicDraw=v,this.context=s;const b=s.gl;this.buffer=b.createBuffer(),s.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){if(s.length!==this.length)throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,f){for(let m=0;m<this.attributes.length;m++){const v=f.attributes[this.attributes[m].name];void 0!==v&&s.enableVertexAttribArray(v)}}setVertexAttribPointers(s,f,m){for(let v=0;v<this.attributes.length;v++){const b=this.attributes[v],H=f.attributes[b.name];void 0!==H&&s.vertexAttribPointer(H,b.components,s[b6[b.type]],!1,this.itemSize,b.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const oa=new WeakMap;function ca(C){if(oa.has(C))return oa.get(C);{const s=C.getParameter(C.VERSION).startsWith("WebGL 2.0");return oa.set(C,s),s}}class y2{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class fo extends y2{getDefault(){return _.Color.transparent}set(s){const f=this.current;(s.r!==f.r||s.g!==f.g||s.b!==f.b||s.a!==f.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class ho extends y2{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class M6 extends y2{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class On extends y2{getDefault(){return[!0,!0,!0,!0]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||s[2]!==f[2]||s[3]!==f[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class Z1 extends y2{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class u0 extends y2{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class la extends y2{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){const f=this.current;(s.func!==f.func||s.ref!==f.ref||s.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class A5 extends y2{getDefault(){const s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||s[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class k1 extends y2{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=s,this.dirty=!1}}class I5 extends y2{getDefault(){return[0,1]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class Ti extends y2{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=s,this.dirty=!1}}class ss extends y2{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class f0 extends y2{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.BLEND):f.disable(f.BLEND),this.current=s,this.dirty=!1}}class os extends y2{getDefault(){const s=this.gl;return[s.ONE,s.ZERO]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class cs extends y2{getDefault(){return _.Color.transparent}set(s){const f=this.current;(s.r!==f.r||s.g!==f.g||s.b!==f.b||s.a!==f.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class L4 extends y2{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class V4 extends y2{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;s?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=s,this.dirty=!1}}class or extends y2{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class po extends y2{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}class w6 extends y2{getDefault(){return null}set(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)}}class a2 extends y2{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class Pi extends y2{getDefault(){const s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){const f=this.current;(s[0]!==f[0]||s[1]!==f[1]||s[2]!==f[2]||s[3]!==f[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class mo extends y2{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class $t extends y2{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class Nr extends y2{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class h0 extends y2{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class N2 extends y2{getDefault(){return null}set(s){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class w2 extends y2{getDefault(){return null}set(s){var f;if(s===this.current&&!this.dirty)return;const m=this.gl;ca(m)?m.bindVertexArray(s):null===(f=m.getExtension("OES_vertex_array_object"))||void 0===f||f.bindVertexArrayOES(s),this.current=s,this.dirty=!1}}class go extends y2{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class vo extends y2{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class ls extends y2{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class cr extends y2{constructor(s,f){super(s),this.context=s,this.parent=f}getDefault(){return null}}class yo extends cr{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class d0 extends cr{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class us extends cr{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class k5{constructor(s,f,m,v,b){this.context=s,this.width=f,this.height=m;const H=s.gl,L=this.framebuffer=H.createFramebuffer();if(this.colorAttachment=new yo(s,L),v)this.depthAttachment=b?new us(s,L):new d0(s,L);else if(b)throw new Error("Stencil cannot be setted without depth");if(H.checkFramebufferStatus(H.FRAMEBUFFER)!==H.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const s=this.context.gl,f=this.colorAttachment.get();if(f&&s.deleteTexture(f),this.depthAttachment){const m=this.depthAttachment.get();m&&s.deleteRenderbuffer(m)}s.deleteFramebuffer(this.framebuffer)}}class vt{constructor(s,f,m){this.blendFunction=s,this.blendColor=f,this.mask=m}}vt.Replace=[1,0],vt.disabled=new vt(vt.Replace,_.Color.transparent,[!1,!1,!1,!1]),vt.unblended=new vt(vt.Replace,_.Color.transparent,[!0,!0,!0,!0]),vt.alphaBlended=new vt([1,771],_.Color.transparent,[!0,!0,!0,!0]);class _o{constructor(s){var f,m;if(this.gl=s,this.clearColor=new fo(this),this.clearDepth=new ho(this),this.clearStencil=new M6(this),this.colorMask=new On(this),this.depthMask=new Z1(this),this.stencilMask=new u0(this),this.stencilFunc=new la(this),this.stencilOp=new A5(this),this.stencilTest=new k1(this),this.depthRange=new I5(this),this.depthTest=new Ti(this),this.depthFunc=new ss(this),this.blend=new f0(this),this.blendFunc=new os(this),this.blendColor=new cs(this),this.blendEquation=new L4(this),this.cullFace=new V4(this),this.cullFaceSide=new or(this),this.frontFace=new po(this),this.program=new w6(this),this.activeTexture=new a2(this),this.viewport=new Pi(this),this.bindFramebuffer=new mo(this),this.bindRenderbuffer=new $t(this),this.bindTexture=new Nr(this),this.bindVertexBuffer=new h0(this),this.bindElementBuffer=new N2(this),this.bindVertexArray=new w2(this),this.pixelStoreUnpack=new go(this),this.pixelStoreUnpackPremultiplyAlpha=new vo(this),this.pixelStoreUnpackFlipY=new ls(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),ca(s)){this.HALF_FLOAT=s.HALF_FLOAT;const v=s.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(f=s.RGBA16F)&&void 0!==f?f:v?.RGBA16F_EXT,this.RGB16F=null!==(m=s.RGB16F)&&void 0!==m?m:v?.RGB16F_EXT,s.getExtension("EXT_color_buffer_float")}else{s.getExtension("EXT_color_buffer_half_float"),s.getExtension("OES_texture_half_float_linear");const v=s.getExtension("OES_texture_half_float");this.HALF_FLOAT=v?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,f){return new Ut(this,s,f)}createVertexBuffer(s,f,m){return new uo(this,s,f,m)}createRenderbuffer(s,f,m){const v=this.gl,b=v.createRenderbuffer();return this.bindRenderbuffer.set(b),v.renderbufferStorage(v.RENDERBUFFER,s,f,m),this.bindRenderbuffer.set(null),b}createFramebuffer(s,f,m,v){return new k5(this,s,f,m,v)}clear({color:s,depth:f,stencil:m}){const v=this.gl;let b=0;s&&(b|=v.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),void 0!==f&&(b|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),void 0!==m&&(b|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),v.clear(b)}setCullFace(s){!1===s.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){_.deepEqual(s.blendFunction,vt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}createVertexArray(){var s;return ca(this.gl)?this.gl.createVertexArray():null===(s=this.gl.getExtension("OES_vertex_array_object"))||void 0===s?void 0:s.createVertexArrayOES()}deleteVertexArray(s){var f;return ca(this.gl)?this.gl.deleteVertexArray(s):null===(f=this.gl.getExtension("OES_vertex_array_object"))||void 0===f?void 0:f.deleteVertexArrayOES(s)}unbindVAO(){this.bindVertexArray.set(null)}}class o2{constructor(s,f,m){this.func=s,this.mask=f,this.range=m}}o2.ReadOnly=!1,o2.ReadWrite=!0,o2.disabled=new o2(519,o2.ReadOnly,[0,1]);class L2{constructor(s,f,m,v,b,H){this.test=s,this.ref=f,this.mask=m,this.fail=v,this.depthFail=b,this.pass=H}}L2.disabled=new L2({func:519,mask:0},0,0,7680,7680,7680);class O2{constructor(s,f,m){this.enable=s,this.mode=f,this.frontFace=m}}let di;function ua(C,s,f,m,v,b,H){const L=C.context,T=L.gl,A=C.useProgram("collisionBox"),k=[];let O=0,Z=0;for(let ce=0;ce<m.length;ce++){const _e=m[ce],Ie=s.getTile(_e),ke=Ie.getBucket(f);if(!ke)continue;let je=_e.posMatrix;0===v[0]&&0===v[1]||(je=C.translatePosMatrix(_e.posMatrix,Ie,v,b));const Ze=H?ke.textCollisionBox:ke.iconCollisionBox,Be=ke.collisionCircleArray;if(Be.length>0){const Je=_.create(),h1=je;_.mul(Je,ke.placementInvProjMatrix,C.transform.glCoordMatrix),_.mul(Je,Je,ke.placementViewportMatrix),k.push({circleArray:Be,circleOffset:Z,transform:h1,invTransform:Je,coord:_e}),O+=Be.length/4,Z=O}Ze&&A.draw(L,T.LINES,o2.disabled,L2.disabled,C.colorModeForRenderPass(),O2.disabled,x6(je,C.transform,Ie),C.style.map.terrain&&C.style.map.terrain.getTerrainData(_e),f.id,Ze.layoutVertexBuffer,Ze.indexBuffer,Ze.segments,null,C.transform.zoom,null,null,Ze.collisionVertexBuffer)}if(!H||!k.length)return;const te=C.useProgram("collisionCircle"),ee=new _.CollisionCircleLayoutArray;ee.resize(4*O),ee._trim();let ae=0;for(const ce of k)for(let _e=0;_e<ce.circleArray.length/4;_e++){const Ie=4*_e,ke=ce.circleArray[Ie+0],je=ce.circleArray[Ie+1],Ze=ce.circleArray[Ie+2],Be=ce.circleArray[Ie+3];ee.emplace(ae++,ke,je,Ze,Be,0),ee.emplace(ae++,ke,je,Ze,Be,1),ee.emplace(ae++,ke,je,Ze,Be,2),ee.emplace(ae++,ke,je,Ze,Be,3)}(!di||di.length<2*O)&&(di=function(ce){const _e=2*ce,Ie=new _.QuadTriangleArray;Ie.resize(_e),Ie._trim();for(let ke=0;ke<_e;ke++){const je=6*ke;Ie.uint16[je+0]=4*ke+0,Ie.uint16[je+1]=4*ke+1,Ie.uint16[je+2]=4*ke+2,Ie.uint16[je+3]=4*ke+2,Ie.uint16[je+4]=4*ke+3,Ie.uint16[je+5]=4*ke+0}return Ie}(O));const Q=L.createIndexBuffer(di,!0),ye=L.createVertexBuffer(ee,_.collisionCircleLayout.members,!0);for(const ce of k){const _e={u_matrix:ce.transform,u_inv_matrix:ce.invTransform,u_camera_to_center_distance:(De=C.transform).cameraToCenterDistance,u_viewport_size:[De.width,De.height]};te.draw(L,T.TRIANGLES,o2.disabled,L2.disabled,C.colorModeForRenderPass(),O2.disabled,_e,C.style.map.terrain&&C.style.map.terrain.getTerrainData(ce.coord),f.id,ye,Q,_.SegmentVector.simpleSegment(0,2*ce.circleOffset,ce.circleArray.length,ce.circleArray.length/2),null,C.transform.zoom,null,null,null)}var De;ye.destroy(),Q.destroy()}O2.disabled=new O2(!1,1029,2305),O2.backCCW=new O2(!0,1029,2305);const Co=_.identity(new Float32Array(16));function p0(C,s,f,m,v,b){const{horizontalAlign:H,verticalAlign:L}=_.getAnchorAlignment(C);return new _.Point((-(H-.5)*s/v+m[0])*b,(-(L-.5)*f/v+m[1])*b)}function hs(C,s,f,m,v,b,H,L,T,A,k){const O=C.text.placedSymbolArray,Z=C.text.dynamicLayoutVertexArray,te=C.icon.dynamicLayoutVertexArray,ee={};Z.clear();for(let ae=0;ae<O.length;ae++){const Q=O.get(ae),ye=Q.hidden||!Q.crossTileID||C.allowVerticalPlacement&&!Q.placedOrientation?null:m[Q.crossTileID];if(ye){const De=new _.Point(Q.anchorX,Q.anchorY),ce=O1(De,f?H:b,k),_e=li(v.cameraToCenterDistance,ce.signedDistanceFromCamera);let Ie=_.evaluateSizeForFeature(C.textSizeData,T,Q)*_e/_.ONE_EM;f&&(Ie*=C.tilePixelRatio/L);const{width:ke,height:je,anchor:Ze,textOffset:Be,textBoxScale:Je}=ye,h1=p0(Ze,ke,je,Be,Je,Ie),e2=f?O1(De.add(h1),b,k).point:ce.point.add(s?h1.rotate(-v.angle):h1),a1=C.allowVerticalPlacement&&Q.placedOrientation===_.WritingMode.vertical?Math.PI/2:0;for(let H1=0;H1<Q.numGlyphs;H1++)_.addDynamicAttributes(Z,e2,a1);A&&Q.associatedIconIndex>=0&&(ee[Q.associatedIconIndex]={shiftedAnchor:e2,angle:a1})}else K(Q.numGlyphs,Z)}if(A){te.clear();const ae=C.icon.placedSymbolArray;for(let Q=0;Q<ae.length;Q++){const ye=ae.get(Q);if(ye.hidden)K(ye.numGlyphs,te);else{const De=ee[Q];if(De)for(let ce=0;ce<ye.numGlyphs;ce++)_.addDynamicAttributes(te,De.shiftedAnchor,De.angle);else K(ye.numGlyphs,te)}}C.icon.dynamicLayoutVertexBuffer.updateData(te)}C.text.dynamicLayoutVertexBuffer.updateData(Z)}function E4(C,s,f){return f.iconsInText&&s?"symbolTextAndIcon":C?"symbolSDF":"symbolIcon"}function xo(C,s,f,m,v,b,H,L,T,A,k,O){const Z=C.context,te=Z.gl,ee=C.transform,ae="map"===L,Q="map"===T,ye="viewport"!==L&&"point"!==f.layout.get("symbol-placement"),De=ae&&!Q&&!ye,ce=!f.layout.get("symbol-sort-key").isConstant();let _e=!1;const Ie=C.depthModeForSublayer(0,o2.ReadOnly),ke=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),je=[];for(const Ze of m){const Be=s.getTile(Ze),Je=Be.getBucket(f);if(!Je)continue;const h1=v?Je.text:Je.icon;if(!h1||!h1.segments.get().length||!h1.hasVisibleVertices)continue;const e2=h1.programConfigurations.get(f.id),a1=v||Je.sdfIcons,H1=v?Je.textSizeData:Je.iconSizeData,y1=Q||0!==ee.pitch,q2=C.useProgram(E4(a1,v,Je),e2),r2=_.evaluateSizeForZoom(H1,ee.zoom),z1=C.style.map.terrain&&C.style.map.terrain.getTerrainData(Ze);let t2,Q2,z2,r3,kt=[0,0],Z2=null;if(v)Q2=Be.glyphAtlasTexture,z2=te.LINEAR,t2=Be.glyphAtlasTexture.size,Je.iconsInText&&(kt=Be.imageAtlasTexture.size,Z2=Be.imageAtlasTexture,r3=y1||C.options.rotating||C.options.zooming||"composite"===H1.kind||"camera"===H1.kind?te.LINEAR:te.NEAREST);else{const Vt=1!==f.layout.get("icon-size").constantOr(0)||Je.iconsNeedLinear;Q2=Be.imageAtlasTexture,z2=a1||C.options.rotating||C.options.zooming||Vt||y1?te.LINEAR:te.NEAREST,t2=Be.imageAtlasTexture.size}const qt=me(Be,1,C.transform.zoom),G3=hn(Ze.posMatrix,Q,ae,C.transform,qt),vi=Vi(Ze.posMatrix,Q,ae,C.transform,qt),P3=ke&&Je.hasTextData(),pr="none"!==f.layout.get("icon-text-fit")&&P3&&Je.hasIconData();if(ye){const Vt=C.style.map.terrain?(Bn,at)=>C.style.map.terrain.getElevation(Ze,Bn,at):null,Gt="map"===f.layout.get("text-rotation-alignment");rr(Je,Ze.posMatrix,C,v,G3,vi,Q,A,Gt,Vt)}const W3=C.translatePosMatrix(Ze.posMatrix,Be,b,H),Oi=ye||v&&ke||pr?Co:G3,Nt=C.translatePosMatrix(vi,Be,b,H,!0),Ot=a1&&0!==f.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1);let Qt;Qt=a1?Je.iconsInText?mn(H1.kind,r2,De,Q,C,W3,Oi,Nt,t2,kt):kr(H1.kind,r2,De,Q,C,W3,Oi,Nt,v,t2,!0):sa(H1.kind,r2,De,Q,C,W3,Oi,Nt,v,t2);const B4={program:q2,buffers:h1,uniformValues:Qt,atlasTexture:Q2,atlasTextureIcon:Z2,atlasInterpolation:z2,atlasInterpolationIcon:r3,isSDF:a1,hasHalo:Ot};if(ce&&Je.canOverlap){_e=!0;const Vt=h1.segments.get();for(const Gt of Vt)je.push({segments:new _.SegmentVector([Gt]),sortKey:Gt.sortKey,state:B4,terrainData:z1})}else je.push({segments:h1.segments,sortKey:0,state:B4,terrainData:z1})}_e&&je.sort((Ze,Be)=>Ze.sortKey-Be.sortKey);for(const Ze of je){const Be=Ze.state;if(Z.activeTexture.set(te.TEXTURE0),Be.atlasTexture.bind(Be.atlasInterpolation,te.CLAMP_TO_EDGE),Be.atlasTextureIcon&&(Z.activeTexture.set(te.TEXTURE1),Be.atlasTextureIcon&&Be.atlasTextureIcon.bind(Be.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),Be.isSDF){const Je=Be.uniformValues;Be.hasHalo&&(Je.u_is_halo=1,V3(Be.buffers,Ze.segments,f,C,Be.program,Ie,k,O,Je,Ze.terrainData)),Je.u_is_halo=0}V3(Be.buffers,Ze.segments,f,C,Be.program,Ie,k,O,Be.uniformValues,Ze.terrainData)}}function V3(C,s,f,m,v,b,H,L,T,A){const k=m.context;v.draw(k,k.gl.TRIANGLES,b,H,L,O2.disabled,T,A,f.id,C.layoutVertexBuffer,C.indexBuffer,s,f.paint,m.transform.zoom,C.programConfigurations.get(f.id),C.dynamicLayoutVertexBuffer,C.opacityVertexBuffer)}function ds(C,s,f,m,v){if(!f||!m||!m.imageAtlas)return;const b=m.imageAtlas.patternPositions;let H=b[f.to.toString()],L=b[f.from.toString()];if(!H||!L){const T=v.getPaintProperty(s);H=b[T],L=b[T]}H&&L&&C.setConstantPatternPositions(H,L)}function w1(C,s,f,m,v,b,H){const L=C.context.gl,T="fill-pattern",A=f.paint.get(T),k=A&&A.constantOr(1),O=f.getCrossfadeParameters();let Z,te,ee,ae,Q;H?(te=k&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Z=L.LINES):(te=k?"fillPattern":"fill",Z=L.TRIANGLES);const ye=A.constantOr(null);for(const De of m){const ce=s.getTile(De);if(k&&!ce.patternsLoaded())continue;const _e=ce.getBucket(f);if(!_e)continue;const Ie=_e.programConfigurations.get(f.id),ke=C.useProgram(te,Ie),je=C.style.map.terrain&&C.style.map.terrain.getTerrainData(De);k&&(C.context.activeTexture.set(L.TEXTURE0),ce.imageAtlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE),Ie.updatePaintBuffers(O)),ds(Ie,T,ye,ce,f);const Ze=je?De:null,Be=C.translatePosMatrix(Ze?Ze.posMatrix:De.posMatrix,ce,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(H){ae=_e.indexBuffer2,Q=_e.segments2;const Je=[L.drawingBufferWidth,L.drawingBufferHeight];ee="fillOutlinePattern"===te&&k?At(Be,C,O,ce,Je):Ja(Be,Je)}else ae=_e.indexBuffer,Q=_e.segments,ee=k?M2(Be,C,O,ce):C6(Be);ke.draw(C.context,Z,v,C.stencilModeForClipping(De),b,O2.disabled,ee,je,f.id,_e.layoutVertexBuffer,ae,Q,f.paint,C.transform.zoom,Ie)}}function fa(C,s,f,m,v,b,H){const L=C.context,T=L.gl,A="fill-extrusion-pattern",k=f.paint.get(A),O=k.constantOr(1),Z=f.getCrossfadeParameters(),te=f.paint.get("fill-extrusion-opacity"),ee=k.constantOr(null);for(const ae of m){const Q=s.getTile(ae),ye=Q.getBucket(f);if(!ye)continue;const De=C.style.map.terrain&&C.style.map.terrain.getTerrainData(ae),ce=ye.programConfigurations.get(f.id),_e=C.useProgram(O?"fillExtrusionPattern":"fillExtrusion",ce);O&&(C.context.activeTexture.set(T.TEXTURE0),Q.imageAtlasTexture.bind(T.LINEAR,T.CLAMP_TO_EDGE),ce.updatePaintBuffers(Z)),ds(ce,A,ee,Q,f);const Ie=C.translatePosMatrix(ae.posMatrix,Q,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),ke=f.paint.get("fill-extrusion-vertical-gradient"),je=O?l0(Ie,C,ke,te,ae,Z,Q):e3(Ie,C,ke,te);_e.draw(L,L.gl.TRIANGLES,v,b,H,O2.backCCW,je,De,f.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,f.paint,C.transform.zoom,ce,C.style.map.terrain&&ye.centroidVertexBuffer)}}function x1(C,s,f,m,v,b,H){const L=C.context,T=L.gl,A=f.fbo;if(!A)return;const k=C.useProgram("hillshade"),O=C.style.map.terrain&&C.style.map.terrain.getTerrainData(s);L.activeTexture.set(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,A.colorAttachment.get()),k.draw(L,T.TRIANGLES,v,b,H,O2.disabled,((Z,te,ee,ae)=>{const Q=ee.paint.get("hillshade-shadow-color"),ye=ee.paint.get("hillshade-highlight-color"),De=ee.paint.get("hillshade-accent-color");let ce=ee.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===ee.paint.get("hillshade-illumination-anchor")&&(ce-=Z.transform.angle);const _e=!Z.options.moving;return{u_matrix:ae?ae.posMatrix:Z.transform.calculatePosMatrix(te.tileID.toUnwrapped(),_e),u_image:0,u_latrange:ns(0,te.tileID),u_light:[ee.paint.get("hillshade-exaggeration"),ce],u_shadow:Q,u_highlight:ye,u_accent:De}})(C,f,m,O?s:null),O,m.id,C.rasterBoundsBuffer,C.quadTriangleIndexBuffer,C.rasterBoundsSegments)}function T4(C,s,f,m,v,b){const H=C.context,L=H.gl,T=s.dem;if(T&&T.data){const A=T.dim,k=T.stride,O=T.getPixels();if(H.activeTexture.set(L.TEXTURE1),H.pixelStoreUnpackPremultiplyAlpha.set(!1),s.demTexture=s.demTexture||C.getTileTexture(k),s.demTexture){const te=s.demTexture;te.update(O,{premultiply:!1}),te.bind(L.NEAREST,L.CLAMP_TO_EDGE)}else s.demTexture=new E2(H,O,L.RGBA,{premultiply:!1}),s.demTexture.bind(L.NEAREST,L.CLAMP_TO_EDGE);H.activeTexture.set(L.TEXTURE0);let Z=s.fbo;if(!Z){const te=new E2(H,{width:A,height:A,data:null},L.RGBA);te.bind(L.LINEAR,L.CLAMP_TO_EDGE),Z=s.fbo=H.createFramebuffer(A,A,!0,!1),Z.colorAttachment.set(te.texture)}H.bindFramebuffer.set(Z.framebuffer),H.viewport.set([0,0,A,A]),C.useProgram("hillshadePrepare").draw(H,L.TRIANGLES,m,v,b,O2.disabled,((te,ee)=>{const ae=ee.stride,Q=_.create();return _.ortho(Q,0,_.EXTENT,-_.EXTENT,0,0,1),_.translate(Q,Q,[0,-_.EXTENT,0]),{u_matrix:Q,u_image:1,u_dimension:[ae,ae],u_zoom:te.overscaledZ,u_unpack:ee.getUnpackVector()}})(s.tileID,T),null,f.id,C.rasterBoundsBuffer,C.quadTriangleIndexBuffer,C.rasterBoundsSegments),s.needsHillshadePrepare=!1}}function bo(C,s,f,m,v,b){const H=m.paint.get("raster-fade-duration");if(!b&&H>0){const L=_.browser.now(),T=(L-C.timeAdded)/H,A=s?(L-s.timeAdded)/H:-1,k=f.getSource(),O=v.coveringZoomLevel({tileSize:k.tileSize,roundZoom:k.roundZoom}),Z=!s||Math.abs(s.tileID.overscaledZ-O)>Math.abs(C.tileID.overscaledZ-O),te=Z&&C.refreshedUponExpiration?1:_.clamp(Z?T:1-A,0,1);return C.refreshedUponExpiration&&T>=1&&(C.refreshedUponExpiration=!1),s?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}const P4=new _.Color(1,0,0,1),St=new _.Color(0,1,0,1),Or=new _.Color(0,0,1,1),E3=new _.Color(1,0,1,1),F3=new _.Color(0,1,1,1);function Rr(C,s,f,m){Yt(C,0,s+f/2,C.transform.width,f,m)}function t3(C,s,f,m){Yt(C,s-f/2,0,f,C.transform.height,m)}function Yt(C,s,f,m,v,b){const H=C.context,L=H.gl;L.enable(L.SCISSOR_TEST),L.scissor(s*C.pixelRatio,f*C.pixelRatio,m*C.pixelRatio,v*C.pixelRatio),H.clear({color:b}),L.disable(L.SCISSOR_TEST)}function h2(C,s,f){const m=C.context,v=m.gl,b=f.posMatrix,H=C.useProgram("debug"),L=o2.disabled,T=L2.disabled,A=C.colorModeForRenderPass(),k="$debug",O=C.style.map.terrain&&C.style.map.terrain.getTerrainData(f);m.activeTexture.set(v.TEXTURE0);const Z=s.getTileByID(f.key).latestRawTileData,te=Math.floor((Z&&Z.byteLength||0)/1024),ee=s.getTile(f).tileSize,ae=512/Math.min(ee,512)*(f.overscaledZ/C.transform.zoom)*.5;let Q=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(Q+=` => ${f.overscaledZ}`),function(ye,De){ye.initDebugOverlayCanvas();const ce=ye.debugOverlayCanvas,_e=ye.context.gl,Ie=ye.debugOverlayCanvas.getContext("2d");Ie.clearRect(0,0,ce.width,ce.height),Ie.shadowColor="white",Ie.shadowBlur=2,Ie.lineWidth=1.5,Ie.strokeStyle="white",Ie.textBaseline="top",Ie.font="bold 36px Open Sans, sans-serif",Ie.fillText(De,5,5),Ie.strokeText(De,5,5),ye.debugOverlayTexture.update(ce),ye.debugOverlayTexture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE)}(C,`${Q} ${te}kB`),H.draw(m,v.TRIANGLES,L,T,vt.alphaBlended,O2.disabled,es(b,_.Color.transparent,ae),null,k,C.debugBuffer,C.quadTriangleIndexBuffer,C.debugSegments),H.draw(m,v.LINE_STRIP,L,T,A,O2.disabled,es(b,_.Color.red),O,k,C.debugBuffer,C.tileBorderIndexBuffer,C.debugSegments)}function Fr(C,s,f){const m=C.context,v=m.gl,b=C.colorModeForRenderPass(),H=new o2(v.LEQUAL,o2.ReadWrite,C.depthRangeFor3D),L=C.useProgram("terrain"),T=s.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,C.width,C.height]);for(const A of f){const k=C.renderToTexture.getTexture(A),O=s.getTerrainData(A.tileID);m.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,k.texture);const Z={u_matrix:C.transform.calculatePosMatrix(A.tileID.toUnwrapped()),u_texture:0,u_ele_delta:s.getMeshFrameDelta(C.transform.zoom)};L.draw(m,v.TRIANGLES,H,L2.disabled,b,O2.backCCW,Z,O,"terrain",T.vertexBuffer,T.indexBuffer,T.segments)}}class ps{constructor(s,f){this.context=new _o(s),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:_.create(),renderTime:0},this.setup(),this.numSublayers=ft.maxUnderzooming+ft.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new gt}resize(s,f,m){if(this.width=Math.floor(s*m),this.height=Math.floor(f*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const s=this.context,f=new _.PosArray;f.emplaceBack(0,0),f.emplaceBack(_.EXTENT,0),f.emplaceBack(0,_.EXTENT),f.emplaceBack(_.EXTENT,_.EXTENT),this.tileExtentBuffer=s.createVertexBuffer(f,Qa.members),this.tileExtentSegments=_.SegmentVector.simpleSegment(0,0,4,2);const m=new _.PosArray;m.emplaceBack(0,0),m.emplaceBack(_.EXTENT,0),m.emplaceBack(0,_.EXTENT),m.emplaceBack(_.EXTENT,_.EXTENT),this.debugBuffer=s.createVertexBuffer(m,Qa.members),this.debugSegments=_.SegmentVector.simpleSegment(0,0,4,5);const v=new _.RasterBoundsArray;v.emplaceBack(0,0,0,0),v.emplaceBack(_.EXTENT,0,_.EXTENT,0),v.emplaceBack(0,_.EXTENT,0,_.EXTENT),v.emplaceBack(_.EXTENT,_.EXTENT,_.EXTENT,_.EXTENT),this.rasterBoundsBuffer=s.createVertexBuffer(v,S3.members),this.rasterBoundsSegments=_.SegmentVector.simpleSegment(0,0,4,2);const b=new _.PosArray;b.emplaceBack(0,0),b.emplaceBack(1,0),b.emplaceBack(0,1),b.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(b,Qa.members),this.viewportSegments=_.SegmentVector.simpleSegment(0,0,4,2);const H=new _.LineStripIndexArray;H.emplaceBack(0),H.emplaceBack(1),H.emplaceBack(3),H.emplaceBack(2),H.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(H);const L=new _.TriangleIndexArray;L.emplaceBack(0,1,2),L.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(L);const T=this.context.gl;this.stencilClearMode=new L2({func:T.ALWAYS,mask:0},0,255,T.ZERO,T.ZERO,T.ZERO)}clearStencil(){const s=this.context,f=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=_.create();_.ortho(m,0,this.width,this.height,0,0,1),_.scale(m,m,[f.drawingBufferWidth,f.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(s,f.TRIANGLES,o2.disabled,this.stencilClearMode,vt.disabled,O2.disabled,q1(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(s,f){if(this.currentStencilSource===s.source||!s.isTileClipped()||!f||!f.length)return;this.currentStencilSource=s.source;const m=this.context,v=m.gl;this.nextStencilID+f.length>256&&this.clearStencil(),m.setColorMode(vt.disabled),m.setDepthMode(o2.disabled);const b=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const H of f){const L=this._tileClippingMaskIDs[H.key]=this.nextStencilID++,T=this.style.map.terrain&&this.style.map.terrain.getTerrainData(H);b.draw(m,v.TRIANGLES,o2.disabled,new L2({func:v.ALWAYS,mask:0},L,255,v.KEEP,v.KEEP,v.REPLACE),vt.disabled,O2.disabled,q1(H.posMatrix),T,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const s=this.nextStencilID++,f=this.context.gl;return new L2({func:f.NOTEQUAL,mask:255},s,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(s){const f=this.context.gl;return new L2({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(s){const f=this.context.gl,m=s.sort((H,L)=>L.overscaledZ-H.overscaledZ),v=m[m.length-1].overscaledZ,b=m[0].overscaledZ-v+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();const H={};for(let L=0;L<b;L++)H[L+v]=new L2({func:f.GEQUAL,mask:255},L+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=b,[H,m]}return[{[v]:L2.disabled},m]}colorModeForRenderPass(){const s=this.context.gl;return this._showOverdrawInspector?new vt([s.CONSTANT_COLOR,s.ONE],new _.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?vt.unblended:vt.alphaBlended}depthModeForSublayer(s,f,m){if(!this.opaquePassEnabledForLayer())return o2.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new o2(m||this.context.gl.LEQUAL,f,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,f){this.style=s,this.options=f,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(_.browser.now()),this.imageManager.beginFrame();const m=this.style._order,v=this.style.sourceCaches,b={},H={},L={};for(const T in v){const A=v[T];A.used&&A.prepare(this.context),b[T]=A.getVisibleCoordinates(),H[T]=b[T].slice().reverse(),L[T]=A.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let T=0;T<m.length;T++)if(this.style._layers[m[T]].is3D()){this.opaquePassCutoff=T;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const T=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!_.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||T.length)&&(_.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(A,k){const O=A.context,Z=O.gl,te=vt.unblended,ee=new o2(Z.LEQUAL,o2.ReadWrite,[0,1]),ae=k.getTerrainMesh(),Q=k.sourceCache.getRenderableTiles(),ye=A.useProgram("terrainDepth");O.bindFramebuffer.set(k.getFramebuffer("depth").framebuffer),O.viewport.set([0,0,A.width/devicePixelRatio,A.height/devicePixelRatio]),O.clear({color:_.Color.transparent,depth:1});for(const De of Q){const ce=k.getTerrainData(De.tileID),_e={u_matrix:A.transform.calculatePosMatrix(De.tileID.toUnwrapped()),u_ele_delta:k.getMeshFrameDelta(A.transform.zoom)};ye.draw(O,Z.TRIANGLES,ee,L2.disabled,te,O2.backCCW,_e,ce,"terrain",ae.vertexBuffer,ae.indexBuffer,ae.segments)}O.bindFramebuffer.set(null),O.viewport.set([0,0,A.width,A.height])}(this,this.style.map.terrain),function(A,k){const O=A.context,Z=O.gl,te=vt.unblended,ee=new o2(Z.LEQUAL,o2.ReadWrite,[0,1]),ae=k.getTerrainMesh(),Q=k.getCoordsTexture(),ye=k.sourceCache.getRenderableTiles(),De=A.useProgram("terrainCoords");O.bindFramebuffer.set(k.getFramebuffer("coords").framebuffer),O.viewport.set([0,0,A.width/devicePixelRatio,A.height/devicePixelRatio]),O.clear({color:_.Color.transparent,depth:1}),k.coordsIndex=[];for(const ce of ye){const _e=k.getTerrainData(ce.tileID);O.activeTexture.set(Z.TEXTURE0),Z.bindTexture(Z.TEXTURE_2D,Q.texture);const Ie={u_matrix:A.transform.calculatePosMatrix(ce.tileID.toUnwrapped()),u_terrain_coords_id:(255-k.coordsIndex.length)/255,u_texture:0,u_ele_delta:k.getMeshFrameDelta(A.transform.zoom)};De.draw(O,Z.TRIANGLES,ee,L2.disabled,te,O2.backCCW,Ie,_e,"terrain",ae.vertexBuffer,ae.indexBuffer,ae.segments),k.coordsIndex.push(ce.tileID.key)}O.bindFramebuffer.set(null),O.viewport.set([0,0,A.width,A.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const T of m){const A=this.style._layers[T];if(!A.hasOffscreenPass()||A.isHidden(this.transform.zoom))continue;const k=H[A.source];("custom"===A.type||k.length)&&this.renderLayer(this,v[A.source],A,k)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?_.Color.black:_.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const T=this.style._layers[m[this.currentLayer]],A=v[T.source],k=b[T.source];this._renderTileClippingMasks(T,k),this.renderLayer(this,A,T,k)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const T=this.style._layers[m[this.currentLayer]],A=v[T.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(T))continue;const k=("symbol"===T.type?L:H)[T.source];this._renderTileClippingMasks(T,b[T.source]),this.renderLayer(this,A,T,k)}if(this.options.showTileBoundaries){const T=function(A,k){let O=null;const Z=Object.values(A._layers).flatMap(Q=>Q.source&&!Q.isHidden(k)?[A.sourceCaches[Q.source]]:[]),te=Z.filter(Q=>"vector"===Q.getSource().type),ee=Z.filter(Q=>"vector"!==Q.getSource().type),ae=Q=>{(!O||O.getSource().maxzoom<Q.getSource().maxzoom)&&(O=Q)};return te.forEach(Q=>ae(Q)),O||ee.forEach(Q=>ae(Q)),O}(this.style,this.transform.zoom);T&&function(A,k,O){for(let Z=0;Z<O.length;Z++)h2(A,k,O[Z])}(this,T,T.getVisibleCoordinates())}this.options.showPadding&&function(T){const A=T.transform.padding;Rr(T,T.transform.height-(A.top||0),3,P4),Rr(T,A.bottom||0,3,St),t3(T,A.left||0,3,Or),t3(T,T.transform.width-(A.right||0),3,E3);const k=T.transform.centerPoint;var O,Z,te,ee;Yt(O=T,(Z=k.x)-1,(te=T.transform.height-k.y)-10,2,20,ee=F3),Yt(O,Z-10,te-1,20,2,ee)}(this),this.context.setDefault()}renderLayer(s,f,m,v){if(!m.isHidden(this.transform.zoom)&&("background"===m.type||"custom"===m.type||(v||[]).length))switch(this.id=m.id,m.type){case"symbol":!function(b,H,L,T,A){if("translucent"!==b.renderPass)return;const k=L2.disabled,O=b.colorModeForRenderPass();(L._unevaluatedLayout.hasValue("text-variable-anchor")||L._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Z,te,ee,ae,Q,ye,De){const ce=te.transform,_e="map"===Q,Ie="map"===ye;for(const ke of Z){const je=ae.getTile(ke),Ze=je.getBucket(ee);if(!Ze||!Ze.text||!Ze.text.segments.get().length)continue;const Be=_.evaluateSizeForZoom(Ze.textSizeData,ce.zoom),Je=me(je,1,te.transform.zoom),h1=hn(ke.posMatrix,Ie,_e,te.transform,Je),e2="none"!==ee.layout.get("icon-text-fit")&&Ze.hasIconData();if(Be){const a1=Math.pow(2,ce.zoom-je.tileID.overscaledZ);hs(Ze,_e,Ie,De,ce,h1,ke.posMatrix,a1,Be,e2,te.style.map.terrain?(H1,y1)=>te.style.map.terrain.getElevation(ke,H1,y1):null)}}}(T,b,L,H,L.layout.get("text-rotation-alignment"),L.layout.get("text-pitch-alignment"),A),0!==L.paint.get("icon-opacity").constantOr(1)&&xo(b,H,L,T,!1,L.paint.get("icon-translate"),L.paint.get("icon-translate-anchor"),L.layout.get("icon-rotation-alignment"),L.layout.get("icon-pitch-alignment"),L.layout.get("icon-keep-upright"),k,O),0!==L.paint.get("text-opacity").constantOr(1)&&xo(b,H,L,T,!0,L.paint.get("text-translate"),L.paint.get("text-translate-anchor"),L.layout.get("text-rotation-alignment"),L.layout.get("text-pitch-alignment"),L.layout.get("text-keep-upright"),k,O),H.map.showCollisionBoxes&&(ua(b,H,L,T,L.paint.get("text-translate"),L.paint.get("text-translate-anchor"),!0),ua(b,H,L,T,L.paint.get("icon-translate"),L.paint.get("icon-translate-anchor"),!1))}(s,f,m,v,this.style.placement.variableOffsets);break;case"circle":!function(b,H,L,T){if("translucent"!==b.renderPass)return;const A=L.paint.get("circle-opacity"),k=L.paint.get("circle-stroke-width"),O=L.paint.get("circle-stroke-opacity"),Z=!L.layout.get("circle-sort-key").isConstant();if(0===A.constantOr(1)&&(0===k.constantOr(1)||0===O.constantOr(1)))return;const te=b.context,ee=te.gl,ae=b.depthModeForSublayer(0,o2.ReadOnly),Q=L2.disabled,ye=b.colorModeForRenderPass(),De=[];for(let ce=0;ce<T.length;ce++){const _e=T[ce],Ie=H.getTile(_e),ke=Ie.getBucket(L);if(!ke)continue;const je=ke.programConfigurations.get(L.id),Ze=b.useProgram("circle",je),Be=ke.layoutVertexBuffer,Je=ke.indexBuffer,h1=b.style.map.terrain&&b.style.map.terrain.getTerrainData(_e),e2={programConfiguration:je,program:Ze,layoutVertexBuffer:Be,indexBuffer:Je,uniformValues:oo(b,_e,Ie,L),terrainData:h1};if(Z){const a1=ke.segments.get();for(const H1 of a1)De.push({segments:new _.SegmentVector([H1]),sortKey:H1.sortKey,state:e2})}else De.push({segments:ke.segments,sortKey:0,state:e2})}Z&&De.sort((ce,_e)=>ce.sortKey-_e.sortKey);for(const ce of De){const{programConfiguration:_e,program:Ie,layoutVertexBuffer:ke,indexBuffer:je,uniformValues:Ze,terrainData:Be}=ce.state;Ie.draw(te,ee.TRIANGLES,ae,Q,ye,O2.disabled,Ze,Be,L.id,ke,je,ce.segments,L.paint,b.transform.zoom,_e)}}(s,f,m,v);break;case"heatmap":!function(b,H,L,T){if(0!==L.paint.get("heatmap-opacity"))if("offscreen"===b.renderPass){const A=b.context,k=A.gl,O=L2.disabled,Z=new vt([k.ONE,k.ONE],_.Color.transparent,[!0,!0,!0,!0]);(function(te,ee,ae){const Q=te.gl;te.activeTexture.set(Q.TEXTURE1),te.viewport.set([0,0,ee.width/4,ee.height/4]);let ye=ae.heatmapFbo;if(ye)Q.bindTexture(Q.TEXTURE_2D,ye.colorAttachment.get()),te.bindFramebuffer.set(ye.framebuffer);else{const De=Q.createTexture();Q.bindTexture(Q.TEXTURE_2D,De),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.LINEAR),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.LINEAR),ye=ae.heatmapFbo=te.createFramebuffer(ee.width/4,ee.height/4,!1,!1),function(ce,_e,Ie,ke){var je,Ze;const Be=ce.gl,Je=null!==(je=ce.HALF_FLOAT)&&void 0!==je?je:Be.UNSIGNED_BYTE,h1=null!==(Ze=ce.RGBA16F)&&void 0!==Ze?Ze:Be.RGBA;Be.texImage2D(Be.TEXTURE_2D,0,h1,_e.width/4,_e.height/4,0,Be.RGBA,Je,null),ke.colorAttachment.set(Ie)}(te,ee,De,ye)}})(A,b,L),A.clear({color:_.Color.transparent});for(let te=0;te<T.length;te++){const ee=T[te];if(H.hasRenderableParent(ee))continue;const ae=H.getTile(ee),Q=ae.getBucket(L);if(!Q)continue;const ye=Q.programConfigurations.get(L.id),De=b.useProgram("heatmap",ye),{zoom:ce}=b.transform;De.draw(A,k.TRIANGLES,o2.disabled,O,Z,O2.disabled,ts(ee.posMatrix,ae,ce,L.paint.get("heatmap-intensity")),null,L.id,Q.layoutVertexBuffer,Q.indexBuffer,Q.segments,L.paint,b.transform.zoom,ye)}A.viewport.set([0,0,b.width,b.height])}else"translucent"===b.renderPass&&(b.context.setColorMode(b.colorModeForRenderPass()),function(A,k){const O=A.context,Z=O.gl,te=k.heatmapFbo;if(!te)return;O.activeTexture.set(Z.TEXTURE0),Z.bindTexture(Z.TEXTURE_2D,te.colorAttachment.get()),O.activeTexture.set(Z.TEXTURE1);let ee=k.colorRampTexture;ee||(ee=k.colorRampTexture=new E2(O,k.colorRamp,Z.RGBA)),ee.bind(Z.LINEAR,Z.CLAMP_TO_EDGE),A.useProgram("heatmapTexture").draw(O,Z.TRIANGLES,o2.disabled,L2.disabled,A.colorModeForRenderPass(),O2.disabled,((ae,Q,ye,De)=>{const ce=_.create();_.ortho(ce,0,ae.width,ae.height,0,0,1);const _e=ae.context.gl;return{u_matrix:ce,u_world:[_e.drawingBufferWidth,_e.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Q.paint.get("heatmap-opacity")}})(A,k),null,k.id,A.viewportBuffer,A.quadTriangleIndexBuffer,A.viewportSegments,k.paint,A.transform.zoom)}(b,L))}(s,f,m,v);break;case"line":!function(b,H,L,T){if("translucent"!==b.renderPass)return;const A=L.paint.get("line-opacity"),k=L.paint.get("line-width");if(0===A.constantOr(1)||0===k.constantOr(1))return;const O=b.depthModeForSublayer(0,o2.ReadOnly),Z=b.colorModeForRenderPass(),te=L.paint.get("line-dasharray"),ee=L.paint.get("line-pattern"),ae=ee.constantOr(1),Q=L.paint.get("line-gradient"),ye=L.getCrossfadeParameters(),De=ae?"linePattern":te?"lineSDF":Q?"lineGradient":"line",ce=b.context,_e=ce.gl;let Ie=!0;for(const ke of T){const je=H.getTile(ke);if(ae&&!je.patternsLoaded())continue;const Ze=je.getBucket(L);if(!Ze)continue;const Be=Ze.programConfigurations.get(L.id),Je=b.context.program.get(),h1=b.useProgram(De,Be),e2=Ie||h1.program!==Je,a1=b.style.map.terrain&&b.style.map.terrain.getTerrainData(ke),H1=ee.constantOr(null);if(H1&&je.imageAtlas){const r2=je.imageAtlas,z1=r2.patternPositions[H1.to.toString()],t2=r2.patternPositions[H1.from.toString()];z1&&t2&&Be.setConstantPatternPositions(z1,t2)}const y1=a1?ke:null,q2=ae?$e(b,je,L,ye,y1):te?Ir(b,je,L,te,ye,y1):Q?lo(b,je,L,Ze.lineClipsArray.length,y1):co(b,je,L,y1);if(ae)ce.activeTexture.set(_e.TEXTURE0),je.imageAtlasTexture.bind(_e.LINEAR,_e.CLAMP_TO_EDGE),Be.updatePaintBuffers(ye);else if(te&&(e2||b.lineAtlas.dirty))ce.activeTexture.set(_e.TEXTURE0),b.lineAtlas.bind(ce);else if(Q){const r2=Ze.gradients[L.id];let z1=r2.texture;if(L.gradientVersion!==r2.version){let t2=256;if(L.stepInterpolant){const Q2=H.getSource().maxzoom,z2=ke.canonical.z===Q2?Math.ceil(1<<b.transform.maxZoom-ke.canonical.z):1;t2=_.clamp(_.nextPowerOfTwo(Ze.maxLineLength/_.EXTENT*1024*z2),256,ce.maxTextureSize)}r2.gradient=_.renderColorRamp({expression:L.gradientExpression(),evaluationKey:"lineProgress",resolution:t2,image:r2.gradient||void 0,clips:Ze.lineClipsArray}),r2.texture?r2.texture.update(r2.gradient):r2.texture=new E2(ce,r2.gradient,_e.RGBA),r2.version=L.gradientVersion,z1=r2.texture}ce.activeTexture.set(_e.TEXTURE0),z1.bind(L.stepInterpolant?_e.NEAREST:_e.LINEAR,_e.CLAMP_TO_EDGE)}h1.draw(ce,_e.TRIANGLES,O,b.stencilModeForClipping(ke),Z,O2.disabled,q2,a1,L.id,Ze.layoutVertexBuffer,Ze.indexBuffer,Ze.segments,L.paint,b.transform.zoom,Be,Ze.layoutVertexBuffer2),Ie=!1}}(s,f,m,v);break;case"fill":!function(b,H,L,T){const A=L.paint.get("fill-color"),k=L.paint.get("fill-opacity");if(0===k.constantOr(1))return;const O=b.colorModeForRenderPass(),Z=L.paint.get("fill-pattern"),te=b.opaquePassEnabledForLayer()&&!Z.constantOr(1)&&1===A.constantOr(_.Color.transparent).a&&1===k.constantOr(0)?"opaque":"translucent";if(b.renderPass===te){const ee=b.depthModeForSublayer(1,"opaque"===b.renderPass?o2.ReadWrite:o2.ReadOnly);w1(b,H,L,T,ee,O,!1)}if("translucent"===b.renderPass&&L.paint.get("fill-antialias")){const ee=b.depthModeForSublayer(L.getPaintProperty("fill-outline-color")?2:0,o2.ReadOnly);w1(b,H,L,T,ee,O,!0)}}(s,f,m,v);break;case"fill-extrusion":!function(b,H,L,T){const A=L.paint.get("fill-extrusion-opacity");if(0!==A&&"translucent"===b.renderPass){const k=new o2(b.context.gl.LEQUAL,o2.ReadWrite,b.depthRangeFor3D);if(1!==A||L.paint.get("fill-extrusion-pattern").constantOr(1))fa(b,H,L,T,k,L2.disabled,vt.disabled),fa(b,H,L,T,k,b.stencilModeFor3D(),b.colorModeForRenderPass());else{const O=b.colorModeForRenderPass();fa(b,H,L,T,k,L2.disabled,O)}}}(s,f,m,v);break;case"hillshade":!function(b,H,L,T){if("offscreen"!==b.renderPass&&"translucent"!==b.renderPass)return;const A=b.context,k=b.depthModeForSublayer(0,o2.ReadOnly),O=b.colorModeForRenderPass(),[Z,te]="translucent"===b.renderPass?b.stencilConfigForOverlap(T):[{},T];for(const ee of te){const ae=H.getTile(ee);void 0!==ae.needsHillshadePrepare&&ae.needsHillshadePrepare&&"offscreen"===b.renderPass?T4(b,ae,L,k,L2.disabled,O):"translucent"===b.renderPass&&x1(b,ee,ae,L,k,Z[ee.overscaledZ],O)}A.viewport.set([0,0,b.width,b.height])}(s,f,m,v);break;case"raster":!function(b,H,L,T){if("translucent"!==b.renderPass||0===L.paint.get("raster-opacity")||!T.length)return;const A=b.context,k=A.gl,O=H.getSource(),Z=b.useProgram("raster"),te=b.colorModeForRenderPass(),[ee,ae]=O instanceof d2?[{},T]:b.stencilConfigForOverlap(T),Q=ae[ae.length-1].overscaledZ,ye=!b.options.moving;for(const De of ae){const ce=b.depthModeForSublayer(De.overscaledZ-Q,1===L.paint.get("raster-opacity")?o2.ReadWrite:o2.ReadOnly,k.LESS),_e=H.getTile(De);_e.registerFadeDuration(L.paint.get("raster-fade-duration"));const Ie=H.findLoadedParent(De,0),ke=bo(_e,Ie,H,L,b.transform,b.style.map.terrain);let je,Ze;const Be="nearest"===L.paint.get("raster-resampling")?k.NEAREST:k.LINEAR;A.activeTexture.set(k.TEXTURE0),_e.texture.bind(Be,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),A.activeTexture.set(k.TEXTURE1),Ie?(Ie.texture.bind(Be,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST),je=Math.pow(2,Ie.tileID.overscaledZ-_e.tileID.overscaledZ),Ze=[_e.tileID.canonical.x*je%1,_e.tileID.canonical.y*je%1]):_e.texture.bind(Be,k.CLAMP_TO_EDGE,k.LINEAR_MIPMAP_NEAREST);const Je=b.style.map.terrain&&b.style.map.terrain.getTerrainData(De),h1=Je?De:null,e2=h1?h1.posMatrix:b.transform.calculatePosMatrix(De.toUnwrapped(),ye),a1=is(e2,Ze||[0,0],je||1,ke,L);O instanceof d2?Z.draw(A,k.TRIANGLES,ce,L2.disabled,te,O2.disabled,a1,Je,L.id,O.boundsBuffer,b.quadTriangleIndexBuffer,O.boundsSegments):Z.draw(A,k.TRIANGLES,ce,ee[De.overscaledZ],te,O2.disabled,a1,Je,L.id,b.rasterBoundsBuffer,b.quadTriangleIndexBuffer,b.rasterBoundsSegments)}}(s,f,m,v);break;case"background":!function(b,H,L,T){const A=L.paint.get("background-color"),k=L.paint.get("background-opacity");if(0===k)return;const O=b.context,Z=O.gl,te=b.transform,ee=te.tileSize,ae=L.paint.get("background-pattern");if(b.isPatternMissing(ae))return;const Q=!ae&&1===A.a&&1===k&&b.opaquePassEnabledForLayer()?"opaque":"translucent";if(b.renderPass!==Q)return;const ye=L2.disabled,De=b.depthModeForSublayer(0,"opaque"===Q?o2.ReadWrite:o2.ReadOnly),ce=b.colorModeForRenderPass(),_e=b.useProgram(ae?"backgroundPattern":"background"),Ie=T||te.coveringTiles({tileSize:ee,terrain:b.style.map.terrain});ae&&(O.activeTexture.set(Z.TEXTURE0),b.imageManager.bind(b.context));const ke=L.getCrossfadeParameters();for(const je of Ie){const Ze=T?je.posMatrix:b.transform.calculatePosMatrix(je.toUnwrapped()),Be=ae?as(Ze,k,b,ae,{tileID:je,tileSize:ee},ke):H4(Ze,k,A),Je=b.style.map.terrain&&b.style.map.terrain.getTerrainData(je);_e.draw(O,Z.TRIANGLES,De,ye,ce,O2.disabled,Be,Je,L.id,b.tileExtentBuffer,b.quadTriangleIndexBuffer,b.tileExtentSegments)}}(s,0,m,v);break;case"custom":!function(b,H,L){const T=b.context,A=L.implementation;if("offscreen"===b.renderPass){const k=A.prerender;k&&(b.setCustomLayerDefaults(),T.setColorMode(b.colorModeForRenderPass()),k.call(A,T.gl,b.transform.customLayerMatrix()),T.setDirty(),b.setBaseState())}else if("translucent"===b.renderPass){b.setCustomLayerDefaults(),T.setColorMode(b.colorModeForRenderPass()),T.setStencilMode(L2.disabled);const k="3d"===A.renderingMode?new o2(b.context.gl.LEQUAL,o2.ReadWrite,b.depthRangeFor3D):b.depthModeForSublayer(0,o2.ReadOnly);T.setDepthMode(k),A.render(T.gl,b.transform.customLayerMatrix()),T.setDirty(),b.setBaseState(),T.bindFramebuffer.set(null)}}(s,0,m)}}translatePosMatrix(s,f,m,v,b){if(!m[0]&&!m[1])return s;const H=b?"map"===v?this.transform.angle:0:"viewport"===v?-this.transform.angle:0;if(H){const A=Math.sin(H),k=Math.cos(H);m=[m[0]*k-m[1]*A,m[0]*A+m[1]*k]}const L=[b?m[0]:me(f,m[0],this.transform.zoom),b?m[1]:me(f,m[1],this.transform.zoom),0],T=new Float32Array(16);return _.translate(T,s,L),T}saveTileTexture(s){const f=this._tileTextures[s.size[0]];f?f.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){const f=this._tileTextures[s];return f&&f.length>0?f.pop():null}isPatternMissing(s){if(!s)return!1;if(!s.from||!s.to)return!0;const f=this.imageManager.getPattern(s.from.toString()),m=this.imageManager.getPattern(s.to.toString());return!f||!m}useProgram(s,f){this.cache=this.cache||{};const m=s+(f?f.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new Ei(this.context,zt[s],f,L3[s],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new E2(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:s,drawingBufferHeight:f}=this.context.gl;return this.width!==s||this.height!==f}}class D4{constructor(s,f){this.points=s,this.planes=f}static fromInvProjectionMatrix(s,f,m){const v=Math.pow(2,m),b=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(L=>{const T=1/(L=_.transformMat4([],L,s))[3]/f*v;return _.mul$1(L,L,[T,T,1/L[3],T])}),H=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(L=>{const T=function(Z,te){var ee=te[0],ae=te[1],Q=te[2],ye=ee*ee+ae*ae+Q*Q;return ye>0&&(ye=1/Math.sqrt(ye)),Z[0]=te[0]*ye,Z[1]=te[1]*ye,Z[2]=te[2]*ye,Z}([],(Z=[],te=ia([],b[L[0]],b[L[1]]),ee=ia([],b[L[2]],b[L[1]]),ae=te[0],De=ee[0],Z[0]=(Q=te[1])*(_e=ee[2])-(ye=te[2])*(ce=ee[1]),Z[1]=ye*De-ae*_e,Z[2]=ae*ce-Q*De,Z)),A=-((k=T)[0]*(O=b[L[1]])[0]+k[1]*O[1]+k[2]*O[2]);var Z,te,ee,ae,Q,ye,De,ce,_e,k,O;return T.concat(A)});return new D4(b,H)}}class A4{constructor(s,f){var m,v,b;this.min=s,this.max=f,this.center=function(m,v,b){return m[0]=.5*v[0],m[1]=.5*v[1],m[2]=.5*v[2],m}([],((m=[])[0]=(v=this.min)[0]+(b=this.max)[0],m[1]=v[1]+b[1],m[2]=v[2]+b[2],m))}quadrant(s){const f=[s%2==0,s<2],m=ri(this.min),v=ri(this.max);for(let b=0;b<f.length;b++)m[b]=f[b]?this.min[b]:this.center[b],v[b]=f[b]?this.center[b]:this.max[b];return v[2]=this.max[2],new A4(m,v)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}intersects(s){const f=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let m=!0;for(let v=0;v<s.planes.length;v++){const b=s.planes[v];let H=0;for(let L=0;L<f.length;L++)_.dot(b,f[L])>=0&&H++;if(0===H)return 0;H!==f.length&&(m=!1)}if(m)return 2;for(let v=0;v<3;v++){let b=Number.MAX_VALUE,H=-Number.MAX_VALUE;for(let L=0;L<s.points.length;L++){const T=s.points[L][v]-this.min[v];b=Math.min(b,T),H=Math.max(H,T)}if(H<0||b>this.max[v]-this.min[v])return 0}return 1}}class T3{constructor(s=0,f=0,m=0,v=0){if(isNaN(s)||s<0||isNaN(f)||f<0||isNaN(m)||m<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=f,this.left=m,this.right=v}interpolate(s,f,m){return null!=f.top&&null!=s.top&&(this.top=_.interpolate.number(s.top,f.top,m)),null!=f.bottom&&null!=s.bottom&&(this.bottom=_.interpolate.number(s.bottom,f.bottom,m)),null!=f.left&&null!=s.left&&(this.left=_.interpolate.number(s.left,f.left,m)),null!=f.right&&null!=s.right&&(this.right=_.interpolate.number(s.right,f.right,m)),this}getCenter(s,f){const m=_.clamp((this.left+s-this.right)/2,0,s),v=_.clamp((this.top+f-this.bottom)/2,0,f);return new _.Point(m,v)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new T3(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class lr{constructor(s,f,m,v,b){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===b||!!b,this._minZoom=s||0,this._maxZoom=f||22,this._minPitch=m??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new _.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new T3,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const s=new lr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return s.apply(this),s}apply(s){this.tileSize=s.tileSize,this.latRange=s.latRange,this.width=s.width,this.height=s.height,this._center=s._center,this._elevation=s._elevation,this._minEleveationForCurrentTile=s._minEleveationForCurrentTile,this.zoom=s.zoom,this.angle=s.angle,this._fov=s._fov,this._pitch=s._pitch,this._unmodified=s._unmodified,this._edgeInsets=s._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(s){this._minZoom!==s&&(this._minZoom=s,this.zoom=Math.max(this.zoom,s))}get maxZoom(){return this._maxZoom}set maxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.zoom=Math.min(this.zoom,s))}get minPitch(){return this._minPitch}set minPitch(s){this._minPitch!==s&&(this._minPitch=s,this.pitch=Math.max(this.pitch,s))}get maxPitch(){return this._maxPitch}set maxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.pitch=Math.min(this.pitch,s))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(s){void 0===s?s=!0:null===s&&(s=!1),this._renderWorldCopies=s}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new _.Point(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(s){const f=-_.wrap(s,-180,180)*Math.PI/180;var m;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=(m=new _.ARRAY_TYPE(4),_.ARRAY_TYPE!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m),function(m,v,b){var H=v[0],L=v[1],T=v[2],A=v[3],k=Math.sin(b),O=Math.cos(b);m[0]=H*O+T*k,m[1]=L*O+A*k,m[2]=H*-k+T*O,m[3]=L*-k+A*O}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(s){const f=_.clamp(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(s){s=Math.max(.01,Math.min(60,s)),this._fov!==s&&(this._unmodified=!1,this._fov=s/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(s){const f=Math.min(Math.max(s,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this.tileZoom=Math.max(0,Math.floor(f)),this.scale=this.zoomScale(f),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(s){s!==this._elevation&&(this._elevation=s,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,f,m){this._unmodified=!1,this._edgeInsets.interpolate(s,f,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(s){const f=(s.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/s.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(s){const f=[new _.UnwrappedTileID(0,s)];if(this._renderWorldCopies){const m=this.pointCoordinate(new _.Point(0,0)),v=this.pointCoordinate(new _.Point(this.width,0)),b=this.pointCoordinate(new _.Point(this.width,this.height)),H=this.pointCoordinate(new _.Point(0,this.height)),L=Math.floor(Math.min(m.x,v.x,b.x,H.x)),T=Math.floor(Math.max(m.x,v.x,b.x,H.x)),A=1;for(let k=L-A;k<=T+A;k++)0!==k&&f.push(new _.UnwrappedTileID(k,s))}return f}coveringTiles(s){var f,m;let v=this.coveringZoomLevel(s);const b=v;if(void 0!==s.minzoom&&v<s.minzoom)return[];void 0!==s.maxzoom&&v>s.maxzoom&&(v=s.maxzoom);const H=this.pointCoordinate(this.getCameraPoint()),L=_.MercatorCoordinate.fromLngLat(this.center),T=Math.pow(2,v),A=[T*H.x,T*H.y,0],k=[T*L.x,T*L.y,0],O=D4.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,v);let Z=s.minzoom||0;!s.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Z=v);const te=s.terrain?2/Math.min(this.tileSize,s.tileSize)*this.tileSize:3,ee=ce=>({aabb:new A4([ce*T,0,0],[(ce+1)*T,T,0]),zoom:0,x:0,y:0,wrap:ce,fullyVisible:!1}),ae=[],Q=[],ye=v,De=s.reparseOverscaled?b:v;if(this._renderWorldCopies)for(let ce=1;ce<=3;ce++)ae.push(ee(-ce)),ae.push(ee(ce));for(ae.push(ee(0));ae.length>0;){const ce=ae.pop(),_e=ce.x,Ie=ce.y;let ke=ce.fullyVisible;if(!ke){const h1=ce.aabb.intersects(O);if(0===h1)continue;ke=2===h1}const je=s.terrain?A:k,Ze=ce.aabb.distanceX(je),Be=ce.aabb.distanceY(je),Je=Math.max(Math.abs(Ze),Math.abs(Be));if(ce.zoom===ye||Je>te+(1<<ye-ce.zoom)-2&&ce.zoom>=Z){const h1=ye-ce.zoom,e2=A[0]-.5-(_e<<h1),a1=A[1]-.5-(Ie<<h1);Q.push({tileID:new _.OverscaledTileID(ce.zoom===ye?De:ce.zoom,ce.wrap,ce.zoom,_e,Ie),distanceSq:Jn([k[0]-.5-_e,k[1]-.5-Ie]),tileDistanceToCamera:Math.sqrt(e2*e2+a1*a1)})}else for(let h1=0;h1<4;h1++){const e2=(_e<<1)+h1%2,a1=(Ie<<1)+(h1>>1),H1=ce.zoom+1;let y1=ce.aabb.quadrant(h1);if(s.terrain){const q2=new _.OverscaledTileID(H1,ce.wrap,H1,e2,a1),r2=s.terrain.getMinMaxElevation(q2),z1=null!==(f=r2.minElevation)&&void 0!==f?f:this.elevation,t2=null!==(m=r2.maxElevation)&&void 0!==m?m:this.elevation;y1=new A4([y1.min[0],y1.min[1],z1],[y1.max[0],y1.max[1],t2])}ae.push({aabb:y1,zoom:H1,x:e2,y:a1,wrap:ce.wrap,fullyVisible:ke})}}return Q.sort((ce,_e)=>ce.distanceSq-_e.distanceSq).map(ce=>ce.tileID)}resize(s,f){this.width=s,this.height=f,this.pixelsToGLUnits=[2/s,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(s){return Math.pow(2,s)}scaleZoom(s){return Math.log(s)/Math.LN2}project(s){const f=_.clamp(s.lat,-this.maxValidLatitude,this.maxValidLatitude);return new _.Point(_.mercatorXfromLng(s.lng)*this.worldSize,_.mercatorYfromLat(f)*this.worldSize)}unproject(s){return new _.MercatorCoordinate(s.x/this.worldSize,s.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(s){const f=this.pointLocation(this.centerPoint,s),m=s.getElevationForLngLatZoom(f,this.tileZoom);if(!(this.elevation-m))return;const v=this.getCameraPosition(),b=_.MercatorCoordinate.fromLngLat(v.lngLat,v.altitude),H=_.MercatorCoordinate.fromLngLat(f,m),L=b.x-H.x,T=b.y-H.y,A=b.z-H.z,k=Math.sqrt(L*L+T*T+A*A),O=this.scaleZoom(this.cameraToCenterDistance/k/this.tileSize);this._elevation=m,this._center=f,this.zoom=O}setLocationAtPoint(s,f){const m=this.pointCoordinate(f),v=this.pointCoordinate(this.centerPoint),b=this.locationCoordinate(s),H=new _.MercatorCoordinate(b.x-(m.x-v.x),b.y-(m.y-v.y));this.center=this.coordinateLocation(H),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(s,f){return f?this.coordinatePoint(this.locationCoordinate(s),f.getElevationForLngLatZoom(s,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(s))}pointLocation(s,f){return this.coordinateLocation(this.pointCoordinate(s,f))}locationCoordinate(s){return _.MercatorCoordinate.fromLngLat(s)}coordinateLocation(s){return s&&s.toLngLat()}pointCoordinate(s,f){if(f){const Z=f.pointCoordinate(s);if(null!=Z)return Z}const m=[s.x,s.y,0,1],v=[s.x,s.y,1,1];_.transformMat4(m,m,this.pixelMatrixInverse),_.transformMat4(v,v,this.pixelMatrixInverse);const b=m[3],H=v[3],L=m[1]/b,T=v[1]/H,A=m[2]/b,k=v[2]/H,O=A===k?0:(0-A)/(k-A);return new _.MercatorCoordinate(_.interpolate.number(m[0]/b,v[0]/H,O)/this.worldSize,_.interpolate.number(L,T,O)/this.worldSize)}coordinatePoint(s,f=0,m=this.pixelMatrix){const v=[s.x*this.worldSize,s.y*this.worldSize,f,1];return _.transformMat4(v,v,m),new _.Point(v[0]/v[3],v[1]/v[3])}getBounds(){const s=Math.max(0,this.height/2-this.getHorizon());return(new ut).extend(this.pointLocation(new _.Point(0,s))).extend(this.pointLocation(new _.Point(this.width,s))).extend(this.pointLocation(new _.Point(this.width,this.height))).extend(this.pointLocation(new _.Point(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new ut([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(s){s?(this.lngRange=[s.getWest(),s.getEast()],this.latRange=[s.getSouth(),s.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(s,f=!1){const m=s.key,v=f?this._alignedPosMatrixCache:this._posMatrixCache;if(v[m])return v[m];const b=s.canonical,H=this.worldSize/this.zoomScale(b.z),L=b.x+Math.pow(2,b.z)*s.wrap,T=_.identity(new Float64Array(16));return _.translate(T,T,[L*H,b.y*H,0]),_.scale(T,T,[H/_.EXTENT,H/_.EXTENT,1]),_.multiply(T,f?this.alignedProjMatrix:this.projMatrix,T),v[m]=new Float32Array(T),v[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let s,f,m,v,b=-90,H=90,L=-180,T=180;const A=this.size,k=this._unmodified;if(this.latRange){const te=this.latRange;b=_.mercatorYfromLat(te[1])*this.worldSize,H=_.mercatorYfromLat(te[0])*this.worldSize,s=H-b<A.y?A.y/(H-b):0}if(this.lngRange){const te=this.lngRange;L=_.wrap(_.mercatorXfromLng(te[0])*this.worldSize,0,this.worldSize),T=_.wrap(_.mercatorXfromLng(te[1])*this.worldSize,0,this.worldSize),T<L&&(T+=this.worldSize),f=T-L<A.x?A.x/(T-L):0}const O=this.point,Z=Math.max(f||0,s||0);if(Z)return this.center=this.unproject(new _.Point(f?(T+L)/2:O.x,s?(H+b)/2:O.y)),this.zoom+=this.scaleZoom(Z),this._unmodified=k,void(this._constraining=!1);if(this.latRange){const te=O.y,ee=A.y/2;te-ee<b&&(v=b+ee),te+ee>H&&(v=H-ee)}if(this.lngRange){const te=(L+T)/2,ee=_.wrap(O.x,te-this.worldSize/2,te+this.worldSize/2),ae=A.x/2;ee-ae<L&&(m=L+ae),ee+ae>T&&(m=T-ae)}void 0===m&&void 0===v||(this.center=this.unproject(new _.Point(void 0!==m?m:O.x,void 0!==v?v:O.y)).wrap()),this._unmodified=k,this._constraining=!1}_calcMatrices(){if(!this.height)return;const s=this.centerOffset,f=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=_.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let v=_.identity(new Float64Array(16));_.scale(v,v,[this.width/2,-this.height/2,1]),_.translate(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=_.identity(new Float64Array(16)),_.scale(v,v,[1,-1,1]),_.translate(v,v,[-1,-1,0]),_.scale(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const b=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),H=Math.min(this.elevation,this._minEleveationForCurrentTile),L=b-H*this._pixelPerMeter/Math.cos(this._pitch),T=H<0?L:b,A=Math.PI/2+this._pitch,k=this._fov*(.5+s.y/this.height),O=Math.sin(k)*T/Math.sin(_.clamp(Math.PI-A-k,.01,Math.PI-.01)),Z=this.getHorizon(),te=2*Math.atan(Z/this.cameraToCenterDistance)*(.5+s.y/(2*Z)),ee=Math.sin(te)*T/Math.sin(_.clamp(Math.PI-A-te,.01,Math.PI-.01)),ae=Math.min(O,ee),Q=1.01*(Math.cos(Math.PI/2-this._pitch)*ae+T),ye=this.height/50;v=new Float64Array(16),_.perspective(v,this._fov,this.width/this.height,ye,Q),v[8]=2*-s.x/this.width,v[9]=2*s.y/this.height,_.scale(v,v,[1,-1,1]),_.translate(v,v,[0,0,-this.cameraToCenterDistance]),_.rotateX(v,v,this._pitch),_.rotateZ(v,v,this.angle),_.translate(v,v,[-f,-m,0]),this.mercatorMatrix=_.scale([],v,[this.worldSize,this.worldSize,this.worldSize]),_.scale(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=_.multiply(new Float64Array(16),this.labelPlaneMatrix,v),_.translate(v,v,[0,0,-this.elevation]),this.projMatrix=v,this.invProjMatrix=_.invert([],v),this.pixelMatrix3D=_.multiply(new Float64Array(16),this.labelPlaneMatrix,v);const De=this.width%2/2,ce=this.height%2/2,_e=Math.cos(this.angle),Ie=Math.sin(this.angle),ke=f-Math.round(f)+_e*De+Ie*ce,je=m-Math.round(m)+_e*ce+Ie*De,Ze=new Float64Array(v);if(_.translate(Ze,Ze,[ke>.5?ke-1:ke,je>.5?je-1:je,0]),this.alignedProjMatrix=Ze,v=_.invert(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const s=this.pointCoordinate(new _.Point(0,0)),f=[s.x*this.worldSize,s.y*this.worldSize,0,1];return _.transformMat4(f,f,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const s=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new _.Point(0,s))}getCameraQueryGeometry(s){const f=this.getCameraPoint();if(1===s.length)return[s[0],f];{let m=f.x,v=f.y,b=f.x,H=f.y;for(const L of s)m=Math.min(m,L.x),v=Math.min(v,L.y),b=Math.max(b,L.x),H=Math.max(H,L.y);return[new _.Point(m,v),new _.Point(b,v),new _.Point(b,H),new _.Point(m,H),new _.Point(m,v)]}}}function Di(C,s){let f,m=!1,v=null,b=null;const H=()=>{v=null,m&&(C.apply(b,f),v=setTimeout(H,s),m=!1)};return(...L)=>(m=!0,b=this,f=L,v||H(),v)}class Mo{constructor(s){this._getCurrentHash=()=>{const f=window.location.hash.replace("#","");if(this._hashName){let m;return f.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(m=v)}),(m&&m[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{const f=this._getCurrentHash();if(f.length>=3&&!f.some(m=>isNaN(m))){const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:m,pitch:+(f[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const f=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,f)}catch{}},this._updateHash=Di(this._updateHashUnthrottled,300),this._hashName=s&&encodeURIComponent(s)}addTo(s){return this._map=s,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(s){const f=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,v=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,v),H=Math.round(f.lng*b)/b,L=Math.round(f.lat*b)/b,T=this._map.getBearing(),A=this._map.getPitch();let k="";if(k+=s?`/${H}/${L}/${m}`:`${m}/${L}/${H}`,(T||A)&&(k+="/"+Math.round(10*T)/10),A&&(k+=`/${Math.round(A)}`),this._hashName){const O=this._hashName;let Z=!1;const te=window.location.hash.slice(1).split("&").map(ee=>{const ae=ee.split("=")[0];return ae===O?(Z=!0,`${ae}=${k}`):ee}).filter(ee=>ee);return Z||te.push(`${O}=${k}`),`#${te.join("&")}`}return`#${k}`}}const Br={linearity:.3,easing:_.bezier(0,0,.3,1)},wo=_.extend({deceleration:2500,maxSpeed:1400},Br),zo=_.extend({deceleration:20,maxSpeed:1400},Br),I4=_.extend({deceleration:1e3,maxSpeed:360},Br),So=_.extend({deceleration:1e3,maxSpeed:90},Br);class k4{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:_.browser.now(),settings:s})}_drainInertiaBuffer(){const s=this._inertiaBuffer,f=_.browser.now();for(;s.length>0&&f-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,pan:new _.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:b}of this._inertiaBuffer)f.zoom+=b.zoomDelta||0,f.bearing+=b.bearingDelta||0,f.pitch+=b.pitchDelta||0,b.panDelta&&f.pan._add(b.panDelta),b.around&&(f.around=b.around),b.pinchAround&&(f.pinchAround=b.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(f.pan.mag()){const b=n3(f.pan.mag(),m,_.extend({},wo,s||{}));v.offset=f.pan.mult(b.amount/f.pan.mag()),v.center=this._map.transform.center,ha(v,b)}if(f.zoom){const b=n3(f.zoom,m,zo);v.zoom=this._map.transform.zoom+b.amount,ha(v,b)}if(f.bearing){const b=n3(f.bearing,m,I4);v.bearing=this._map.transform.bearing+_.clamp(b.amount,-179,179),ha(v,b)}if(f.pitch){const b=n3(f.pitch,m,So);v.pitch=this._map.transform.pitch+b.amount,ha(v,b)}if(v.zoom||v.bearing){const b=void 0===f.pinchAround?f.around:f.pinchAround;v.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),_.extend(v,{noMoveStart:!0})}}function ha(C,s){(!C.duration||C.duration<s.duration)&&(C.duration=s.duration,C.easing=s.easing)}function n3(C,s,f){const{maxSpeed:m,linearity:v,deceleration:b}=f,H=_.clamp(C*v/(s/1e3),-m,m),L=Math.abs(H)/(b*v);return{easing:f.easing,duration:1e3*L,amount:H*(L/2)}}class It extends _.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,f,m,v={}){const b=Re.mousePos(f.getCanvasContainer(),m),H=f.unproject(b);super(s,_.extend({point:b,lngLat:H,originalEvent:m},v)),this._defaultPrevented=!1,this.target=f}}class da extends _.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,f,m){const v="touchend"===s?m.changedTouches:m.touches,b=Re.touchPos(f.getCanvasContainer(),v),H=b.map(T=>f.unproject(T)),L=b.reduce((T,A,k,O)=>T.add(A.div(O.length)),new _.Point(0,0));super(s,{points:b,point:L,lngLats:H,lngLat:f.unproject(L),originalEvent:m}),this._defaultPrevented=!1}}class jt extends _.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,f,m){super(s,{originalEvent:m}),this._defaultPrevented=!1}}class pa{constructor(s,f){this._map=s,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(s){return this._firePreventable(new jt(s.type,this._map,s))}mousedown(s,f){return this._mousedownPos=f,this._firePreventable(new It(s.type,this._map,s))}mouseup(s){this._map.fire(new It(s.type,this._map,s))}click(s,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new It(s.type,this._map,s))}dblclick(s){return this._firePreventable(new It(s.type,this._map,s))}mouseover(s){this._map.fire(new It(s.type,this._map,s))}mouseout(s){this._map.fire(new It(s.type,this._map,s))}touchstart(s){return this._firePreventable(new da(s.type,this._map,s))}touchmove(s){this._map.fire(new da(s.type,this._map,s))}touchend(s){this._map.fire(new da(s.type,this._map,s))}touchcancel(s){this._map.fire(new da(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class z6{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(s){this._map.fire(new It(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new It("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._ignoreContextMenu||this._map.fire(new It(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ma{constructor(s){this._map=s}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(s){return this.transform.pointLocation(_.Point.convert(s),this._map.terrain)}}class m0{constructor(s,f){this._map=s,this._tr=new ma(s),this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,f){this.isEnabled()&&s.shiftKey&&0===s.button&&(Re.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(s,f){if(!this._active)return;const m=f;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=m,this._box||(this._box=Re.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",s));const b=Math.min(v.x,m.x),H=Math.max(v.x,m.x),L=Math.min(v.y,m.y),T=Math.max(v.y,m.y);Re.setTransform(this._box,`translate(${b}px,${L}px)`),this._box.style.width=H-b+"px",this._box.style.height=T-L+"px"}mouseupWindow(s,f){if(!this._active||0!==s.button)return;const m=this._startPos,v=f;if(this.reset(),Re.suppressClick(),m.x!==v.x||m.y!==v.y)return this._map.fire(new _.Event("boxzoomend",{originalEvent:s})),{cameraAnimation:b=>b.fitScreenCoordinates(m,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",s)}keydown(s){this._active&&27===s.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",s))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(Re.remove(this._box),this._box=null),Re.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(s,f){return this._map.fire(new _.Event(s,{originalEvent:f}))}}function ms(C,s){if(C.length!==s.length)throw new Error(`The number of touches and points are not equal - touches ${C.length}, points ${s.length}`);const f={};for(let m=0;m<C.length;m++)f[C[m].identifier]=s[m];return f}class ga{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(s,f,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=s.timeStamp),m.length===this.numTouches&&(this.centroid=function(v){const b=new _.Point(0,0);for(const H of v)b._add(H);return b.div(v.length)}(f),this.touches=ms(m,f)))}touchmove(s,f,m){if(this.aborted||!this.centroid)return;const v=ms(m,f);for(const b in this.touches){const H=v[b];(!H||H.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(s,f,m){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),0===m.length){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class B3{constructor(s){this.singleTap=new ga(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(s,f,m){this.singleTap.touchstart(s,f,m)}touchmove(s,f,m){this.singleTap.touchmove(s,f,m)}touchend(s,f,m){const v=this.singleTap.touchend(s,f,m);if(v){const b=s.timeStamp-this.lastTime<500,H=!this.lastTap||this.lastTap.dist(v)<30;if(b&&H||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class p1{constructor(s){this._tr=new ma(s),this._zoomIn=new B3({numTouches:1,numTaps:2}),this._zoomOut=new B3({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,f,m){this._zoomIn.touchstart(s,f,m),this._zoomOut.touchstart(s,f,m)}touchmove(s,f,m){this._zoomIn.touchmove(s,f,m),this._zoomOut.touchmove(s,f,m)}touchend(s,f,m){const v=this._zoomIn.touchend(s,f,m),b=this._zoomOut.touchend(s,f,m),H=this._tr;return v?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:H.zoom+1,around:H.unproject(v)},{originalEvent:s})}):b?(this._active=!0,s.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:L=>L.easeTo({duration:300,zoom:H.zoom-1,around:H.unproject(b)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class N4{constructor(s){this._enabled=!!s.enable,this._moveStateManager=s.moveStateManager,this._clickTolerance=s.clickTolerance||1,this._moveFunction=s.move,this._activateOnStart=!!s.activateOnStart,s.assignEvents(this),this.reset()}reset(s){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(s)}_move(...s){const f=this._moveFunction(...s);if(f.bearingDelta||f.pitchDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(s,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(s)&&(this._moveStateManager.startMove(s),this._lastPoint=f.length?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(s,f){if(!this.isEnabled())return;const m=this._lastPoint;if(!m)return;if(s.preventDefault(),!this._moveStateManager.isValidMoveEvent(s))return void this.reset(s);const v=f.length?f[0]:f;return!this._moved&&v.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(m,v))}dragEnd(s){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(s)&&(this._moved&&Re.suppressClick(),this.reset(s))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const va={0:1,2:2};class tt{constructor(s){this._correctEvent=s.checkCorrectEvent}startMove(s){const f=Re.mouseButton(s);this._eventButton=f}endMove(s){delete this._eventButton}isValidStartEvent(s){return this._correctEvent(s)}isValidMoveEvent(s){return!function(f,m){const v=va[m];return void 0===f.buttons||(f.buttons&v)!==v}(s,this._eventButton)}isValidEndEvent(s){return Re.mouseButton(s)===this._eventButton}}class Ho{constructor(){this._firstTouch=void 0}_isOneFingerTouch(s){return 1===s.targetTouches.length}_isSameTouchEvent(s){return s.targetTouches[0].identifier===this._firstTouch}startMove(s){this._firstTouch=s.targetTouches[0].identifier}endMove(s){delete this._firstTouch}isValidStartEvent(s){return this._isOneFingerTouch(s)}isValidMoveEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}isValidEndEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}}const l1=C=>{C.mousedown=C.dragStart,C.mousemoveWindow=C.dragMove,C.mouseup=C.dragEnd,C.contextmenu=function(s){s.preventDefault()}},gs=({enable:C,clickTolerance:s,bearingDegreesPerPixelMoved:f=.8})=>{const m=new tt({checkCorrectEvent:v=>0===Re.mouseButton(v)&&v.ctrlKey||2===Re.mouseButton(v)});return new N4({clickTolerance:s,move:(v,b)=>({bearingDelta:(b.x-v.x)*f}),moveStateManager:m,enable:C,assignEvents:l1})},Ai=({enable:C,clickTolerance:s,pitchDegreesPerPixelMoved:f=-.5})=>{const m=new tt({checkCorrectEvent:v=>0===Re.mouseButton(v)&&v.ctrlKey||2===Re.mouseButton(v)});return new N4({clickTolerance:s,move:(v,b)=>({pitchDelta:(b.y-v.y)*f}),moveStateManager:m,enable:C,assignEvents:l1})};class g0{constructor(s,f){this._minTouches=s.cooperativeGestures?2:1,this._clickTolerance=s.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new _.Point(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(s,f,m){return this._calculateTransform(s,f,m)}touchmove(s,f,m){if(this._map._cooperativeGestures&&(2===this._minTouches&&m.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(s,!1,m.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(m.length<this._minTouches))return s.preventDefault(),this._calculateTransform(s,f,m)}touchend(s,f,m){this._calculateTransform(s,f,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,f,m){m.length>0&&(this._active=!0);const v=ms(m,f),b=new _.Point(0,0),H=new _.Point(0,0);let L=0;for(const A in v){const k=v[A],O=this._touches[A];O&&(b._add(k),H._add(k.sub(O)),L++,v[A]=k)}if(this._touches=v,L<this._minTouches||!H.mag())return;const T=H.div(L);return this._sum._add(T),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(L),panDelta:T}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class O4{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(s,f,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([f[0],f[1]]))}touchmove(s,f,m){if(!this._firstTwoTouches)return;s.preventDefault();const[v,b]=this._firstTwoTouches,H=Y2(m,f,v),L=Y2(m,f,b);if(!H||!L)return;const T=this._aroundCenter?null:H.add(L).div(2);return this._move([H,L],T,s)}touchend(s,f,m){if(!this._firstTwoTouches)return;const[v,b]=this._firstTwoTouches,H=Y2(m,f,v),L=Y2(m,f,b);H&&L||(this._active&&Re.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&"center"===s.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Y2(C,s,f){for(let m=0;m<C.length;m++)if(C[m].identifier===f)return s[m]}function Hn(C,s){return Math.log(C/s)/Math.LN2}class _2 extends O4{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,f){const m=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(Hn(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Hn(this._distance,m),pinchAround:f}}}function Kt(C,s){return 180*C.angleWith(s)/Math.PI}class gn extends O4{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,f){const m=this._vector;if(this._vector=s[0].sub(s[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Kt(this._vector,m),pinchAround:f}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());const f=25/(Math.PI*this._minDiameter)*360,m=Kt(s,this._startVector);return Math.abs(m)<f}}function pi(C){return Math.abs(C.y)>Math.abs(C.x)}class Rn extends O4{constructor(s){super(),this._map=s}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(s,f,m){super.touchstart(s,f,m),this._currentTouchCount=m.length}_start(s){this._lastPoints=s,pi(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,f,m){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const v=s[0].sub(this._lastPoints[0]),b=s[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,b,m.timeStamp),this._valid?(this._lastPoints=s,this._active=!0,{pitchDelta:(v.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(s,f,m){if(void 0!==this._valid)return this._valid;const v=s.mag()>=2,b=f.mag()>=2;if(!v&&!b)return;if(!v||!b)return void 0===this._firstMove&&(this._firstMove=m),m-this._firstMove<100&&void 0;const H=s.y>0==f.y>0;return pi(s)&&pi(f)&&H}}const vs={panStep:100,bearingStep:15,pitchStep:10};class Fn{constructor(s){this._tr=new ma(s);const f=vs;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let f=0,m=0,v=0,b=0,H=0;switch(s.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:s.shiftKey?m=-1:(s.preventDefault(),b=-1);break;case 39:s.shiftKey?m=1:(s.preventDefault(),b=1);break;case 38:s.shiftKey?v=1:(s.preventDefault(),H=-1);break;case 40:s.shiftKey?v=-1:(s.preventDefault(),H=1);break;default:return}return this._rotationDisabled&&(m=0,v=0),{cameraAnimation:L=>{const T=this._tr;L.easeTo({duration:300,easeId:"keyboardHandler",easing:U3,zoom:f?Math.round(T.zoom)+f*(s.shiftKey?2:1):T.zoom,bearing:T.bearing+m*this._bearingStep,pitch:T.pitch+v*this._pitchStep,offset:[-b*this._panStep,-H*this._panStep],center:T.center},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function U3(C){return C*(2-C)}const Lo=4.000244140625;class Vo{constructor(s,f){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=s,this._tr=new ma(s),this._el=s.getCanvasContainer(),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&"center"===s.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(s){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!s[this._map._metaKey])return;s.preventDefault()}let f=s.deltaMode===WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY;const m=_.browser.now(),v=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,0!==f&&f%Lo==0?this._type="wheel":0!==f&&Math.abs(f)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(v*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),s.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=s,this._delta-=f,this._active||this._start(s)),s.preventDefault()}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=Re.mousePos(this._el,s),m=this._tr;this._around=_.LngLat.convert(this._aroundCenter?m.center:m.unproject(f)),this._aroundPoint=m.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const s=this._tr.transform;if(0!==this._delta){const L="wheel"===this._type&&Math.abs(this._delta)>Lo?this._wheelZoomRate:this._defaultZoomRate;let T=2/(1+Math.exp(-Math.abs(this._delta*L)));this._delta<0&&0!==T&&(T=1/T);const A="number"==typeof this._targetZoom?s.zoomScale(this._targetZoom):s.scale;this._targetZoom=Math.min(s.maxZoom,Math.max(s.minZoom,s.scaleZoom(A*T))),"wheel"===this._type&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f="number"==typeof this._targetZoom?this._targetZoom:s.zoom,m=this._startZoom,v=this._easing;let b,H=!1;if("wheel"===this._type&&m&&v){const L=Math.min((_.browser.now()-this._lastWheelEventTime)/200,1),T=v(L);b=_.interpolate.number(m,f,T),L<1?this._frameId||(this._frameId=!0):H=!0}else b=f,H=!0;return this._active=!0,H&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!H,zoomDelta:b-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let f=_.defaultEasing;if(this._prevEase){const m=this._prevEase,v=(_.browser.now()-m.start)/m.duration,b=m.easing(v+.01)-m.easing(v),H=.27/Math.sqrt(b*b+1e-4)*.01,L=Math.sqrt(.0729-H*H);f=_.bezier(H,L,.25,1)}return this._prevEase={start:_.browser.now(),duration:s,easing:f},f}reset(){this._active=!1}}class nt{constructor(s,f){this._clickZoom=s,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class m1{constructor(s){this._tr=new ma(s),this.reset()}reset(){this._active=!1}dblclick(s,f){return s.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(s.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class J1{constructor(){this._tap=new B3({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(s,f,m){if(!this._swipePoint)if(this._tapTime){const v=f[0],b=s.timeStamp-this._tapTime<500,H=this._tapPoint.dist(v)<30;b&&H?m.length>0&&(this._swipePoint=v,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(s,f,m)}touchmove(s,f,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const v=f[0],b=v.y-this._swipePoint.y;return this._swipePoint=v,s.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(s,f,m)}touchend(s,f,m){if(this._tapTime)this._swipePoint&&0===m.length&&this.reset();else{const v=this._tap.touchend(s,f,m);v&&(this._tapTime=s.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class m2{constructor(s,f,m){this._el=s,this._mousePan=f,this._touchPan=m}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class g2{constructor(s,f,m){this._pitchWithRotate=s.pitchWithRotate,this._mouseRotate=f,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class ur{constructor(s,f,m,v){this._el=s,this._touchZoom=f,this._touchRotate=m,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ht=C=>C.zoom||C.drag||C.pitch||C.rotate;class Ur extends _.Event{}function it(C){return C.panDelta&&C.panDelta.mag()||C.zoomDelta||C.bearingDelta||C.pitchDelta}class Ii{constructor(s,f){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,b)=>{if("blur"===v.type)return void this.stop(!0);this._updatingCamera=!0;const H="renderFrame"===v.type?void 0:v,L={needsRenderFrame:!1},T={},A={},k=v.touches,O=k?this._getMapTouches(k):void 0,Z=O?Re.touchPos(this._el,O):Re.mousePos(this._el,v);for(const{handlerName:ae,handler:Q,allowed:ye}of this._handlers){if(!Q.isEnabled())continue;let De;this._blockedByActive(A,ye,ae)?Q.reset():Q[b||v.type]&&(De=Q[b||v.type](v,Z,O),this.mergeHandlerResult(L,T,De,ae,H),De&&De.needsRenderFrame&&this._triggerRenderFrame()),(De||Q.isActive())&&(A[ae]=Q)}const te={};for(const ae in this._previousActiveHandlers)A[ae]||(te[ae]=H);this._previousActiveHandlers=A,(Object.keys(te).length||it(L))&&(this._changes.push([L,T,te]),this._triggerRenderFrame()),(Object.keys(A).length||it(L))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ee}=L;ee&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ee(this._map))},this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new k4(s),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,b,H]of this._listeners)Re.addEventListener(v,b,v===document?this.handleWindowEvent:this.handleEvent,H)}destroy(){for(const[s,f,m]of this._listeners)Re.removeEventListener(s,f,s===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(s){const f=this._map,m=f.getCanvasContainer();this._add("mapEvent",new pa(f,s));const v=f.boxZoom=new m0(f,s);this._add("boxZoom",v),s.interactive&&s.boxZoom&&v.enable();const b=new p1(f),H=new m1(f);f.doubleClickZoom=new nt(H,b),this._add("tapZoom",b),this._add("clickZoom",H),s.interactive&&s.doubleClickZoom&&f.doubleClickZoom.enable();const L=new J1;this._add("tapDragZoom",L);const T=f.touchPitch=new Rn(f);this._add("touchPitch",T),s.interactive&&s.touchPitch&&f.touchPitch.enable(s.touchPitch);const A=gs(s),k=Ai(s);f.dragRotate=new g2(s,A,k),this._add("mouseRotate",A,["mousePitch"]),this._add("mousePitch",k,["mouseRotate"]),s.interactive&&s.dragRotate&&f.dragRotate.enable();const O=(({enable:ye,clickTolerance:De})=>{const ce=new tt({checkCorrectEvent:_e=>0===Re.mouseButton(_e)&&!_e.ctrlKey});return new N4({clickTolerance:De,move:(_e,Ie)=>({around:Ie,panDelta:Ie.sub(_e)}),activateOnStart:!0,moveStateManager:ce,enable:ye,assignEvents:l1})})(s),Z=new g0(s,f);f.dragPan=new m2(m,O,Z),this._add("mousePan",O),this._add("touchPan",Z,["touchZoom","touchRotate"]),s.interactive&&s.dragPan&&f.dragPan.enable(s.dragPan);const te=new gn,ee=new _2;f.touchZoomRotate=new ur(m,ee,te,L),this._add("touchRotate",te,["touchPan","touchZoom"]),this._add("touchZoom",ee,["touchPan","touchRotate"]),s.interactive&&s.touchZoomRotate&&f.touchZoomRotate.enable(s.touchZoomRotate);const ae=f.scrollZoom=new Vo(f,()=>this._triggerRenderFrame());this._add("scrollZoom",ae,["mousePan"]),s.interactive&&s.scrollZoom&&f.scrollZoom.enable(s.scrollZoom);const Q=f.keyboard=new Fn(f);this._add("keyboard",Q),s.interactive&&s.keyboard&&f.keyboard.enable(),this._add("blockableMapEvent",new z6(f))}_add(s,f,m){this._handlers.push({handlerName:s,handler:f,allowed:m}),this._handlersById[s]=f}stop(s){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(const{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ht(this._eventsInProgress)||this.isZooming()}_blockedByActive(s,f,m){for(const v in s)if(v!==m&&(!f||f.indexOf(v)<0))return!0;return!1}_getMapTouches(s){const f=[];for(const m of s)this._el.contains(m.target)&&f.push(m);return f}mergeHandlerResult(s,f,m,v,b){if(!m)return;_.extend(s,m);const H={handlerName:v,originalEvent:m.originalEvent||b};void 0!==m.zoomDelta&&(f.zoom=H),void 0!==m.panDelta&&(f.drag=H),void 0!==m.pitchDelta&&(f.pitch=H),void 0!==m.bearingDelta&&(f.rotate=H)}_applyChanges(){const s={},f={},m={};for(const[v,b,H]of this._changes)v.panDelta&&(s.panDelta=(s.panDelta||new _.Point(0,0))._add(v.panDelta)),v.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+v.pitchDelta),void 0!==v.around&&(s.around=v.around),void 0!==v.pinchAround&&(s.pinchAround=v.pinchAround),v.noInertia&&(s.noInertia=v.noInertia),_.extend(f,b),_.extend(m,H);this._updateMapTransform(s,f,m),this._changes=[]}_updateMapTransform(s,f,m){const v=this._map,b=v._getTransformForUpdate(),H=v.terrain;if(!(it(s)||H&&this._terrainMovement))return this._fireEvents(f,m,!0);let{panDelta:L,zoomDelta:T,bearingDelta:A,pitchDelta:k,around:O,pinchAround:Z}=s;void 0!==Z&&(O=Z),v._stop(!0),O=O||v.transform.centerPoint;const te=b.pointLocation(L?O.sub(L):O);A&&(b.bearing+=A),k&&(b.pitch+=k),T&&(b.zoom+=T),H?this._terrainMovement||!f.drag&&!f.zoom?f.drag&&this._terrainMovement?b.center=b.pointLocation(b.centerPoint.sub(L)):b.setLocationAtPoint(te,O):(this._terrainMovement=!0,this._map._elevationFreeze=!0,b.setLocationAtPoint(te,O),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,b.recalculateZoom(v.terrain)})):b.setLocationAtPoint(te,O),v._applyUpdatedTransform(b),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(f,m,!0)}_fireEvents(s,f,m){const v=Ht(this._eventsInProgress),b=Ht(s),H={};for(const k in s){const{originalEvent:O}=s[k];this._eventsInProgress[k]||(H[`${k}start`]=O),this._eventsInProgress[k]=s[k]}!v&&b&&this._fireEvent("movestart",b.originalEvent);for(const k in H)this._fireEvent(k,H[k]);b&&this._fireEvent("move",b.originalEvent);for(const k in s){const{originalEvent:O}=s[k];this._fireEvent(k,O)}const L={};let T;for(const k in this._eventsInProgress){const{handlerName:O,originalEvent:Z}=this._eventsInProgress[k];this._handlersById[O].isActive()||(delete this._eventsInProgress[k],T=f[O]||Z,L[`${k}end`]=T)}for(const k in L)this._fireEvent(k,L[k]);const A=Ht(this._eventsInProgress);if(m&&(v||b)&&!A){this._updatingCamera=!0;const k=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),O=Z=>0!==Z&&-this._bearingSnap<Z&&Z<this._bearingSnap;k?(O(k.bearing||this._map.getBearing())&&(k.bearing=0),k.freezeElevation=!0,this._map.easeTo(k,{originalEvent:T})):(this._map.fire(new _.Event("moveend",{originalEvent:T})),O(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(s,f){this._map.fire(new _.Event(s,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(s=>{delete this._frameId,this.handleEvent(new Ur("renderFrame",{timeStamp:s})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class R4 extends _.Evented{constructor(s,f){super(),this._renderFrameCallback=()=>{const m=Math.min((_.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=f.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new _.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(s,f){return this.jumpTo({center:s},f)}panBy(s,f,m){return s=_.Point.convert(s).mult(-1),this.panTo(this.transform.center,_.extend({offset:s},f),m)}panTo(s,f,m){return this.easeTo(_.extend({center:s},f),m)}getZoom(){return this.transform.zoom}setZoom(s,f){return this.jumpTo({zoom:s},f),this}zoomTo(s,f,m){return this.easeTo(_.extend({zoom:s},f),m)}zoomIn(s,f){return this.zoomTo(this.getZoom()+1,s,f),this}zoomOut(s,f){return this.zoomTo(this.getZoom()-1,s,f),this}getBearing(){return this.transform.bearing}setBearing(s,f){return this.jumpTo({bearing:s},f),this}getPadding(){return this.transform.padding}setPadding(s,f){return this.jumpTo({padding:s},f),this}rotateTo(s,f,m){return this.easeTo(_.extend({bearing:s},f),m)}resetNorth(s,f){return this.rotateTo(0,_.extend({duration:1e3},s),f),this}resetNorthPitch(s,f){return this.easeTo(_.extend({bearing:0,pitch:0,duration:1e3},s),f),this}snapToNorth(s,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,f):this}getPitch(){return this.transform.pitch}setPitch(s,f){return this.jumpTo({pitch:s},f),this}cameraForBounds(s,f){s=ut.convert(s);const m=f&&f.bearing||0;return this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),m,f)}_cameraForBoxAndBearing(s,f,m,v){const b={top:0,bottom:0,right:0,left:0};if("number"==typeof(v=_.extend({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding){const Ie=v.padding;v.padding={top:Ie,bottom:Ie,right:Ie,left:Ie}}v.padding=_.extend(b,v.padding);const H=this.transform,L=H.padding,T=H.project(_.LngLat.convert(s)),A=H.project(_.LngLat.convert(f)),k=T.rotate(-m*Math.PI/180),O=A.rotate(-m*Math.PI/180),Z=new _.Point(Math.max(k.x,O.x),Math.max(k.y,O.y)),te=new _.Point(Math.min(k.x,O.x),Math.min(k.y,O.y)),ee=Z.sub(te),ae=(H.width-(L.left+L.right+v.padding.left+v.padding.right))/ee.x,Q=(H.height-(L.top+L.bottom+v.padding.top+v.padding.bottom))/ee.y;if(Q<0||ae<0)return void _.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const ye=Math.min(H.scaleZoom(H.scale*Math.min(ae,Q)),v.maxZoom),De=_.Point.convert(v.offset),ce=new _.Point((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(m*Math.PI/180),_e=De.add(ce).mult(H.scale/H.zoomScale(ye));return{center:H.unproject(T.add(A).div(2).sub(_e)),zoom:ye,bearing:m}}fitBounds(s,f,m){return this._fitInternal(this.cameraForBounds(s,f),f,m)}fitScreenCoordinates(s,f,m,v,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(_.Point.convert(s)),this.transform.pointLocation(_.Point.convert(f)),m,v),v,b)}_fitInternal(s,f,m){return s?(delete(f=_.extend(s,f)).padding,f.linear?this.easeTo(f,m):this.flyTo(f,m)):this}jumpTo(s,f){this.stop();const m=this._getTransformForUpdate();let v=!1,b=!1,H=!1;return"zoom"in s&&m.zoom!==+s.zoom&&(v=!0,m.zoom=+s.zoom),void 0!==s.center&&(m.center=_.LngLat.convert(s.center)),"bearing"in s&&m.bearing!==+s.bearing&&(b=!0,m.bearing=+s.bearing),"pitch"in s&&m.pitch!==+s.pitch&&(H=!0,m.pitch=+s.pitch),null==s.padding||m.isPaddingEqual(s.padding)||(m.padding=s.padding),this._applyUpdatedTransform(m),this.fire(new _.Event("movestart",f)).fire(new _.Event("move",f)),v&&this.fire(new _.Event("zoomstart",f)).fire(new _.Event("zoom",f)).fire(new _.Event("zoomend",f)),b&&this.fire(new _.Event("rotatestart",f)).fire(new _.Event("rotate",f)).fire(new _.Event("rotateend",f)),H&&this.fire(new _.Event("pitchstart",f)).fire(new _.Event("pitch",f)).fire(new _.Event("pitchend",f)),this.fire(new _.Event("moveend",f))}calculateCameraOptionsFromTo(s,f,m,v=0){const b=_.MercatorCoordinate.fromLngLat(s,f),H=_.MercatorCoordinate.fromLngLat(m,v),L=H.x-b.x,T=H.y-b.y,A=H.z-b.z,k=Math.hypot(L,T,A);if(0===k)throw new Error("Can't calculate camera options with same From and To");const O=Math.hypot(L,T),Z=this.transform.scaleZoom(this.transform.cameraToCenterDistance/k/this.transform.tileSize),te=180*Math.atan2(L,-T)/Math.PI;let ee=180*Math.acos(O/k)/Math.PI;return ee=A<0?90-ee:90+ee,{center:H.toLngLat(),zoom:Z,pitch:ee,bearing:te}}easeTo(s,f){this._stop(!1,s.easeId),(!1===(s=_.extend({offset:[0,0],duration:500,easing:_.defaultEasing},s)).animate||!s.essential&&_.browser.prefersReducedMotion)&&(s.duration=0);const m=this._getTransformForUpdate(),v=this.getZoom(),b=this.getBearing(),H=this.getPitch(),L=this.getPadding(),T="zoom"in s?+s.zoom:v,A="bearing"in s?this._normalizeBearing(s.bearing,b):b,k="pitch"in s?+s.pitch:H,O="padding"in s?s.padding:m.padding,Z=_.Point.convert(s.offset);let te=m.centerPoint.add(Z);const ee=m.pointLocation(te),ae=_.LngLat.convert(s.center||ee);this._normalizeCenter(ae);const Q=m.project(ee),ye=m.project(ae).sub(Q),De=m.zoomScale(T-v);let ce,_e;s.around&&(ce=_.LngLat.convert(s.around),_e=m.locationPoint(ce));const Ie={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||T!==v,this._rotating=this._rotating||b!==A,this._pitching=this._pitching||k!==H,this._padding=!m.isPaddingEqual(O),this._easeId=s.easeId,this._prepareEase(f,s.noMoveStart,Ie),this.terrain&&this._prepareElevation(ae),this._ease(ke=>{if(this._zooming&&(m.zoom=_.interpolate.number(v,T,ke)),this._rotating&&(m.bearing=_.interpolate.number(b,A,ke)),this._pitching&&(m.pitch=_.interpolate.number(H,k,ke)),this._padding&&(m.interpolatePadding(L,O,ke),te=m.centerPoint.add(Z)),this.terrain&&!s.freezeElevation&&this._updateElevation(ke),ce)m.setLocationAtPoint(ce,_e);else{const je=m.zoomScale(m.zoom-v),Ze=T>v?Math.min(2,De):Math.max(.5,De),Be=Math.pow(Ze,1-ke),Je=m.unproject(Q.add(ye.mult(ke*Be)).mult(je));m.setLocationAtPoint(m.renderWorldCopies?Je.wrap():Je,te)}this._applyUpdatedTransform(m),this._fireMoveEvents(f)},ke=>{this.terrain&&this._finalizeElevation(),this._afterEase(f,ke)},s),this}_prepareEase(s,f,m={}){this._moving=!0,f||m.moving||this.fire(new _.Event("movestart",s)),this._zooming&&!m.zooming&&this.fire(new _.Event("zoomstart",s)),this._rotating&&!m.rotating&&this.fire(new _.Event("rotatestart",s)),this._pitching&&!m.pitching&&this.fire(new _.Event("pitchstart",s))}_prepareElevation(s){this._elevationCenter=s,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(s,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(s){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(s<1&&f!==this._elevationTarget){const m=this._elevationTarget-this._elevationStart;this._elevationStart+=s*(m-(f-(m*s+this._elevationStart))/(1-s)),this._elevationTarget=f}this.transform.elevation=_.interpolate.number(this._elevationStart,this._elevationTarget,s)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(s){if(!this.transformCameraUpdate)return;const f=s.clone(),{center:m,zoom:v,pitch:b,bearing:H,elevation:L}=this.transformCameraUpdate(f);m&&(f.center=m),void 0!==v&&(f.zoom=v),void 0!==b&&(f.pitch=b),void 0!==H&&(f.bearing=H),void 0!==L&&(f.elevation=L),this.transform.apply(f)}_fireMoveEvents(s){this.fire(new _.Event("move",s)),this._zooming&&this.fire(new _.Event("zoom",s)),this._rotating&&this.fire(new _.Event("rotate",s)),this._pitching&&this.fire(new _.Event("pitch",s))}_afterEase(s,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;const m=this._zooming,v=this._rotating,b=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new _.Event("zoomend",s)),v&&this.fire(new _.Event("rotateend",s)),b&&this.fire(new _.Event("pitchend",s)),this.fire(new _.Event("moveend",s))}flyTo(s,f){if(!s.essential&&_.browser.prefersReducedMotion){const y1=_.pick(s,["center","zoom","bearing","pitch","around"]);return this.jumpTo(y1,f)}this.stop(),s=_.extend({offset:[0,0],speed:1.2,curve:1.42,easing:_.defaultEasing},s);const m=this._getTransformForUpdate(),v=this.getZoom(),b=this.getBearing(),H=this.getPitch(),L=this.getPadding(),T="zoom"in s?_.clamp(+s.zoom,m.minZoom,m.maxZoom):v,A="bearing"in s?this._normalizeBearing(s.bearing,b):b,k="pitch"in s?+s.pitch:H,O="padding"in s?s.padding:m.padding,Z=m.zoomScale(T-v),te=_.Point.convert(s.offset);let ee=m.centerPoint.add(te);const ae=m.pointLocation(ee),Q=_.LngLat.convert(s.center||ae);this._normalizeCenter(Q);const ye=m.project(ae),De=m.project(Q).sub(ye);let ce=s.curve;const _e=Math.max(m.width,m.height),Ie=_e/Z,ke=De.mag();if("minZoom"in s){const y1=_.clamp(Math.min(s.minZoom,v,T),m.minZoom,m.maxZoom),q2=_e/m.zoomScale(y1-v);ce=Math.sqrt(q2/ke*2)}const je=ce*ce;function Ze(y1){const q2=(Ie*Ie-_e*_e+(y1?-1:1)*je*je*ke*ke)/(2*(y1?Ie:_e)*je*ke);return Math.log(Math.sqrt(q2*q2+1)-q2)}function Be(y1){return(Math.exp(y1)-Math.exp(-y1))/2}function Je(y1){return(Math.exp(y1)+Math.exp(-y1))/2}const h1=Ze(!1);let e2=function(y1){return Je(h1)/Je(h1+ce*y1)},a1=function(y1){return _e*((Je(h1)*(Be(q2=h1+ce*y1)/Je(q2))-Be(h1))/je)/ke;var q2},H1=(Ze(!0)-h1)/ce;if(Math.abs(ke)<1e-6||!isFinite(H1)){if(Math.abs(_e-Ie)<1e-6)return this.easeTo(s,f);const y1=Ie<_e?-1:1;H1=Math.abs(Math.log(Ie/_e))/ce,a1=function(){return 0},e2=function(q2){return Math.exp(y1*ce*q2)}}return s.duration="duration"in s?+s.duration:1e3*H1/("screenSpeed"in s?+s.screenSpeed/ce:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=b!==A,this._pitching=k!==H,this._padding=!m.isPaddingEqual(O),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(Q),this._ease(y1=>{const q2=y1*H1,r2=1/e2(q2);m.zoom=1===y1?T:v+m.scaleZoom(r2),this._rotating&&(m.bearing=_.interpolate.number(b,A,y1)),this._pitching&&(m.pitch=_.interpolate.number(H,k,y1)),this._padding&&(m.interpolatePadding(L,O,y1),ee=m.centerPoint.add(te)),this.terrain&&!s.freezeElevation&&this._updateElevation(y1);const z1=1===y1?Q:m.unproject(ye.add(De.mult(a1(q2))).mult(r2));m.setLocationAtPoint(m.renderWorldCopies?z1.wrap():z1,ee),this._applyUpdatedTransform(m),this._fireMoveEvents(f)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(f)},s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const m=this._onEaseEnd;delete this._onEaseEnd,m.call(this,f)}if(!s){const m=this.handlers;m&&m.stop(!1)}return this}_ease(s,f,m){!1===m.animate||0===m.duration?(s(1),f()):(this._easeStart=_.browser.now(),this._easeOptions=m,this._onEaseFrame=s,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(s,f){s=_.wrap(s,-180,180);const m=Math.abs(s-f);return Math.abs(s-360-f)<m&&(s-=360),Math.abs(s+360-f)<m&&(s+=360),s}_normalizeCenter(s){const f=this.transform;if(!f.renderWorldCopies||f.lngRange)return;const m=s.lng-f.center.lng;s.lng+=m>180?-360:m<-180?360:0}queryTerrainElevation(s){return this.terrain?this.terrain.getElevationForLngLatZoom(_.LngLat.convert(s),this.transform.tileZoom)-this.transform.elevation:null}}class F1{constructor(s={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||"metadata"!==f.sourceDataType&&"visibility"!==f.sourceDataType&&"style"!==f.dataType&&"terrain"!==f.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=s}getDefaultPosition(){return"bottom-right"}onAdd(s){return this._map=s,this._compact=this.options&&this.options.compact,this._container=Re.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=Re.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=Re.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){Re.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(s,f){const m=this._map._getUIString(`AttributionControl.${f}`);s.title=m,s.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map(v=>"string"!=typeof v?"":v)):"string"==typeof this.options.customAttribution&&s.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const f=this._map.style.sourceCaches;for(const v in f){const b=f[v];if(b.used||b.usedForTerrain){const H=b.getSource();H.attribution&&s.indexOf(H.attribution)<0&&s.push(H.attribution)}}s=s.filter(v=>String(v).trim()),s.sort((v,b)=>v.length-b.length),s=s.filter((v,b)=>{for(let H=b+1;H<s.length;H++)if(s[H].indexOf(v)>=0)return!1;return!0});const m=s.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,s.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class ki{constructor(s={}){this._updateCompact=()=>{const f=this._container.children;if(f.length){const m=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=s}getDefaultPosition(){return"bottom-left"}onAdd(s){this._map=s,this._compact=this.options&&this.options.compact,this._container=Re.create("div","maplibregl-ctrl");const f=Re.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){Re.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class M1{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){const f=++this._id;return this._queue.push({callback:s,id:f,cancelled:!1}),f}remove(s){const f=this._currentlyRunning,m=f?this._queue.concat(f):this._queue;for(const v of m)if(v.id===s)return void(v.cancelled=!0)}run(s=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const m of f)if(!m.cancelled&&(m.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const T1={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var rt=_.createLayout([{name:"a_pos3d",type:"Int16",components:3}]);class $r extends _.Evented{constructor(s){super(),this.sourceCache=s,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,s.usedForTerrain=!0,s.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(s,f){this.sourceCache.update(s,f),this._renderableTilesKeys=[];const m={};for(const v of s.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f}))m[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),_.ortho(v.posMatrix,0,_.EXTENT,0,_.EXTENT,0,1),this._tiles[v.key]=new M4(v,this.tileSize));for(const v in this._tiles)m[v]||delete this._tiles[v]}freeRtt(s){for(const f in this._tiles){const m=this._tiles[f];(!s||m.tileID.equals(s)||m.tileID.isChildOf(s)||s.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(s=>this.getTileByID(s))}getTileByID(s){return this._tiles[s]}getTerrainCoords(s){const f={};for(const m of this._renderableTilesKeys){const v=this._tiles[m].tileID;if(v.canonical.equals(s.canonical)){const b=s.clone();b.posMatrix=new Float64Array(16),_.ortho(b.posMatrix,0,_.EXTENT,0,_.EXTENT,0,1),f[m]=b}else if(v.canonical.isChildOf(s.canonical)){const b=s.clone();b.posMatrix=new Float64Array(16);const H=v.canonical.z-s.canonical.z,L=v.canonical.x-(v.canonical.x>>H<<H),T=v.canonical.y-(v.canonical.y>>H<<H),A=_.EXTENT>>H;_.ortho(b.posMatrix,0,A,0,A,0,1),_.translate(b.posMatrix,b.posMatrix,[-L*A,-T*A,0]),f[m]=b}else if(s.canonical.isChildOf(v.canonical)){const b=s.clone();b.posMatrix=new Float64Array(16);const H=s.canonical.z-v.canonical.z,L=s.canonical.x-(s.canonical.x>>H<<H),T=s.canonical.y-(s.canonical.y>>H<<H),A=_.EXTENT>>H;_.ortho(b.posMatrix,0,_.EXTENT,0,_.EXTENT,0,1),_.translate(b.posMatrix,b.posMatrix,[L*A,T*A,0]),_.scale(b.posMatrix,b.posMatrix,[1/2**H,1/2**H,0]),f[m]=b}}return f}getSourceTile(s,f){const m=this.sourceCache._source;let v=s.overscaledZ-this.deltaZoom;if(v>m.maxzoom&&(v=m.maxzoom),v<m.minzoom)return null;this._sourceTileCache[s.key]||(this._sourceTileCache[s.key]=s.scaledTo(v).key);let b=this.sourceCache.getTileByID(this._sourceTileCache[s.key]);if((!b||!b.dem)&&f)for(;v>=m.minzoom&&(!b||!b.dem);)b=this.sourceCache.getTileByID(s.scaledTo(v--).key);return b}tilesAfterTime(s=Date.now()){return Object.values(this._tiles).filter(f=>f.timeAdded>=s)}}class fr{constructor(s,f,m){this.painter=s,this.sourceCache=new $r(f),this.options=m,this.exaggeration="number"==typeof m.exaggeration?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(s,f,m,v=_.EXTENT){var b;if(!(f>=0&&f<v&&m>=0&&m<v))return 0;const H=this.getTerrainData(s),L=null===(b=H.tile)||void 0===b?void 0:b.dem;if(!L)return 0;const T=((ee=[])[0]=(Q=H.u_terrain_matrix)[0]*(ye=(ae=[f/v*_.EXTENT,m/v*_.EXTENT])[0])+Q[4]*(De=ae[1])+Q[12],ee[1]=Q[1]*ye+Q[5]*De+Q[13],ee),A=[T[0]*L.dim,T[1]*L.dim],k=Math.floor(A[0]),O=Math.floor(A[1]),Z=A[0]-k,te=A[1]-O;var ee,ae,Q,ye,De;return L.get(k,O)*(1-Z)*(1-te)+L.get(k+1,O)*Z*(1-te)+L.get(k,O+1)*(1-Z)*te+L.get(k+1,O+1)*Z*te}getElevationForLngLatZoom(s,f){const{tileID:m,mercatorX:v,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(s,f);return this.getElevation(m,v%_.EXTENT,b%_.EXTENT,_.EXTENT)}getElevation(s,f,m,v=_.EXTENT){return this.getDEMElevation(s,f,m,v)*this.exaggeration}getTerrainData(s){if(!this._emptyDemTexture){const v=this.painter.context,b=new _.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new E2(v,b,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new E2(v,new _.RGBAImage({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=_.identity([])}const f=this.sourceCache.getSourceTile(s,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const v=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new E2(v,f.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),f.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const m=f&&f+f.tileID.key+s.key;if(m&&!this._demMatrixCache[m]){const v=this.sourceCache.sourceCache._source.maxzoom;let b=s.canonical.z-f.tileID.canonical.z;s.overscaledZ>s.canonical.z&&(s.canonical.z>=v?b=s.canonical.z-v:_.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const H=s.canonical.x-(s.canonical.x>>b<<b),L=s.canonical.y-(s.canonical.y>>b<<b),T=_.fromScaling(new Float64Array(16),[1/(_.EXTENT<<b),1/(_.EXTENT<<b),0]);_.translate(T,T,[H*_.EXTENT,L*_.EXTENT,0]),this._demMatrixCache[s.key]={matrix:T,coord:s}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[s.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(s){const f=this.painter,m=f.width/devicePixelRatio,v=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new E2(f.context,{width:m,height:v,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new E2(f.context,{width:m,height:v,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(m,v,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,m,v))),this._fbo.colorAttachment.set("coords"===s?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const s=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,H=0;b<this._coordsTextureSize;b++)for(let L=0;L<this._coordsTextureSize;L++,H+=4)f[H+0]=255&L,f[H+1]=255&b,f[H+2]=L>>8<<4|b>>8,f[H+3]=0;const m=new _.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),v=new E2(s,m,s.gl.RGBA,{premultiply:!1});return v.bind(s.gl.NEAREST,s.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(s){const f=new Uint8Array(4),m=this.painter.context,v=m.gl;m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(s.x,this.painter.height/devicePixelRatio-s.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,f),m.bindFramebuffer.set(null);const b=f[0]+(f[2]>>4<<8),H=f[1]+((15&f[2])<<8),L=this.coordsIndex[255-f[3]],T=L&&this.sourceCache.getTileByID(L);if(!T)return null;const A=this._coordsTextureSize,k=(1<<T.tileID.canonical.z)*A;return new _.MercatorCoordinate((T.tileID.canonical.x*A+b)/k,(T.tileID.canonical.y*A+H)/k,this.getElevation(T.tileID,b,H,A))}getTerrainMesh(){if(this._mesh)return this._mesh;const s=this.painter.context,f=new _.Pos3dArray,m=new _.TriangleIndexArray,v=this.meshSize,b=_.EXTENT/v,H=v*v;for(let O=0;O<=v;O++)for(let Z=0;Z<=v;Z++)f.emplaceBack(Z*b,O*b,0);for(let O=0;O<H;O+=v+1)for(let Z=0;Z<v;Z++)m.emplaceBack(Z+O,v+Z+O+1,v+Z+O+2),m.emplaceBack(Z+O,v+Z+O+2,Z+O+1);const L=f.length,T=L+2*(v+1);for(const O of[0,1])for(let Z=0;Z<=v;Z++)for(const te of[0,1])f.emplaceBack(Z*b,O*_.EXTENT,te);for(let O=0;O<2*v;O+=2)m.emplaceBack(T+O,T+O+1,T+O+3),m.emplaceBack(T+O,T+O+3,T+O+2),m.emplaceBack(L+O,L+O+3,L+O+1),m.emplaceBack(L+O,L+O+2,L+O+3);const A=f.length,k=A+2*(v+1);for(const O of[0,1])for(let Z=0;Z<=v;Z++)for(const te of[0,1])f.emplaceBack(O*_.EXTENT,Z*b,te);for(let O=0;O<2*v;O+=2)m.emplaceBack(A+O,A+O+1,A+O+3),m.emplaceBack(A+O,A+O+3,A+O+2),m.emplaceBack(k+O,k+O+3,k+O+1),m.emplaceBack(k+O,k+O+2,k+O+3);return this._mesh={indexBuffer:s.createIndexBuffer(m),vertexBuffer:s.createVertexBuffer(f,rt.members),segments:_.SegmentVector.simpleSegment(0,0,f.length,m.length)},this._mesh}getMeshFrameDelta(s){return 2*Math.PI*_.earthRadius/Math.pow(2,s)/5}getMinTileElevationForLngLatZoom(s,f){var m;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(s,f);return null!==(m=this.getMinMaxElevation(v).minElevation)&&void 0!==m?m:0}getMinMaxElevation(s){const f=this.getTerrainData(s).tile,m={minElevation:null,maxElevation:null};return f&&f.dem&&(m.minElevation=f.dem.min*this.exaggeration,m.maxElevation=f.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(s,f){const m=_.MercatorCoordinate.fromLngLat(s.wrap()),v=(1<<f)*_.EXTENT,b=m.x*v,H=m.y*v,L=Math.floor(b/_.EXTENT),T=Math.floor(H/_.EXTENT);return{tileID:new _.OverscaledTileID(f,0,f,L,T),mercatorX:b,mercatorY:H}}}class ht{constructor(s,f,m){this._context=s,this._size=f,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const s of this._objects)s.texture.destroy(),s.fbo.destroy()}_createObject(s){const f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new E2(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(m.texture),{id:s,fbo:f,texture:m,stamp:-1,inUse:!1}}getObjectForId(s){return this._objects[s]}useObject(s){s.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(f=>s.id!==f),this._recentlyUsed.push(s.id)}stampObject(s){s.stamp=++this._stamp}getOrCreateFreeObject(){for(const f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const s=this._createObject(this._objects.length);return this._objects.push(s),s}freeObject(s){s.inUse=!1}freeAllObjects(){for(const s of this._objects)this.freeObject(s)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(s=>!s.inUse)}}const $3={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class j3{constructor(s,f){this.painter=s,this.terrain=f,this.pool=new ht(s.context,30,f.sourceCache.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(s){return this.pool.getObjectForId(s.rtt[this._stacks.length-1].id).texture}prepareForRender(s,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=s._order.filter(m=>!s._layers[m].isHidden(f)),this._coordsDescendingInv={};for(const m in s.sourceCaches){this._coordsDescendingInv[m]={};const v=s.sourceCaches[m].getVisibleCoordinates();for(const b of v){const H=this.terrain.sourceCache.getTerrainCoords(b);for(const L in H)this._coordsDescendingInv[m][L]||(this._coordsDescendingInv[m][L]=[]),this._coordsDescendingInv[m][L].push(H[L])}}this._coordsDescendingInvStr={};for(const m of s._order){const v=s._layers[m],b=v.source;if($3[v.type]&&!this._coordsDescendingInvStr[b]){this._coordsDescendingInvStr[b]={};for(const H in this._coordsDescendingInv[b])this._coordsDescendingInvStr[b][H]=this._coordsDescendingInv[b][H].map(L=>L.key).sort().join()}}for(const m of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const b=this._coordsDescendingInvStr[v][m.tileID.key];b&&b!==m.rttCoords[v]&&(m.rtt=[])}}renderLayer(s){if(s.isHidden(this.painter.transform.zoom))return!1;const f=s.type,m=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===s.id;if($3[f]&&(this._prevType&&$3[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(s.id),!v))return!0;if($3[this._prevType]||$3[f]&&v){this._prevType=f;const b=this._stacks.length-1,H=this._stacks[b]||[];for(const L of this._renderableTiles){if(this.pool.isFull()&&(Fr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(L),L.rtt[b]){const A=this.pool.getObjectForId(L.rtt[b].id);if(A.stamp===L.rtt[b].stamp){this.pool.useObject(A);continue}}const T=this.pool.getOrCreateFreeObject();this.pool.useObject(T),this.pool.stampObject(T),L.rtt[b]={id:T.id,stamp:T.stamp},m.context.bindFramebuffer.set(T.fbo.framebuffer),m.context.clear({color:_.Color.transparent,stencil:0}),m.currentStencilSource=void 0;for(let A=0;A<H.length;A++){const k=m.style._layers[H[A]],O=k.source?this._coordsDescendingInv[k.source][L.tileID.key]:[L.tileID];m.context.viewport.set([0,0,T.fbo.width,T.fbo.height]),m._renderTileClippingMasks(k,O),m.renderLayer(m,m.style.sourceCaches[k.source],k,O),k.source&&(L.rttCoords[k.source]=this._coordsDescendingInvStr[k.source][L.tileID.key])}}return Fr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),$3[f]}return!1}}const d3={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:_.config.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},R2=C=>{C.touchstart=C.dragStart,C.touchmoveWindow=C.dragMove,C.touchend=C.dragEnd},K2={showCompass:!0,showZoom:!0,visualizePitch:!1};class l2{constructor(s,f,m=!1){this.mousedown=H=>{this.startMouse(_.extend({},H,{ctrlKey:!0,preventDefault:()=>H.preventDefault()}),Re.mousePos(this.element,H)),Re.addEventListener(window,"mousemove",this.mousemove),Re.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=H=>{this.moveMouse(H,Re.mousePos(this.element,H))},this.mouseup=H=>{this.mouseRotate.dragEnd(H),this.mousePitch&&this.mousePitch.dragEnd(H),this.offTemp()},this.touchstart=H=>{1!==H.targetTouches.length?this.reset():(this._startPos=this._lastPos=Re.touchPos(this.element,H.targetTouches)[0],this.startTouch(H,this._startPos),Re.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),Re.addEventListener(window,"touchend",this.touchend))},this.touchmove=H=>{1!==H.targetTouches.length?this.reset():(this._lastPos=Re.touchPos(this.element,H.targetTouches)[0],this.moveTouch(H,this._lastPos))},this.touchend=H=>{0===H.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=s.dragRotate._mouseRotate.getClickTolerance(),b=s.dragRotate._mousePitch.getClickTolerance();this.element=f,this.mouseRotate=gs({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:H,clickTolerance:L,bearingDegreesPerPixelMoved:T=.8})=>{const A=new Ho;return new N4({clickTolerance:L,move:(k,O)=>({bearingDelta:(O.x-k.x)*T}),moveStateManager:A,enable:H,assignEvents:R2})})({clickTolerance:v,enable:!0}),this.map=s,m&&(this.mousePitch=Ai({clickTolerance:b,enable:!0}),this.touchPitch=(({enable:H,clickTolerance:L,pitchDegreesPerPixelMoved:T=-.5})=>{const A=new Ho;return new N4({clickTolerance:L,move:(k,O)=>({pitchDelta:(O.y-k.y)*T}),moveStateManager:A,enable:H,assignEvents:R2})})({clickTolerance:b,enable:!0})),Re.addEventListener(f,"mousedown",this.mousedown),Re.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),Re.addEventListener(f,"touchcancel",this.reset)}startMouse(s,f){this.mouseRotate.dragStart(s,f),this.mousePitch&&this.mousePitch.dragStart(s,f),Re.disableDrag()}startTouch(s,f){this.touchRotate.dragStart(s,f),this.touchPitch&&this.touchPitch.dragStart(s,f),Re.disableDrag()}moveMouse(s,f){const m=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(s,f)||{};if(v&&m.setBearing(m.getBearing()+v),this.mousePitch){const{pitchDelta:b}=this.mousePitch.dragMove(s,f)||{};b&&m.setPitch(m.getPitch()+b)}}moveTouch(s,f){const m=this.map,{bearingDelta:v}=this.touchRotate.dragMove(s,f)||{};if(v&&m.setBearing(m.getBearing()+v),this.touchPitch){const{pitchDelta:b}=this.touchPitch.dragMove(s,f)||{};b&&m.setPitch(m.getPitch()+b)}}off(){const s=this.element;Re.removeEventListener(s,"mousedown",this.mousedown),Re.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),Re.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),Re.removeEventListener(window,"touchend",this.touchend),Re.removeEventListener(s,"touchcancel",this.reset),this.offTemp()}offTemp(){Re.enableDrag(),Re.removeEventListener(window,"mousemove",this.mousemove),Re.removeEventListener(window,"mouseup",this.mouseup),Re.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),Re.removeEventListener(window,"touchend",this.touchend)}}let q3;function jr(C,s,f){if(C=new _.LngLat(C.lng,C.lat),s){const m=new _.LngLat(C.lng-360,C.lat),v=new _.LngLat(C.lng+360,C.lat),b=f.locationPoint(C).distSqr(s);f.locationPoint(m).distSqr(s)<b?C=m:f.locationPoint(v).distSqr(s)<b&&(C=v)}for(;Math.abs(C.lng-f.center.lng)>180;){const m=f.locationPoint(C);if(m.x>=0&&m.y>=0&&m.x<=f.width&&m.y<=f.height)break;C.lng>f.center.lng?C.lng-=360:C.lng+=360}return C}const F4={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function p3(C,s,f){const m=C.classList;for(const v in F4)m.remove(`maplibregl-${f}-anchor-${v}`);m.add(`maplibregl-${f}-anchor-${s}`)}class dr extends _.Evented{constructor(s){if(super(),this._onKeyPress=f=>{const m=f.code,v=f.charCode||f.keyCode;"Space"!==m&&"Enter"!==m&&32!==v&&13!==v||this.togglePopup()},this._onMapClick=f=>{const m=f.originalEvent.target,v=this._element;this._popup&&(m===v||v.contains(m))&&this.togglePopup()},this._update=f=>{if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=jr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let m="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?m=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(m=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let v="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?v="rotateX(0deg)":"map"===this._pitchAlignment&&(v=`rotateX(${this._map.getPitch()}deg)`),f&&"moveend"!==f.type||(this._pos=this._pos.round()),Re.setTransform(this._element,`${F4[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${v} ${m}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const b=this._map.unproject(this._pos),H=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=b.distanceTo(this._lngLat)>20*H?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=f=>{if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new _.Event("dragstart"))),this.fire(new _.Event("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new _.Event("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&"auto"!==s.pitchAlignment?s.pitchAlignment:this._rotationAlignment,s&&s.element)this._element=s.element,this._offset=_.Point.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=Re.create("div"),this._element.setAttribute("aria-label","Map marker");const f=Re.createNS("http://www.w3.org/2000/svg","svg"),m=41,v=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${m}px`),f.setAttributeNS(null,"width",`${v}px`),f.setAttributeNS(null,"viewBox",`0 0 ${v} ${m}`);const b=Re.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");const H=Re.createNS("http://www.w3.org/2000/svg","g");H.setAttributeNS(null,"fill-rule","nonzero");const L=Re.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"transform","translate(3.0, 29.0)"),L.setAttributeNS(null,"fill","#000000");const T=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ye of T){const De=Re.createNS("http://www.w3.org/2000/svg","ellipse");De.setAttributeNS(null,"opacity","0.04"),De.setAttributeNS(null,"cx","10.5"),De.setAttributeNS(null,"cy","5.80029008"),De.setAttributeNS(null,"rx",ye.rx),De.setAttributeNS(null,"ry",ye.ry),L.appendChild(De)}const A=Re.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"fill",this._color);const k=Re.createNS("http://www.w3.org/2000/svg","path");k.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),A.appendChild(k);const O=Re.createNS("http://www.w3.org/2000/svg","g");O.setAttributeNS(null,"opacity","0.25"),O.setAttributeNS(null,"fill","#000000");const Z=Re.createNS("http://www.w3.org/2000/svg","path");Z.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),O.appendChild(Z);const te=Re.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");const ee=Re.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ae=Re.createNS("http://www.w3.org/2000/svg","circle");ae.setAttributeNS(null,"fill","#000000"),ae.setAttributeNS(null,"opacity","0.25"),ae.setAttributeNS(null,"cx","5.5"),ae.setAttributeNS(null,"cy","5.5"),ae.setAttributeNS(null,"r","5.4999962");const Q=Re.createNS("http://www.w3.org/2000/svg","circle");Q.setAttributeNS(null,"fill","#FFFFFF"),Q.setAttributeNS(null,"cx","5.5"),Q.setAttributeNS(null,"cy","5.5"),Q.setAttributeNS(null,"r","5.4999962"),ee.appendChild(ae),ee.appendChild(Q),H.appendChild(L),H.appendChild(A),H.appendChild(O),H.appendChild(te),H.appendChild(ee),f.appendChild(H),f.setAttributeNS(null,"height",m*this._scale+"px"),f.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(f),this._offset=_.Point.convert(s&&s.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",f=>{f.preventDefault()}),this._element.addEventListener("mousedown",f=>{f.preventDefault()}),p3(this._element,this._anchor,"marker"),s&&s.className)for(const f of s.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(s){return this.remove(),this._map=s,s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),Re.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=_.LngLat.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){const v=Math.abs(13.5)/Math.SQRT2;s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(24.6+v)],"bottom-right":[-v,-1*(24.6+v)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=s,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const s=this._popup;return s?(s.isOpen()?s.remove():s.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(s){return this._offset=_.Point.convert(s),this._update(),this}addClassName(s){this._element.classList.add(s)}removeClassName(s){this._element.classList.remove(s)}toggleClassName(s){return this._element.classList.toggle(s)}setDraggable(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s&&"auto"!==s?s:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const mi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let gi=0,dt=!1;const S6={maxWidth:100,unit:"metric"};function vn(C,s,f){const m=f&&f.maxWidth||100,v=C._container.clientHeight/2,b=C.unproject([0,v]),H=C.unproject([m,v]),L=b.distanceTo(H);if(f&&"imperial"===f.unit){const T=3.2808*L;T>5280?Lt(s,m,T/5280,C._getUIString("ScaleControl.Miles")):Lt(s,m,T,C._getUIString("ScaleControl.Feet"))}else f&&"nautical"===f.unit?Lt(s,m,L/1852,C._getUIString("ScaleControl.NauticalMiles")):L>=1e3?Lt(s,m,L/1e3,C._getUIString("ScaleControl.Kilometers")):Lt(s,m,L,C._getUIString("ScaleControl.Meters"))}function Lt(C,s,f,m){const v=function(b){const H=Math.pow(10,`${Math.floor(b)}`.length-1);let L=b/H;return L=L>=10?10:L>=5?5:L>=3?3:L>=2?2:L>=1?1:function(T){const A=Math.pow(10,Math.ceil(-Math.log(T)/Math.LN10));return Math.round(T*A)/A}(L),H*L}(f);C.style.width=s*(v/f)+"px",C.innerHTML=`${v}&nbsp;${m}`}const ya={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Ni=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function qr(C){if(C){if("number"==typeof C){const s=Math.round(Math.abs(C)/Math.SQRT2);return{center:new _.Point(0,0),top:new _.Point(0,C),"top-left":new _.Point(s,s),"top-right":new _.Point(-s,s),bottom:new _.Point(0,-C),"bottom-left":new _.Point(s,-s),"bottom-right":new _.Point(-s,-s),left:new _.Point(C,0),right:new _.Point(-C,0)}}if(C instanceof _.Point||Array.isArray(C)){const s=_.Point.convert(C);return{center:s,top:s,"top-left":s,"top-right":s,bottom:s,"bottom-left":s,"bottom-right":s,left:s,right:s}}return{center:_.Point.convert(C.center||[0,0]),top:_.Point.convert(C.top||[0,0]),"top-left":_.Point.convert(C["top-left"]||[0,0]),"top-right":_.Point.convert(C["top-right"]||[0,0]),bottom:_.Point.convert(C.bottom||[0,0]),"bottom-left":_.Point.convert(C["bottom-left"]||[0,0]),"bottom-right":_.Point.convert(C["bottom-right"]||[0,0]),left:_.Point.convert(C.left||[0,0]),right:_.Point.convert(C.right||[0,0])}}return qr(new _.Point(0,0))}const i3={extend:(C,...s)=>_.extend(C,...s),run(C){C()},logToElement(C,s=!1,f="log"){const m=window.document.getElementById(f);m&&(s&&(m.innerHTML=""),m.innerHTML+=`<br>${C}`)}};class x2{static get version(){return"3.3.1"}static get workerCount(){return kn.workerCount}static set workerCount(s){kn.workerCount=s}static get maxParallelImageRequests(){return _.config.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(s){_.config.MAX_PARALLEL_IMAGE_REQUESTS=s}static get workerUrl(){return _.config.WORKER_URL}static set workerUrl(s){_.config.WORKER_URL=s}static addProtocol(s,f){_.config.REGISTERED_PROTOCOLS[s]=f}static removeProtocol(s){delete _.config.REGISTERED_PROTOCOLS[s]}}return x2.Map=class extends R4{constructor(C){if(_.PerformanceUtils.mark(_.PerformanceMarkers.create),null!=(C=_.extend({},d3,C)).minZoom&&null!=C.maxZoom&&C.minZoom>C.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=C.minPitch&&null!=C.maxPitch&&C.minPitch>C.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=C.minPitch&&C.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=C.maxPitch&&C.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new lr(C.minZoom,C.maxZoom,C.minPitch,C.maxPitch,C.renderWorldCopies),{bearingSnap:C.bearingSnap}),this._cooperativeGesturesOnWheel=s=>{this._onCooperativeGesture(s,s[this._metaKey],1)},this._contextLost=s=>{s.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new _.Event("webglcontextlost",{originalEvent:s}))},this._contextRestored=s=>{this._setupPainter(),this.resize(),this._update(),this.fire(new _.Event("webglcontextrestored",{originalEvent:s}))},this._onMapScroll=s=>{if(s.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=C.interactive,this._cooperativeGestures=C.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=C.maxTileCacheSize,this._maxTileCacheZoomLevels=C.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=C.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=C.preserveDrawingBuffer,this._antialias=C.antialias,this._trackResize=C.trackResize,this._bearingSnap=C.bearingSnap,this._refreshExpiredTiles=C.refreshExpiredTiles,this._fadeDuration=C.fadeDuration,this._crossSourceCollisions=C.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=C.collectResourceTiming,this._renderTaskQueue=new M1,this._controls=[],this._mapId=_.uniqueId(),this._locale=_.extend({},T1,C.locale),this._clickTolerance=C.clickTolerance,this._overridePixelRatio=C.pixelRatio,this._maxCanvasSize=C.maxCanvasSize,this.transformCameraUpdate=C.transformCameraUpdate,this._imageQueueHandle=u3.addThrottleControl(()=>this.isMoving()),this._requestManager=new Ya(C.transformRequest),"string"==typeof C.container){if(this._container=document.getElementById(C.container),!this._container)throw new Error(`Container '${C.container}' not found.`)}else{if(!(C.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=C.container}if(C.maxBounds&&this.setMaxBounds(C.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let s=!1;const f=Di(m=>{this._trackResize&&!this._removed&&this.resize(m)._update()},50);this._resizeObserver=new ResizeObserver(m=>{s?f(m):s=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Ii(this,C),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=C.hash&&new Mo("string"==typeof C.hash&&C.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:C.center,zoom:C.zoom,bearing:C.bearing,pitch:C.pitch}),C.bounds&&(this.resize(),this.fitBounds(C.bounds,_.extend({},C.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=C.localIdeographFontFamily,this._validateStyle=C.validateStyle,C.style&&this.setStyle(C.style,{localIdeographFontFamily:C.localIdeographFontFamily}),C.attributionControl&&this.addControl(new F1({customAttribution:C.customAttribution})),C.maplibreLogo&&this.addControl(new ki,C.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",s=>{this._update("style"===s.dataType),this.fire(new _.Event(`${s.dataType}data`,s))}),this.on("dataloading",s=>{this.fire(new _.Event(`${s.dataType}dataloading`,s))}),this.on("dataabort",s=>{this.fire(new _.Event("sourcedataabort",s))})}_getMapId(){return this._mapId}addControl(C,s){if(void 0===s&&(s=C.getDefaultPosition?C.getDefaultPosition():"top-right"),!C||!C.onAdd)return this.fire(new _.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=C.onAdd(this);this._controls.push(C);const m=this._controlPositions[s];return-1!==s.indexOf("bottom")?m.insertBefore(f,m.firstChild):m.appendChild(f),this}removeControl(C){if(!C||!C.onRemove)return this.fire(new _.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const s=this._controls.indexOf(C);return s>-1&&this._controls.splice(s,1),C.onRemove(this),this}hasControl(C){return this._controls.indexOf(C)>-1}calculateCameraOptionsFromTo(C,s,f,m){return null==m&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(f,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(C,s,f,m)}resize(C){var s;const f=this._containerDimensions(),m=f[0],v=f[1],b=this._getClampedPixelRatio(m,v);if(this._resizeCanvas(m,v,b),this.painter.resize(m,v,b),this.painter.overLimit()){const L=this.painter.context.gl;this._maxCanvasSize=[L.drawingBufferWidth,L.drawingBufferHeight];const T=this._getClampedPixelRatio(m,v);this._resizeCanvas(m,v,T),this.painter.resize(m,v,T)}this.transform.resize(m,v),null===(s=this._requestedCameraState)||void 0===s||s.resize(m,v);const H=!this._moving;return H&&(this.stop(),this.fire(new _.Event("movestart",C)).fire(new _.Event("move",C))),this.fire(new _.Event("resize",C)),H&&this.fire(new _.Event("moveend",C)),this}_getClampedPixelRatio(C,s){const{0:f,1:m}=this._maxCanvasSize,v=this.getPixelRatio(),b=C*v,H=s*v;return Math.min(b>f?f/b:1,H>m?m/H:1)*v}getPixelRatio(){var C;return null!==(C=this._overridePixelRatio)&&void 0!==C?C:devicePixelRatio}setPixelRatio(C){this._overridePixelRatio=C,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(C){return this.transform.setMaxBounds(ut.convert(C)),this._update()}setMinZoom(C){if((C=C??-2)>=-2&&C<=this.transform.maxZoom)return this.transform.minZoom=C,this._update(),this.getZoom()<C&&this.setZoom(C),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(C){if((C=C??22)>=this.transform.minZoom)return this.transform.maxZoom=C,this._update(),this.getZoom()>C&&this.setZoom(C),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(C){if((C=C??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(C>=0&&C<=this.transform.maxPitch)return this.transform.minPitch=C,this._update(),this.getPitch()<C&&this.setPitch(C),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(C){if((C=C??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(C>=this.transform.minPitch)return this.transform.maxPitch=C,this._update(),this.getPitch()>C&&this.setPitch(C),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(C){return this.transform.renderWorldCopies=C,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(C){return this._cooperativeGestures=C,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(C){return this.transform.locationPoint(_.LngLat.convert(C),this.style&&this.terrain)}unproject(C){return this.transform.pointLocation(_.Point.convert(C),this.terrain)}isMoving(){var C;return this._moving||(null===(C=this.handlers)||void 0===C?void 0:C.isMoving())}isZooming(){var C;return this._zooming||(null===(C=this.handlers)||void 0===C?void 0:C.isZooming())}isRotating(){var C;return this._rotating||(null===(C=this.handlers)||void 0===C?void 0:C.isRotating())}_createDelegatedListener(C,s,f){if("mouseenter"===C||"mouseover"===C){let m=!1;return{layer:s,listener:f,delegates:{mousemove:b=>{const H=this.getLayer(s)?this.queryRenderedFeatures(b.point,{layers:[s]}):[];H.length?m||(m=!0,f.call(this,new It(C,this,b.originalEvent,{features:H}))):m=!1},mouseout:()=>{m=!1}}}}if("mouseleave"===C||"mouseout"===C){let m=!1;return{layer:s,listener:f,delegates:{mousemove:H=>{(this.getLayer(s)?this.queryRenderedFeatures(H.point,{layers:[s]}):[]).length?m=!0:m&&(m=!1,f.call(this,new It(C,this,H.originalEvent)))},mouseout:H=>{m&&(m=!1,f.call(this,new It(C,this,H.originalEvent)))}}}}{const m=v=>{const b=this.getLayer(s)?this.queryRenderedFeatures(v.point,{layers:[s]}):[];b.length&&(v.features=b,f.call(this,v),delete v.features)};return{layer:s,listener:f,delegates:{[C]:m}}}}on(C,s,f){if(void 0===f)return super.on(C,s);const m=this._createDelegatedListener(C,s,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[C]=this._delegatedListeners[C]||[],this._delegatedListeners[C].push(m);for(const v in m.delegates)this.on(v,m.delegates[v]);return this}once(C,s,f){if(void 0===f)return super.once(C,s);const m=this._createDelegatedListener(C,s,f);for(const v in m.delegates)this.once(v,m.delegates[v]);return this}off(C,s,f){return void 0===f?super.off(C,s):(this._delegatedListeners&&this._delegatedListeners[C]&&(m=>{const v=this._delegatedListeners[C];for(let b=0;b<v.length;b++){const H=v[b];if(H.layer===s&&H.listener===f){for(const L in H.delegates)this.off(L,H.delegates[L]);return v.splice(b,1),this}}})(),this)}queryRenderedFeatures(C,s){if(!this.style)return[];let f;const m=C instanceof _.Point||Array.isArray(C),v=m?C:[[0,0],[this.transform.width,this.transform.height]];if(s=s||(m?{}:C)||{},v instanceof _.Point||"number"==typeof v[0])f=[_.Point.convert(v)];else{const b=_.Point.convert(v[0]),H=_.Point.convert(v[1]);f=[b,new _.Point(H.x,b.y),H,new _.Point(b.x,H.y),b]}return this.style.queryRenderedFeatures(f,s,this.transform)}querySourceFeatures(C,s){return this.style.querySourceFeatures(C,s)}setStyle(C,s){return!1!==(s=_.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},s)).diff&&s.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&C?(this._diffStyle(C,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._updateStyle(C,s))}setTransformRequest(C){return this._requestManager.setTransformRequest(C),this}_getUIString(C){const s=this._locale[C];if(null==s)throw new Error(`Missing UI string '${C}'`);return s}_updateStyle(C,s){if(s.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(C,s));const f=this.style&&s.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!C)),C?(this.style=new pn(this,s||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof C?this.style.loadURL(C,s,f):this.style.loadJSON(C,s,f),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new pn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(C,s){if("string"==typeof C){const f=this._requestManager.transformRequest(C,lt.Style);_.getJSON(f,(m,v)=>{m?this.fire(new _.ErrorEvent(m)):v&&this._updateDiff(v,s)})}else"object"==typeof C&&this._updateDiff(C,s)}_updateDiff(C,s){try{this.style.setState(C,s)&&this._update(!0)}catch(f){_.warnOnce(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(C,s)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():_.warnOnce("There is no style added to the map.")}addSource(C,s){return this._lazyInitEmptyStyle(),this.style.addSource(C,s),this._update(!0)}isSourceLoaded(C){const s=this.style&&this.style.sourceCaches[C];if(void 0!==s)return s.loaded();this.fire(new _.ErrorEvent(new Error(`There is no source with ID '${C}'`)))}setTerrain(C){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),C){const s=this.style.sourceCaches[C.source];if(!s)throw new Error(`cannot load terrain, because there exists no source with ID: ${C.source}`);for(const f in this.style._layers){const m=this.style._layers[f];"hillshade"===m.type&&m.source===C.source&&_.warnOnce("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new fr(this.painter,s,C),this.painter.renderToTexture=new j3(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=f=>{"style"===f.dataType?this.terrain.sourceCache.freeRtt():"source"===f.dataType&&f.tile&&(f.sourceId!==C.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new _.Event("terrain",{terrain:C})),this}getTerrain(){var C,s;return null!==(s=null===(C=this.terrain)||void 0===C?void 0:C.options)&&void 0!==s?s:null}areTilesLoaded(){const C=this.style&&this.style.sourceCaches;for(const s in C){const f=C[s]._tiles;for(const m in f){const v=f[m];if("loaded"!==v.state&&"errored"!==v.state)return!1}}return!0}addSourceType(C,s,f){return this._lazyInitEmptyStyle(),this.style.addSourceType(C,s,f)}removeSource(C){return this.style.removeSource(C),this._update(!0)}getSource(C){return this.style.getSource(C)}addImage(C,s,f={}){const{pixelRatio:m=1,sdf:v=!1,stretchX:b,stretchY:H,content:L}=f;if(this._lazyInitEmptyStyle(),!(s instanceof HTMLImageElement||_.isImageBitmap(s))){if(void 0===s.width||void 0===s.height)return this.fire(new _.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:T,height:A,data:k}=s,O=s;return this.style.addImage(C,{data:new _.RGBAImage({width:T,height:A},new Uint8Array(k)),pixelRatio:m,stretchX:b,stretchY:H,content:L,sdf:v,version:0,userImage:O}),O.onAdd&&O.onAdd(this,C),this}}{const{width:T,height:A,data:k}=_.browser.getImageData(s);this.style.addImage(C,{data:new _.RGBAImage({width:T,height:A},k),pixelRatio:m,stretchX:b,stretchY:H,content:L,sdf:v,version:0})}}updateImage(C,s){const f=this.style.getImage(C);if(!f)return this.fire(new _.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=s instanceof HTMLImageElement||_.isImageBitmap(s)?_.browser.getImageData(s):s,{width:v,height:b,data:H}=m;if(void 0===v||void 0===b)return this.fire(new _.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==f.data.width||b!==f.data.height)return this.fire(new _.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const L=!(s instanceof HTMLImageElement||_.isImageBitmap(s));return f.data.replace(H,L),this.style.updateImage(C,f),this}getImage(C){return this.style.getImage(C)}hasImage(C){return C?!!this.style.getImage(C):(this.fire(new _.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(C){this.style.removeImage(C)}loadImage(C,s){u3.getImage(this._requestManager.transformRequest(C,lt.Image),s)}listImages(){return this.style.listImages()}addLayer(C,s){return this._lazyInitEmptyStyle(),this.style.addLayer(C,s),this._update(!0)}moveLayer(C,s){return this.style.moveLayer(C,s),this._update(!0)}removeLayer(C){return this.style.removeLayer(C),this._update(!0)}getLayer(C){return this.style.getLayer(C)}setLayerZoomRange(C,s,f){return this.style.setLayerZoomRange(C,s,f),this._update(!0)}setFilter(C,s,f={}){return this.style.setFilter(C,s,f),this._update(!0)}getFilter(C){return this.style.getFilter(C)}setPaintProperty(C,s,f,m={}){return this.style.setPaintProperty(C,s,f,m),this._update(!0)}getPaintProperty(C,s){return this.style.getPaintProperty(C,s)}setLayoutProperty(C,s,f,m={}){return this.style.setLayoutProperty(C,s,f,m),this._update(!0)}getLayoutProperty(C,s){return this.style.getLayoutProperty(C,s)}setGlyphs(C,s={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(C,s),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(C,s,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(C,s,f,m=>{m||this._update(!0)}),this}removeSprite(C){return this._lazyInitEmptyStyle(),this.style.removeSprite(C),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(C,s={}){return this._lazyInitEmptyStyle(),this.style.setSprite(C,s,f=>{f||this._update(!0)}),this}setLight(C,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(C,s),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(C,s){return this.style.setFeatureState(C,s),this._update()}removeFeatureState(C,s){return this.style.removeFeatureState(C,s),this._update()}getFeatureState(C){return this.style.getFeatureState(C)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let C=0,s=0;return this._container&&(C=this._container.clientWidth||400,s=this._container.clientHeight||300),[C,s]}_setupContainer(){const C=this._container;C.classList.add("maplibregl-map");const s=this._canvasContainer=Re.create("div","maplibregl-canvas-container",C);this._interactive&&s.classList.add("maplibregl-interactive"),this._canvas=Re.create("canvas","maplibregl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const f=this._containerDimensions(),m=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],m);const v=this._controlContainer=Re.create("div","maplibregl-control-container",C),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(H=>{b[H]=Re.create("div",`maplibregl-ctrl-${H} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=Re.create("div","maplibregl-cooperative-gesture-screen",this._container);let C="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(C="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${C}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){Re.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(C,s,f){this._canvas.width=Math.floor(f*C),this._canvas.height=Math.floor(f*s),this._canvas.style.width=`${C}px`,this._canvas.style.height=`${s}px`}_setupPainter(){const C={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let s=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{s={requestedAttributes:C},m&&(s.statusMessage=m.statusMessage,s.type=m.type)},{once:!0});const f=this._canvas.getContext("webgl2",C)||this._canvas.getContext("webgl",C);if(!f){const m="Failed to initialize WebGL";throw s?(s.message=m,new Error(JSON.stringify(s))):new Error(m)}this.painter=new ps(f,this.transform),Kn.testSupport(f)}_onCooperativeGesture(C,s,f){return!s&&f<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(C){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||C,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(C){return this._update(),this._renderTaskQueue.add(C)}_cancelRenderFrame(C){this._renderTaskQueue.remove(C)}_render(C){const s=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(C),this._removed)return;let f=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,b=_.browser.now();this.style.zoomHistory.update(v,b);const H=new _.EvaluationParameters(v,{now:b,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),L=H.crossFadingFactor();1===L&&L===this._crossFadingFactor||(f=!0,this._crossFadingFactor=L),this.style.update(H)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,showPadding:this.showPadding}),this.fire(new _.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,_.PerformanceUtils.mark(_.PerformanceMarkers.load),this.fire(new _.Event("load"))),this.style&&(this.style.hasTransitions()||f)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const m=this._sourcesDirty||this._styleDirty||this._placementDirty;return m||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new _.Event("idle")),!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,_.PerformanceUtils.mark(_.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var C;this._hash&&this._hash.remove();for(const f of this._controls)f.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),u3.removeThrottleControl(this._imageQueueHandle),null===(C=this._resizeObserver)||void 0===C||C.disconnect();const s=this.painter.context.gl.getExtension("WEBGL_lose_context");s&&s.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),Re.remove(this._canvasContainer),Re.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),_.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new _.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=_.browser.frame(C=>{_.PerformanceUtils.frame(C),this._frame=null,this._render(C)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(C){this._showTileBoundaries!==C&&(this._showTileBoundaries=C,this._update())}get showPadding(){return!!this._showPadding}set showPadding(C){this._showPadding!==C&&(this._showPadding=C,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(C){this._showCollisionBoxes!==C&&(this._showCollisionBoxes=C,C?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(C){this._showOverdrawInspector!==C&&(this._showOverdrawInspector=C,this._update())}get repaint(){return!!this._repaint}set repaint(C){this._repaint!==C&&(this._repaint=C,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(C){this._vertices=C,this._update()}get version(){return"3.3.1"}getCameraTargetElevation(){return this.transform.elevation}},x2.NavigationControl=class{constructor(C){this._updateZoomButtons=()=>{const s=this._map.getZoom(),f=s===this._map.getMaxZoom(),m=s===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{const s=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=s},this._setButtonTitle=(s,f)=>{const m=this._map._getUIString(`NavigationControl.${f}`);s.title=m,s.setAttribute("aria-label",m)},this.options=_.extend({},K2,C),this._container=Re.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",s=>s.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",s=>this._map.zoomIn({},{originalEvent:s})),Re.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",s=>this._map.zoomOut({},{originalEvent:s})),Re.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",s=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:s}):this._map.resetNorth({},{originalEvent:s})}),this._compassIcon=Re.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(C){return this._map=C,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new l2(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){Re.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(C,s){const f=Re.create("button",C,this._container);return f.type="button",f.addEventListener("click",s),f}},x2.GeolocateControl=class extends _.Evented{constructor(C){super(),this._onSuccess=s=>{if(this._map){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new _.Event("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(s),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new _.Event("geolocate",s)),this._finish()}},this._updateCamera=s=>{const f=new _.LngLat(s.coords.longitude,s.coords.latitude),m=s.coords.accuracy,v=this._map.getBearing(),b=_.extend({bearing:v},this.options.fitBoundsOptions),H=ut.fromLngLat(f,m);this._map.fitBounds(H,b,{geolocateSource:!0})},this._updateMarker=s=>{if(s){const f=new _.LngLat(s.coords.longitude,s.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=s.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=s=>{if(this._map){if(this.options.trackUserLocation)if(1===s.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===s.code&&dt)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new _.Event("error",s)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=s=>{if(this._map){if(this._container.addEventListener("contextmenu",f=>f.preventDefault()),this._geolocateButton=Re.create("button","maplibregl-ctrl-geolocate",this._container),Re.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===s){_.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{const f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Re.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new dr({element:this._dotElement}),this._circleElement=Re.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new dr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",f=>{f.geolocateSource||"ACTIVE_LOCK"!==this._watchState||f.originalEvent&&"resize"===f.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new _.Event("trackuserlocationend")))})}},this.options=_.extend({},mi,C)}onAdd(C){return this._map=C,this._container=Re.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(s,f=!1){void 0===q3||f?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then(m=>{q3="denied"!==m.state,s(q3)}).catch(()=>{q3=!!window.navigator.geolocation,s(q3)}):(q3=!!window.navigator.geolocation,s(q3)):s(q3)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),Re.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,gi=0,dt=!1}_isOutOfMapMaxBounds(C){const s=this._map.getMaxBounds(),f=C.coords;return s&&(f.longitude<s.getWest()||f.longitude>s.getEast()||f.latitude<s.getSouth()||f.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const C=this._map.getBounds(),s=C.getSouthEast(),f=C.getNorthEast(),m=s.distanceTo(f),v=Math.ceil(this._accuracy/(m/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return _.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new _.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":gi--,dt=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new _.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new _.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let C;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),gi++,gi>1?(C={maximumAge:6e5,timeout:0},dt=!0):(C=this.options.positionOptions,dt=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,C)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},x2.AttributionControl=F1,x2.LogoControl=ki,x2.ScaleControl=class{constructor(C){this._onMove=()=>{vn(this._map,this._container,this.options)},this.setUnit=s=>{this.options.unit=s,vn(this._map,this._container,this.options)},this.options=_.extend({},S6,C)}getDefaultPosition(){return"bottom-left"}onAdd(C){return this._map=C,this._container=Re.create("div","maplibregl-ctrl maplibregl-ctrl-scale",C.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){Re.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},x2.FullscreenControl=class extends _.Evented{constructor(C={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,C&&C.container&&(C.container instanceof HTMLElement?this._container=C.container:_.warnOnce("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(C){return this._map=C,this._container||(this._container=this._map.getContainer()),this._controlContainer=Re.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){Re.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const C=this._fullscreenButton=Re.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);Re.create("span","maplibregl-ctrl-icon",C).setAttribute("aria-hidden","true"),C.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const C=this._getTitle();this._fullscreenButton.setAttribute("aria-label",C),this._fullscreenButton.title=C}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new _.Event("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new _.Event("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},x2.TerrainControl=class{constructor(C){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=C}onAdd(C){return this._map=C,this._container=Re.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=Re.create("button","maplibregl-ctrl-terrain",this._container),Re.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){Re.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},x2.Popup=class extends _.Evented{constructor(C){super(),this.remove=()=>(this._content&&Re.remove(this._content),this._container&&(Re.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new _.Event("close")),this),this._onMouseUp=s=>{this._update(s.point)},this._onMouseMove=s=>{this._update(s.point)},this._onDrag=s=>{this._update(s.point)},this._update=s=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=Re.create("div","maplibregl-popup",this._map.getContainer()),this._tip=Re.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const H of this.options.className.split(" "))this._container.classList.add(H);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=jr(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!s)return;const f=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat);let m=this.options.anchor;const v=qr(this.options.offset);if(!m){const H=this._container.offsetWidth,L=this._container.offsetHeight;let T;T=f.y+v.bottom.y<L?["top"]:f.y>this._map.transform.height-L?["bottom"]:[],f.x<H/2?T.push("left"):f.x>this._map.transform.width-H/2&&T.push("right"),m=0===T.length?"bottom":T.join("-")}const b=f.add(v[m]).round();Re.setTransform(this._container,`${F4[m]} translate(${b.x}px,${b.y}px)`),p3(this._container,m,"popup")},this._onClose=()=>{this.remove()},this.options=_.extend(Object.create(ya),C)}addTo(C){return this._map&&this.remove(),this._map=C,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new _.Event("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(C){return this._lngLat=_.LngLat.convert(C),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(C){return this.setDOMContent(document.createTextNode(C))}setHTML(C){const s=document.createDocumentFragment(),f=document.createElement("body");let m;for(f.innerHTML=C;m=f.firstChild,m;)s.appendChild(m);return this.setDOMContent(s)}getMaxWidth(){var C;return null===(C=this._container)||void 0===C?void 0:C.style.maxWidth}setMaxWidth(C){return this.options.maxWidth=C,this._update(),this}setDOMContent(C){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=Re.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(C),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(C){this._container&&this._container.classList.add(C)}removeClassName(C){this._container&&this._container.classList.remove(C)}setOffset(C){return this.options.offset=C,this._update(),this}toggleClassName(C){if(this._container)return this._container.classList.toggle(C)}_createCloseButton(){this.options.closeButton&&(this._closeButton=Re.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const C=this._container.querySelector(Ni);C&&C.focus()}},x2.Marker=dr,x2.Style=pn,x2.LngLat=_.LngLat,x2.LngLatBounds=ut,x2.Point=_.Point,x2.MercatorCoordinate=_.MercatorCoordinate,x2.Evented=_.Evented,x2.AJAXError=_.AJAXError,x2.config=_.config,x2.CanvasSource=Fe,x2.GeoJSONSource=$2,x2.ImageSource=d2,x2.RasterDEMTileSource=et,x2.RasterTileSource=nr,x2.VectorTileSource=C4,x2.VideoSource=oi,x2.setRTLTextPlugin=_.setRTLTextPlugin,x2.getRTLTextPluginStatus=_.getRTLTextPluginStatus,x2.prewarm=function(){ir().acquire(r1)},x2.clearPrewarmedResources=function(){const C=ci;C&&(C.isPreloaded()&&1===C.numActive()?(C.release(r1),ci=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},i3.extend(x2,{isSafari:_.isSafari,getPerformanceMetrics:_.PerformanceUtils.getPerformanceMetrics}),x2}),U2}()}},o0=>{o0(o0.s=115)}]);